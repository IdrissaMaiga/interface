var KN=Object.defineProperty;var YN=(t,e,n)=>e in t?KN(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var We=(t,e,n)=>YN(t,typeof e!="symbol"?e+"":e,n);function FL(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();var Nh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function ih(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var NL={exports:{}},r0={},jL={exports:{}},qe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var oh=Symbol.for("react.element"),qN=Symbol.for("react.portal"),XN=Symbol.for("react.fragment"),QN=Symbol.for("react.strict_mode"),ZN=Symbol.for("react.profiler"),JN=Symbol.for("react.provider"),e6=Symbol.for("react.context"),t6=Symbol.for("react.forward_ref"),n6=Symbol.for("react.suspense"),r6=Symbol.for("react.memo"),s6=Symbol.for("react.lazy"),LE=Symbol.iterator;function i6(t){return t===null||typeof t!="object"?null:(t=LE&&t[LE]||t["@@iterator"],typeof t=="function"?t:null)}var BL={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},$L=Object.assign,zL={};function Su(t,e,n){this.props=t,this.context=e,this.refs=zL,this.updater=n||BL}Su.prototype.isReactComponent={};Su.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Su.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function UL(){}UL.prototype=Su.prototype;function vS(t,e,n){this.props=t,this.context=e,this.refs=zL,this.updater=n||BL}var xS=vS.prototype=new UL;xS.constructor=vS;$L(xS,Su.prototype);xS.isPureReactComponent=!0;var PE=Array.isArray,VL=Object.prototype.hasOwnProperty,bS={current:null},WL={key:!0,ref:!0,__self:!0,__source:!0};function HL(t,e,n){var r,s={},i=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)VL.call(e,r)&&!WL.hasOwnProperty(r)&&(s[r]=e[r]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];s.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return{$$typeof:oh,type:t,key:i,ref:o,props:s,_owner:bS.current}}function o6(t,e){return{$$typeof:oh,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function SS(t){return typeof t=="object"&&t!==null&&t.$$typeof===oh}function a6(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var IE=/\/+/g;function Iy(t,e){return typeof t=="object"&&t!==null&&t.key!=null?a6(""+t.key):e.toString(36)}function Gp(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case oh:case qN:o=!0}}if(o)return o=t,s=s(o),t=r===""?"."+Iy(o,0):r,PE(s)?(n="",t!=null&&(n=t.replace(IE,"$&/")+"/"),Gp(s,e,n,"",function(c){return c})):s!=null&&(SS(s)&&(s=o6(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(IE,"$&/")+"/")+t)),e.push(s)),1;if(o=0,r=r===""?".":r+":",PE(t))for(var a=0;a<t.length;a++){i=t[a];var l=r+Iy(i,a);o+=Gp(i,e,n,l,s)}else if(l=i6(t),typeof l=="function")for(t=l.call(t),a=0;!(i=t.next()).done;)i=i.value,l=r+Iy(i,a++),o+=Gp(i,e,n,l,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function jh(t,e,n){if(t==null)return t;var r=[],s=0;return Gp(t,r,"","",function(i){return e.call(n,i,s++)}),r}function l6(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var fr={current:null},Kp={transition:null},c6={ReactCurrentDispatcher:fr,ReactCurrentBatchConfig:Kp,ReactCurrentOwner:bS};function GL(){throw Error("act(...) is not supported in production builds of React.")}qe.Children={map:jh,forEach:function(t,e,n){jh(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return jh(t,function(){e++}),e},toArray:function(t){return jh(t,function(e){return e})||[]},only:function(t){if(!SS(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};qe.Component=Su;qe.Fragment=XN;qe.Profiler=ZN;qe.PureComponent=vS;qe.StrictMode=QN;qe.Suspense=n6;qe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=c6;qe.act=GL;qe.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=$L({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=bS.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)VL.call(e,l)&&!WL.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:oh,type:t.type,key:s,ref:i,props:r,_owner:o}};qe.createContext=function(t){return t={$$typeof:e6,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:JN,_context:t},t.Consumer=t};qe.createElement=HL;qe.createFactory=function(t){var e=HL.bind(null,t);return e.type=t,e};qe.createRef=function(){return{current:null}};qe.forwardRef=function(t){return{$$typeof:t6,render:t}};qe.isValidElement=SS;qe.lazy=function(t){return{$$typeof:s6,_payload:{_status:-1,_result:t},_init:l6}};qe.memo=function(t,e){return{$$typeof:r6,type:t,compare:e===void 0?null:e}};qe.startTransition=function(t){var e=Kp.transition;Kp.transition={};try{t()}finally{Kp.transition=e}};qe.unstable_act=GL;qe.useCallback=function(t,e){return fr.current.useCallback(t,e)};qe.useContext=function(t){return fr.current.useContext(t)};qe.useDebugValue=function(){};qe.useDeferredValue=function(t){return fr.current.useDeferredValue(t)};qe.useEffect=function(t,e){return fr.current.useEffect(t,e)};qe.useId=function(){return fr.current.useId()};qe.useImperativeHandle=function(t,e,n){return fr.current.useImperativeHandle(t,e,n)};qe.useInsertionEffect=function(t,e){return fr.current.useInsertionEffect(t,e)};qe.useLayoutEffect=function(t,e){return fr.current.useLayoutEffect(t,e)};qe.useMemo=function(t,e){return fr.current.useMemo(t,e)};qe.useReducer=function(t,e,n){return fr.current.useReducer(t,e,n)};qe.useRef=function(t){return fr.current.useRef(t)};qe.useState=function(t){return fr.current.useState(t)};qe.useSyncExternalStore=function(t,e,n){return fr.current.useSyncExternalStore(t,e,n)};qe.useTransition=function(){return fr.current.useTransition()};qe.version="18.3.1";jL.exports=qe;var S=jL.exports;const cr=ih(S),Bx=FL({__proto__:null,default:cr},[S]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var u6=S,d6=Symbol.for("react.element"),f6=Symbol.for("react.fragment"),h6=Object.prototype.hasOwnProperty,p6=u6.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,m6={key:!0,ref:!0,__self:!0,__source:!0};function KL(t,e,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)h6.call(e,r)&&!m6.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:d6,type:t,key:i,ref:o,props:s,_owner:p6.current}}r0.Fragment=f6;r0.jsx=KL;r0.jsxs=KL;NL.exports=r0;var h=NL.exports,$x={},YL={exports:{}},ts={},qL={exports:{}},XL={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(N,j){var K=N.length;N.push(j);e:for(;0<K;){var te=K-1>>>1,ne=N[te];if(0<s(ne,j))N[te]=j,N[K]=ne,K=te;else break e}}function n(N){return N.length===0?null:N[0]}function r(N){if(N.length===0)return null;var j=N[0],K=N.pop();if(K!==j){N[0]=K;e:for(var te=0,ne=N.length,q=ne>>>1;te<q;){var ee=2*(te+1)-1,ce=N[ee],Y=ee+1,ue=N[Y];if(0>s(ce,K))Y<ne&&0>s(ue,ce)?(N[te]=ue,N[Y]=K,te=Y):(N[te]=ce,N[ee]=K,te=ee);else if(Y<ne&&0>s(ue,K))N[te]=ue,N[Y]=K,te=Y;else break e}}return j}function s(N,j){var K=N.sortIndex-j.sortIndex;return K!==0?K:N.id-j.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],c=[],u=1,d=null,f=3,p=!1,m=!1,g=!1,y=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(N){for(var j=n(c);j!==null;){if(j.callback===null)r(c);else if(j.startTime<=N)r(c),j.sortIndex=j.expirationTime,e(l,j);else break;j=n(c)}}function w(N){if(g=!1,b(N),!m)if(n(l)!==null)m=!0,O(T);else{var j=n(c);j!==null&&I(w,j.startTime-N)}}function T(N,j){m=!1,g&&(g=!1,x(k),k=-1),p=!0;var K=f;try{for(b(j),d=n(l);d!==null&&(!(d.expirationTime>j)||N&&!L());){var te=d.callback;if(typeof te=="function"){d.callback=null,f=d.priorityLevel;var ne=te(d.expirationTime<=j);j=t.unstable_now(),typeof ne=="function"?d.callback=ne:d===n(l)&&r(l),b(j)}else r(l);d=n(l)}if(d!==null)var q=!0;else{var ee=n(c);ee!==null&&I(w,ee.startTime-j),q=!1}return q}finally{d=null,f=K,p=!1}}var C=!1,E=null,k=-1,A=5,R=-1;function L(){return!(t.unstable_now()-R<A)}function D(){if(E!==null){var N=t.unstable_now();R=N;var j=!0;try{j=E(!0,N)}finally{j?M():(C=!1,E=null)}}else C=!1}var M;if(typeof v=="function")M=function(){v(D)};else if(typeof MessageChannel<"u"){var B=new MessageChannel,V=B.port2;B.port1.onmessage=D,M=function(){V.postMessage(null)}}else M=function(){y(D,0)};function O(N){E=N,C||(C=!0,M())}function I(N,j){k=y(function(){N(t.unstable_now())},j)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(N){N.callback=null},t.unstable_continueExecution=function(){m||p||(m=!0,O(T))},t.unstable_forceFrameRate=function(N){0>N||125<N?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<N?Math.floor(1e3/N):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(N){switch(f){case 1:case 2:case 3:var j=3;break;default:j=f}var K=f;f=j;try{return N()}finally{f=K}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(N,j){switch(N){case 1:case 2:case 3:case 4:case 5:break;default:N=3}var K=f;f=N;try{return j()}finally{f=K}},t.unstable_scheduleCallback=function(N,j,K){var te=t.unstable_now();switch(typeof K=="object"&&K!==null?(K=K.delay,K=typeof K=="number"&&0<K?te+K:te):K=te,N){case 1:var ne=-1;break;case 2:ne=250;break;case 5:ne=1073741823;break;case 4:ne=1e4;break;default:ne=5e3}return ne=K+ne,N={id:u++,callback:j,priorityLevel:N,startTime:K,expirationTime:ne,sortIndex:-1},K>te?(N.sortIndex=K,e(c,N),n(l)===null&&N===n(c)&&(g?(x(k),k=-1):g=!0,I(w,K-te))):(N.sortIndex=ne,e(l,N),m||p||(m=!0,O(T))),N},t.unstable_shouldYield=L,t.unstable_wrapCallback=function(N){var j=f;return function(){var K=f;f=j;try{return N.apply(this,arguments)}finally{f=K}}}})(XL);qL.exports=XL;var g6=qL.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var y6=S,Qr=g6;function le(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var QL=new Set,cf={};function _l(t,e){Kc(t,e),Kc(t+"Capture",e)}function Kc(t,e){for(cf[t]=e,t=0;t<e.length;t++)QL.add(e[t])}var co=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),zx=Object.prototype.hasOwnProperty,v6=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,DE={},ME={};function x6(t){return zx.call(ME,t)?!0:zx.call(DE,t)?!1:v6.test(t)?ME[t]=!0:(DE[t]=!0,!1)}function b6(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function S6(t,e,n,r){if(e===null||typeof e>"u"||b6(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function hr(t,e,n,r,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var Vn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Vn[t]=new hr(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Vn[e]=new hr(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Vn[t]=new hr(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Vn[t]=new hr(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Vn[t]=new hr(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Vn[t]=new hr(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Vn[t]=new hr(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Vn[t]=new hr(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Vn[t]=new hr(t,5,!1,t.toLowerCase(),null,!1,!1)});var wS=/[\-:]([a-z])/g;function TS(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(wS,TS);Vn[e]=new hr(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(wS,TS);Vn[e]=new hr(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(wS,TS);Vn[e]=new hr(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Vn[t]=new hr(t,1,!1,t.toLowerCase(),null,!1,!1)});Vn.xlinkHref=new hr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Vn[t]=new hr(t,1,!1,t.toLowerCase(),null,!0,!0)});function ES(t,e,n,r){var s=Vn.hasOwnProperty(e)?Vn[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(S6(e,n,s,r)&&(n=null),r||s===null?x6(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var yo=y6.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Bh=Symbol.for("react.element"),sc=Symbol.for("react.portal"),ic=Symbol.for("react.fragment"),CS=Symbol.for("react.strict_mode"),Ux=Symbol.for("react.profiler"),ZL=Symbol.for("react.provider"),JL=Symbol.for("react.context"),kS=Symbol.for("react.forward_ref"),Vx=Symbol.for("react.suspense"),Wx=Symbol.for("react.suspense_list"),AS=Symbol.for("react.memo"),Mo=Symbol.for("react.lazy"),eP=Symbol.for("react.offscreen"),OE=Symbol.iterator;function $u(t){return t===null||typeof t!="object"?null:(t=OE&&t[OE]||t["@@iterator"],typeof t=="function"?t:null)}var Qt=Object.assign,Dy;function hd(t){if(Dy===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Dy=e&&e[1]||""}return`
`+Dy+t}var My=!1;function Oy(t,e){if(!t||My)return"";My=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var s=c.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var l=`
`+s[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{My=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?hd(t):""}function w6(t){switch(t.tag){case 5:return hd(t.type);case 16:return hd("Lazy");case 13:return hd("Suspense");case 19:return hd("SuspenseList");case 0:case 2:case 15:return t=Oy(t.type,!1),t;case 11:return t=Oy(t.type.render,!1),t;case 1:return t=Oy(t.type,!0),t;default:return""}}function Hx(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case ic:return"Fragment";case sc:return"Portal";case Ux:return"Profiler";case CS:return"StrictMode";case Vx:return"Suspense";case Wx:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case JL:return(t.displayName||"Context")+".Consumer";case ZL:return(t._context.displayName||"Context")+".Provider";case kS:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case AS:return e=t.displayName||null,e!==null?e:Hx(t.type)||"Memo";case Mo:e=t._payload,t=t._init;try{return Hx(t(e))}catch{}}return null}function T6(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Hx(e);case 8:return e===CS?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function sa(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function tP(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function E6(t){var e=tP(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function $h(t){t._valueTracker||(t._valueTracker=E6(t))}function nP(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=tP(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function zm(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Gx(t,e){var n=e.checked;return Qt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function FE(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=sa(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function rP(t,e){e=e.checked,e!=null&&ES(t,"checked",e,!1)}function Kx(t,e){rP(t,e);var n=sa(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Yx(t,e.type,n):e.hasOwnProperty("defaultValue")&&Yx(t,e.type,sa(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function NE(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Yx(t,e,n){(e!=="number"||zm(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var pd=Array.isArray;function Ac(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+sa(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function qx(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(le(91));return Qt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function jE(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(le(92));if(pd(n)){if(1<n.length)throw Error(le(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:sa(n)}}function sP(t,e){var n=sa(e.value),r=sa(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function BE(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function iP(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Xx(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?iP(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var zh,oP=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(zh=zh||document.createElement("div"),zh.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=zh.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function uf(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Dd={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},C6=["Webkit","ms","Moz","O"];Object.keys(Dd).forEach(function(t){C6.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Dd[e]=Dd[t]})});function aP(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Dd.hasOwnProperty(t)&&Dd[t]?(""+e).trim():e+"px"}function lP(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=aP(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var k6=Qt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Qx(t,e){if(e){if(k6[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(le(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(le(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(le(61))}if(e.style!=null&&typeof e.style!="object")throw Error(le(62))}}function Zx(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Jx=null;function RS(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var eb=null,Rc=null,_c=null;function $E(t){if(t=ch(t)){if(typeof eb!="function")throw Error(le(280));var e=t.stateNode;e&&(e=l0(e),eb(t.stateNode,t.type,e))}}function cP(t){Rc?_c?_c.push(t):_c=[t]:Rc=t}function uP(){if(Rc){var t=Rc,e=_c;if(_c=Rc=null,$E(t),e)for(t=0;t<e.length;t++)$E(e[t])}}function dP(t,e){return t(e)}function fP(){}var Fy=!1;function hP(t,e,n){if(Fy)return t(e,n);Fy=!0;try{return dP(t,e,n)}finally{Fy=!1,(Rc!==null||_c!==null)&&(fP(),uP())}}function df(t,e){var n=t.stateNode;if(n===null)return null;var r=l0(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(le(231,e,typeof n));return n}var tb=!1;if(co)try{var zu={};Object.defineProperty(zu,"passive",{get:function(){tb=!0}}),window.addEventListener("test",zu,zu),window.removeEventListener("test",zu,zu)}catch{tb=!1}function A6(t,e,n,r,s,i,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(u){this.onError(u)}}var Md=!1,Um=null,Vm=!1,nb=null,R6={onError:function(t){Md=!0,Um=t}};function _6(t,e,n,r,s,i,o,a,l){Md=!1,Um=null,A6.apply(R6,arguments)}function L6(t,e,n,r,s,i,o,a,l){if(_6.apply(this,arguments),Md){if(Md){var c=Um;Md=!1,Um=null}else throw Error(le(198));Vm||(Vm=!0,nb=c)}}function Ll(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function pP(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function zE(t){if(Ll(t)!==t)throw Error(le(188))}function P6(t){var e=t.alternate;if(!e){if(e=Ll(t),e===null)throw Error(le(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return zE(s),t;if(i===r)return zE(s),e;i=i.sibling}throw Error(le(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o)throw Error(le(189))}}if(n.alternate!==r)throw Error(le(190))}if(n.tag!==3)throw Error(le(188));return n.stateNode.current===n?t:e}function mP(t){return t=P6(t),t!==null?gP(t):null}function gP(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=gP(t);if(e!==null)return e;t=t.sibling}return null}var yP=Qr.unstable_scheduleCallback,UE=Qr.unstable_cancelCallback,I6=Qr.unstable_shouldYield,D6=Qr.unstable_requestPaint,ln=Qr.unstable_now,M6=Qr.unstable_getCurrentPriorityLevel,_S=Qr.unstable_ImmediatePriority,vP=Qr.unstable_UserBlockingPriority,Wm=Qr.unstable_NormalPriority,O6=Qr.unstable_LowPriority,xP=Qr.unstable_IdlePriority,s0=null,wi=null;function F6(t){if(wi&&typeof wi.onCommitFiberRoot=="function")try{wi.onCommitFiberRoot(s0,t,void 0,(t.current.flags&128)===128)}catch{}}var Xs=Math.clz32?Math.clz32:B6,N6=Math.log,j6=Math.LN2;function B6(t){return t>>>=0,t===0?32:31-(N6(t)/j6|0)|0}var Uh=64,Vh=4194304;function md(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Hm(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~s;a!==0?r=md(a):(i&=o,i!==0&&(r=md(i)))}else o=n&~s,o!==0?r=md(o):i!==0&&(r=md(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Xs(e),s=1<<n,r|=t[n],e&=~s;return r}function $6(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function z6(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-Xs(i),a=1<<o,l=s[o];l===-1?(!(a&n)||a&r)&&(s[o]=$6(a,e)):l<=e&&(t.expiredLanes|=a),i&=~a}}function rb(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function bP(){var t=Uh;return Uh<<=1,!(Uh&4194240)&&(Uh=64),t}function Ny(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function ah(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Xs(e),t[e]=n}function U6(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-Xs(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function LS(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Xs(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var yt=0;function SP(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var wP,PS,TP,EP,CP,sb=!1,Wh=[],Ko=null,Yo=null,qo=null,ff=new Map,hf=new Map,Bo=[],V6="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function VE(t,e){switch(t){case"focusin":case"focusout":Ko=null;break;case"dragenter":case"dragleave":Yo=null;break;case"mouseover":case"mouseout":qo=null;break;case"pointerover":case"pointerout":ff.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":hf.delete(e.pointerId)}}function Uu(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=ch(e),e!==null&&PS(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function W6(t,e,n,r,s){switch(e){case"focusin":return Ko=Uu(Ko,t,e,n,r,s),!0;case"dragenter":return Yo=Uu(Yo,t,e,n,r,s),!0;case"mouseover":return qo=Uu(qo,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return ff.set(i,Uu(ff.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,hf.set(i,Uu(hf.get(i)||null,t,e,n,r,s)),!0}return!1}function kP(t){var e=Wa(t.target);if(e!==null){var n=Ll(e);if(n!==null){if(e=n.tag,e===13){if(e=pP(n),e!==null){t.blockedOn=e,CP(t.priority,function(){TP(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Yp(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=ib(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Jx=r,n.target.dispatchEvent(r),Jx=null}else return e=ch(n),e!==null&&PS(e),t.blockedOn=n,!1;e.shift()}return!0}function WE(t,e,n){Yp(t)&&n.delete(e)}function H6(){sb=!1,Ko!==null&&Yp(Ko)&&(Ko=null),Yo!==null&&Yp(Yo)&&(Yo=null),qo!==null&&Yp(qo)&&(qo=null),ff.forEach(WE),hf.forEach(WE)}function Vu(t,e){t.blockedOn===e&&(t.blockedOn=null,sb||(sb=!0,Qr.unstable_scheduleCallback(Qr.unstable_NormalPriority,H6)))}function pf(t){function e(s){return Vu(s,t)}if(0<Wh.length){Vu(Wh[0],t);for(var n=1;n<Wh.length;n++){var r=Wh[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Ko!==null&&Vu(Ko,t),Yo!==null&&Vu(Yo,t),qo!==null&&Vu(qo,t),ff.forEach(e),hf.forEach(e),n=0;n<Bo.length;n++)r=Bo[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Bo.length&&(n=Bo[0],n.blockedOn===null);)kP(n),n.blockedOn===null&&Bo.shift()}var Lc=yo.ReactCurrentBatchConfig,Gm=!0;function G6(t,e,n,r){var s=yt,i=Lc.transition;Lc.transition=null;try{yt=1,IS(t,e,n,r)}finally{yt=s,Lc.transition=i}}function K6(t,e,n,r){var s=yt,i=Lc.transition;Lc.transition=null;try{yt=4,IS(t,e,n,r)}finally{yt=s,Lc.transition=i}}function IS(t,e,n,r){if(Gm){var s=ib(t,e,n,r);if(s===null)Ky(t,e,r,Km,n),VE(t,r);else if(W6(s,t,e,n,r))r.stopPropagation();else if(VE(t,r),e&4&&-1<V6.indexOf(t)){for(;s!==null;){var i=ch(s);if(i!==null&&wP(i),i=ib(t,e,n,r),i===null&&Ky(t,e,r,Km,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else Ky(t,e,r,null,n)}}var Km=null;function ib(t,e,n,r){if(Km=null,t=RS(r),t=Wa(t),t!==null)if(e=Ll(t),e===null)t=null;else if(n=e.tag,n===13){if(t=pP(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Km=t,null}function AP(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(M6()){case _S:return 1;case vP:return 4;case Wm:case O6:return 16;case xP:return 536870912;default:return 16}default:return 16}}var Uo=null,DS=null,qp=null;function RP(){if(qp)return qp;var t,e=DS,n=e.length,r,s="value"in Uo?Uo.value:Uo.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===s[i-r];r++);return qp=s.slice(t,1<r?1-r:void 0)}function Xp(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Hh(){return!0}function HE(){return!1}function ns(t){function e(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Hh:HE,this.isPropagationStopped=HE,this}return Qt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Hh)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Hh)},persist:function(){},isPersistent:Hh}),e}var wu={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},MS=ns(wu),lh=Qt({},wu,{view:0,detail:0}),Y6=ns(lh),jy,By,Wu,i0=Qt({},lh,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:OS,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Wu&&(Wu&&t.type==="mousemove"?(jy=t.screenX-Wu.screenX,By=t.screenY-Wu.screenY):By=jy=0,Wu=t),jy)},movementY:function(t){return"movementY"in t?t.movementY:By}}),GE=ns(i0),q6=Qt({},i0,{dataTransfer:0}),X6=ns(q6),Q6=Qt({},lh,{relatedTarget:0}),$y=ns(Q6),Z6=Qt({},wu,{animationName:0,elapsedTime:0,pseudoElement:0}),J6=ns(Z6),ej=Qt({},wu,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),tj=ns(ej),nj=Qt({},wu,{data:0}),KE=ns(nj),rj={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},sj={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ij={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function oj(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=ij[t])?!!e[t]:!1}function OS(){return oj}var aj=Qt({},lh,{key:function(t){if(t.key){var e=rj[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Xp(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?sj[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:OS,charCode:function(t){return t.type==="keypress"?Xp(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Xp(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),lj=ns(aj),cj=Qt({},i0,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),YE=ns(cj),uj=Qt({},lh,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:OS}),dj=ns(uj),fj=Qt({},wu,{propertyName:0,elapsedTime:0,pseudoElement:0}),hj=ns(fj),pj=Qt({},i0,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),mj=ns(pj),gj=[9,13,27,32],FS=co&&"CompositionEvent"in window,Od=null;co&&"documentMode"in document&&(Od=document.documentMode);var yj=co&&"TextEvent"in window&&!Od,_P=co&&(!FS||Od&&8<Od&&11>=Od),qE=" ",XE=!1;function LP(t,e){switch(t){case"keyup":return gj.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function PP(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var oc=!1;function vj(t,e){switch(t){case"compositionend":return PP(e);case"keypress":return e.which!==32?null:(XE=!0,qE);case"textInput":return t=e.data,t===qE&&XE?null:t;default:return null}}function xj(t,e){if(oc)return t==="compositionend"||!FS&&LP(t,e)?(t=RP(),qp=DS=Uo=null,oc=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return _P&&e.locale!=="ko"?null:e.data;default:return null}}var bj={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function QE(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!bj[t.type]:e==="textarea"}function IP(t,e,n,r){cP(r),e=Ym(e,"onChange"),0<e.length&&(n=new MS("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Fd=null,mf=null;function Sj(t){VP(t,0)}function o0(t){var e=cc(t);if(nP(e))return t}function wj(t,e){if(t==="change")return e}var DP=!1;if(co){var zy;if(co){var Uy="oninput"in document;if(!Uy){var ZE=document.createElement("div");ZE.setAttribute("oninput","return;"),Uy=typeof ZE.oninput=="function"}zy=Uy}else zy=!1;DP=zy&&(!document.documentMode||9<document.documentMode)}function JE(){Fd&&(Fd.detachEvent("onpropertychange",MP),mf=Fd=null)}function MP(t){if(t.propertyName==="value"&&o0(mf)){var e=[];IP(e,mf,t,RS(t)),hP(Sj,e)}}function Tj(t,e,n){t==="focusin"?(JE(),Fd=e,mf=n,Fd.attachEvent("onpropertychange",MP)):t==="focusout"&&JE()}function Ej(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return o0(mf)}function Cj(t,e){if(t==="click")return o0(e)}function kj(t,e){if(t==="input"||t==="change")return o0(e)}function Aj(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Js=typeof Object.is=="function"?Object.is:Aj;function gf(t,e){if(Js(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!zx.call(e,s)||!Js(t[s],e[s]))return!1}return!0}function e2(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function t2(t,e){var n=e2(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=e2(n)}}function OP(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?OP(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function FP(){for(var t=window,e=zm();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=zm(t.document)}return e}function NS(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function Rj(t){var e=FP(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&OP(n.ownerDocument.documentElement,n)){if(r!==null&&NS(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=t2(n,i);var o=t2(n,r);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var _j=co&&"documentMode"in document&&11>=document.documentMode,ac=null,ob=null,Nd=null,ab=!1;function n2(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;ab||ac==null||ac!==zm(r)||(r=ac,"selectionStart"in r&&NS(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Nd&&gf(Nd,r)||(Nd=r,r=Ym(ob,"onSelect"),0<r.length&&(e=new MS("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=ac)))}function Gh(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var lc={animationend:Gh("Animation","AnimationEnd"),animationiteration:Gh("Animation","AnimationIteration"),animationstart:Gh("Animation","AnimationStart"),transitionend:Gh("Transition","TransitionEnd")},Vy={},NP={};co&&(NP=document.createElement("div").style,"AnimationEvent"in window||(delete lc.animationend.animation,delete lc.animationiteration.animation,delete lc.animationstart.animation),"TransitionEvent"in window||delete lc.transitionend.transition);function a0(t){if(Vy[t])return Vy[t];if(!lc[t])return t;var e=lc[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in NP)return Vy[t]=e[n];return t}var jP=a0("animationend"),BP=a0("animationiteration"),$P=a0("animationstart"),zP=a0("transitionend"),UP=new Map,r2="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ua(t,e){UP.set(t,e),_l(e,[t])}for(var Wy=0;Wy<r2.length;Wy++){var Hy=r2[Wy],Lj=Hy.toLowerCase(),Pj=Hy[0].toUpperCase()+Hy.slice(1);ua(Lj,"on"+Pj)}ua(jP,"onAnimationEnd");ua(BP,"onAnimationIteration");ua($P,"onAnimationStart");ua("dblclick","onDoubleClick");ua("focusin","onFocus");ua("focusout","onBlur");ua(zP,"onTransitionEnd");Kc("onMouseEnter",["mouseout","mouseover"]);Kc("onMouseLeave",["mouseout","mouseover"]);Kc("onPointerEnter",["pointerout","pointerover"]);Kc("onPointerLeave",["pointerout","pointerover"]);_l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));_l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));_l("onBeforeInput",["compositionend","keypress","textInput","paste"]);_l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));_l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));_l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var gd="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ij=new Set("cancel close invalid load scroll toggle".split(" ").concat(gd));function s2(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,L6(r,e,void 0,t),t.currentTarget=null}function VP(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==i&&s.isPropagationStopped())break e;s2(s,a,c),i=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==i&&s.isPropagationStopped())break e;s2(s,a,c),i=l}}}if(Vm)throw t=nb,Vm=!1,nb=null,t}function It(t,e){var n=e[fb];n===void 0&&(n=e[fb]=new Set);var r=t+"__bubble";n.has(r)||(WP(e,t,2,!1),n.add(r))}function Gy(t,e,n){var r=0;e&&(r|=4),WP(n,t,r,e)}var Kh="_reactListening"+Math.random().toString(36).slice(2);function yf(t){if(!t[Kh]){t[Kh]=!0,QL.forEach(function(n){n!=="selectionchange"&&(Ij.has(n)||Gy(n,!1,t),Gy(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Kh]||(e[Kh]=!0,Gy("selectionchange",!1,e))}}function WP(t,e,n,r){switch(AP(e)){case 1:var s=G6;break;case 4:s=K6;break;default:s=IS}n=s.bind(null,e,n,t),s=void 0,!tb||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function Ky(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;o=o.return}for(;a!==null;){if(o=Wa(a),o===null)return;if(l=o.tag,l===5||l===6){r=i=o;continue e}a=a.parentNode}}r=r.return}hP(function(){var c=i,u=RS(n),d=[];e:{var f=UP.get(t);if(f!==void 0){var p=MS,m=t;switch(t){case"keypress":if(Xp(n)===0)break e;case"keydown":case"keyup":p=lj;break;case"focusin":m="focus",p=$y;break;case"focusout":m="blur",p=$y;break;case"beforeblur":case"afterblur":p=$y;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=GE;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=X6;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=dj;break;case jP:case BP:case $P:p=J6;break;case zP:p=hj;break;case"scroll":p=Y6;break;case"wheel":p=mj;break;case"copy":case"cut":case"paste":p=tj;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=YE}var g=(e&4)!==0,y=!g&&t==="scroll",x=g?f!==null?f+"Capture":null:f;g=[];for(var v=c,b;v!==null;){b=v;var w=b.stateNode;if(b.tag===5&&w!==null&&(b=w,x!==null&&(w=df(v,x),w!=null&&g.push(vf(v,w,b)))),y)break;v=v.return}0<g.length&&(f=new p(f,m,null,n,u),d.push({event:f,listeners:g}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",f&&n!==Jx&&(m=n.relatedTarget||n.fromElement)&&(Wa(m)||m[uo]))break e;if((p||f)&&(f=u.window===u?u:(f=u.ownerDocument)?f.defaultView||f.parentWindow:window,p?(m=n.relatedTarget||n.toElement,p=c,m=m?Wa(m):null,m!==null&&(y=Ll(m),m!==y||m.tag!==5&&m.tag!==6)&&(m=null)):(p=null,m=c),p!==m)){if(g=GE,w="onMouseLeave",x="onMouseEnter",v="mouse",(t==="pointerout"||t==="pointerover")&&(g=YE,w="onPointerLeave",x="onPointerEnter",v="pointer"),y=p==null?f:cc(p),b=m==null?f:cc(m),f=new g(w,v+"leave",p,n,u),f.target=y,f.relatedTarget=b,w=null,Wa(u)===c&&(g=new g(x,v+"enter",m,n,u),g.target=b,g.relatedTarget=y,w=g),y=w,p&&m)t:{for(g=p,x=m,v=0,b=g;b;b=Vl(b))v++;for(b=0,w=x;w;w=Vl(w))b++;for(;0<v-b;)g=Vl(g),v--;for(;0<b-v;)x=Vl(x),b--;for(;v--;){if(g===x||x!==null&&g===x.alternate)break t;g=Vl(g),x=Vl(x)}g=null}else g=null;p!==null&&i2(d,f,p,g,!1),m!==null&&y!==null&&i2(d,y,m,g,!0)}}e:{if(f=c?cc(c):window,p=f.nodeName&&f.nodeName.toLowerCase(),p==="select"||p==="input"&&f.type==="file")var T=wj;else if(QE(f))if(DP)T=kj;else{T=Ej;var C=Tj}else(p=f.nodeName)&&p.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(T=Cj);if(T&&(T=T(t,c))){IP(d,T,n,u);break e}C&&C(t,f,c),t==="focusout"&&(C=f._wrapperState)&&C.controlled&&f.type==="number"&&Yx(f,"number",f.value)}switch(C=c?cc(c):window,t){case"focusin":(QE(C)||C.contentEditable==="true")&&(ac=C,ob=c,Nd=null);break;case"focusout":Nd=ob=ac=null;break;case"mousedown":ab=!0;break;case"contextmenu":case"mouseup":case"dragend":ab=!1,n2(d,n,u);break;case"selectionchange":if(_j)break;case"keydown":case"keyup":n2(d,n,u)}var E;if(FS)e:{switch(t){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else oc?LP(t,n)&&(k="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(k="onCompositionStart");k&&(_P&&n.locale!=="ko"&&(oc||k!=="onCompositionStart"?k==="onCompositionEnd"&&oc&&(E=RP()):(Uo=u,DS="value"in Uo?Uo.value:Uo.textContent,oc=!0)),C=Ym(c,k),0<C.length&&(k=new KE(k,t,null,n,u),d.push({event:k,listeners:C}),E?k.data=E:(E=PP(n),E!==null&&(k.data=E)))),(E=yj?vj(t,n):xj(t,n))&&(c=Ym(c,"onBeforeInput"),0<c.length&&(u=new KE("onBeforeInput","beforeinput",null,n,u),d.push({event:u,listeners:c}),u.data=E))}VP(d,e)})}function vf(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Ym(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=df(t,n),i!=null&&r.unshift(vf(t,i,s)),i=df(t,e),i!=null&&r.push(vf(t,i,s))),t=t.return}return r}function Vl(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function i2(t,e,n,r,s){for(var i=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,s?(l=df(n,i),l!=null&&o.unshift(vf(n,l,a))):s||(l=df(n,i),l!=null&&o.push(vf(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var Dj=/\r\n?/g,Mj=/\u0000|\uFFFD/g;function o2(t){return(typeof t=="string"?t:""+t).replace(Dj,`
`).replace(Mj,"")}function Yh(t,e,n){if(e=o2(e),o2(t)!==e&&n)throw Error(le(425))}function qm(){}var lb=null,cb=null;function ub(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var db=typeof setTimeout=="function"?setTimeout:void 0,Oj=typeof clearTimeout=="function"?clearTimeout:void 0,a2=typeof Promise=="function"?Promise:void 0,Fj=typeof queueMicrotask=="function"?queueMicrotask:typeof a2<"u"?function(t){return a2.resolve(null).then(t).catch(Nj)}:db;function Nj(t){setTimeout(function(){throw t})}function Yy(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),pf(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);pf(e)}function Xo(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function l2(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Tu=Math.random().toString(36).slice(2),yi="__reactFiber$"+Tu,xf="__reactProps$"+Tu,uo="__reactContainer$"+Tu,fb="__reactEvents$"+Tu,jj="__reactListeners$"+Tu,Bj="__reactHandles$"+Tu;function Wa(t){var e=t[yi];if(e)return e;for(var n=t.parentNode;n;){if(e=n[uo]||n[yi]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=l2(t);t!==null;){if(n=t[yi])return n;t=l2(t)}return e}t=n,n=t.parentNode}return null}function ch(t){return t=t[yi]||t[uo],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function cc(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(le(33))}function l0(t){return t[xf]||null}var hb=[],uc=-1;function da(t){return{current:t}}function Ft(t){0>uc||(t.current=hb[uc],hb[uc]=null,uc--)}function Rt(t,e){uc++,hb[uc]=t.current,t.current=e}var ia={},tr=da(ia),Cr=da(!1),pl=ia;function Yc(t,e){var n=t.type.contextTypes;if(!n)return ia;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function kr(t){return t=t.childContextTypes,t!=null}function Xm(){Ft(Cr),Ft(tr)}function c2(t,e,n){if(tr.current!==ia)throw Error(le(168));Rt(tr,e),Rt(Cr,n)}function HP(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(le(108,T6(t)||"Unknown",s));return Qt({},n,r)}function Qm(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||ia,pl=tr.current,Rt(tr,t),Rt(Cr,Cr.current),!0}function u2(t,e,n){var r=t.stateNode;if(!r)throw Error(le(169));n?(t=HP(t,e,pl),r.__reactInternalMemoizedMergedChildContext=t,Ft(Cr),Ft(tr),Rt(tr,t)):Ft(Cr),Rt(Cr,n)}var Ki=null,c0=!1,qy=!1;function GP(t){Ki===null?Ki=[t]:Ki.push(t)}function $j(t){c0=!0,GP(t)}function fa(){if(!qy&&Ki!==null){qy=!0;var t=0,e=yt;try{var n=Ki;for(yt=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Ki=null,c0=!1}catch(s){throw Ki!==null&&(Ki=Ki.slice(t+1)),yP(_S,fa),s}finally{yt=e,qy=!1}}return null}var dc=[],fc=0,Zm=null,Jm=0,hs=[],ps=0,ml=null,Zi=1,Ji="";function Da(t,e){dc[fc++]=Jm,dc[fc++]=Zm,Zm=t,Jm=e}function KP(t,e,n){hs[ps++]=Zi,hs[ps++]=Ji,hs[ps++]=ml,ml=t;var r=Zi;t=Ji;var s=32-Xs(r)-1;r&=~(1<<s),n+=1;var i=32-Xs(e)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,Zi=1<<32-Xs(e)+s|n<<s|r,Ji=i+t}else Zi=1<<i|n<<s|r,Ji=t}function jS(t){t.return!==null&&(Da(t,1),KP(t,1,0))}function BS(t){for(;t===Zm;)Zm=dc[--fc],dc[fc]=null,Jm=dc[--fc],dc[fc]=null;for(;t===ml;)ml=hs[--ps],hs[ps]=null,Ji=hs[--ps],hs[ps]=null,Zi=hs[--ps],hs[ps]=null}var Kr=null,Hr=null,Wt=!1,Gs=null;function YP(t,e){var n=ys(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function d2(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Kr=t,Hr=Xo(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Kr=t,Hr=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=ml!==null?{id:Zi,overflow:Ji}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=ys(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Kr=t,Hr=null,!0):!1;default:return!1}}function pb(t){return(t.mode&1)!==0&&(t.flags&128)===0}function mb(t){if(Wt){var e=Hr;if(e){var n=e;if(!d2(t,e)){if(pb(t))throw Error(le(418));e=Xo(n.nextSibling);var r=Kr;e&&d2(t,e)?YP(r,n):(t.flags=t.flags&-4097|2,Wt=!1,Kr=t)}}else{if(pb(t))throw Error(le(418));t.flags=t.flags&-4097|2,Wt=!1,Kr=t}}}function f2(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Kr=t}function qh(t){if(t!==Kr)return!1;if(!Wt)return f2(t),Wt=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!ub(t.type,t.memoizedProps)),e&&(e=Hr)){if(pb(t))throw qP(),Error(le(418));for(;e;)YP(t,e),e=Xo(e.nextSibling)}if(f2(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(le(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Hr=Xo(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Hr=null}}else Hr=Kr?Xo(t.stateNode.nextSibling):null;return!0}function qP(){for(var t=Hr;t;)t=Xo(t.nextSibling)}function qc(){Hr=Kr=null,Wt=!1}function $S(t){Gs===null?Gs=[t]:Gs.push(t)}var zj=yo.ReactCurrentBatchConfig;function Hu(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(le(309));var r=n.stateNode}if(!r)throw Error(le(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var a=s.refs;o===null?delete a[i]:a[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(le(284));if(!n._owner)throw Error(le(290,t))}return t}function Xh(t,e){throw t=Object.prototype.toString.call(e),Error(le(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function h2(t){var e=t._init;return e(t._payload)}function XP(t){function e(x,v){if(t){var b=x.deletions;b===null?(x.deletions=[v],x.flags|=16):b.push(v)}}function n(x,v){if(!t)return null;for(;v!==null;)e(x,v),v=v.sibling;return null}function r(x,v){for(x=new Map;v!==null;)v.key!==null?x.set(v.key,v):x.set(v.index,v),v=v.sibling;return x}function s(x,v){return x=ea(x,v),x.index=0,x.sibling=null,x}function i(x,v,b){return x.index=b,t?(b=x.alternate,b!==null?(b=b.index,b<v?(x.flags|=2,v):b):(x.flags|=2,v)):(x.flags|=1048576,v)}function o(x){return t&&x.alternate===null&&(x.flags|=2),x}function a(x,v,b,w){return v===null||v.tag!==6?(v=nv(b,x.mode,w),v.return=x,v):(v=s(v,b),v.return=x,v)}function l(x,v,b,w){var T=b.type;return T===ic?u(x,v,b.props.children,w,b.key):v!==null&&(v.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===Mo&&h2(T)===v.type)?(w=s(v,b.props),w.ref=Hu(x,v,b),w.return=x,w):(w=rm(b.type,b.key,b.props,null,x.mode,w),w.ref=Hu(x,v,b),w.return=x,w)}function c(x,v,b,w){return v===null||v.tag!==4||v.stateNode.containerInfo!==b.containerInfo||v.stateNode.implementation!==b.implementation?(v=rv(b,x.mode,w),v.return=x,v):(v=s(v,b.children||[]),v.return=x,v)}function u(x,v,b,w,T){return v===null||v.tag!==7?(v=rl(b,x.mode,w,T),v.return=x,v):(v=s(v,b),v.return=x,v)}function d(x,v,b){if(typeof v=="string"&&v!==""||typeof v=="number")return v=nv(""+v,x.mode,b),v.return=x,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Bh:return b=rm(v.type,v.key,v.props,null,x.mode,b),b.ref=Hu(x,null,v),b.return=x,b;case sc:return v=rv(v,x.mode,b),v.return=x,v;case Mo:var w=v._init;return d(x,w(v._payload),b)}if(pd(v)||$u(v))return v=rl(v,x.mode,b,null),v.return=x,v;Xh(x,v)}return null}function f(x,v,b,w){var T=v!==null?v.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return T!==null?null:a(x,v,""+b,w);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Bh:return b.key===T?l(x,v,b,w):null;case sc:return b.key===T?c(x,v,b,w):null;case Mo:return T=b._init,f(x,v,T(b._payload),w)}if(pd(b)||$u(b))return T!==null?null:u(x,v,b,w,null);Xh(x,b)}return null}function p(x,v,b,w,T){if(typeof w=="string"&&w!==""||typeof w=="number")return x=x.get(b)||null,a(v,x,""+w,T);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Bh:return x=x.get(w.key===null?b:w.key)||null,l(v,x,w,T);case sc:return x=x.get(w.key===null?b:w.key)||null,c(v,x,w,T);case Mo:var C=w._init;return p(x,v,b,C(w._payload),T)}if(pd(w)||$u(w))return x=x.get(b)||null,u(v,x,w,T,null);Xh(v,w)}return null}function m(x,v,b,w){for(var T=null,C=null,E=v,k=v=0,A=null;E!==null&&k<b.length;k++){E.index>k?(A=E,E=null):A=E.sibling;var R=f(x,E,b[k],w);if(R===null){E===null&&(E=A);break}t&&E&&R.alternate===null&&e(x,E),v=i(R,v,k),C===null?T=R:C.sibling=R,C=R,E=A}if(k===b.length)return n(x,E),Wt&&Da(x,k),T;if(E===null){for(;k<b.length;k++)E=d(x,b[k],w),E!==null&&(v=i(E,v,k),C===null?T=E:C.sibling=E,C=E);return Wt&&Da(x,k),T}for(E=r(x,E);k<b.length;k++)A=p(E,x,k,b[k],w),A!==null&&(t&&A.alternate!==null&&E.delete(A.key===null?k:A.key),v=i(A,v,k),C===null?T=A:C.sibling=A,C=A);return t&&E.forEach(function(L){return e(x,L)}),Wt&&Da(x,k),T}function g(x,v,b,w){var T=$u(b);if(typeof T!="function")throw Error(le(150));if(b=T.call(b),b==null)throw Error(le(151));for(var C=T=null,E=v,k=v=0,A=null,R=b.next();E!==null&&!R.done;k++,R=b.next()){E.index>k?(A=E,E=null):A=E.sibling;var L=f(x,E,R.value,w);if(L===null){E===null&&(E=A);break}t&&E&&L.alternate===null&&e(x,E),v=i(L,v,k),C===null?T=L:C.sibling=L,C=L,E=A}if(R.done)return n(x,E),Wt&&Da(x,k),T;if(E===null){for(;!R.done;k++,R=b.next())R=d(x,R.value,w),R!==null&&(v=i(R,v,k),C===null?T=R:C.sibling=R,C=R);return Wt&&Da(x,k),T}for(E=r(x,E);!R.done;k++,R=b.next())R=p(E,x,k,R.value,w),R!==null&&(t&&R.alternate!==null&&E.delete(R.key===null?k:R.key),v=i(R,v,k),C===null?T=R:C.sibling=R,C=R);return t&&E.forEach(function(D){return e(x,D)}),Wt&&Da(x,k),T}function y(x,v,b,w){if(typeof b=="object"&&b!==null&&b.type===ic&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case Bh:e:{for(var T=b.key,C=v;C!==null;){if(C.key===T){if(T=b.type,T===ic){if(C.tag===7){n(x,C.sibling),v=s(C,b.props.children),v.return=x,x=v;break e}}else if(C.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===Mo&&h2(T)===C.type){n(x,C.sibling),v=s(C,b.props),v.ref=Hu(x,C,b),v.return=x,x=v;break e}n(x,C);break}else e(x,C);C=C.sibling}b.type===ic?(v=rl(b.props.children,x.mode,w,b.key),v.return=x,x=v):(w=rm(b.type,b.key,b.props,null,x.mode,w),w.ref=Hu(x,v,b),w.return=x,x=w)}return o(x);case sc:e:{for(C=b.key;v!==null;){if(v.key===C)if(v.tag===4&&v.stateNode.containerInfo===b.containerInfo&&v.stateNode.implementation===b.implementation){n(x,v.sibling),v=s(v,b.children||[]),v.return=x,x=v;break e}else{n(x,v);break}else e(x,v);v=v.sibling}v=rv(b,x.mode,w),v.return=x,x=v}return o(x);case Mo:return C=b._init,y(x,v,C(b._payload),w)}if(pd(b))return m(x,v,b,w);if($u(b))return g(x,v,b,w);Xh(x,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,v!==null&&v.tag===6?(n(x,v.sibling),v=s(v,b),v.return=x,x=v):(n(x,v),v=nv(b,x.mode,w),v.return=x,x=v),o(x)):n(x,v)}return y}var Xc=XP(!0),QP=XP(!1),eg=da(null),tg=null,hc=null,zS=null;function US(){zS=hc=tg=null}function VS(t){var e=eg.current;Ft(eg),t._currentValue=e}function gb(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Pc(t,e){tg=t,zS=hc=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Er=!0),t.firstContext=null)}function Ts(t){var e=t._currentValue;if(zS!==t)if(t={context:t,memoizedValue:e,next:null},hc===null){if(tg===null)throw Error(le(308));hc=t,tg.dependencies={lanes:0,firstContext:t}}else hc=hc.next=t;return e}var Ha=null;function WS(t){Ha===null?Ha=[t]:Ha.push(t)}function ZP(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,WS(e)):(n.next=s.next,s.next=n),e.interleaved=n,fo(t,r)}function fo(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Oo=!1;function HS(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function JP(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function so(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Qo(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,st&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,fo(t,n)}return s=r.interleaved,s===null?(e.next=e,WS(r)):(e.next=s.next,s.next=e),r.interleaved=e,fo(t,n)}function Qp(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,LS(t,n)}}function p2(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function ng(t,e,n,r){var s=t.updateQueue;Oo=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?i=c:o.next=c,o=l;var u=t.alternate;u!==null&&(u=u.updateQueue,a=u.lastBaseUpdate,a!==o&&(a===null?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(i!==null){var d=s.baseState;o=0,u=c=l=null,a=i;do{var f=a.lane,p=a.eventTime;if((r&f)===f){u!==null&&(u=u.next={eventTime:p,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var m=t,g=a;switch(f=e,p=n,g.tag){case 1:if(m=g.payload,typeof m=="function"){d=m.call(p,d,f);break e}d=m;break e;case 3:m.flags=m.flags&-65537|128;case 0:if(m=g.payload,f=typeof m=="function"?m.call(p,d,f):m,f==null)break e;d=Qt({},d,f);break e;case 2:Oo=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,f=s.effects,f===null?s.effects=[a]:f.push(a))}else p={eventTime:p,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},u===null?(c=u=p,l=d):u=u.next=p,o|=f;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;f=a,a=f.next,f.next=null,s.lastBaseUpdate=f,s.shared.pending=null}}while(!0);if(u===null&&(l=d),s.baseState=l,s.firstBaseUpdate=c,s.lastBaseUpdate=u,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);yl|=o,t.lanes=o,t.memoizedState=d}}function m2(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(le(191,s));s.call(r)}}}var uh={},Ti=da(uh),bf=da(uh),Sf=da(uh);function Ga(t){if(t===uh)throw Error(le(174));return t}function GS(t,e){switch(Rt(Sf,e),Rt(bf,t),Rt(Ti,uh),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Xx(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Xx(e,t)}Ft(Ti),Rt(Ti,e)}function Qc(){Ft(Ti),Ft(bf),Ft(Sf)}function eI(t){Ga(Sf.current);var e=Ga(Ti.current),n=Xx(e,t.type);e!==n&&(Rt(bf,t),Rt(Ti,n))}function KS(t){bf.current===t&&(Ft(Ti),Ft(bf))}var Kt=da(0);function rg(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Xy=[];function YS(){for(var t=0;t<Xy.length;t++)Xy[t]._workInProgressVersionPrimary=null;Xy.length=0}var Zp=yo.ReactCurrentDispatcher,Qy=yo.ReactCurrentBatchConfig,gl=0,Xt=null,Tn=null,_n=null,sg=!1,jd=!1,wf=0,Uj=0;function Hn(){throw Error(le(321))}function qS(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Js(t[n],e[n]))return!1;return!0}function XS(t,e,n,r,s,i){if(gl=i,Xt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Zp.current=t===null||t.memoizedState===null?Gj:Kj,t=n(r,s),jd){i=0;do{if(jd=!1,wf=0,25<=i)throw Error(le(301));i+=1,_n=Tn=null,e.updateQueue=null,Zp.current=Yj,t=n(r,s)}while(jd)}if(Zp.current=ig,e=Tn!==null&&Tn.next!==null,gl=0,_n=Tn=Xt=null,sg=!1,e)throw Error(le(300));return t}function QS(){var t=wf!==0;return wf=0,t}function ui(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return _n===null?Xt.memoizedState=_n=t:_n=_n.next=t,_n}function Es(){if(Tn===null){var t=Xt.alternate;t=t!==null?t.memoizedState:null}else t=Tn.next;var e=_n===null?Xt.memoizedState:_n.next;if(e!==null)_n=e,Tn=t;else{if(t===null)throw Error(le(310));Tn=t,t={memoizedState:Tn.memoizedState,baseState:Tn.baseState,baseQueue:Tn.baseQueue,queue:Tn.queue,next:null},_n===null?Xt.memoizedState=_n=t:_n=_n.next=t}return _n}function Tf(t,e){return typeof e=="function"?e(t):e}function Zy(t){var e=Es(),n=e.queue;if(n===null)throw Error(le(311));n.lastRenderedReducer=t;var r=Tn,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var a=o=null,l=null,c=i;do{var u=c.lane;if((gl&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var d={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=d,o=r):l=l.next=d,Xt.lanes|=u,yl|=u}c=c.next}while(c!==null&&c!==i);l===null?o=r:l.next=a,Js(r,e.memoizedState)||(Er=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,Xt.lanes|=i,yl|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Jy(t){var e=Es(),n=e.queue;if(n===null)throw Error(le(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);Js(i,e.memoizedState)||(Er=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function tI(){}function nI(t,e){var n=Xt,r=Es(),s=e(),i=!Js(r.memoizedState,s);if(i&&(r.memoizedState=s,Er=!0),r=r.queue,ZS(iI.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||_n!==null&&_n.memoizedState.tag&1){if(n.flags|=2048,Ef(9,sI.bind(null,n,r,s,e),void 0,null),In===null)throw Error(le(349));gl&30||rI(n,e,s)}return s}function rI(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Xt.updateQueue,e===null?(e={lastEffect:null,stores:null},Xt.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function sI(t,e,n,r){e.value=n,e.getSnapshot=r,oI(e)&&aI(t)}function iI(t,e,n){return n(function(){oI(e)&&aI(t)})}function oI(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Js(t,n)}catch{return!0}}function aI(t){var e=fo(t,1);e!==null&&Qs(e,t,1,-1)}function g2(t){var e=ui();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Tf,lastRenderedState:t},e.queue=t,t=t.dispatch=Hj.bind(null,Xt,t),[e.memoizedState,t]}function Ef(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Xt.updateQueue,e===null?(e={lastEffect:null,stores:null},Xt.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function lI(){return Es().memoizedState}function Jp(t,e,n,r){var s=ui();Xt.flags|=t,s.memoizedState=Ef(1|e,n,void 0,r===void 0?null:r)}function u0(t,e,n,r){var s=Es();r=r===void 0?null:r;var i=void 0;if(Tn!==null){var o=Tn.memoizedState;if(i=o.destroy,r!==null&&qS(r,o.deps)){s.memoizedState=Ef(e,n,i,r);return}}Xt.flags|=t,s.memoizedState=Ef(1|e,n,i,r)}function y2(t,e){return Jp(8390656,8,t,e)}function ZS(t,e){return u0(2048,8,t,e)}function cI(t,e){return u0(4,2,t,e)}function uI(t,e){return u0(4,4,t,e)}function dI(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function fI(t,e,n){return n=n!=null?n.concat([t]):null,u0(4,4,dI.bind(null,e,t),n)}function JS(){}function hI(t,e){var n=Es();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&qS(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function pI(t,e){var n=Es();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&qS(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function mI(t,e,n){return gl&21?(Js(n,e)||(n=bP(),Xt.lanes|=n,yl|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Er=!0),t.memoizedState=n)}function Vj(t,e){var n=yt;yt=n!==0&&4>n?n:4,t(!0);var r=Qy.transition;Qy.transition={};try{t(!1),e()}finally{yt=n,Qy.transition=r}}function gI(){return Es().memoizedState}function Wj(t,e,n){var r=Jo(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},yI(t))vI(e,n);else if(n=ZP(t,e,n,r),n!==null){var s=ur();Qs(n,t,r,s),xI(n,e,r)}}function Hj(t,e,n){var r=Jo(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(yI(t))vI(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,a=i(o,n);if(s.hasEagerState=!0,s.eagerState=a,Js(a,o)){var l=e.interleaved;l===null?(s.next=s,WS(e)):(s.next=l.next,l.next=s),e.interleaved=s;return}}catch{}finally{}n=ZP(t,e,s,r),n!==null&&(s=ur(),Qs(n,t,r,s),xI(n,e,r))}}function yI(t){var e=t.alternate;return t===Xt||e!==null&&e===Xt}function vI(t,e){jd=sg=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function xI(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,LS(t,n)}}var ig={readContext:Ts,useCallback:Hn,useContext:Hn,useEffect:Hn,useImperativeHandle:Hn,useInsertionEffect:Hn,useLayoutEffect:Hn,useMemo:Hn,useReducer:Hn,useRef:Hn,useState:Hn,useDebugValue:Hn,useDeferredValue:Hn,useTransition:Hn,useMutableSource:Hn,useSyncExternalStore:Hn,useId:Hn,unstable_isNewReconciler:!1},Gj={readContext:Ts,useCallback:function(t,e){return ui().memoizedState=[t,e===void 0?null:e],t},useContext:Ts,useEffect:y2,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Jp(4194308,4,dI.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Jp(4194308,4,t,e)},useInsertionEffect:function(t,e){return Jp(4,2,t,e)},useMemo:function(t,e){var n=ui();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=ui();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=Wj.bind(null,Xt,t),[r.memoizedState,t]},useRef:function(t){var e=ui();return t={current:t},e.memoizedState=t},useState:g2,useDebugValue:JS,useDeferredValue:function(t){return ui().memoizedState=t},useTransition:function(){var t=g2(!1),e=t[0];return t=Vj.bind(null,t[1]),ui().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Xt,s=ui();if(Wt){if(n===void 0)throw Error(le(407));n=n()}else{if(n=e(),In===null)throw Error(le(349));gl&30||rI(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,y2(iI.bind(null,r,i,t),[t]),r.flags|=2048,Ef(9,sI.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=ui(),e=In.identifierPrefix;if(Wt){var n=Ji,r=Zi;n=(r&~(1<<32-Xs(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=wf++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=Uj++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},Kj={readContext:Ts,useCallback:hI,useContext:Ts,useEffect:ZS,useImperativeHandle:fI,useInsertionEffect:cI,useLayoutEffect:uI,useMemo:pI,useReducer:Zy,useRef:lI,useState:function(){return Zy(Tf)},useDebugValue:JS,useDeferredValue:function(t){var e=Es();return mI(e,Tn.memoizedState,t)},useTransition:function(){var t=Zy(Tf)[0],e=Es().memoizedState;return[t,e]},useMutableSource:tI,useSyncExternalStore:nI,useId:gI,unstable_isNewReconciler:!1},Yj={readContext:Ts,useCallback:hI,useContext:Ts,useEffect:ZS,useImperativeHandle:fI,useInsertionEffect:cI,useLayoutEffect:uI,useMemo:pI,useReducer:Jy,useRef:lI,useState:function(){return Jy(Tf)},useDebugValue:JS,useDeferredValue:function(t){var e=Es();return Tn===null?e.memoizedState=t:mI(e,Tn.memoizedState,t)},useTransition:function(){var t=Jy(Tf)[0],e=Es().memoizedState;return[t,e]},useMutableSource:tI,useSyncExternalStore:nI,useId:gI,unstable_isNewReconciler:!1};function Vs(t,e){if(t&&t.defaultProps){e=Qt({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function yb(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Qt({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var d0={isMounted:function(t){return(t=t._reactInternals)?Ll(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=ur(),s=Jo(t),i=so(r,s);i.payload=e,n!=null&&(i.callback=n),e=Qo(t,i,s),e!==null&&(Qs(e,t,s,r),Qp(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=ur(),s=Jo(t),i=so(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=Qo(t,i,s),e!==null&&(Qs(e,t,s,r),Qp(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=ur(),r=Jo(t),s=so(n,r);s.tag=2,e!=null&&(s.callback=e),e=Qo(t,s,r),e!==null&&(Qs(e,t,r,n),Qp(e,t,r))}};function v2(t,e,n,r,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,o):e.prototype&&e.prototype.isPureReactComponent?!gf(n,r)||!gf(s,i):!0}function bI(t,e,n){var r=!1,s=ia,i=e.contextType;return typeof i=="object"&&i!==null?i=Ts(i):(s=kr(e)?pl:tr.current,r=e.contextTypes,i=(r=r!=null)?Yc(t,s):ia),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=d0,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function x2(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&d0.enqueueReplaceState(e,e.state,null)}function vb(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},HS(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=Ts(i):(i=kr(e)?pl:tr.current,s.context=Yc(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(yb(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&d0.enqueueReplaceState(s,s.state,null),ng(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function Zc(t,e){try{var n="",r=e;do n+=w6(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function ev(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function xb(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var qj=typeof WeakMap=="function"?WeakMap:Map;function SI(t,e,n){n=so(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){ag||(ag=!0,_b=r),xb(t,e)},n}function wI(t,e,n){n=so(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){xb(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){xb(t,e),typeof r!="function"&&(Zo===null?Zo=new Set([this]):Zo.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function b2(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new qj;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=cB.bind(null,t,e,n),e.then(t,t))}function S2(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function w2(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=so(-1,1),e.tag=2,Qo(n,e,1))),n.lanes|=1),t)}var Xj=yo.ReactCurrentOwner,Er=!1;function ar(t,e,n,r){e.child=t===null?QP(e,null,n,r):Xc(e,t.child,n,r)}function T2(t,e,n,r,s){n=n.render;var i=e.ref;return Pc(e,s),r=XS(t,e,n,r,i,s),n=QS(),t!==null&&!Er?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,ho(t,e,s)):(Wt&&n&&jS(e),e.flags|=1,ar(t,e,r,s),e.child)}function E2(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!aw(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,TI(t,e,i,r,s)):(t=rm(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:gf,n(o,r)&&t.ref===e.ref)return ho(t,e,s)}return e.flags|=1,t=ea(i,r),t.ref=e.ref,t.return=e,e.child=t}function TI(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(gf(i,r)&&t.ref===e.ref)if(Er=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&(Er=!0);else return e.lanes=t.lanes,ho(t,e,s)}return bb(t,e,n,r,s)}function EI(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Rt(mc,Ur),Ur|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Rt(mc,Ur),Ur|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,Rt(mc,Ur),Ur|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,Rt(mc,Ur),Ur|=r;return ar(t,e,s,n),e.child}function CI(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function bb(t,e,n,r,s){var i=kr(n)?pl:tr.current;return i=Yc(e,i),Pc(e,s),n=XS(t,e,n,r,i,s),r=QS(),t!==null&&!Er?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,ho(t,e,s)):(Wt&&r&&jS(e),e.flags|=1,ar(t,e,n,s),e.child)}function C2(t,e,n,r,s){if(kr(n)){var i=!0;Qm(e)}else i=!1;if(Pc(e,s),e.stateNode===null)em(t,e),bI(e,n,r),vb(e,n,r,s),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=Ts(c):(c=kr(n)?pl:tr.current,c=Yc(e,c));var u=n.getDerivedStateFromProps,d=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==c)&&x2(e,o,r,c),Oo=!1;var f=e.memoizedState;o.state=f,ng(e,r,o,s),l=e.memoizedState,a!==r||f!==l||Cr.current||Oo?(typeof u=="function"&&(yb(e,n,u,r),l=e.memoizedState),(a=Oo||v2(e,n,a,r,f,l,c))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,JP(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:Vs(e.type,a),o.props=c,d=e.pendingProps,f=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=Ts(l):(l=kr(n)?pl:tr.current,l=Yc(e,l));var p=n.getDerivedStateFromProps;(u=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==d||f!==l)&&x2(e,o,r,l),Oo=!1,f=e.memoizedState,o.state=f,ng(e,r,o,s);var m=e.memoizedState;a!==d||f!==m||Cr.current||Oo?(typeof p=="function"&&(yb(e,n,p,r),m=e.memoizedState),(c=Oo||v2(e,n,c,r,f,m,l)||!1)?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,m,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,m,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=m),o.props=r,o.state=m,o.context=l,r=c):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),r=!1)}return Sb(t,e,n,r,i,s)}function Sb(t,e,n,r,s,i){CI(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return s&&u2(e,n,!1),ho(t,e,i);r=e.stateNode,Xj.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Xc(e,t.child,null,i),e.child=Xc(e,null,a,i)):ar(t,e,a,i),e.memoizedState=r.state,s&&u2(e,n,!0),e.child}function kI(t){var e=t.stateNode;e.pendingContext?c2(t,e.pendingContext,e.pendingContext!==e.context):e.context&&c2(t,e.context,!1),GS(t,e.containerInfo)}function k2(t,e,n,r,s){return qc(),$S(s),e.flags|=256,ar(t,e,n,r),e.child}var wb={dehydrated:null,treeContext:null,retryLane:0};function Tb(t){return{baseLanes:t,cachePool:null,transitions:null}}function AI(t,e,n){var r=e.pendingProps,s=Kt.current,i=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(s&2)!==0),a?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),Rt(Kt,s&1),t===null)return mb(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,i?(r=e.mode,i=e.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=p0(o,r,0,null),t=rl(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=Tb(n),e.memoizedState=wb,t):ew(e,o));if(s=t.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return Qj(t,e,o,r,a,s,n);if(i){i=r.fallback,o=e.mode,s=t.child,a=s.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=ea(s,l),r.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=ea(a,i):(i=rl(i,o,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,o=t.child.memoizedState,o=o===null?Tb(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~n,e.memoizedState=wb,r}return i=t.child,t=i.sibling,r=ea(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function ew(t,e){return e=p0({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Qh(t,e,n,r){return r!==null&&$S(r),Xc(e,t.child,null,n),t=ew(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function Qj(t,e,n,r,s,i,o){if(n)return e.flags&256?(e.flags&=-257,r=ev(Error(le(422))),Qh(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=p0({mode:"visible",children:r.children},s,0,null),i=rl(i,s,o,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&Xc(e,t.child,null,o),e.child.memoizedState=Tb(o),e.memoizedState=wb,i);if(!(e.mode&1))return Qh(t,e,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var a=r.dgst;return r=a,i=Error(le(419)),r=ev(i,r,void 0),Qh(t,e,o,r)}if(a=(o&t.childLanes)!==0,Er||a){if(r=In,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,fo(t,s),Qs(r,t,s,-1))}return ow(),r=ev(Error(le(421))),Qh(t,e,o,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=uB.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,Hr=Xo(s.nextSibling),Kr=e,Wt=!0,Gs=null,t!==null&&(hs[ps++]=Zi,hs[ps++]=Ji,hs[ps++]=ml,Zi=t.id,Ji=t.overflow,ml=e),e=ew(e,r.children),e.flags|=4096,e)}function A2(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),gb(t.return,e,n)}function tv(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function RI(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(ar(t,e,r.children,n),r=Kt.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&A2(t,n,e);else if(t.tag===19)A2(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Rt(Kt,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&rg(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),tv(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&rg(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}tv(e,!0,n,null,i);break;case"together":tv(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function em(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function ho(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),yl|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(le(153));if(e.child!==null){for(t=e.child,n=ea(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=ea(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function Zj(t,e,n){switch(e.tag){case 3:kI(e),qc();break;case 5:eI(e);break;case 1:kr(e.type)&&Qm(e);break;case 4:GS(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;Rt(eg,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Rt(Kt,Kt.current&1),e.flags|=128,null):n&e.child.childLanes?AI(t,e,n):(Rt(Kt,Kt.current&1),t=ho(t,e,n),t!==null?t.sibling:null);Rt(Kt,Kt.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return RI(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Rt(Kt,Kt.current),r)break;return null;case 22:case 23:return e.lanes=0,EI(t,e,n)}return ho(t,e,n)}var _I,Eb,LI,PI;_I=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Eb=function(){};LI=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,Ga(Ti.current);var i=null;switch(n){case"input":s=Gx(t,s),r=Gx(t,r),i=[];break;case"select":s=Qt({},s,{value:void 0}),r=Qt({},r,{value:void 0}),i=[];break;case"textarea":s=qx(t,s),r=qx(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=qm)}Qx(n,r);var o;n=null;for(c in s)if(!r.hasOwnProperty(c)&&s.hasOwnProperty(c)&&s[c]!=null)if(c==="style"){var a=s[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(cf.hasOwnProperty(c)?i||(i=[]):(i=i||[]).push(c,null));for(c in r){var l=r[c];if(a=s!=null?s[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(i||(i=[]),i.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(i=i||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(cf.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&It("scroll",t),i||a===l||(i=[])):(i=i||[]).push(c,l))}n&&(i=i||[]).push("style",n);var c=i;(e.updateQueue=c)&&(e.flags|=4)}};PI=function(t,e,n,r){n!==r&&(e.flags|=4)};function Gu(t,e){if(!Wt)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Gn(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function Jj(t,e,n){var r=e.pendingProps;switch(BS(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Gn(e),null;case 1:return kr(e.type)&&Xm(),Gn(e),null;case 3:return r=e.stateNode,Qc(),Ft(Cr),Ft(tr),YS(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(qh(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Gs!==null&&(Ib(Gs),Gs=null))),Eb(t,e),Gn(e),null;case 5:KS(e);var s=Ga(Sf.current);if(n=e.type,t!==null&&e.stateNode!=null)LI(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(le(166));return Gn(e),null}if(t=Ga(Ti.current),qh(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[yi]=e,r[xf]=i,t=(e.mode&1)!==0,n){case"dialog":It("cancel",r),It("close",r);break;case"iframe":case"object":case"embed":It("load",r);break;case"video":case"audio":for(s=0;s<gd.length;s++)It(gd[s],r);break;case"source":It("error",r);break;case"img":case"image":case"link":It("error",r),It("load",r);break;case"details":It("toggle",r);break;case"input":FE(r,i),It("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},It("invalid",r);break;case"textarea":jE(r,i),It("invalid",r)}Qx(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?r.textContent!==a&&(i.suppressHydrationWarning!==!0&&Yh(r.textContent,a,t),s=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&Yh(r.textContent,a,t),s=["children",""+a]):cf.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&It("scroll",r)}switch(n){case"input":$h(r),NE(r,i,!0);break;case"textarea":$h(r),BE(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=qm)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=iP(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[yi]=e,t[xf]=r,_I(t,e,!1,!1),e.stateNode=t;e:{switch(o=Zx(n,r),n){case"dialog":It("cancel",t),It("close",t),s=r;break;case"iframe":case"object":case"embed":It("load",t),s=r;break;case"video":case"audio":for(s=0;s<gd.length;s++)It(gd[s],t);s=r;break;case"source":It("error",t),s=r;break;case"img":case"image":case"link":It("error",t),It("load",t),s=r;break;case"details":It("toggle",t),s=r;break;case"input":FE(t,r),s=Gx(t,r),It("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=Qt({},r,{value:void 0}),It("invalid",t);break;case"textarea":jE(t,r),s=qx(t,r),It("invalid",t);break;default:s=r}Qx(n,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var l=a[i];i==="style"?lP(t,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&oP(t,l)):i==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&uf(t,l):typeof l=="number"&&uf(t,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(cf.hasOwnProperty(i)?l!=null&&i==="onScroll"&&It("scroll",t):l!=null&&ES(t,i,l,o))}switch(n){case"input":$h(t),NE(t,r,!1);break;case"textarea":$h(t),BE(t);break;case"option":r.value!=null&&t.setAttribute("value",""+sa(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?Ac(t,!!r.multiple,i,!1):r.defaultValue!=null&&Ac(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=qm)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Gn(e),null;case 6:if(t&&e.stateNode!=null)PI(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(le(166));if(n=Ga(Sf.current),Ga(Ti.current),qh(e)){if(r=e.stateNode,n=e.memoizedProps,r[yi]=e,(i=r.nodeValue!==n)&&(t=Kr,t!==null))switch(t.tag){case 3:Yh(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Yh(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[yi]=e,e.stateNode=r}return Gn(e),null;case 13:if(Ft(Kt),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Wt&&Hr!==null&&e.mode&1&&!(e.flags&128))qP(),qc(),e.flags|=98560,i=!1;else if(i=qh(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(le(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(le(317));i[yi]=e}else qc(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Gn(e),i=!1}else Gs!==null&&(Ib(Gs),Gs=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Kt.current&1?En===0&&(En=3):ow())),e.updateQueue!==null&&(e.flags|=4),Gn(e),null);case 4:return Qc(),Eb(t,e),t===null&&yf(e.stateNode.containerInfo),Gn(e),null;case 10:return VS(e.type._context),Gn(e),null;case 17:return kr(e.type)&&Xm(),Gn(e),null;case 19:if(Ft(Kt),i=e.memoizedState,i===null)return Gn(e),null;if(r=(e.flags&128)!==0,o=i.rendering,o===null)if(r)Gu(i,!1);else{if(En!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=rg(t),o!==null){for(e.flags|=128,Gu(i,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Rt(Kt,Kt.current&1|2),e.child}t=t.sibling}i.tail!==null&&ln()>Jc&&(e.flags|=128,r=!0,Gu(i,!1),e.lanes=4194304)}else{if(!r)if(t=rg(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Gu(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!Wt)return Gn(e),null}else 2*ln()-i.renderingStartTime>Jc&&n!==1073741824&&(e.flags|=128,r=!0,Gu(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(n=i.last,n!==null?n.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=ln(),e.sibling=null,n=Kt.current,Rt(Kt,r?n&1|2:n&1),e):(Gn(e),null);case 22:case 23:return iw(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Ur&1073741824&&(Gn(e),e.subtreeFlags&6&&(e.flags|=8192)):Gn(e),null;case 24:return null;case 25:return null}throw Error(le(156,e.tag))}function eB(t,e){switch(BS(e),e.tag){case 1:return kr(e.type)&&Xm(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Qc(),Ft(Cr),Ft(tr),YS(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return KS(e),null;case 13:if(Ft(Kt),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(le(340));qc()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Ft(Kt),null;case 4:return Qc(),null;case 10:return VS(e.type._context),null;case 22:case 23:return iw(),null;case 24:return null;default:return null}}var Zh=!1,Qn=!1,tB=typeof WeakSet=="function"?WeakSet:Set,ye=null;function pc(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){tn(t,e,r)}else n.current=null}function Cb(t,e,n){try{n()}catch(r){tn(t,e,r)}}var R2=!1;function nB(t,e){if(lb=Gm,t=FP(),NS(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,c=0,u=0,d=t,f=null;t:for(;;){for(var p;d!==n||s!==0&&d.nodeType!==3||(a=o+s),d!==i||r!==0&&d.nodeType!==3||(l=o+r),d.nodeType===3&&(o+=d.nodeValue.length),(p=d.firstChild)!==null;)f=d,d=p;for(;;){if(d===t)break t;if(f===n&&++c===s&&(a=o),f===i&&++u===r&&(l=o),(p=d.nextSibling)!==null)break;d=f,f=d.parentNode}d=p}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(cb={focusedElem:t,selectionRange:n},Gm=!1,ye=e;ye!==null;)if(e=ye,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,ye=t;else for(;ye!==null;){e=ye;try{var m=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(m!==null){var g=m.memoizedProps,y=m.memoizedState,x=e.stateNode,v=x.getSnapshotBeforeUpdate(e.elementType===e.type?g:Vs(e.type,g),y);x.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var b=e.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(le(163))}}catch(w){tn(e,e.return,w)}if(t=e.sibling,t!==null){t.return=e.return,ye=t;break}ye=e.return}return m=R2,R2=!1,m}function Bd(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&Cb(e,n,i)}s=s.next}while(s!==r)}}function f0(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function kb(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function II(t){var e=t.alternate;e!==null&&(t.alternate=null,II(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[yi],delete e[xf],delete e[fb],delete e[jj],delete e[Bj])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function DI(t){return t.tag===5||t.tag===3||t.tag===4}function _2(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||DI(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Ab(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=qm));else if(r!==4&&(t=t.child,t!==null))for(Ab(t,e,n),t=t.sibling;t!==null;)Ab(t,e,n),t=t.sibling}function Rb(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Rb(t,e,n),t=t.sibling;t!==null;)Rb(t,e,n),t=t.sibling}var Nn=null,Ws=!1;function Eo(t,e,n){for(n=n.child;n!==null;)MI(t,e,n),n=n.sibling}function MI(t,e,n){if(wi&&typeof wi.onCommitFiberUnmount=="function")try{wi.onCommitFiberUnmount(s0,n)}catch{}switch(n.tag){case 5:Qn||pc(n,e);case 6:var r=Nn,s=Ws;Nn=null,Eo(t,e,n),Nn=r,Ws=s,Nn!==null&&(Ws?(t=Nn,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Nn.removeChild(n.stateNode));break;case 18:Nn!==null&&(Ws?(t=Nn,n=n.stateNode,t.nodeType===8?Yy(t.parentNode,n):t.nodeType===1&&Yy(t,n),pf(t)):Yy(Nn,n.stateNode));break;case 4:r=Nn,s=Ws,Nn=n.stateNode.containerInfo,Ws=!0,Eo(t,e,n),Nn=r,Ws=s;break;case 0:case 11:case 14:case 15:if(!Qn&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&Cb(n,e,o),s=s.next}while(s!==r)}Eo(t,e,n);break;case 1:if(!Qn&&(pc(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){tn(n,e,a)}Eo(t,e,n);break;case 21:Eo(t,e,n);break;case 22:n.mode&1?(Qn=(r=Qn)||n.memoizedState!==null,Eo(t,e,n),Qn=r):Eo(t,e,n);break;default:Eo(t,e,n)}}function L2(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new tB),e.forEach(function(r){var s=dB.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function js(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:Nn=a.stateNode,Ws=!1;break e;case 3:Nn=a.stateNode.containerInfo,Ws=!0;break e;case 4:Nn=a.stateNode.containerInfo,Ws=!0;break e}a=a.return}if(Nn===null)throw Error(le(160));MI(i,o,s),Nn=null,Ws=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(c){tn(s,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)OI(e,t),e=e.sibling}function OI(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(js(e,t),si(t),r&4){try{Bd(3,t,t.return),f0(3,t)}catch(g){tn(t,t.return,g)}try{Bd(5,t,t.return)}catch(g){tn(t,t.return,g)}}break;case 1:js(e,t),si(t),r&512&&n!==null&&pc(n,n.return);break;case 5:if(js(e,t),si(t),r&512&&n!==null&&pc(n,n.return),t.flags&32){var s=t.stateNode;try{uf(s,"")}catch(g){tn(t,t.return,g)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=n!==null?n.memoizedProps:i,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&rP(s,i),Zx(a,o);var c=Zx(a,i);for(o=0;o<l.length;o+=2){var u=l[o],d=l[o+1];u==="style"?lP(s,d):u==="dangerouslySetInnerHTML"?oP(s,d):u==="children"?uf(s,d):ES(s,u,d,c)}switch(a){case"input":Kx(s,i);break;case"textarea":sP(s,i);break;case"select":var f=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var p=i.value;p!=null?Ac(s,!!i.multiple,p,!1):f!==!!i.multiple&&(i.defaultValue!=null?Ac(s,!!i.multiple,i.defaultValue,!0):Ac(s,!!i.multiple,i.multiple?[]:"",!1))}s[xf]=i}catch(g){tn(t,t.return,g)}}break;case 6:if(js(e,t),si(t),r&4){if(t.stateNode===null)throw Error(le(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(g){tn(t,t.return,g)}}break;case 3:if(js(e,t),si(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{pf(e.containerInfo)}catch(g){tn(t,t.return,g)}break;case 4:js(e,t),si(t);break;case 13:js(e,t),si(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(rw=ln())),r&4&&L2(t);break;case 22:if(u=n!==null&&n.memoizedState!==null,t.mode&1?(Qn=(c=Qn)||u,js(e,t),Qn=c):js(e,t),si(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!u&&t.mode&1)for(ye=t,u=t.child;u!==null;){for(d=ye=u;ye!==null;){switch(f=ye,p=f.child,f.tag){case 0:case 11:case 14:case 15:Bd(4,f,f.return);break;case 1:pc(f,f.return);var m=f.stateNode;if(typeof m.componentWillUnmount=="function"){r=f,n=f.return;try{e=r,m.props=e.memoizedProps,m.state=e.memoizedState,m.componentWillUnmount()}catch(g){tn(r,n,g)}}break;case 5:pc(f,f.return);break;case 22:if(f.memoizedState!==null){I2(d);continue}}p!==null?(p.return=f,ye=p):I2(d)}u=u.sibling}e:for(u=null,d=t;;){if(d.tag===5){if(u===null){u=d;try{s=d.stateNode,c?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=d.stateNode,l=d.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=aP("display",o))}catch(g){tn(t,t.return,g)}}}else if(d.tag===6){if(u===null)try{d.stateNode.nodeValue=c?"":d.memoizedProps}catch(g){tn(t,t.return,g)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;u===d&&(u=null),d=d.return}u===d&&(u=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:js(e,t),si(t),r&4&&L2(t);break;case 21:break;default:js(e,t),si(t)}}function si(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(DI(n)){var r=n;break e}n=n.return}throw Error(le(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(uf(s,""),r.flags&=-33);var i=_2(t);Rb(t,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,a=_2(t);Ab(t,a,o);break;default:throw Error(le(161))}}catch(l){tn(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function rB(t,e,n){ye=t,FI(t)}function FI(t,e,n){for(var r=(t.mode&1)!==0;ye!==null;){var s=ye,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||Zh;if(!o){var a=s.alternate,l=a!==null&&a.memoizedState!==null||Qn;a=Zh;var c=Qn;if(Zh=o,(Qn=l)&&!c)for(ye=s;ye!==null;)o=ye,l=o.child,o.tag===22&&o.memoizedState!==null?D2(s):l!==null?(l.return=o,ye=l):D2(s);for(;i!==null;)ye=i,FI(i),i=i.sibling;ye=s,Zh=a,Qn=c}P2(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,ye=i):P2(t)}}function P2(t){for(;ye!==null;){var e=ye;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Qn||f0(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Qn)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:Vs(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&m2(e,i,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}m2(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var d=u.dehydrated;d!==null&&pf(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(le(163))}Qn||e.flags&512&&kb(e)}catch(f){tn(e,e.return,f)}}if(e===t){ye=null;break}if(n=e.sibling,n!==null){n.return=e.return,ye=n;break}ye=e.return}}function I2(t){for(;ye!==null;){var e=ye;if(e===t){ye=null;break}var n=e.sibling;if(n!==null){n.return=e.return,ye=n;break}ye=e.return}}function D2(t){for(;ye!==null;){var e=ye;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{f0(4,e)}catch(l){tn(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(l){tn(e,s,l)}}var i=e.return;try{kb(e)}catch(l){tn(e,i,l)}break;case 5:var o=e.return;try{kb(e)}catch(l){tn(e,o,l)}}}catch(l){tn(e,e.return,l)}if(e===t){ye=null;break}var a=e.sibling;if(a!==null){a.return=e.return,ye=a;break}ye=e.return}}var sB=Math.ceil,og=yo.ReactCurrentDispatcher,tw=yo.ReactCurrentOwner,Ss=yo.ReactCurrentBatchConfig,st=0,In=null,gn=null,zn=0,Ur=0,mc=da(0),En=0,Cf=null,yl=0,h0=0,nw=0,$d=null,br=null,rw=0,Jc=1/0,Wi=null,ag=!1,_b=null,Zo=null,Jh=!1,Vo=null,lg=0,zd=0,Lb=null,tm=-1,nm=0;function ur(){return st&6?ln():tm!==-1?tm:tm=ln()}function Jo(t){return t.mode&1?st&2&&zn!==0?zn&-zn:zj.transition!==null?(nm===0&&(nm=bP()),nm):(t=yt,t!==0||(t=window.event,t=t===void 0?16:AP(t.type)),t):1}function Qs(t,e,n,r){if(50<zd)throw zd=0,Lb=null,Error(le(185));ah(t,n,r),(!(st&2)||t!==In)&&(t===In&&(!(st&2)&&(h0|=n),En===4&&$o(t,zn)),Ar(t,r),n===1&&st===0&&!(e.mode&1)&&(Jc=ln()+500,c0&&fa()))}function Ar(t,e){var n=t.callbackNode;z6(t,e);var r=Hm(t,t===In?zn:0);if(r===0)n!==null&&UE(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&UE(n),e===1)t.tag===0?$j(M2.bind(null,t)):GP(M2.bind(null,t)),Fj(function(){!(st&6)&&fa()}),n=null;else{switch(SP(r)){case 1:n=_S;break;case 4:n=vP;break;case 16:n=Wm;break;case 536870912:n=xP;break;default:n=Wm}n=WI(n,NI.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function NI(t,e){if(tm=-1,nm=0,st&6)throw Error(le(327));var n=t.callbackNode;if(Ic()&&t.callbackNode!==n)return null;var r=Hm(t,t===In?zn:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=cg(t,r);else{e=r;var s=st;st|=2;var i=BI();(In!==t||zn!==e)&&(Wi=null,Jc=ln()+500,nl(t,e));do try{aB();break}catch(a){jI(t,a)}while(!0);US(),og.current=i,st=s,gn!==null?e=0:(In=null,zn=0,e=En)}if(e!==0){if(e===2&&(s=rb(t),s!==0&&(r=s,e=Pb(t,s))),e===1)throw n=Cf,nl(t,0),$o(t,r),Ar(t,ln()),n;if(e===6)$o(t,r);else{if(s=t.current.alternate,!(r&30)&&!iB(s)&&(e=cg(t,r),e===2&&(i=rb(t),i!==0&&(r=i,e=Pb(t,i))),e===1))throw n=Cf,nl(t,0),$o(t,r),Ar(t,ln()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(le(345));case 2:Ma(t,br,Wi);break;case 3:if($o(t,r),(r&130023424)===r&&(e=rw+500-ln(),10<e)){if(Hm(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){ur(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=db(Ma.bind(null,t,br,Wi),e);break}Ma(t,br,Wi);break;case 4:if($o(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var o=31-Xs(r);i=1<<o,o=e[o],o>s&&(s=o),r&=~i}if(r=s,r=ln()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*sB(r/1960))-r,10<r){t.timeoutHandle=db(Ma.bind(null,t,br,Wi),r);break}Ma(t,br,Wi);break;case 5:Ma(t,br,Wi);break;default:throw Error(le(329))}}}return Ar(t,ln()),t.callbackNode===n?NI.bind(null,t):null}function Pb(t,e){var n=$d;return t.current.memoizedState.isDehydrated&&(nl(t,e).flags|=256),t=cg(t,e),t!==2&&(e=br,br=n,e!==null&&Ib(e)),t}function Ib(t){br===null?br=t:br.push.apply(br,t)}function iB(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!Js(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function $o(t,e){for(e&=~nw,e&=~h0,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Xs(e),r=1<<n;t[n]=-1,e&=~r}}function M2(t){if(st&6)throw Error(le(327));Ic();var e=Hm(t,0);if(!(e&1))return Ar(t,ln()),null;var n=cg(t,e);if(t.tag!==0&&n===2){var r=rb(t);r!==0&&(e=r,n=Pb(t,r))}if(n===1)throw n=Cf,nl(t,0),$o(t,e),Ar(t,ln()),n;if(n===6)throw Error(le(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Ma(t,br,Wi),Ar(t,ln()),null}function sw(t,e){var n=st;st|=1;try{return t(e)}finally{st=n,st===0&&(Jc=ln()+500,c0&&fa())}}function vl(t){Vo!==null&&Vo.tag===0&&!(st&6)&&Ic();var e=st;st|=1;var n=Ss.transition,r=yt;try{if(Ss.transition=null,yt=1,t)return t()}finally{yt=r,Ss.transition=n,st=e,!(st&6)&&fa()}}function iw(){Ur=mc.current,Ft(mc)}function nl(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,Oj(n)),gn!==null)for(n=gn.return;n!==null;){var r=n;switch(BS(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Xm();break;case 3:Qc(),Ft(Cr),Ft(tr),YS();break;case 5:KS(r);break;case 4:Qc();break;case 13:Ft(Kt);break;case 19:Ft(Kt);break;case 10:VS(r.type._context);break;case 22:case 23:iw()}n=n.return}if(In=t,gn=t=ea(t.current,null),zn=Ur=e,En=0,Cf=null,nw=h0=yl=0,br=$d=null,Ha!==null){for(e=0;e<Ha.length;e++)if(n=Ha[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}Ha=null}return t}function jI(t,e){do{var n=gn;try{if(US(),Zp.current=ig,sg){for(var r=Xt.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}sg=!1}if(gl=0,_n=Tn=Xt=null,jd=!1,wf=0,tw.current=null,n===null||n.return===null){En=1,Cf=e,gn=null;break}e:{var i=t,o=n.return,a=n,l=e;if(e=zn,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=a,d=u.tag;if(!(u.mode&1)&&(d===0||d===11||d===15)){var f=u.alternate;f?(u.updateQueue=f.updateQueue,u.memoizedState=f.memoizedState,u.lanes=f.lanes):(u.updateQueue=null,u.memoizedState=null)}var p=S2(o);if(p!==null){p.flags&=-257,w2(p,o,a,i,e),p.mode&1&&b2(i,c,e),e=p,l=c;var m=e.updateQueue;if(m===null){var g=new Set;g.add(l),e.updateQueue=g}else m.add(l);break e}else{if(!(e&1)){b2(i,c,e),ow();break e}l=Error(le(426))}}else if(Wt&&a.mode&1){var y=S2(o);if(y!==null){!(y.flags&65536)&&(y.flags|=256),w2(y,o,a,i,e),$S(Zc(l,a));break e}}i=l=Zc(l,a),En!==4&&(En=2),$d===null?$d=[i]:$d.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var x=SI(i,l,e);p2(i,x);break e;case 1:a=l;var v=i.type,b=i.stateNode;if(!(i.flags&128)&&(typeof v.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(Zo===null||!Zo.has(b)))){i.flags|=65536,e&=-e,i.lanes|=e;var w=wI(i,a,e);p2(i,w);break e}}i=i.return}while(i!==null)}zI(n)}catch(T){e=T,gn===n&&n!==null&&(gn=n=n.return);continue}break}while(!0)}function BI(){var t=og.current;return og.current=ig,t===null?ig:t}function ow(){(En===0||En===3||En===2)&&(En=4),In===null||!(yl&268435455)&&!(h0&268435455)||$o(In,zn)}function cg(t,e){var n=st;st|=2;var r=BI();(In!==t||zn!==e)&&(Wi=null,nl(t,e));do try{oB();break}catch(s){jI(t,s)}while(!0);if(US(),st=n,og.current=r,gn!==null)throw Error(le(261));return In=null,zn=0,En}function oB(){for(;gn!==null;)$I(gn)}function aB(){for(;gn!==null&&!I6();)$I(gn)}function $I(t){var e=VI(t.alternate,t,Ur);t.memoizedProps=t.pendingProps,e===null?zI(t):gn=e,tw.current=null}function zI(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=eB(n,e),n!==null){n.flags&=32767,gn=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{En=6,gn=null;return}}else if(n=Jj(n,e,Ur),n!==null){gn=n;return}if(e=e.sibling,e!==null){gn=e;return}gn=e=t}while(e!==null);En===0&&(En=5)}function Ma(t,e,n){var r=yt,s=Ss.transition;try{Ss.transition=null,yt=1,lB(t,e,n,r)}finally{Ss.transition=s,yt=r}return null}function lB(t,e,n,r){do Ic();while(Vo!==null);if(st&6)throw Error(le(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(le(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(U6(t,i),t===In&&(gn=In=null,zn=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Jh||(Jh=!0,WI(Wm,function(){return Ic(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=Ss.transition,Ss.transition=null;var o=yt;yt=1;var a=st;st|=4,tw.current=null,nB(t,n),OI(n,t),Rj(cb),Gm=!!lb,cb=lb=null,t.current=n,rB(n),D6(),st=a,yt=o,Ss.transition=i}else t.current=n;if(Jh&&(Jh=!1,Vo=t,lg=s),i=t.pendingLanes,i===0&&(Zo=null),F6(n.stateNode),Ar(t,ln()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(ag)throw ag=!1,t=_b,_b=null,t;return lg&1&&t.tag!==0&&Ic(),i=t.pendingLanes,i&1?t===Lb?zd++:(zd=0,Lb=t):zd=0,fa(),null}function Ic(){if(Vo!==null){var t=SP(lg),e=Ss.transition,n=yt;try{if(Ss.transition=null,yt=16>t?16:t,Vo===null)var r=!1;else{if(t=Vo,Vo=null,lg=0,st&6)throw Error(le(331));var s=st;for(st|=4,ye=t.current;ye!==null;){var i=ye,o=i.child;if(ye.flags&16){var a=i.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(ye=c;ye!==null;){var u=ye;switch(u.tag){case 0:case 11:case 15:Bd(8,u,i)}var d=u.child;if(d!==null)d.return=u,ye=d;else for(;ye!==null;){u=ye;var f=u.sibling,p=u.return;if(II(u),u===c){ye=null;break}if(f!==null){f.return=p,ye=f;break}ye=p}}}var m=i.alternate;if(m!==null){var g=m.child;if(g!==null){m.child=null;do{var y=g.sibling;g.sibling=null,g=y}while(g!==null)}}ye=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,ye=o;else e:for(;ye!==null;){if(i=ye,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Bd(9,i,i.return)}var x=i.sibling;if(x!==null){x.return=i.return,ye=x;break e}ye=i.return}}var v=t.current;for(ye=v;ye!==null;){o=ye;var b=o.child;if(o.subtreeFlags&2064&&b!==null)b.return=o,ye=b;else e:for(o=v;ye!==null;){if(a=ye,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:f0(9,a)}}catch(T){tn(a,a.return,T)}if(a===o){ye=null;break e}var w=a.sibling;if(w!==null){w.return=a.return,ye=w;break e}ye=a.return}}if(st=s,fa(),wi&&typeof wi.onPostCommitFiberRoot=="function")try{wi.onPostCommitFiberRoot(s0,t)}catch{}r=!0}return r}finally{yt=n,Ss.transition=e}}return!1}function O2(t,e,n){e=Zc(n,e),e=SI(t,e,1),t=Qo(t,e,1),e=ur(),t!==null&&(ah(t,1,e),Ar(t,e))}function tn(t,e,n){if(t.tag===3)O2(t,t,n);else for(;e!==null;){if(e.tag===3){O2(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Zo===null||!Zo.has(r))){t=Zc(n,t),t=wI(e,t,1),e=Qo(e,t,1),t=ur(),e!==null&&(ah(e,1,t),Ar(e,t));break}}e=e.return}}function cB(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=ur(),t.pingedLanes|=t.suspendedLanes&n,In===t&&(zn&n)===n&&(En===4||En===3&&(zn&130023424)===zn&&500>ln()-rw?nl(t,0):nw|=n),Ar(t,e)}function UI(t,e){e===0&&(t.mode&1?(e=Vh,Vh<<=1,!(Vh&130023424)&&(Vh=4194304)):e=1);var n=ur();t=fo(t,e),t!==null&&(ah(t,e,n),Ar(t,n))}function uB(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),UI(t,n)}function dB(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(le(314))}r!==null&&r.delete(e),UI(t,n)}var VI;VI=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Cr.current)Er=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Er=!1,Zj(t,e,n);Er=!!(t.flags&131072)}else Er=!1,Wt&&e.flags&1048576&&KP(e,Jm,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;em(t,e),t=e.pendingProps;var s=Yc(e,tr.current);Pc(e,n),s=XS(null,e,r,t,s,n);var i=QS();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,kr(r)?(i=!0,Qm(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,HS(e),s.updater=d0,e.stateNode=s,s._reactInternals=e,vb(e,r,t,n),e=Sb(null,e,r,!0,i,n)):(e.tag=0,Wt&&i&&jS(e),ar(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(em(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=hB(r),t=Vs(r,t),s){case 0:e=bb(null,e,r,t,n);break e;case 1:e=C2(null,e,r,t,n);break e;case 11:e=T2(null,e,r,t,n);break e;case 14:e=E2(null,e,r,Vs(r.type,t),n);break e}throw Error(le(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Vs(r,s),bb(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Vs(r,s),C2(t,e,r,s,n);case 3:e:{if(kI(e),t===null)throw Error(le(387));r=e.pendingProps,i=e.memoizedState,s=i.element,JP(t,e),ng(e,r,null,n);var o=e.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=Zc(Error(le(423)),e),e=k2(t,e,r,n,s);break e}else if(r!==s){s=Zc(Error(le(424)),e),e=k2(t,e,r,n,s);break e}else for(Hr=Xo(e.stateNode.containerInfo.firstChild),Kr=e,Wt=!0,Gs=null,n=QP(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(qc(),r===s){e=ho(t,e,n);break e}ar(t,e,r,n)}e=e.child}return e;case 5:return eI(e),t===null&&mb(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,ub(r,s)?o=null:i!==null&&ub(r,i)&&(e.flags|=32),CI(t,e),ar(t,e,o,n),e.child;case 6:return t===null&&mb(e),null;case 13:return AI(t,e,n);case 4:return GS(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Xc(e,null,r,n):ar(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Vs(r,s),T2(t,e,r,s,n);case 7:return ar(t,e,e.pendingProps,n),e.child;case 8:return ar(t,e,e.pendingProps.children,n),e.child;case 12:return ar(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,Rt(eg,r._currentValue),r._currentValue=o,i!==null)if(Js(i.value,o)){if(i.children===s.children&&!Cr.current){e=ho(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(i.tag===1){l=so(-1,n&-n),l.tag=2;var c=i.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}i.lanes|=n,l=i.alternate,l!==null&&(l.lanes|=n),gb(i.return,n,e),a.lanes|=n;break}l=l.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(le(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),gb(o,n,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}ar(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,Pc(e,n),s=Ts(s),r=r(s),e.flags|=1,ar(t,e,r,n),e.child;case 14:return r=e.type,s=Vs(r,e.pendingProps),s=Vs(r.type,s),E2(t,e,r,s,n);case 15:return TI(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Vs(r,s),em(t,e),e.tag=1,kr(r)?(t=!0,Qm(e)):t=!1,Pc(e,n),bI(e,r,s),vb(e,r,s,n),Sb(null,e,r,!0,t,n);case 19:return RI(t,e,n);case 22:return EI(t,e,n)}throw Error(le(156,e.tag))};function WI(t,e){return yP(t,e)}function fB(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ys(t,e,n,r){return new fB(t,e,n,r)}function aw(t){return t=t.prototype,!(!t||!t.isReactComponent)}function hB(t){if(typeof t=="function")return aw(t)?1:0;if(t!=null){if(t=t.$$typeof,t===kS)return 11;if(t===AS)return 14}return 2}function ea(t,e){var n=t.alternate;return n===null?(n=ys(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function rm(t,e,n,r,s,i){var o=2;if(r=t,typeof t=="function")aw(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case ic:return rl(n.children,s,i,e);case CS:o=8,s|=8;break;case Ux:return t=ys(12,n,e,s|2),t.elementType=Ux,t.lanes=i,t;case Vx:return t=ys(13,n,e,s),t.elementType=Vx,t.lanes=i,t;case Wx:return t=ys(19,n,e,s),t.elementType=Wx,t.lanes=i,t;case eP:return p0(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case ZL:o=10;break e;case JL:o=9;break e;case kS:o=11;break e;case AS:o=14;break e;case Mo:o=16,r=null;break e}throw Error(le(130,t==null?t:typeof t,""))}return e=ys(o,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function rl(t,e,n,r){return t=ys(7,t,r,e),t.lanes=n,t}function p0(t,e,n,r){return t=ys(22,t,r,e),t.elementType=eP,t.lanes=n,t.stateNode={isHidden:!1},t}function nv(t,e,n){return t=ys(6,t,null,e),t.lanes=n,t}function rv(t,e,n){return e=ys(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function pB(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ny(0),this.expirationTimes=Ny(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ny(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function lw(t,e,n,r,s,i,o,a,l){return t=new pB(t,e,n,a,l),e===1?(e=1,i===!0&&(e|=8)):e=0,i=ys(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},HS(i),t}function mB(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:sc,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function HI(t){if(!t)return ia;t=t._reactInternals;e:{if(Ll(t)!==t||t.tag!==1)throw Error(le(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(kr(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(le(171))}if(t.tag===1){var n=t.type;if(kr(n))return HP(t,n,e)}return e}function GI(t,e,n,r,s,i,o,a,l){return t=lw(n,r,!0,t,s,i,o,a,l),t.context=HI(null),n=t.current,r=ur(),s=Jo(n),i=so(r,s),i.callback=e??null,Qo(n,i,s),t.current.lanes=s,ah(t,s,r),Ar(t,r),t}function m0(t,e,n,r){var s=e.current,i=ur(),o=Jo(s);return n=HI(n),e.context===null?e.context=n:e.pendingContext=n,e=so(i,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Qo(s,e,o),t!==null&&(Qs(t,s,o,i),Qp(t,s,o)),o}function ug(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function F2(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function cw(t,e){F2(t,e),(t=t.alternate)&&F2(t,e)}function gB(){return null}var KI=typeof reportError=="function"?reportError:function(t){console.error(t)};function uw(t){this._internalRoot=t}g0.prototype.render=uw.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(le(409));m0(t,e,null,null)};g0.prototype.unmount=uw.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;vl(function(){m0(null,t,null,null)}),e[uo]=null}};function g0(t){this._internalRoot=t}g0.prototype.unstable_scheduleHydration=function(t){if(t){var e=EP();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Bo.length&&e!==0&&e<Bo[n].priority;n++);Bo.splice(n,0,t),n===0&&kP(t)}};function dw(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function y0(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function N2(){}function yB(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var c=ug(o);i.call(c)}}var o=GI(e,r,t,0,null,!1,!1,"",N2);return t._reactRootContainer=o,t[uo]=o.current,yf(t.nodeType===8?t.parentNode:t),vl(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var a=r;r=function(){var c=ug(l);a.call(c)}}var l=lw(t,0,!1,null,null,!1,!1,"",N2);return t._reactRootContainer=l,t[uo]=l.current,yf(t.nodeType===8?t.parentNode:t),vl(function(){m0(e,l,n,r)}),l}function v0(t,e,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var l=ug(o);a.call(l)}}m0(e,o,t,s)}else o=yB(n,e,t,s,r);return ug(o)}wP=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=md(e.pendingLanes);n!==0&&(LS(e,n|1),Ar(e,ln()),!(st&6)&&(Jc=ln()+500,fa()))}break;case 13:vl(function(){var r=fo(t,1);if(r!==null){var s=ur();Qs(r,t,1,s)}}),cw(t,1)}};PS=function(t){if(t.tag===13){var e=fo(t,134217728);if(e!==null){var n=ur();Qs(e,t,134217728,n)}cw(t,134217728)}};TP=function(t){if(t.tag===13){var e=Jo(t),n=fo(t,e);if(n!==null){var r=ur();Qs(n,t,e,r)}cw(t,e)}};EP=function(){return yt};CP=function(t,e){var n=yt;try{return yt=t,e()}finally{yt=n}};eb=function(t,e,n){switch(e){case"input":if(Kx(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=l0(r);if(!s)throw Error(le(90));nP(r),Kx(r,s)}}}break;case"textarea":sP(t,n);break;case"select":e=n.value,e!=null&&Ac(t,!!n.multiple,e,!1)}};dP=sw;fP=vl;var vB={usingClientEntryPoint:!1,Events:[ch,cc,l0,cP,uP,sw]},Ku={findFiberByHostInstance:Wa,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},xB={bundleType:Ku.bundleType,version:Ku.version,rendererPackageName:Ku.rendererPackageName,rendererConfig:Ku.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:yo.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=mP(t),t===null?null:t.stateNode},findFiberByHostInstance:Ku.findFiberByHostInstance||gB,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ep=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ep.isDisabled&&ep.supportsFiber)try{s0=ep.inject(xB),wi=ep}catch{}}ts.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=vB;ts.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!dw(e))throw Error(le(200));return mB(t,e,null,n)};ts.createRoot=function(t,e){if(!dw(t))throw Error(le(299));var n=!1,r="",s=KI;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=lw(t,1,!1,null,null,n,!1,r,s),t[uo]=e.current,yf(t.nodeType===8?t.parentNode:t),new uw(e)};ts.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(le(188)):(t=Object.keys(t).join(","),Error(le(268,t)));return t=mP(e),t=t===null?null:t.stateNode,t};ts.flushSync=function(t){return vl(t)};ts.hydrate=function(t,e,n){if(!y0(e))throw Error(le(200));return v0(null,t,e,!0,n)};ts.hydrateRoot=function(t,e,n){if(!dw(t))throw Error(le(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=KI;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=GI(e,null,t,1,n??null,s,!1,i,o),t[uo]=e.current,yf(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new g0(e)};ts.render=function(t,e,n){if(!y0(e))throw Error(le(200));return v0(null,t,e,!1,n)};ts.unmountComponentAtNode=function(t){if(!y0(t))throw Error(le(40));return t._reactRootContainer?(vl(function(){v0(null,null,t,!1,function(){t._reactRootContainer=null,t[uo]=null})}),!0):!1};ts.unstable_batchedUpdates=sw;ts.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!y0(n))throw Error(le(200));if(t==null||t._reactInternals===void 0)throw Error(le(38));return v0(t,e,n,!1,r)};ts.version="18.3.1-next-f1338f8080-20240426";function YI(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(YI)}catch(t){console.error(t)}}YI(),YL.exports=ts;var dh=YL.exports;const bB=ih(dh),SB=FL({__proto__:null,default:bB},[dh]);var j2=dh;$x.createRoot=j2.createRoot,$x.hydrateRoot=j2.hydrateRoot;/**
 * @remix-run/router v1.20.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Vt(){return Vt=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Vt.apply(this,arguments)}var pn;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(pn||(pn={}));const B2="popstate";function wB(t){t===void 0&&(t={});function e(r,s){let{pathname:i,search:o,hash:a}=r.location;return kf("",{pathname:i,search:o,hash:a},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:xl(s)}return EB(e,n,null,t)}function Ye(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function eu(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function TB(){return Math.random().toString(36).substr(2,8)}function $2(t,e){return{usr:t.state,key:t.key,idx:e}}function kf(t,e,n,r){return n===void 0&&(n=null),Vt({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?ha(e):e,{state:n,key:e&&e.key||r||TB()})}function xl(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function ha(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function EB(t,e,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:i=!1}=r,o=s.history,a=pn.Pop,l=null,c=u();c==null&&(c=0,o.replaceState(Vt({},o.state,{idx:c}),""));function u(){return(o.state||{idx:null}).idx}function d(){a=pn.Pop;let y=u(),x=y==null?null:y-c;c=y,l&&l({action:a,location:g.location,delta:x})}function f(y,x){a=pn.Push;let v=kf(g.location,y,x);c=u()+1;let b=$2(v,c),w=g.createHref(v);try{o.pushState(b,"",w)}catch(T){if(T instanceof DOMException&&T.name==="DataCloneError")throw T;s.location.assign(w)}i&&l&&l({action:a,location:g.location,delta:1})}function p(y,x){a=pn.Replace;let v=kf(g.location,y,x);c=u();let b=$2(v,c),w=g.createHref(v);o.replaceState(b,"",w),i&&l&&l({action:a,location:g.location,delta:0})}function m(y){let x=s.location.origin!=="null"?s.location.origin:s.location.href,v=typeof y=="string"?y:xl(y);return v=v.replace(/ $/,"%20"),Ye(x,"No window.location.(origin|href) available to create URL for href: "+v),new URL(v,x)}let g={get action(){return a},get location(){return t(s,o)},listen(y){if(l)throw new Error("A history only accepts one active listener");return s.addEventListener(B2,d),l=y,()=>{s.removeEventListener(B2,d),l=null}},createHref(y){return e(s,y)},createURL:m,encodeLocation(y){let x=m(y);return{pathname:x.pathname,search:x.search,hash:x.hash}},push:f,replace:p,go(y){return o.go(y)}};return g}var bt;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(bt||(bt={}));const CB=new Set(["lazy","caseSensitive","path","id","index","children"]);function kB(t){return t.index===!0}function dg(t,e,n,r){return n===void 0&&(n=[]),r===void 0&&(r={}),t.map((s,i)=>{let o=[...n,String(i)],a=typeof s.id=="string"?s.id:o.join("-");if(Ye(s.index!==!0||!s.children,"Cannot specify children on an index route"),Ye(!r[a],'Found a route id collision on id "'+a+`".  Route id's must be globally unique within Data Router usages`),kB(s)){let l=Vt({},s,e(s),{id:a});return r[a]=l,l}else{let l=Vt({},s,e(s),{id:a,children:void 0});return r[a]=l,s.children&&(l.children=dg(s.children,e,o,r)),l}})}function za(t,e,n){return n===void 0&&(n="/"),sm(t,e,n,!1)}function sm(t,e,n,r){let s=typeof e=="string"?ha(e):e,i=Eu(s.pathname||"/",n);if(i==null)return null;let o=qI(t);RB(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let c=BB(i);a=NB(o[l],c,r)}return a}function AB(t,e){let{route:n,pathname:r,params:s}=t;return{id:n.id,pathname:r,params:s,data:e[n.id],handle:n.handle}}function qI(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(i,o,a)=>{let l={relativePath:a===void 0?i.path||"":a,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};l.relativePath.startsWith("/")&&(Ye(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let c=io([r,l.relativePath]),u=n.concat(l);i.children&&i.children.length>0&&(Ye(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),qI(i.children,e,u,c)),!(i.path==null&&!i.index)&&e.push({path:c,score:OB(c,i.index),routesMeta:u})};return t.forEach((i,o)=>{var a;if(i.path===""||!((a=i.path)!=null&&a.includes("?")))s(i,o);else for(let l of XI(i.path))s(i,o,l)}),e}function XI(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let o=XI(r.join("/")),a=[];return a.push(...o.map(l=>l===""?i:[i,l].join("/"))),s&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function RB(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:FB(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const _B=/^:[\w-]+$/,LB=3,PB=2,IB=1,DB=10,MB=-2,z2=t=>t==="*";function OB(t,e){let n=t.split("/"),r=n.length;return n.some(z2)&&(r+=MB),e&&(r+=PB),n.filter(s=>!z2(s)).reduce((s,i)=>s+(_B.test(i)?LB:i===""?IB:DB),r)}function FB(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}function NB(t,e,n){n===void 0&&(n=!1);let{routesMeta:r}=t,s={},i="/",o=[];for(let a=0;a<r.length;++a){let l=r[a],c=a===r.length-1,u=i==="/"?e:e.slice(i.length)||"/",d=U2({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},u),f=l.route;if(!d&&c&&n&&!r[r.length-1].route.index&&(d=U2({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},u)),!d)return null;Object.assign(s,d.params),o.push({params:s,pathname:io([i,d.pathname]),pathnameBase:UB(io([i,d.pathnameBase])),route:f}),d.pathnameBase!=="/"&&(i=io([i,d.pathnameBase]))}return o}function U2(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=jB(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),a=s.slice(1);return{params:r.reduce((c,u,d)=>{let{paramName:f,isOptional:p}=u;if(f==="*"){let g=a[d]||"";o=i.slice(0,i.length-g.length).replace(/(.)\/+$/,"$1")}const m=a[d];return p&&!m?c[f]=void 0:c[f]=(m||"").replace(/%2F/g,"/"),c},{}),pathname:i,pathnameBase:o,pattern:t}}function jB(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),eu(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function BB(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return eu(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Eu(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function $B(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:s=""}=typeof t=="string"?ha(t):t;return{pathname:n?n.startsWith("/")?n:zB(n,e):e,search:VB(r),hash:WB(s)}}function zB(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function sv(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function QI(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function x0(t,e){let n=QI(t);return e?n.map((r,s)=>s===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function b0(t,e,n,r){r===void 0&&(r=!1);let s;typeof t=="string"?s=ha(t):(s=Vt({},t),Ye(!s.pathname||!s.pathname.includes("?"),sv("?","pathname","search",s)),Ye(!s.pathname||!s.pathname.includes("#"),sv("#","pathname","hash",s)),Ye(!s.search||!s.search.includes("#"),sv("#","search","hash",s)));let i=t===""||s.pathname==="",o=i?"/":s.pathname,a;if(o==null)a=n;else{let d=e.length-1;if(!r&&o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),d-=1;s.pathname=f.join("/")}a=d>=0?e[d]:"/"}let l=$B(s,a),c=o&&o!=="/"&&o.endsWith("/"),u=(i||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||u)&&(l.pathname+="/"),l}const io=t=>t.join("/").replace(/\/\/+/g,"/"),UB=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),VB=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,WB=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;class fg{constructor(e,n,r,s){s===void 0&&(s=!1),this.status=e,this.statusText=n||"",this.internal=s,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}}function S0(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const ZI=["post","put","patch","delete"],HB=new Set(ZI),GB=["get",...ZI],KB=new Set(GB),YB=new Set([301,302,303,307,308]),qB=new Set([307,308]),iv={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},XB={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Yu={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},fw=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,QB=t=>({hasErrorBoundary:!!t.hasErrorBoundary}),JI="remix-router-transitions";function ZB(t){const e=t.window?t.window:typeof window<"u"?window:void 0,n=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u",r=!n;Ye(t.routes.length>0,"You must provide a non-empty routes array to createRouter");let s;if(t.mapRouteProperties)s=t.mapRouteProperties;else if(t.detectErrorBoundary){let F=t.detectErrorBoundary;s=U=>({hasErrorBoundary:F(U)})}else s=QB;let i={},o=dg(t.routes,s,void 0,i),a,l=t.basename||"/",c=t.dataStrategy||n8,u=t.patchRoutesOnNavigation,d=Vt({v7_fetcherPersist:!1,v7_normalizeFormMethod:!1,v7_partialHydration:!1,v7_prependBasename:!1,v7_relativeSplatPath:!1,v7_skipActionErrorRevalidation:!1},t.future),f=null,p=new Set,m=null,g=null,y=null,x=t.hydrationData!=null,v=za(o,t.history.location,l),b=null;if(v==null&&!u){let F=xr(404,{pathname:t.history.location.pathname}),{matches:U,route:X}=J2(o);v=U,b={[X.id]:F}}v&&!t.hydrationData&&$l(v,o,t.history.location.pathname).active&&(v=null);let w;if(v)if(v.some(F=>F.route.lazy))w=!1;else if(!v.some(F=>F.route.loader))w=!0;else if(d.v7_partialHydration){let F=t.hydrationData?t.hydrationData.loaderData:null,U=t.hydrationData?t.hydrationData.errors:null;if(U){let X=v.findIndex(ie=>U[ie.route.id]!==void 0);w=v.slice(0,X+1).every(ie=>!Mb(ie.route,F,U))}else w=v.every(X=>!Mb(X.route,F,U))}else w=t.hydrationData!=null;else if(w=!1,v=[],d.v7_partialHydration){let F=$l(null,o,t.history.location.pathname);F.active&&F.matches&&(v=F.matches)}let T,C={historyAction:t.history.action,location:t.history.location,matches:v,initialized:w,navigation:iv,restoreScrollPosition:t.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:t.hydrationData&&t.hydrationData.loaderData||{},actionData:t.hydrationData&&t.hydrationData.actionData||null,errors:t.hydrationData&&t.hydrationData.errors||b,fetchers:new Map,blockers:new Map},E=pn.Pop,k=!1,A,R=!1,L=new Map,D=null,M=!1,B=!1,V=[],O=new Set,I=new Map,N=0,j=-1,K=new Map,te=new Set,ne=new Map,q=new Map,ee=new Set,ce=new Map,Y=new Map,ue;function Ae(){if(f=t.history.listen(F=>{let{action:U,location:X,delta:ie}=F;if(ue){ue(),ue=void 0;return}eu(Y.size===0||ie!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let me=wa({currentLocation:C.location,nextLocation:X,historyAction:U});if(me&&ie!=null){let we=new Promise(Ne=>{ue=Ne});t.history.go(ie*-1),Br(me,{state:"blocked",location:X,proceed(){Br(me,{state:"proceeding",proceed:void 0,reset:void 0,location:X}),we.then(()=>t.history.go(ie))},reset(){let Ne=new Map(C.blockers);Ne.set(me,Yu),Fe({blockers:Ne})}});return}return Ce(U,X)}),n){g8(e,L);let F=()=>y8(e,L);e.addEventListener("pagehide",F),D=()=>e.removeEventListener("pagehide",F)}return C.initialized||Ce(pn.Pop,C.location,{initialHydration:!0}),T}function Ge(){f&&f(),D&&D(),p.clear(),A&&A.abort(),C.fetchers.forEach((F,U)=>pe(U)),C.blockers.forEach((F,U)=>So(U))}function it(F){return p.add(F),()=>p.delete(F)}function Fe(F,U){U===void 0&&(U={}),C=Vt({},C,F);let X=[],ie=[];d.v7_fetcherPersist&&C.fetchers.forEach((me,we)=>{me.state==="idle"&&(ee.has(we)?ie.push(we):X.push(we))}),[...p].forEach(me=>me(C,{deletedFetchers:ie,viewTransitionOpts:U.viewTransitionOpts,flushSync:U.flushSync===!0})),d.v7_fetcherPersist&&(X.forEach(me=>C.fetchers.delete(me)),ie.forEach(me=>pe(me)))}function je(F,U,X){var ie,me;let{flushSync:we}=X===void 0?{}:X,Ne=C.actionData!=null&&C.navigation.formMethod!=null&&Hs(C.navigation.formMethod)&&C.navigation.state==="loading"&&((ie=F.state)==null?void 0:ie._isRedirect)!==!0,be;U.actionData?Object.keys(U.actionData).length>0?be=U.actionData:be=null:Ne?be=C.actionData:be=null;let Se=U.loaderData?Q2(C.loaderData,U.loaderData,U.matches||[],U.errors):C.loaderData,ge=C.blockers;ge.size>0&&(ge=new Map(ge),ge.forEach((Xe,bn)=>ge.set(bn,Yu)));let ke=k===!0||C.navigation.formMethod!=null&&Hs(C.navigation.formMethod)&&((me=F.state)==null?void 0:me._isRedirect)!==!0;a&&(o=a,a=void 0),M||E===pn.Pop||(E===pn.Push?t.history.push(F,F.state):E===pn.Replace&&t.history.replace(F,F.state));let $e;if(E===pn.Pop){let Xe=L.get(C.location.pathname);Xe&&Xe.has(F.pathname)?$e={currentLocation:C.location,nextLocation:F}:L.has(F.pathname)&&($e={currentLocation:F,nextLocation:C.location})}else if(R){let Xe=L.get(C.location.pathname);Xe?Xe.add(F.pathname):(Xe=new Set([F.pathname]),L.set(C.location.pathname,Xe)),$e={currentLocation:C.location,nextLocation:F}}Fe(Vt({},U,{actionData:be,loaderData:Se,historyAction:E,location:F,initialized:!0,navigation:iv,revalidation:"idle",restoreScrollPosition:Dh(F,U.matches||C.matches),preventScrollReset:ke,blockers:ge}),{viewTransitionOpts:$e,flushSync:we===!0}),E=pn.Pop,k=!1,R=!1,M=!1,B=!1,V=[]}async function Ke(F,U){if(typeof F=="number"){t.history.go(F);return}let X=Db(C.location,C.matches,l,d.v7_prependBasename,F,d.v7_relativeSplatPath,U==null?void 0:U.fromRouteId,U==null?void 0:U.relative),{path:ie,submission:me,error:we}=V2(d.v7_normalizeFormMethod,!1,X,U),Ne=C.location,be=kf(C.location,ie,U&&U.state);be=Vt({},be,t.history.encodeLocation(be));let Se=U&&U.replace!=null?U.replace:void 0,ge=pn.Push;Se===!0?ge=pn.Replace:Se===!1||me!=null&&Hs(me.formMethod)&&me.formAction===C.location.pathname+C.location.search&&(ge=pn.Replace);let ke=U&&"preventScrollReset"in U?U.preventScrollReset===!0:void 0,$e=(U&&U.flushSync)===!0,Xe=wa({currentLocation:Ne,nextLocation:be,historyAction:ge});if(Xe){Br(Xe,{state:"blocked",location:be,proceed(){Br(Xe,{state:"proceeding",proceed:void 0,reset:void 0,location:be}),Ke(F,U)},reset(){let bn=new Map(C.blockers);bn.set(Xe,Yu),Fe({blockers:bn})}});return}return await Ce(ge,be,{submission:me,pendingError:we,preventScrollReset:ke,replace:U&&U.replace,enableViewTransition:U&&U.viewTransition,flushSync:$e})}function Nt(){if(ni(),Fe({revalidation:"loading"}),C.navigation.state!=="submitting"){if(C.navigation.state==="idle"){Ce(C.historyAction,C.location,{startUninterruptedRevalidation:!0});return}Ce(E||C.historyAction,C.navigation.location,{overrideNavigation:C.navigation,enableViewTransition:R===!0})}}async function Ce(F,U,X){A&&A.abort(),A=null,E=F,M=(X&&X.startUninterruptedRevalidation)===!0,Sy(C.location,C.matches),k=(X&&X.preventScrollReset)===!0,R=(X&&X.enableViewTransition)===!0;let ie=a||o,me=X&&X.overrideNavigation,we=za(ie,U,l),Ne=(X&&X.flushSync)===!0,be=$l(we,ie,U.pathname);if(be.active&&be.matches&&(we=be.matches),!we){let{error:xt,notFoundMatches:nt,route:jt}=Bl(U.pathname);je(U,{matches:nt,loaderData:{},errors:{[jt.id]:xt}},{flushSync:Ne});return}if(C.initialized&&!B&&l8(C.location,U)&&!(X&&X.submission&&Hs(X.submission.formMethod))){je(U,{matches:we},{flushSync:Ne});return}A=new AbortController;let Se=Wl(t.history,U,A.signal,X&&X.submission),ge;if(X&&X.pendingError)ge=[Ua(we).route.id,{type:bt.error,error:X.pendingError}];else if(X&&X.submission&&Hs(X.submission.formMethod)){let xt=await ot(Se,U,X.submission,we,be.active,{replace:X.replace,flushSync:Ne});if(xt.shortCircuited)return;if(xt.pendingActionResult){let[nt,jt]=xt.pendingActionResult;if(Vr(jt)&&S0(jt.error)&&jt.error.status===404){A=null,je(U,{matches:xt.matches,loaderData:{},errors:{[nt]:jt.error}});return}}we=xt.matches||we,ge=xt.pendingActionResult,me=ov(U,X.submission),Ne=!1,be.active=!1,Se=Wl(t.history,Se.url,Se.signal)}let{shortCircuited:ke,matches:$e,loaderData:Xe,errors:bn}=await wt(Se,U,we,be.active,me,X&&X.submission,X&&X.fetcherSubmission,X&&X.replace,X&&X.initialHydration===!0,Ne,ge);ke||(A=null,je(U,Vt({matches:$e||we},Z2(ge),{loaderData:Xe,errors:bn})))}async function ot(F,U,X,ie,me,we){we===void 0&&(we={}),ni();let Ne=p8(U,X);if(Fe({navigation:Ne},{flushSync:we.flushSync===!0}),me){let ge=await zl(ie,U.pathname,F.signal);if(ge.type==="aborted")return{shortCircuited:!0};if(ge.type==="error"){let ke=Ua(ge.partialMatches).route.id;return{matches:ge.partialMatches,pendingActionResult:[ke,{type:bt.error,error:ge.error}]}}else if(ge.matches)ie=ge.matches;else{let{notFoundMatches:ke,error:$e,route:Xe}=Bl(U.pathname);return{matches:ke,pendingActionResult:[Xe.id,{type:bt.error,error:$e}]}}}let be,Se=yd(ie,U);if(!Se.route.action&&!Se.route.lazy)be={type:bt.error,error:xr(405,{method:F.method,pathname:U.pathname,routeId:Se.route.id})};else if(be=(await mr("action",C,F,[Se],ie,null))[Se.route.id],F.signal.aborted)return{shortCircuited:!0};if(Ka(be)){let ge;return we&&we.replace!=null?ge=we.replace:ge=Y2(be.response.headers.get("Location"),new URL(F.url),l)===C.location.pathname+C.location.search,await on(F,be,!0,{submission:X,replace:ge}),{shortCircuited:!0}}if(Wo(be))throw xr(400,{type:"defer-action"});if(Vr(be)){let ge=Ua(ie,Se.route.id);return(we&&we.replace)!==!0&&(E=pn.Push),{matches:ie,pendingActionResult:[ge.route.id,be]}}return{matches:ie,pendingActionResult:[Se.route.id,be]}}async function wt(F,U,X,ie,me,we,Ne,be,Se,ge,ke){let $e=me||ov(U,we),Xe=we||Ne||tC($e),bn=!M&&(!d.v7_partialHydration||!Se);if(ie){if(bn){let Bt=sn(ke);Fe(Vt({navigation:$e},Bt!==void 0?{actionData:Bt}:{}),{flushSync:ge})}let Ze=await zl(X,U.pathname,F.signal);if(Ze.type==="aborted")return{shortCircuited:!0};if(Ze.type==="error"){let Bt=Ua(Ze.partialMatches).route.id;return{matches:Ze.partialMatches,loaderData:{},errors:{[Bt]:Ze.error}}}else if(Ze.matches)X=Ze.matches;else{let{error:Bt,notFoundMatches:Ni,route:ka}=Bl(U.pathname);return{matches:Ni,loaderData:{},errors:{[ka.id]:Bt}}}}let xt=a||o,[nt,jt]=H2(t.history,C,X,Xe,U,d.v7_partialHydration&&Se===!0,d.v7_skipActionErrorRevalidation,B,V,O,ee,ne,te,xt,l,ke);if(Oi(Ze=>!(X&&X.some(Bt=>Bt.route.id===Ze))||nt&&nt.some(Bt=>Bt.route.id===Ze)),j=++N,nt.length===0&&jt.length===0){let Ze=Ms();return je(U,Vt({matches:X,loaderData:{},errors:ke&&Vr(ke[1])?{[ke[0]]:ke[1].error}:null},Z2(ke),Ze?{fetchers:new Map(C.fetchers)}:{}),{flushSync:ge}),{shortCircuited:!0}}if(bn){let Ze={};if(!ie){Ze.navigation=$e;let Bt=sn(ke);Bt!==void 0&&(Ze.actionData=Bt)}jt.length>0&&(Ze.fetchers=Wn(jt)),Fe(Ze,{flushSync:ge})}jt.forEach(Ze=>{xn(Ze.key),Ze.controller&&I.set(Ze.key,Ze.controller)});let wo=()=>jt.forEach(Ze=>xn(Ze.key));A&&A.signal.addEventListener("abort",wo);let{loaderResults:Fi,fetcherResults:Fs}=await ti(C,X,nt,jt,F);if(F.signal.aborted)return{shortCircuited:!0};A&&A.signal.removeEventListener("abort",wo),jt.forEach(Ze=>I.delete(Ze.key));let rr=tp(Fi);if(rr)return await on(F,rr.result,!0,{replace:be}),{shortCircuited:!0};if(rr=tp(Fs),rr)return te.add(rr.key),await on(F,rr.result,!0,{replace:be}),{shortCircuited:!0};let{loaderData:Ta,errors:Ea}=X2(C,X,Fi,ke,jt,Fs,ce);ce.forEach((Ze,Bt)=>{Ze.subscribe(Ni=>{(Ni||Ze.done)&&ce.delete(Bt)})}),d.v7_partialHydration&&Se&&C.errors&&(Ea=Vt({},C.errors,Ea));let is=Ms(),Ca=gr(j),Ul=is||Ca||jt.length>0;return Vt({matches:X,loaderData:Ta,errors:Ea},Ul?{fetchers:new Map(C.fetchers)}:{})}function sn(F){if(F&&!Vr(F[1]))return{[F[0]]:F[1].data};if(C.actionData)return Object.keys(C.actionData).length===0?null:C.actionData}function Wn(F){return F.forEach(U=>{let X=C.fetchers.get(U.key),ie=qu(void 0,X?X.data:void 0);C.fetchers.set(U.key,ie)}),new Map(C.fetchers)}function fn(F,U,X,ie){if(r)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");xn(F);let me=(ie&&ie.flushSync)===!0,we=a||o,Ne=Db(C.location,C.matches,l,d.v7_prependBasename,X,d.v7_relativeSplatPath,U,ie==null?void 0:ie.relative),be=za(we,Ne,l),Se=$l(be,we,Ne);if(Se.active&&Se.matches&&(be=Se.matches),!be){vn(F,U,xr(404,{pathname:Ne}),{flushSync:me});return}let{path:ge,submission:ke,error:$e}=V2(d.v7_normalizeFormMethod,!0,Ne,ie);if($e){vn(F,U,$e,{flushSync:me});return}let Xe=yd(be,ge),bn=(ie&&ie.preventScrollReset)===!0;if(ke&&Hs(ke.formMethod)){jr(F,U,ge,Xe,be,Se.active,me,bn,ke);return}ne.set(F,{routeId:U,path:ge}),ss(F,U,ge,Xe,be,Se.active,me,bn,ke)}async function jr(F,U,X,ie,me,we,Ne,be,Se){ni(),ne.delete(F);function ge(Jt){if(!Jt.route.action&&!Jt.route.lazy){let To=xr(405,{method:Se.formMethod,pathname:X,routeId:U});return vn(F,U,To,{flushSync:Ne}),!0}return!1}if(!we&&ge(ie))return;let ke=C.fetchers.get(F);nr(F,m8(Se,ke),{flushSync:Ne});let $e=new AbortController,Xe=Wl(t.history,X,$e.signal,Se);if(we){let Jt=await zl(me,X,Xe.signal);if(Jt.type==="aborted")return;if(Jt.type==="error"){vn(F,U,Jt.error,{flushSync:Ne});return}else if(Jt.matches){if(me=Jt.matches,ie=yd(me,X),ge(ie))return}else{vn(F,U,xr(404,{pathname:X}),{flushSync:Ne});return}}I.set(F,$e);let bn=N,nt=(await mr("action",C,Xe,[ie],me,F))[ie.route.id];if(Xe.signal.aborted){I.get(F)===$e&&I.delete(F);return}if(d.v7_fetcherPersist&&ee.has(F)){if(Ka(nt)||Vr(nt)){nr(F,Lo(void 0));return}}else{if(Ka(nt))if(I.delete(F),j>bn){nr(F,Lo(void 0));return}else return te.add(F),nr(F,qu(Se)),on(Xe,nt,!1,{fetcherSubmission:Se,preventScrollReset:be});if(Vr(nt)){vn(F,U,nt.error);return}}if(Wo(nt))throw xr(400,{type:"defer-action"});let jt=C.navigation.location||C.location,wo=Wl(t.history,jt,$e.signal),Fi=a||o,Fs=C.navigation.state!=="idle"?za(Fi,C.navigation.location,l):C.matches;Ye(Fs,"Didn't find any matches after fetcher action");let rr=++N;K.set(F,rr);let Ta=qu(Se,nt.data);C.fetchers.set(F,Ta);let[Ea,is]=H2(t.history,C,Fs,Se,jt,!1,d.v7_skipActionErrorRevalidation,B,V,O,ee,ne,te,Fi,l,[ie.route.id,nt]);is.filter(Jt=>Jt.key!==F).forEach(Jt=>{let To=Jt.key,Mh=C.fetchers.get(To),Ty=qu(void 0,Mh?Mh.data:void 0);C.fetchers.set(To,Ty),xn(To),Jt.controller&&I.set(To,Jt.controller)}),Fe({fetchers:new Map(C.fetchers)});let Ca=()=>is.forEach(Jt=>xn(Jt.key));$e.signal.addEventListener("abort",Ca);let{loaderResults:Ul,fetcherResults:Ze}=await ti(C,Fs,Ea,is,wo);if($e.signal.aborted)return;$e.signal.removeEventListener("abort",Ca),K.delete(F),I.delete(F),is.forEach(Jt=>I.delete(Jt.key));let Bt=tp(Ul);if(Bt)return on(wo,Bt.result,!1,{preventScrollReset:be});if(Bt=tp(Ze),Bt)return te.add(Bt.key),on(wo,Bt.result,!1,{preventScrollReset:be});let{loaderData:Ni,errors:ka}=X2(C,Fs,Ul,void 0,is,Ze,ce);if(C.fetchers.has(F)){let Jt=Lo(nt.data);C.fetchers.set(F,Jt)}gr(rr),C.navigation.state==="loading"&&rr>j?(Ye(E,"Expected pending action"),A&&A.abort(),je(C.navigation.location,{matches:Fs,loaderData:Ni,errors:ka,fetchers:new Map(C.fetchers)})):(Fe({errors:ka,loaderData:Q2(C.loaderData,Ni,Fs,ka),fetchers:new Map(C.fetchers)}),B=!1)}async function ss(F,U,X,ie,me,we,Ne,be,Se){let ge=C.fetchers.get(F);nr(F,qu(Se,ge?ge.data:void 0),{flushSync:Ne});let ke=new AbortController,$e=Wl(t.history,X,ke.signal);if(we){let nt=await zl(me,X,$e.signal);if(nt.type==="aborted")return;if(nt.type==="error"){vn(F,U,nt.error,{flushSync:Ne});return}else if(nt.matches)me=nt.matches,ie=yd(me,X);else{vn(F,U,xr(404,{pathname:X}),{flushSync:Ne});return}}I.set(F,ke);let Xe=N,xt=(await mr("loader",C,$e,[ie],me,F))[ie.route.id];if(Wo(xt)&&(xt=await hw(xt,$e.signal,!0)||xt),I.get(F)===ke&&I.delete(F),!$e.signal.aborted){if(ee.has(F)){nr(F,Lo(void 0));return}if(Ka(xt))if(j>Xe){nr(F,Lo(void 0));return}else{te.add(F),await on($e,xt,!1,{preventScrollReset:be});return}if(Vr(xt)){vn(F,U,xt.error);return}Ye(!Wo(xt),"Unhandled fetcher deferred data"),nr(F,Lo(xt.data))}}async function on(F,U,X,ie){let{submission:me,fetcherSubmission:we,preventScrollReset:Ne,replace:be}=ie===void 0?{}:ie;U.response.headers.has("X-Remix-Revalidate")&&(B=!0);let Se=U.response.headers.get("Location");Ye(Se,"Expected a Location header on the redirect Response"),Se=Y2(Se,new URL(F.url),l);let ge=kf(C.location,Se,{_isRedirect:!0});if(n){let nt=!1;if(U.response.headers.has("X-Remix-Reload-Document"))nt=!0;else if(fw.test(Se)){const jt=t.history.createURL(Se);nt=jt.origin!==e.location.origin||Eu(jt.pathname,l)==null}if(nt){be?e.location.replace(Se):e.location.assign(Se);return}}A=null;let ke=be===!0||U.response.headers.has("X-Remix-Replace")?pn.Replace:pn.Push,{formMethod:$e,formAction:Xe,formEncType:bn}=C.navigation;!me&&!we&&$e&&Xe&&bn&&(me=tC(C.navigation));let xt=me||we;if(qB.has(U.response.status)&&xt&&Hs(xt.formMethod))await Ce(ke,ge,{submission:Vt({},xt,{formAction:Se}),preventScrollReset:Ne||k,enableViewTransition:X?R:void 0});else{let nt=ov(ge,me);await Ce(ke,ge,{overrideNavigation:nt,fetcherSubmission:we,preventScrollReset:Ne||k,enableViewTransition:X?R:void 0})}}async function mr(F,U,X,ie,me,we){let Ne,be={};try{Ne=await r8(c,F,U,X,ie,me,we,i,s)}catch(Se){return ie.forEach(ge=>{be[ge.route.id]={type:bt.error,error:Se}}),be}for(let[Se,ge]of Object.entries(Ne))if(c8(ge)){let ke=ge.result;be[Se]={type:bt.redirect,response:o8(ke,X,Se,me,l,d.v7_relativeSplatPath)}}else be[Se]=await i8(ge);return be}async function ti(F,U,X,ie,me){let we=F.matches,Ne=mr("loader",F,me,X,U,null),be=Promise.all(ie.map(async ke=>{if(ke.matches&&ke.match&&ke.controller){let Xe=(await mr("loader",F,Wl(t.history,ke.path,ke.controller.signal),[ke.match],ke.matches,ke.key))[ke.match.route.id];return{[ke.key]:Xe}}else return Promise.resolve({[ke.key]:{type:bt.error,error:xr(404,{pathname:ke.path})}})})),Se=await Ne,ge=(await be).reduce((ke,$e)=>Object.assign(ke,$e),{});return await Promise.all([f8(U,Se,me.signal,we,F.loaderData),h8(U,ge,ie)]),{loaderResults:Se,fetcherResults:ge}}function ni(){B=!0,V.push(...Oi()),ne.forEach((F,U)=>{I.has(U)&&O.add(U),xn(U)})}function nr(F,U,X){X===void 0&&(X={}),C.fetchers.set(F,U),Fe({fetchers:new Map(C.fetchers)},{flushSync:(X&&X.flushSync)===!0})}function vn(F,U,X,ie){ie===void 0&&(ie={});let me=Ua(C.matches,U);pe(F),Fe({errors:{[me.route.id]:X},fetchers:new Map(C.fetchers)},{flushSync:(ie&&ie.flushSync)===!0})}function jl(F){return d.v7_fetcherPersist&&(q.set(F,(q.get(F)||0)+1),ee.has(F)&&ee.delete(F)),C.fetchers.get(F)||XB}function pe(F){let U=C.fetchers.get(F);I.has(F)&&!(U&&U.state==="loading"&&K.has(F))&&xn(F),ne.delete(F),K.delete(F),te.delete(F),ee.delete(F),O.delete(F),C.fetchers.delete(F)}function Ie(F){if(d.v7_fetcherPersist){let U=(q.get(F)||0)-1;U<=0?(q.delete(F),ee.add(F)):q.set(F,U)}else pe(F);Fe({fetchers:new Map(C.fetchers)})}function xn(F){let U=I.get(F);U&&(U.abort(),I.delete(F))}function Ds(F){for(let U of F){let X=jl(U),ie=Lo(X.data);C.fetchers.set(U,ie)}}function Ms(){let F=[],U=!1;for(let X of te){let ie=C.fetchers.get(X);Ye(ie,"Expected fetcher: "+X),ie.state==="loading"&&(te.delete(X),F.push(X),U=!0)}return Ds(F),U}function gr(F){let U=[];for(let[X,ie]of K)if(ie<F){let me=C.fetchers.get(X);Ye(me,"Expected fetcher: "+X),me.state==="loading"&&(xn(X),K.delete(X),U.push(X))}return Ds(U),U.length>0}function bo(F,U){let X=C.blockers.get(F)||Yu;return Y.get(F)!==U&&Y.set(F,U),X}function So(F){C.blockers.delete(F),Y.delete(F)}function Br(F,U){let X=C.blockers.get(F)||Yu;Ye(X.state==="unblocked"&&U.state==="blocked"||X.state==="blocked"&&U.state==="blocked"||X.state==="blocked"&&U.state==="proceeding"||X.state==="blocked"&&U.state==="unblocked"||X.state==="proceeding"&&U.state==="unblocked","Invalid blocker state transition: "+X.state+" -> "+U.state);let ie=new Map(C.blockers);ie.set(F,U),Fe({blockers:ie})}function wa(F){let{currentLocation:U,nextLocation:X,historyAction:ie}=F;if(Y.size===0)return;Y.size>1&&eu(!1,"A router only supports one blocker at a time");let me=Array.from(Y.entries()),[we,Ne]=me[me.length-1],be=C.blockers.get(we);if(!(be&&be.state==="proceeding")&&Ne({currentLocation:U,nextLocation:X,historyAction:ie}))return we}function Bl(F){let U=xr(404,{pathname:F}),X=a||o,{matches:ie,route:me}=J2(X);return Oi(),{notFoundMatches:ie,route:me,error:U}}function Oi(F){let U=[];return ce.forEach((X,ie)=>{(!F||F(ie))&&(X.cancel(),U.push(ie),ce.delete(ie))}),U}function by(F,U,X){if(m=F,y=U,g=X||null,!x&&C.navigation===iv){x=!0;let ie=Dh(C.location,C.matches);ie!=null&&Fe({restoreScrollPosition:ie})}return()=>{m=null,y=null,g=null}}function ri(F,U){return g&&g(F,U.map(ie=>AB(ie,C.loaderData)))||F.key}function Sy(F,U){if(m&&y){let X=ri(F,U);m[X]=y()}}function Dh(F,U){if(m){let X=ri(F,U),ie=m[X];if(typeof ie=="number")return ie}return null}function $l(F,U,X){if(u)if(F){if(Object.keys(F[0].params).length>0)return{active:!0,matches:sm(U,X,l,!0)}}else return{active:!0,matches:sm(U,X,l,!0)||[]};return{active:!1,matches:null}}async function zl(F,U,X){if(!u)return{type:"success",matches:F};let ie=F;for(;;){let me=a==null,we=a||o,Ne=i;try{await u({path:U,matches:ie,patch:(ge,ke)=>{X.aborted||K2(ge,ke,we,Ne,s)}})}catch(ge){return{type:"error",error:ge,partialMatches:ie}}finally{me&&!X.aborted&&(o=[...o])}if(X.aborted)return{type:"aborted"};let be=za(we,U,l);if(be)return{type:"success",matches:be};let Se=sm(we,U,l,!0);if(!Se||ie.length===Se.length&&ie.every((ge,ke)=>ge.route.id===Se[ke].route.id))return{type:"success",matches:null};ie=Se}}function wy(F){i={},a=dg(F,s,void 0,i)}function Os(F,U){let X=a==null;K2(F,U,a||o,i,s),X&&(o=[...o],Fe({}))}return T={get basename(){return l},get future(){return d},get state(){return C},get routes(){return o},get window(){return e},initialize:Ae,subscribe:it,enableScrollRestoration:by,navigate:Ke,fetch:fn,revalidate:Nt,createHref:F=>t.history.createHref(F),encodeLocation:F=>t.history.encodeLocation(F),getFetcher:jl,deleteFetcher:Ie,dispose:Ge,getBlocker:bo,deleteBlocker:So,patchRoutes:Os,_internalFetchControllers:I,_internalActiveDeferreds:ce,_internalSetRoutes:wy},T}function JB(t){return t!=null&&("formData"in t&&t.formData!=null||"body"in t&&t.body!==void 0)}function Db(t,e,n,r,s,i,o,a){let l,c;if(o){l=[];for(let d of e)if(l.push(d),d.route.id===o){c=d;break}}else l=e,c=e[e.length-1];let u=b0(s||".",x0(l,i),Eu(t.pathname,n)||t.pathname,a==="path");if(s==null&&(u.search=t.search,u.hash=t.hash),(s==null||s===""||s===".")&&c){let d=pw(u.search);if(c.route.index&&!d)u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index";else if(!c.route.index&&d){let f=new URLSearchParams(u.search),p=f.getAll("index");f.delete("index"),p.filter(g=>g).forEach(g=>f.append("index",g));let m=f.toString();u.search=m?"?"+m:""}}return r&&n!=="/"&&(u.pathname=u.pathname==="/"?n:io([n,u.pathname])),xl(u)}function V2(t,e,n,r){if(!r||!JB(r))return{path:n};if(r.formMethod&&!d8(r.formMethod))return{path:n,error:xr(405,{method:r.formMethod})};let s=()=>({path:n,error:xr(400,{type:"invalid-body"})}),i=r.formMethod||"get",o=t?i.toUpperCase():i.toLowerCase(),a=nD(n);if(r.body!==void 0){if(r.formEncType==="text/plain"){if(!Hs(o))return s();let f=typeof r.body=="string"?r.body:r.body instanceof FormData||r.body instanceof URLSearchParams?Array.from(r.body.entries()).reduce((p,m)=>{let[g,y]=m;return""+p+g+"="+y+`
`},""):String(r.body);return{path:n,submission:{formMethod:o,formAction:a,formEncType:r.formEncType,formData:void 0,json:void 0,text:f}}}else if(r.formEncType==="application/json"){if(!Hs(o))return s();try{let f=typeof r.body=="string"?JSON.parse(r.body):r.body;return{path:n,submission:{formMethod:o,formAction:a,formEncType:r.formEncType,formData:void 0,json:f,text:void 0}}}catch{return s()}}}Ye(typeof FormData=="function","FormData is not available in this environment");let l,c;if(r.formData)l=Ob(r.formData),c=r.formData;else if(r.body instanceof FormData)l=Ob(r.body),c=r.body;else if(r.body instanceof URLSearchParams)l=r.body,c=q2(l);else if(r.body==null)l=new URLSearchParams,c=new FormData;else try{l=new URLSearchParams(r.body),c=q2(l)}catch{return s()}let u={formMethod:o,formAction:a,formEncType:r&&r.formEncType||"application/x-www-form-urlencoded",formData:c,json:void 0,text:void 0};if(Hs(u.formMethod))return{path:n,submission:u};let d=ha(n);return e&&d.search&&pw(d.search)&&l.append("index",""),d.search="?"+l,{path:xl(d),submission:u}}function W2(t,e,n){n===void 0&&(n=!1);let r=t.findIndex(s=>s.route.id===e);return r>=0?t.slice(0,n?r+1:r):t}function H2(t,e,n,r,s,i,o,a,l,c,u,d,f,p,m,g){let y=g?Vr(g[1])?g[1].error:g[1].data:void 0,x=t.createURL(e.location),v=t.createURL(s),b=n;i&&e.errors?b=W2(n,Object.keys(e.errors)[0],!0):g&&Vr(g[1])&&(b=W2(n,g[0]));let w=g?g[1].statusCode:void 0,T=o&&w&&w>=400,C=b.filter((k,A)=>{let{route:R}=k;if(R.lazy)return!0;if(R.loader==null)return!1;if(i)return Mb(R,e.loaderData,e.errors);if(e8(e.loaderData,e.matches[A],k)||l.some(M=>M===k.route.id))return!0;let L=e.matches[A],D=k;return G2(k,Vt({currentUrl:x,currentParams:L.params,nextUrl:v,nextParams:D.params},r,{actionResult:y,actionStatus:w,defaultShouldRevalidate:T?!1:a||x.pathname+x.search===v.pathname+v.search||x.search!==v.search||eD(L,D)}))}),E=[];return d.forEach((k,A)=>{if(i||!n.some(B=>B.route.id===k.routeId)||u.has(A))return;let R=za(p,k.path,m);if(!R){E.push({key:A,routeId:k.routeId,path:k.path,matches:null,match:null,controller:null});return}let L=e.fetchers.get(A),D=yd(R,k.path),M=!1;f.has(A)?M=!1:c.has(A)?(c.delete(A),M=!0):L&&L.state!=="idle"&&L.data===void 0?M=a:M=G2(D,Vt({currentUrl:x,currentParams:e.matches[e.matches.length-1].params,nextUrl:v,nextParams:n[n.length-1].params},r,{actionResult:y,actionStatus:w,defaultShouldRevalidate:T?!1:a})),M&&E.push({key:A,routeId:k.routeId,path:k.path,matches:R,match:D,controller:new AbortController})}),[C,E]}function Mb(t,e,n){if(t.lazy)return!0;if(!t.loader)return!1;let r=e!=null&&e[t.id]!==void 0,s=n!=null&&n[t.id]!==void 0;return!r&&s?!1:typeof t.loader=="function"&&t.loader.hydrate===!0?!0:!r&&!s}function e8(t,e,n){let r=!e||n.route.id!==e.route.id,s=t[n.route.id]===void 0;return r||s}function eD(t,e){let n=t.route.path;return t.pathname!==e.pathname||n!=null&&n.endsWith("*")&&t.params["*"]!==e.params["*"]}function G2(t,e){if(t.route.shouldRevalidate){let n=t.route.shouldRevalidate(e);if(typeof n=="boolean")return n}return e.defaultShouldRevalidate}function K2(t,e,n,r,s){var i;let o;if(t){let c=r[t];Ye(c,"No route found to patch children into: routeId = "+t),c.children||(c.children=[]),o=c.children}else o=n;let a=e.filter(c=>!o.some(u=>tD(c,u))),l=dg(a,s,[t||"_","patch",String(((i=o)==null?void 0:i.length)||"0")],r);o.push(...l)}function tD(t,e){return"id"in t&&"id"in e&&t.id===e.id?!0:t.index===e.index&&t.path===e.path&&t.caseSensitive===e.caseSensitive?(!t.children||t.children.length===0)&&(!e.children||e.children.length===0)?!0:t.children.every((n,r)=>{var s;return(s=e.children)==null?void 0:s.some(i=>tD(n,i))}):!1}async function t8(t,e,n){if(!t.lazy)return;let r=await t.lazy();if(!t.lazy)return;let s=n[t.id];Ye(s,"No route found in manifest");let i={};for(let o in r){let l=s[o]!==void 0&&o!=="hasErrorBoundary";eu(!l,'Route "'+s.id+'" has a static property "'+o+'" defined but its lazy function is also returning a value for this property. '+('The lazy route property "'+o+'" will be ignored.')),!l&&!CB.has(o)&&(i[o]=r[o])}Object.assign(s,i),Object.assign(s,Vt({},e(s),{lazy:void 0}))}async function n8(t){let{matches:e}=t,n=e.filter(s=>s.shouldLoad);return(await Promise.all(n.map(s=>s.resolve()))).reduce((s,i,o)=>Object.assign(s,{[n[o].route.id]:i}),{})}async function r8(t,e,n,r,s,i,o,a,l,c){let u=i.map(p=>p.route.lazy?t8(p.route,l,a):void 0),d=i.map((p,m)=>{let g=u[m],y=s.some(v=>v.route.id===p.route.id);return Vt({},p,{shouldLoad:y,resolve:async v=>(v&&r.method==="GET"&&(p.route.lazy||p.route.loader)&&(y=!0),y?s8(e,r,p,g,v,c):Promise.resolve({type:bt.data,result:void 0}))})}),f=await t({matches:d,request:r,params:i[0].params,fetcherKey:o,context:c});try{await Promise.all(u)}catch{}return f}async function s8(t,e,n,r,s,i){let o,a,l=c=>{let u,d=new Promise((m,g)=>u=g);a=()=>u(),e.signal.addEventListener("abort",a);let f=m=>typeof c!="function"?Promise.reject(new Error("You cannot call the handler for a route which defines a boolean "+('"'+t+'" [routeId: '+n.route.id+"]"))):c({request:e,params:n.params,context:i},...m!==void 0?[m]:[]),p=(async()=>{try{return{type:"data",result:await(s?s(g=>f(g)):f())}}catch(m){return{type:"error",result:m}}})();return Promise.race([p,d])};try{let c=n.route[t];if(r)if(c){let u,[d]=await Promise.all([l(c).catch(f=>{u=f}),r]);if(u!==void 0)throw u;o=d}else if(await r,c=n.route[t],c)o=await l(c);else if(t==="action"){let u=new URL(e.url),d=u.pathname+u.search;throw xr(405,{method:e.method,pathname:d,routeId:n.route.id})}else return{type:bt.data,result:void 0};else if(c)o=await l(c);else{let u=new URL(e.url),d=u.pathname+u.search;throw xr(404,{pathname:d})}Ye(o.result!==void 0,"You defined "+(t==="action"?"an action":"a loader")+" for route "+('"'+n.route.id+"\" but didn't return anything from your `"+t+"` ")+"function. Please return a value or `null`.")}catch(c){return{type:bt.error,result:c}}finally{a&&e.signal.removeEventListener("abort",a)}return o}async function i8(t){let{result:e,type:n}=t;if(rD(e)){let c;try{let u=e.headers.get("Content-Type");u&&/\bapplication\/json\b/.test(u)?e.body==null?c=null:c=await e.json():c=await e.text()}catch(u){return{type:bt.error,error:u}}return n===bt.error?{type:bt.error,error:new fg(e.status,e.statusText,c),statusCode:e.status,headers:e.headers}:{type:bt.data,data:c,statusCode:e.status,headers:e.headers}}if(n===bt.error){if(eC(e)){var r;if(e.data instanceof Error){var s;return{type:bt.error,error:e.data,statusCode:(s=e.init)==null?void 0:s.status}}e=new fg(((r=e.init)==null?void 0:r.status)||500,void 0,e.data)}return{type:bt.error,error:e,statusCode:S0(e)?e.status:void 0}}if(u8(e)){var i,o;return{type:bt.deferred,deferredData:e,statusCode:(i=e.init)==null?void 0:i.status,headers:((o=e.init)==null?void 0:o.headers)&&new Headers(e.init.headers)}}if(eC(e)){var a,l;return{type:bt.data,data:e.data,statusCode:(a=e.init)==null?void 0:a.status,headers:(l=e.init)!=null&&l.headers?new Headers(e.init.headers):void 0}}return{type:bt.data,data:e}}function o8(t,e,n,r,s,i){let o=t.headers.get("Location");if(Ye(o,"Redirects returned/thrown from loaders/actions must have a Location header"),!fw.test(o)){let a=r.slice(0,r.findIndex(l=>l.route.id===n)+1);o=Db(new URL(e.url),a,s,!0,o,i),t.headers.set("Location",o)}return t}function Y2(t,e,n){if(fw.test(t)){let r=t,s=r.startsWith("//")?new URL(e.protocol+r):new URL(r),i=Eu(s.pathname,n)!=null;if(s.origin===e.origin&&i)return s.pathname+s.search+s.hash}return t}function Wl(t,e,n,r){let s=t.createURL(nD(e)).toString(),i={signal:n};if(r&&Hs(r.formMethod)){let{formMethod:o,formEncType:a}=r;i.method=o.toUpperCase(),a==="application/json"?(i.headers=new Headers({"Content-Type":a}),i.body=JSON.stringify(r.json)):a==="text/plain"?i.body=r.text:a==="application/x-www-form-urlencoded"&&r.formData?i.body=Ob(r.formData):i.body=r.formData}return new Request(s,i)}function Ob(t){let e=new URLSearchParams;for(let[n,r]of t.entries())e.append(n,typeof r=="string"?r:r.name);return e}function q2(t){let e=new FormData;for(let[n,r]of t.entries())e.append(n,r);return e}function a8(t,e,n,r,s){let i={},o=null,a,l=!1,c={},u=n&&Vr(n[1])?n[1].error:void 0;return t.forEach(d=>{if(!(d.route.id in e))return;let f=d.route.id,p=e[f];if(Ye(!Ka(p),"Cannot handle redirect results in processLoaderData"),Vr(p)){let m=p.error;u!==void 0&&(m=u,u=void 0),o=o||{};{let g=Ua(t,f);o[g.route.id]==null&&(o[g.route.id]=m)}i[f]=void 0,l||(l=!0,a=S0(p.error)?p.error.status:500),p.headers&&(c[f]=p.headers)}else Wo(p)?(r.set(f,p.deferredData),i[f]=p.deferredData.data,p.statusCode!=null&&p.statusCode!==200&&!l&&(a=p.statusCode),p.headers&&(c[f]=p.headers)):(i[f]=p.data,p.statusCode&&p.statusCode!==200&&!l&&(a=p.statusCode),p.headers&&(c[f]=p.headers))}),u!==void 0&&n&&(o={[n[0]]:u},i[n[0]]=void 0),{loaderData:i,errors:o,statusCode:a||200,loaderHeaders:c}}function X2(t,e,n,r,s,i,o){let{loaderData:a,errors:l}=a8(e,n,r,o);return s.forEach(c=>{let{key:u,match:d,controller:f}=c,p=i[u];if(Ye(p,"Did not find corresponding fetcher result"),!(f&&f.signal.aborted))if(Vr(p)){let m=Ua(t.matches,d==null?void 0:d.route.id);l&&l[m.route.id]||(l=Vt({},l,{[m.route.id]:p.error})),t.fetchers.delete(u)}else if(Ka(p))Ye(!1,"Unhandled fetcher revalidation redirect");else if(Wo(p))Ye(!1,"Unhandled fetcher deferred data");else{let m=Lo(p.data);t.fetchers.set(u,m)}}),{loaderData:a,errors:l}}function Q2(t,e,n,r){let s=Vt({},e);for(let i of n){let o=i.route.id;if(e.hasOwnProperty(o)?e[o]!==void 0&&(s[o]=e[o]):t[o]!==void 0&&i.route.loader&&(s[o]=t[o]),r&&r.hasOwnProperty(o))break}return s}function Z2(t){return t?Vr(t[1])?{actionData:{}}:{actionData:{[t[0]]:t[1].data}}:{}}function Ua(t,e){return(e?t.slice(0,t.findIndex(r=>r.route.id===e)+1):[...t]).reverse().find(r=>r.route.hasErrorBoundary===!0)||t[0]}function J2(t){let e=t.length===1?t[0]:t.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function xr(t,e){let{pathname:n,routeId:r,method:s,type:i,message:o}=e===void 0?{}:e,a="Unknown Server Error",l="Unknown @remix-run/router error";return t===400?(a="Bad Request",s&&n&&r?l="You made a "+s+' request to "'+n+'" but '+('did not provide a `loader` for route "'+r+'", ')+"so there is no way to handle the request.":i==="defer-action"?l="defer() is not supported in actions":i==="invalid-body"&&(l="Unable to encode submission body")):t===403?(a="Forbidden",l='Route "'+r+'" does not match URL "'+n+'"'):t===404?(a="Not Found",l='No route matches URL "'+n+'"'):t===405&&(a="Method Not Allowed",s&&n&&r?l="You made a "+s.toUpperCase()+' request to "'+n+'" but '+('did not provide an `action` for route "'+r+'", ')+"so there is no way to handle the request.":s&&(l='Invalid request method "'+s.toUpperCase()+'"')),new fg(t||500,a,new Error(l),!0)}function tp(t){let e=Object.entries(t);for(let n=e.length-1;n>=0;n--){let[r,s]=e[n];if(Ka(s))return{key:r,result:s}}}function nD(t){let e=typeof t=="string"?ha(t):t;return xl(Vt({},e,{hash:""}))}function l8(t,e){return t.pathname!==e.pathname||t.search!==e.search?!1:t.hash===""?e.hash!=="":t.hash===e.hash?!0:e.hash!==""}function c8(t){return rD(t.result)&&YB.has(t.result.status)}function Wo(t){return t.type===bt.deferred}function Vr(t){return t.type===bt.error}function Ka(t){return(t&&t.type)===bt.redirect}function eC(t){return typeof t=="object"&&t!=null&&"type"in t&&"data"in t&&"init"in t&&t.type==="DataWithResponseInit"}function u8(t){let e=t;return e&&typeof e=="object"&&typeof e.data=="object"&&typeof e.subscribe=="function"&&typeof e.cancel=="function"&&typeof e.resolveData=="function"}function rD(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.headers=="object"&&typeof t.body<"u"}function d8(t){return KB.has(t.toLowerCase())}function Hs(t){return HB.has(t.toLowerCase())}async function f8(t,e,n,r,s){let i=Object.entries(e);for(let o=0;o<i.length;o++){let[a,l]=i[o],c=t.find(f=>(f==null?void 0:f.route.id)===a);if(!c)continue;let u=r.find(f=>f.route.id===c.route.id),d=u!=null&&!eD(u,c)&&(s&&s[c.route.id])!==void 0;Wo(l)&&d&&await hw(l,n,!1).then(f=>{f&&(e[a]=f)})}}async function h8(t,e,n){for(let r=0;r<n.length;r++){let{key:s,routeId:i,controller:o}=n[r],a=e[s];t.find(c=>(c==null?void 0:c.route.id)===i)&&Wo(a)&&(Ye(o,"Expected an AbortController for revalidating fetcher deferred result"),await hw(a,o.signal,!0).then(c=>{c&&(e[s]=c)}))}}async function hw(t,e,n){if(n===void 0&&(n=!1),!await t.deferredData.resolveData(e)){if(n)try{return{type:bt.data,data:t.deferredData.unwrappedData}}catch(s){return{type:bt.error,error:s}}return{type:bt.data,data:t.deferredData.data}}}function pw(t){return new URLSearchParams(t).getAll("index").some(e=>e==="")}function yd(t,e){let n=typeof e=="string"?ha(e).search:e.search;if(t[t.length-1].route.index&&pw(n||""))return t[t.length-1];let r=QI(t);return r[r.length-1]}function tC(t){let{formMethod:e,formAction:n,formEncType:r,text:s,formData:i,json:o}=t;if(!(!e||!n||!r)){if(s!=null)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:void 0,text:s};if(i!=null)return{formMethod:e,formAction:n,formEncType:r,formData:i,json:void 0,text:void 0};if(o!==void 0)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:o,text:void 0}}}function ov(t,e){return e?{state:"loading",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:t,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function p8(t,e){return{state:"submitting",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function qu(t,e){return t?{state:"loading",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function m8(t,e){return{state:"submitting",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e?e.data:void 0}}function Lo(t){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function g8(t,e){try{let n=t.sessionStorage.getItem(JI);if(n){let r=JSON.parse(n);for(let[s,i]of Object.entries(r||{}))i&&Array.isArray(i)&&e.set(s,new Set(i||[]))}}catch{}}function y8(t,e){if(e.size>0){let n={};for(let[r,s]of e)n[r]=[...s];try{t.sessionStorage.setItem(JI,JSON.stringify(n))}catch(r){eu(!1,"Failed to save applied view transitions in sessionStorage ("+r+").")}}}/**
 * React Router v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function hg(){return hg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},hg.apply(this,arguments)}const w0=S.createContext(null),sD=S.createContext(null),pa=S.createContext(null),mw=S.createContext(null),Ii=S.createContext({outlet:null,matches:[],isDataRoute:!1}),iD=S.createContext(null);function v8(t,e){let{relative:n}=e===void 0?{}:e;Cu()||Ye(!1);let{basename:r,navigator:s}=S.useContext(pa),{hash:i,pathname:o,search:a}=aD(t,{relative:n}),l=o;return r!=="/"&&(l=o==="/"?r:io([r,o])),s.createHref({pathname:l,search:a,hash:i})}function Cu(){return S.useContext(mw)!=null}function ma(){return Cu()||Ye(!1),S.useContext(mw).location}function oD(t){S.useContext(pa).static||S.useLayoutEffect(t)}function pr(){let{isDataRoute:t}=S.useContext(Ii);return t?I8():x8()}function x8(){Cu()||Ye(!1);let t=S.useContext(w0),{basename:e,future:n,navigator:r}=S.useContext(pa),{matches:s}=S.useContext(Ii),{pathname:i}=ma(),o=JSON.stringify(x0(s,n.v7_relativeSplatPath)),a=S.useRef(!1);return oD(()=>{a.current=!0}),S.useCallback(function(c,u){if(u===void 0&&(u={}),!a.current)return;if(typeof c=="number"){r.go(c);return}let d=b0(c,JSON.parse(o),i,u.relative==="path");t==null&&e!=="/"&&(d.pathname=d.pathname==="/"?e:io([e,d.pathname])),(u.replace?r.replace:r.push)(d,u.state,u)},[e,r,o,i,t])}const b8=S.createContext(null);function S8(t){let e=S.useContext(Ii).outlet;return e&&S.createElement(b8.Provider,{value:t},e)}function gw(){let{matches:t}=S.useContext(Ii),e=t[t.length-1];return e?e.params:{}}function aD(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=S.useContext(pa),{matches:s}=S.useContext(Ii),{pathname:i}=ma(),o=JSON.stringify(x0(s,r.v7_relativeSplatPath));return S.useMemo(()=>b0(t,JSON.parse(o),i,n==="path"),[t,o,i,n])}function w8(t,e,n,r){Cu()||Ye(!1);let{navigator:s}=S.useContext(pa),{matches:i}=S.useContext(Ii),o=i[i.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let c=ma(),u;u=c;let d=u.pathname||"/",f=d;if(l!=="/"){let g=l.replace(/^\//,"").split("/");f="/"+d.replace(/^\//,"").split("/").slice(g.length).join("/")}let p=za(t,{pathname:f});return A8(p&&p.map(g=>Object.assign({},g,{params:Object.assign({},a,g.params),pathname:io([l,s.encodeLocation?s.encodeLocation(g.pathname).pathname:g.pathname]),pathnameBase:g.pathnameBase==="/"?l:io([l,s.encodeLocation?s.encodeLocation(g.pathnameBase).pathname:g.pathnameBase])})),i,n,r)}function T8(){let t=P8(),e=S0(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return S.createElement(S.Fragment,null,S.createElement("h2",null,"Unexpected Application Error!"),S.createElement("h3",{style:{fontStyle:"italic"}},e),n?S.createElement("pre",{style:s},n):null,null)}const E8=S.createElement(T8,null);class C8 extends S.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?S.createElement(Ii.Provider,{value:this.props.routeContext},S.createElement(iD.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function k8(t){let{routeContext:e,match:n,children:r}=t,s=S.useContext(w0);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),S.createElement(Ii.Provider,{value:e},r)}function A8(t,e,n,r){var s;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var i;if(!n)return null;if(n.errors)t=n.matches;else if((i=r)!=null&&i.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,a=(s=n)==null?void 0:s.errors;if(a!=null){let u=o.findIndex(d=>d.route.id&&(a==null?void 0:a[d.route.id])!==void 0);u>=0||Ye(!1),o=o.slice(0,Math.min(o.length,u+1))}let l=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let u=0;u<o.length;u++){let d=o[u];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(c=u),d.route.id){let{loaderData:f,errors:p}=n,m=d.route.loader&&f[d.route.id]===void 0&&(!p||p[d.route.id]===void 0);if(d.route.lazy||m){l=!0,c>=0?o=o.slice(0,c+1):o=[o[0]];break}}}return o.reduceRight((u,d,f)=>{let p,m=!1,g=null,y=null;n&&(p=a&&d.route.id?a[d.route.id]:void 0,g=d.route.errorElement||E8,l&&(c<0&&f===0?(m=!0,y=null):c===f&&(m=!0,y=d.route.hydrateFallbackElement||null)));let x=e.concat(o.slice(0,f+1)),v=()=>{let b;return p?b=g:m?b=y:d.route.Component?b=S.createElement(d.route.Component,null):d.route.element?b=d.route.element:b=u,S.createElement(k8,{match:d,routeContext:{outlet:u,matches:x,isDataRoute:n!=null},children:b})};return n&&(d.route.ErrorBoundary||d.route.errorElement||f===0)?S.createElement(C8,{location:n.location,revalidation:n.revalidation,component:g,error:p,children:v(),routeContext:{outlet:null,matches:x,isDataRoute:!0}}):v()},null)}var lD=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(lD||{}),pg=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(pg||{});function R8(t){let e=S.useContext(w0);return e||Ye(!1),e}function _8(t){let e=S.useContext(sD);return e||Ye(!1),e}function L8(t){let e=S.useContext(Ii);return e||Ye(!1),e}function cD(t){let e=L8(),n=e.matches[e.matches.length-1];return n.route.id||Ye(!1),n.route.id}function P8(){var t;let e=S.useContext(iD),n=_8(pg.UseRouteError),r=cD(pg.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function I8(){let{router:t}=R8(lD.UseNavigateStable),e=cD(pg.UseNavigateStable),n=S.useRef(!1);return oD(()=>{n.current=!0}),S.useCallback(function(s,i){i===void 0&&(i={}),n.current&&(typeof s=="number"?t.navigate(s):t.navigate(s,hg({fromRouteId:e},i)))},[t,e])}function T0(t){let{to:e,replace:n,state:r,relative:s}=t;Cu()||Ye(!1);let{future:i,static:o}=S.useContext(pa),{matches:a}=S.useContext(Ii),{pathname:l}=ma(),c=pr(),u=b0(e,x0(a,i.v7_relativeSplatPath),l,s==="path"),d=JSON.stringify(u);return S.useEffect(()=>c(JSON.parse(d),{replace:n,state:r,relative:s}),[c,d,s,n,r]),null}function D8(t){return S8(t.context)}function M8(t){let{basename:e="/",children:n=null,location:r,navigationType:s=pn.Pop,navigator:i,static:o=!1,future:a}=t;Cu()&&Ye(!1);let l=e.replace(/^\/*/,"/"),c=S.useMemo(()=>({basename:l,navigator:i,static:o,future:hg({v7_relativeSplatPath:!1},a)}),[l,a,i,o]);typeof r=="string"&&(r=ha(r));let{pathname:u="/",search:d="",hash:f="",state:p=null,key:m="default"}=r,g=S.useMemo(()=>{let y=Eu(u,l);return y==null?null:{location:{pathname:y,search:d,hash:f,state:p,key:m},navigationType:s}},[l,u,d,f,p,m,s]);return g==null?null:S.createElement(pa.Provider,{value:c},S.createElement(mw.Provider,{children:n,value:g}))}new Promise(()=>{});function O8(t){let e={hasErrorBoundary:t.ErrorBoundary!=null||t.errorElement!=null};return t.Component&&Object.assign(e,{element:S.createElement(t.Component),Component:void 0}),t.HydrateFallback&&Object.assign(e,{hydrateFallbackElement:S.createElement(t.HydrateFallback),HydrateFallback:void 0}),t.ErrorBoundary&&Object.assign(e,{errorElement:S.createElement(t.ErrorBoundary),ErrorBoundary:void 0}),e}/**
 * React Router DOM v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Af(){return Af=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Af.apply(this,arguments)}function F8(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,i;for(i=0;i<r.length;i++)s=r[i],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}function N8(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function j8(t,e){return t.button===0&&(!e||e==="_self")&&!N8(t)}const B8=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],$8="6";try{window.__reactRouterVersion=$8}catch{}function z8(t,e){return ZB({basename:void 0,future:Af({},void 0,{v7_prependBasename:!0}),history:wB({window:void 0}),hydrationData:U8(),routes:t,mapRouteProperties:O8,dataStrategy:void 0,patchRoutesOnNavigation:void 0,window:void 0}).initialize()}function U8(){var t;let e=(t=window)==null?void 0:t.__staticRouterHydrationData;return e&&e.errors&&(e=Af({},e,{errors:V8(e.errors)})),e}function V8(t){if(!t)return null;let e=Object.entries(t),n={};for(let[r,s]of e)if(s&&s.__type==="RouteErrorResponse")n[r]=new fg(s.status,s.statusText,s.data,s.internal===!0);else if(s&&s.__type==="Error"){if(s.__subType){let i=window[s.__subType];if(typeof i=="function")try{let o=new i(s.message);o.stack="",n[r]=o}catch{}}if(n[r]==null){let i=new Error(s.message);i.stack="",n[r]=i}}else n[r]=s;return n}const W8=S.createContext({isTransitioning:!1}),H8=S.createContext(new Map),G8="startTransition",nC=Bx[G8],K8="flushSync",rC=SB[K8];function Y8(t){nC?nC(t):t()}function Xu(t){rC?rC(t):t()}class q8{constructor(){this.status="pending",this.promise=new Promise((e,n)=>{this.resolve=r=>{this.status==="pending"&&(this.status="resolved",e(r))},this.reject=r=>{this.status==="pending"&&(this.status="rejected",n(r))}})}}function X8(t){let{fallbackElement:e,router:n,future:r}=t,[s,i]=S.useState(n.state),[o,a]=S.useState(),[l,c]=S.useState({isTransitioning:!1}),[u,d]=S.useState(),[f,p]=S.useState(),[m,g]=S.useState(),y=S.useRef(new Map),{v7_startTransition:x}=r||{},v=S.useCallback(k=>{x?Y8(k):k()},[x]),b=S.useCallback((k,A)=>{let{deletedFetchers:R,flushSync:L,viewTransitionOpts:D}=A;R.forEach(B=>y.current.delete(B)),k.fetchers.forEach((B,V)=>{B.data!==void 0&&y.current.set(V,B.data)});let M=n.window==null||n.window.document==null||typeof n.window.document.startViewTransition!="function";if(!D||M){L?Xu(()=>i(k)):v(()=>i(k));return}if(L){Xu(()=>{f&&(u&&u.resolve(),f.skipTransition()),c({isTransitioning:!0,flushSync:!0,currentLocation:D.currentLocation,nextLocation:D.nextLocation})});let B=n.window.document.startViewTransition(()=>{Xu(()=>i(k))});B.finished.finally(()=>{Xu(()=>{d(void 0),p(void 0),a(void 0),c({isTransitioning:!1})})}),Xu(()=>p(B));return}f?(u&&u.resolve(),f.skipTransition(),g({state:k,currentLocation:D.currentLocation,nextLocation:D.nextLocation})):(a(k),c({isTransitioning:!0,flushSync:!1,currentLocation:D.currentLocation,nextLocation:D.nextLocation}))},[n.window,f,u,y,v]);S.useLayoutEffect(()=>n.subscribe(b),[n,b]),S.useEffect(()=>{l.isTransitioning&&!l.flushSync&&d(new q8)},[l]),S.useEffect(()=>{if(u&&o&&n.window){let k=o,A=u.promise,R=n.window.document.startViewTransition(async()=>{v(()=>i(k)),await A});R.finished.finally(()=>{d(void 0),p(void 0),a(void 0),c({isTransitioning:!1})}),p(R)}},[v,o,u,n.window]),S.useEffect(()=>{u&&o&&s.location.key===o.location.key&&u.resolve()},[u,f,s.location,o]),S.useEffect(()=>{!l.isTransitioning&&m&&(a(m.state),c({isTransitioning:!0,flushSync:!1,currentLocation:m.currentLocation,nextLocation:m.nextLocation}),g(void 0))},[l.isTransitioning,m]),S.useEffect(()=>{},[]);let w=S.useMemo(()=>({createHref:n.createHref,encodeLocation:n.encodeLocation,go:k=>n.navigate(k),push:(k,A,R)=>n.navigate(k,{state:A,preventScrollReset:R==null?void 0:R.preventScrollReset}),replace:(k,A,R)=>n.navigate(k,{replace:!0,state:A,preventScrollReset:R==null?void 0:R.preventScrollReset})}),[n]),T=n.basename||"/",C=S.useMemo(()=>({router:n,navigator:w,static:!1,basename:T}),[n,w,T]),E=S.useMemo(()=>({v7_relativeSplatPath:n.future.v7_relativeSplatPath}),[n.future.v7_relativeSplatPath]);return S.createElement(S.Fragment,null,S.createElement(w0.Provider,{value:C},S.createElement(sD.Provider,{value:s},S.createElement(H8.Provider,{value:y.current},S.createElement(W8.Provider,{value:l},S.createElement(M8,{basename:T,location:s.location,navigationType:s.historyAction,navigator:w,future:E},s.initialized||n.future.v7_partialHydration?S.createElement(Q8,{routes:n.routes,future:n.future,state:s}):e))))),null)}const Q8=S.memo(Z8);function Z8(t){let{routes:e,future:n,state:r}=t;return w8(e,void 0,r,n)}const J8=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",e$=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ut=S.forwardRef(function(e,n){let{onClick:r,relative:s,reloadDocument:i,replace:o,state:a,target:l,to:c,preventScrollReset:u,viewTransition:d}=e,f=F8(e,B8),{basename:p}=S.useContext(pa),m,g=!1;if(typeof c=="string"&&e$.test(c)&&(m=c,J8))try{let b=new URL(window.location.href),w=c.startsWith("//")?new URL(b.protocol+c):new URL(c),T=Eu(w.pathname,p);w.origin===b.origin&&T!=null?c=T+w.search+w.hash:g=!0}catch{}let y=v8(c,{relative:s}),x=t$(c,{replace:o,state:a,target:l,preventScrollReset:u,relative:s,viewTransition:d});function v(b){r&&r(b),b.defaultPrevented||x(b)}return S.createElement("a",Af({},f,{href:m||y,onClick:g||i?r:v,ref:n,target:l}))});var sC;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(sC||(sC={}));var iC;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(iC||(iC={}));function t$(t,e){let{target:n,replace:r,state:s,preventScrollReset:i,relative:o,viewTransition:a}=e===void 0?{}:e,l=pr(),c=ma(),u=aD(t,{relative:o});return S.useCallback(d=>{if(j8(d,n)){d.preventDefault();let f=r!==void 0?r:xl(c)===xl(u);l(t,{replace:f,state:s,preventScrollReset:i,relative:o,viewTransition:a})}},[c,l,u,r,s,n,t,i,o,a])}function n$(t,e,n,r){return t.addEventListener(e,n,r),()=>{t.removeEventListener(e,n,r)}}function E0(t){return t!=null&&typeof t=="object"&&"nodeType"in t&&t.nodeType===Node.ELEMENT_NODE}function r$(){return!!(globalThis!=null&&globalThis.document)}function uD(t){return t.parentElement&&uD(t.parentElement)?!0:t.hidden}function s$(t){const e=t.getAttribute("contenteditable");return e!=="false"&&e!=null}function i$(t){return!!t.getAttribute("disabled")||!!t.getAttribute("aria-disabled")}function o$(t){var e;return((e=dD(t))==null?void 0:e.defaultView)??window}function dD(t){return E0(t)?t.ownerDocument:document}function a$(t){return t.view??window}function l$(t){return dD(t).activeElement}function c$(t){const e=a$(t);return typeof e.PointerEvent<"u"&&t instanceof e.PointerEvent?t.pointerType==="mouse":t instanceof e.MouseEvent}function fD(t){return!!t.touches}function u$(t){return fD(t)&&t.touches.length>1}function d$(t,e="page"){const n=t.touches[0]||t.changedTouches[0];return{x:n[`${e}X`],y:n[`${e}Y`]}}function f$(t,e="page"){return{x:t[`${e}X`],y:t[`${e}Y`]}}function hD(t,e="page"){return fD(t)?d$(t,e):f$(t,e)}function h$(t){return e=>{const n=c$(e);(!n||n&&e.button===0)&&t(e)}}function p$(t,e=!1){function n(s){t(s,{point:hD(s)})}return e?h$(n):n}function im(t,e,n,r){return n$(t,e,p$(n,e==="pointerdown"),r)}function m$(t,...e){if(t==null)throw new TypeError("Cannot convert undefined or null to object");const n={...t};for(const r of e)if(r!=null)for(const s in r)Object.prototype.hasOwnProperty.call(r,s)&&(s in n&&delete n[s],n[s]=r[s]);return n}const Be=t=>t?"":void 0,Dc=t=>t?!0:void 0;function om(t){return Array.isArray(t)}function er(t){const e=typeof t;return t!=null&&(e==="object"||e==="function")&&!om(t)}function g$(t){const e=t==null?0:t.length;return e?t[e-1]:void 0}function y$(t){const e=parseFloat(t.toString()),n=t.toString().replace(String(e),"");return{unitless:!n,value:e,unit:n}}function Fb(t){if(t==null)return t;const{unitless:e}=y$(t);return e||typeof t=="number"?`${t}px`:t}const pD=(t,e)=>parseInt(t[1],10)>parseInt(e[1],10)?1:-1,yw=t=>Object.fromEntries(Object.entries(t).sort(pD));function oC(t){const e=yw(t);return Object.assign(Object.values(e),e)}function v$(t){const e=Object.keys(yw(t));return new Set(e)}function aC(t){if(!t)return t;t=Fb(t)??t;const e=-.02;return typeof t=="number"?`${t+e}`:t.replace(/(\d+\.?\d*)/u,n=>`${parseFloat(n)+e}`)}function vd(t,e){const n=["@media screen"];return t&&n.push("and",`(min-width: ${Fb(t)})`),e&&n.push("and",`(max-width: ${Fb(e)})`),n.join(" ")}function x$(t){if(!t)return null;t.base=t.base??"0px";const e=oC(t),n=Object.entries(t).sort(pD).map(([i,o],a,l)=>{let[,c]=l[a+1]??[];return c=parseFloat(c)>0?aC(c):void 0,{_minW:aC(o),breakpoint:i,minW:o,maxW:c,maxWQuery:vd(null,c),minWQuery:vd(o),minMaxQuery:vd(o,c)}}),r=v$(t),s=Array.from(r.values());return{keys:r,normalized:e,isResponsive(i){const o=Object.keys(i);return o.length>0&&o.every(a=>r.has(a))},asObject:yw(t),asArray:oC(t),details:n,get(i){return n.find(o=>o.breakpoint===i)},media:[null,...e.map(i=>vd(i)).slice(1)],toArrayValue(i){if(!er(i))throw new Error("toArrayValue: value must be an object");const o=s.map(a=>i[a]??null);for(;g$(o)===null;)o.pop();return o},toObjectValue(i){if(!Array.isArray(i))throw new Error("toObjectValue: value must be an array");return i.reduce((o,a,l)=>{const c=s[l];return c!=null&&a!=null&&(o[c]=a),o},{})}}}function b$(...t){return function(...n){t.forEach(r=>r==null?void 0:r(...n))}}function rt(...t){return function(n){t.some(r=>(r==null||r(n),n==null?void 0:n.defaultPrevented))}}function mD(t){return S.Children.toArray(t).filter(e=>S.isValidElement(e))}function vw(t){const e=Object.assign({},t);for(let n in e)e[n]===void 0&&delete e[n];return e}function S$(t,e){return`${t} returned \`undefined\`. Seems you forgot to wrap component within ${e}`}function Zt(t={}){const{name:e,strict:n=!0,hookName:r="useContext",providerName:s="Provider",errorMessage:i,defaultValue:o}=t,a=S.createContext(o);a.displayName=e;function l(){var u;const c=S.useContext(a);if(!c&&n){const d=new Error(i??S$(r,s));throw d.name="ContextError",(u=Error.captureStackTrace)==null||u.call(Error,d,l),d}return c}return[a.Provider,l,a]}const Ee=(...t)=>t.filter(Boolean).join(" "),gD=t=>t.hasAttribute("tabindex"),w$=t=>gD(t)&&t.tabIndex===-1;function yD(t){if(!E0(t)||uD(t)||i$(t))return!1;const{localName:e}=t;if(["input","select","textarea","button"].indexOf(e)>=0)return!0;const r={a:()=>t.hasAttribute("href"),audio:()=>t.hasAttribute("controls"),video:()=>t.hasAttribute("controls")};return e in r?r[e]():s$(t)?!0:gD(t)}function T$(t){return t?E0(t)&&yD(t)&&!w$(t):!1}const E$=["input:not(:disabled):not([disabled])","select:not(:disabled):not([disabled])","textarea:not(:disabled):not([disabled])","embed","iframe","object","a[href]","area[href]","button:not(:disabled):not([disabled])","[tabindex]","audio[controls]","video[controls]","*[tabindex]:not([aria-disabled])","*[contenteditable]"],C$=E$.join(),k$=t=>t.offsetWidth>0&&t.offsetHeight>0;function A$(t){const e=Array.from(t.querySelectorAll(C$));return e.unshift(t),e.filter(n=>yD(n)&&k$(n))}function R$(t,e,n,r){const s=typeof e=="string"?e.split("."):[e];for(r=0;r<s.length&&t;r+=1)t=t[s[r]];return t===void 0?n:t}const _$=t=>{const e=new WeakMap;return(r,s,i,o)=>{if(typeof r>"u")return t(r,s,i);e.has(r)||e.set(r,new Map);const a=e.get(r);if(a.has(s))return a.get(s);const l=t(r,s,i,o);return a.set(s,l),l}},vD=_$(R$),L$=t=>t.default||t;function xD(t){const{wasSelected:e,enabled:n,isSelected:r,mode:s="unmount"}=t;return!!(!n||r||s==="keepMounted"&&e)}function P$(t){const e=parseFloat(t);return typeof e!="number"||Number.isNaN(e)?0:e}function I$(t,e){let n=P$(t);const r=10**(e??10);return n=Math.round(n*r)/r,e?n.toFixed(e):n.toString()}function D$(t){if(!Number.isFinite(t))return 0;let e=1,n=0;for(;Math.round(t*e)/e!==t;)e*=10,n+=1;return n}function lC(t,e,n){return(t-e)*100/(n-e)}function M$(t,e,n){return(n-e)*t+e}function cC(t,e,n){const r=Math.round((t-e)/n)*n+e,s=D$(n);return I$(r,s)}function av(t,e,n){return t==null?t:(n<e&&console.warn("clamp: max cannot be less than min"),Math.min(Math.max(t,e),n))}function ku(t,e=[]){const n=Object.assign({},t);for(const r of e)r in n&&delete n[r];return n}function bD(t,e){const n={};for(const r of e)r in t&&(n[r]=t[r]);return n}const SD=Object.freeze(["base","sm","md","lg","xl","2xl"]);function xw(t,e){return Array.isArray(t)?t.map(n=>n===null?null:e(n)):er(t)?Object.keys(t).reduce((n,r)=>(n[r]=e(t[r]),n),{}):t!=null?e(t):null}function O$(t,e=SD){const n={};return t.forEach((r,s)=>{const i=e[s];r!=null&&(n[i]=r)}),n}const F$=t=>typeof t=="function";function Gr(t,...e){return F$(t)?t(...e):t}function N$(t){const e=t.ownerDocument.defaultView||window,{overflow:n,overflowX:r,overflowY:s}=e.getComputedStyle(t);return/auto|scroll|overlay|hidden/.test(n+s+r)}function j$(t){return t.localName==="html"?t:t.assignedSlot||t.parentElement||t.ownerDocument.documentElement}function wD(t){return["html","body","#document"].includes(t.localName)?t.ownerDocument.body:E0(t)&&N$(t)?t:wD(j$(t))}function B$(t,e){const n={},r={};for(const[s,i]of Object.entries(t))e.includes(s)?n[s]=i:r[s]=i;return[n,r]}function $$(t,...e){const n=Object.getOwnPropertyDescriptors(t),r=Object.keys(n),s=o=>{const a={};for(let l=0;l<o.length;l++){const c=o[l];n[c]&&(Object.defineProperty(a,c,n[c]),delete n[c])}return a},i=o=>s(Array.isArray(o)?o:r.filter(o));return e.map(i).concat(s(r))}function uC(t,e,n={}){const{stop:r,getKey:s}=n;function i(o,a=[]){if(er(o)||Array.isArray(o)){const l={};for(const[c,u]of Object.entries(o)){const d=(s==null?void 0:s(c))??c,f=[...a,d];if(r!=null&&r(o,f))return e(o,a);l[d]=i(u,f)}return l}return e(o,a)}return i(t)}const z$=t=>{const{condition:e,message:n}=t};var mg={exports:{}};mg.exports;(function(t,e){var n=200,r="__lodash_hash_undefined__",s=800,i=16,o=9007199254740991,a="[object Arguments]",l="[object Array]",c="[object AsyncFunction]",u="[object Boolean]",d="[object Date]",f="[object Error]",p="[object Function]",m="[object GeneratorFunction]",g="[object Map]",y="[object Number]",x="[object Null]",v="[object Object]",b="[object Proxy]",w="[object RegExp]",T="[object Set]",C="[object String]",E="[object Undefined]",k="[object WeakMap]",A="[object ArrayBuffer]",R="[object DataView]",L="[object Float32Array]",D="[object Float64Array]",M="[object Int8Array]",B="[object Int16Array]",V="[object Int32Array]",O="[object Uint8Array]",I="[object Uint8ClampedArray]",N="[object Uint16Array]",j="[object Uint32Array]",K=/[\\^$.*+?()[\]{}|]/g,te=/^\[object .+?Constructor\]$/,ne=/^(?:0|[1-9]\d*)$/,q={};q[L]=q[D]=q[M]=q[B]=q[V]=q[O]=q[I]=q[N]=q[j]=!0,q[a]=q[l]=q[A]=q[u]=q[R]=q[d]=q[f]=q[p]=q[g]=q[y]=q[v]=q[w]=q[T]=q[C]=q[k]=!1;var ee=typeof Nh=="object"&&Nh&&Nh.Object===Object&&Nh,ce=typeof self=="object"&&self&&self.Object===Object&&self,Y=ee||ce||Function("return this")(),ue=e&&!e.nodeType&&e,Ae=ue&&!0&&t&&!t.nodeType&&t,Ge=Ae&&Ae.exports===ue,it=Ge&&ee.process,Fe=function(){try{var P=Ae&&Ae.require&&Ae.require("util").types;return P||it&&it.binding&&it.binding("util")}catch{}}(),je=Fe&&Fe.isTypedArray;function Ke(P,z,Z){switch(Z.length){case 0:return P.call(z);case 1:return P.call(z,Z[0]);case 2:return P.call(z,Z[0],Z[1]);case 3:return P.call(z,Z[0],Z[1],Z[2])}return P.apply(z,Z)}function Nt(P,z){for(var Z=-1,Te=Array(P);++Z<P;)Te[Z]=z(Z);return Te}function Ce(P){return function(z){return P(z)}}function ot(P,z){return P==null?void 0:P[z]}function wt(P,z){return function(Z){return P(z(Z))}}var sn=Array.prototype,Wn=Function.prototype,fn=Object.prototype,jr=Y["__core-js_shared__"],ss=Wn.toString,on=fn.hasOwnProperty,mr=function(){var P=/[^.]+$/.exec(jr&&jr.keys&&jr.keys.IE_PROTO||"");return P?"Symbol(src)_1."+P:""}(),ti=fn.toString,ni=ss.call(Object),nr=RegExp("^"+ss.call(on).replace(K,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),vn=Ge?Y.Buffer:void 0,jl=Y.Symbol,pe=Y.Uint8Array;vn&&vn.allocUnsafe;var Ie=wt(Object.getPrototypeOf,Object),xn=Object.create,Ds=fn.propertyIsEnumerable,Ms=sn.splice,gr=jl?jl.toStringTag:void 0,bo=function(){try{var P=Ey(Object,"defineProperty");return P({},"",{}),P}catch{}}(),So=vn?vn.isBuffer:void 0,Br=Math.max,wa=Date.now,Bl=Ey(Y,"Map"),Oi=Ey(Object,"create"),by=function(){function P(){}return function(z){if(!Aa(z))return{};if(xn)return xn(z);P.prototype=z;var Z=new P;return P.prototype=void 0,Z}}();function ri(P){var z=-1,Z=P==null?0:P.length;for(this.clear();++z<Z;){var Te=P[z];this.set(Te[0],Te[1])}}function Sy(){this.__data__=Oi?Oi(null):{},this.size=0}function Dh(P){var z=this.has(P)&&delete this.__data__[P];return this.size-=z?1:0,z}function $l(P){var z=this.__data__;if(Oi){var Z=z[P];return Z===r?void 0:Z}return on.call(z,P)?z[P]:void 0}function zl(P){var z=this.__data__;return Oi?z[P]!==void 0:on.call(z,P)}function wy(P,z){var Z=this.__data__;return this.size+=this.has(P)?0:1,Z[P]=Oi&&z===void 0?r:z,this}ri.prototype.clear=Sy,ri.prototype.delete=Dh,ri.prototype.get=$l,ri.prototype.has=zl,ri.prototype.set=wy;function Os(P){var z=-1,Z=P==null?0:P.length;for(this.clear();++z<Z;){var Te=P[z];this.set(Te[0],Te[1])}}function F(){this.__data__=[],this.size=0}function U(P){var z=this.__data__,Z=rr(z,P);if(Z<0)return!1;var Te=z.length-1;return Z==Te?z.pop():Ms.call(z,Z,1),--this.size,!0}function X(P){var z=this.__data__,Z=rr(z,P);return Z<0?void 0:z[Z][1]}function ie(P){return rr(this.__data__,P)>-1}function me(P,z){var Z=this.__data__,Te=rr(Z,P);return Te<0?(++this.size,Z.push([P,z])):Z[Te][1]=z,this}Os.prototype.clear=F,Os.prototype.delete=U,Os.prototype.get=X,Os.prototype.has=ie,Os.prototype.set=me;function we(P){var z=-1,Z=P==null?0:P.length;for(this.clear();++z<Z;){var Te=P[z];this.set(Te[0],Te[1])}}function Ne(){this.size=0,this.__data__={hash:new ri,map:new(Bl||Os),string:new ri}}function be(P){var z=Oh(this,P).delete(P);return this.size-=z?1:0,z}function Se(P){return Oh(this,P).get(P)}function ge(P){return Oh(this,P).has(P)}function ke(P,z){var Z=Oh(this,P),Te=Z.size;return Z.set(P,z),this.size+=Z.size==Te?0:1,this}we.prototype.clear=Ne,we.prototype.delete=be,we.prototype.get=Se,we.prototype.has=ge,we.prototype.set=ke;function $e(P){var z=this.__data__=new Os(P);this.size=z.size}function Xe(){this.__data__=new Os,this.size=0}function bn(P){var z=this.__data__,Z=z.delete(P);return this.size=z.size,Z}function xt(P){return this.__data__.get(P)}function nt(P){return this.__data__.has(P)}function jt(P,z){var Z=this.__data__;if(Z instanceof Os){var Te=Z.__data__;if(!Bl||Te.length<n-1)return Te.push([P,z]),this.size=++Z.size,this;Z=this.__data__=new we(Te)}return Z.set(P,z),this.size=Z.size,this}$e.prototype.clear=Xe,$e.prototype.delete=bn,$e.prototype.get=xt,$e.prototype.has=nt,$e.prototype.set=jt;function wo(P,z){var Z=Ay(P),Te=!Z&&ky(P),Je=!Z&&!Te&&EE(P),Tt=!Z&&!Te&&!Je&&kE(P),$t=Z||Te||Je||Tt,at=$t?Nt(P.length,String):[],zt=at.length;for(var Ns in P)$t&&(Ns=="length"||Je&&(Ns=="offset"||Ns=="parent")||Tt&&(Ns=="buffer"||Ns=="byteLength"||Ns=="byteOffset")||wE(Ns,zt))||at.push(Ns);return at}function Fi(P,z,Z){(Z!==void 0&&!Fh(P[z],Z)||Z===void 0&&!(z in P))&&Ta(P,z,Z)}function Fs(P,z,Z){var Te=P[z];(!(on.call(P,z)&&Fh(Te,Z))||Z===void 0&&!(z in P))&&Ta(P,z,Z)}function rr(P,z){for(var Z=P.length;Z--;)if(Fh(P[Z][0],z))return Z;return-1}function Ta(P,z,Z){z=="__proto__"&&bo?bo(P,z,{configurable:!0,enumerable:!0,value:Z,writable:!0}):P[z]=Z}var Ea=_N();function is(P){return P==null?P===void 0?E:x:gr&&gr in Object(P)?LN(P):FN(P)}function Ca(P){return ju(P)&&is(P)==a}function Ul(P){if(!Aa(P)||MN(P))return!1;var z=_y(P)?nr:te;return z.test($N(P))}function Ze(P){return ju(P)&&CE(P.length)&&!!q[is(P)]}function Bt(P){if(!Aa(P))return ON(P);var z=TE(P),Z=[];for(var Te in P)Te=="constructor"&&(z||!on.call(P,Te))||Z.push(Te);return Z}function Ni(P,z,Z,Te,Je){P!==z&&Ea(z,function(Tt,$t){if(Je||(Je=new $e),Aa(Tt))ka(P,z,$t,Z,Ni,Te,Je);else{var at=Te?Te(Cy(P,$t),Tt,$t+"",P,z,Je):void 0;at===void 0&&(at=Tt),Fi(P,$t,at)}},AE)}function ka(P,z,Z,Te,Je,Tt,$t){var at=Cy(P,Z),zt=Cy(z,Z),Ns=$t.get(zt);if(Ns){Fi(P,Z,Ns);return}var $r=Tt?Tt(at,zt,Z+"",P,z,$t):void 0,Bu=$r===void 0;if(Bu){var Ly=Ay(zt),Py=!Ly&&EE(zt),_E=!Ly&&!Py&&kE(zt);$r=zt,Ly||Py||_E?Ay(at)?$r=at:zN(at)?$r=kN(at):Py?(Bu=!1,$r=Mh(zt)):_E?(Bu=!1,$r=CN(zt)):$r=[]:UN(zt)||ky(zt)?($r=at,ky(at)?$r=VN(at):(!Aa(at)||_y(at))&&($r=PN(zt))):Bu=!1}Bu&&($t.set(zt,$r),Je($r,zt,Te,Tt,$t),$t.delete(zt)),Fi(P,Z,$r)}function Jt(P,z){return jN(NN(P,z,RE),P+"")}var To=bo?function(P,z){return bo(P,"toString",{configurable:!0,enumerable:!1,value:HN(z),writable:!0})}:RE;function Mh(P,z){return P.slice()}function Ty(P){var z=new P.constructor(P.byteLength);return new pe(z).set(new pe(P)),z}function CN(P,z){var Z=Ty(P.buffer);return new P.constructor(Z,P.byteOffset,P.length)}function kN(P,z){var Z=-1,Te=P.length;for(z||(z=Array(Te));++Z<Te;)z[Z]=P[Z];return z}function AN(P,z,Z,Te){var Je=!Z;Z||(Z={});for(var Tt=-1,$t=z.length;++Tt<$t;){var at=z[Tt],zt=void 0;zt===void 0&&(zt=P[at]),Je?Ta(Z,at,zt):Fs(Z,at,zt)}return Z}function RN(P){return Jt(function(z,Z){var Te=-1,Je=Z.length,Tt=Je>1?Z[Je-1]:void 0,$t=Je>2?Z[2]:void 0;for(Tt=P.length>3&&typeof Tt=="function"?(Je--,Tt):void 0,$t&&IN(Z[0],Z[1],$t)&&(Tt=Je<3?void 0:Tt,Je=1),z=Object(z);++Te<Je;){var at=Z[Te];at&&P(z,at,Te,Tt)}return z})}function _N(P){return function(z,Z,Te){for(var Je=-1,Tt=Object(z),$t=Te(z),at=$t.length;at--;){var zt=$t[++Je];if(Z(Tt[zt],zt,Tt)===!1)break}return z}}function Oh(P,z){var Z=P.__data__;return DN(z)?Z[typeof z=="string"?"string":"hash"]:Z.map}function Ey(P,z){var Z=ot(P,z);return Ul(Z)?Z:void 0}function LN(P){var z=on.call(P,gr),Z=P[gr];try{P[gr]=void 0;var Te=!0}catch{}var Je=ti.call(P);return Te&&(z?P[gr]=Z:delete P[gr]),Je}function PN(P){return typeof P.constructor=="function"&&!TE(P)?by(Ie(P)):{}}function wE(P,z){var Z=typeof P;return z=z??o,!!z&&(Z=="number"||Z!="symbol"&&ne.test(P))&&P>-1&&P%1==0&&P<z}function IN(P,z,Z){if(!Aa(Z))return!1;var Te=typeof z;return(Te=="number"?Ry(Z)&&wE(z,Z.length):Te=="string"&&z in Z)?Fh(Z[z],P):!1}function DN(P){var z=typeof P;return z=="string"||z=="number"||z=="symbol"||z=="boolean"?P!=="__proto__":P===null}function MN(P){return!!mr&&mr in P}function TE(P){var z=P&&P.constructor,Z=typeof z=="function"&&z.prototype||fn;return P===Z}function ON(P){var z=[];if(P!=null)for(var Z in Object(P))z.push(Z);return z}function FN(P){return ti.call(P)}function NN(P,z,Z){return z=Br(z===void 0?P.length-1:z,0),function(){for(var Te=arguments,Je=-1,Tt=Br(Te.length-z,0),$t=Array(Tt);++Je<Tt;)$t[Je]=Te[z+Je];Je=-1;for(var at=Array(z+1);++Je<z;)at[Je]=Te[Je];return at[z]=Z($t),Ke(P,this,at)}}function Cy(P,z){if(!(z==="constructor"&&typeof P[z]=="function")&&z!="__proto__")return P[z]}var jN=BN(To);function BN(P){var z=0,Z=0;return function(){var Te=wa(),Je=i-(Te-Z);if(Z=Te,Je>0){if(++z>=s)return arguments[0]}else z=0;return P.apply(void 0,arguments)}}function $N(P){if(P!=null){try{return ss.call(P)}catch{}try{return P+""}catch{}}return""}function Fh(P,z){return P===z||P!==P&&z!==z}var ky=Ca(function(){return arguments}())?Ca:function(P){return ju(P)&&on.call(P,"callee")&&!Ds.call(P,"callee")},Ay=Array.isArray;function Ry(P){return P!=null&&CE(P.length)&&!_y(P)}function zN(P){return ju(P)&&Ry(P)}var EE=So||GN;function _y(P){if(!Aa(P))return!1;var z=is(P);return z==p||z==m||z==c||z==b}function CE(P){return typeof P=="number"&&P>-1&&P%1==0&&P<=o}function Aa(P){var z=typeof P;return P!=null&&(z=="object"||z=="function")}function ju(P){return P!=null&&typeof P=="object"}function UN(P){if(!ju(P)||is(P)!=v)return!1;var z=Ie(P);if(z===null)return!0;var Z=on.call(z,"constructor")&&z.constructor;return typeof Z=="function"&&Z instanceof Z&&ss.call(Z)==ni}var kE=je?Ce(je):Ze;function VN(P){return AN(P,AE(P))}function AE(P){return Ry(P)?wo(P):Bt(P)}var WN=RN(function(P,z,Z,Te){Ni(P,z,Z,Te)});function HN(P){return function(){return P}}function RE(P){return P}function GN(){return!1}t.exports=WN})(mg,mg.exports);var U$=mg.exports;const vs=ih(U$);function Rr(t,e=[]){const n=S.useRef(t);return S.useEffect(()=>{n.current=t}),S.useCallback((...r)=>{var s;return(s=n.current)==null?void 0:s.call(n,...r)},e)}function am(t,e,n,r){const s=Rr(n);return S.useEffect(()=>{const i=typeof t=="function"?t():t??document;if(!(!n||!i))return i.addEventListener(e,s,r),()=>{i.removeEventListener(e,s,r)}},[e,t,r,s,n]),()=>{const i=typeof t=="function"?t():t??document;i==null||i.removeEventListener(e,s,r)}}function V$(t){const{isOpen:e,ref:n}=t,[r,s]=S.useState(e),[i,o]=S.useState(!1);return S.useEffect(()=>{i||(s(e),o(!0))},[e,i,r]),am(()=>n.current,"animationend",()=>{s(e)}),{present:!(e?!1:!r),onComplete(){var u;const l=o$(n.current),c=new l.CustomEvent("animationend",{bubbles:!0});(u=n.current)==null||u.dispatchEvent(c)}}}function TD(t){const{value:e,defaultValue:n,onChange:r,shouldUpdate:s=(f,p)=>f!==p}=t,i=Rr(r),o=Rr(s),[a,l]=S.useState(n),c=e!==void 0,u=c?e:a,d=Rr(f=>{const m=typeof f=="function"?f(u):f;o(u,m)&&(c||l(m),i(m))},[c,i,u,o]);return[u,d]}function fh(t={}){const{onClose:e,onOpen:n,isOpen:r,id:s}=t,i=Rr(n),o=Rr(e),[a,l]=S.useState(t.defaultIsOpen||!1),c=r!==void 0?r:a,u=r!==void 0,d=S.useId(),f=s??`disclosure-${d}`,p=S.useCallback(()=>{u||l(!1),o==null||o()},[u,o]),m=S.useCallback(()=>{u||l(!0),i==null||i()},[u,i]),g=S.useCallback(()=>{c?p():m()},[c,m,p]);function y(v={}){return{...v,"aria-expanded":c,"aria-controls":f,onClick(b){var w;(w=v.onClick)==null||w.call(v,b),g()}}}function x(v={}){return{...v,hidden:!c,id:f}}return{isOpen:c,onOpen:m,onClose:p,onToggle:g,isControlled:u,getButtonProps:y,getDisclosureProps:x}}const ta=globalThis!=null&&globalThis.document?S.useLayoutEffect:S.useEffect,bl=(t,e)=>{const n=S.useRef(!1),r=S.useRef(!1);S.useEffect(()=>{if(n.current&&r.current)return t();r.current=!0},e),S.useEffect(()=>(n.current=!0,()=>{n.current=!1}),[])};function W$(t){const e=t.current;if(!e)return!1;const n=l$(e);return!n||e.contains(n)?!1:!!T$(n)}function H$(t,e){const{shouldFocus:n,visible:r,focusRef:s}=e,i=n&&!r;bl(()=>{if(!i||W$(t))return;const o=(s==null?void 0:s.current)||t.current;let a;if(o)return a=requestAnimationFrame(()=>{o.focus({preventScroll:!0})}),()=>{cancelAnimationFrame(a)}},[i,t,s])}function G$(t,e){const n=S.useId();return S.useMemo(()=>t||[e,n].filter(Boolean).join("-"),[t,e,n])}function K$(t,...e){const n=G$(t);return S.useMemo(()=>e.map(r=>`${r}-${n}`),[n,e])}function ED(t){const e=S.useRef(null);return e.current=t,e}function Y$(t,e){if(t!=null){if(typeof t=="function"){t(e);return}try{t.current=e}catch{throw new Error(`Cannot assign value '${e}' to ref '${t}'`)}}}function Cn(...t){return e=>{t.forEach(n=>{Y$(n,e)})}}function q$(...t){return S.useMemo(()=>Cn(...t),t)}function X$(t){const{ref:e,handler:n,enabled:r=!0}=t,s=Rr(n),o=S.useRef({isPointerDown:!1,ignoreEmulatedMouseEvents:!1}).current;S.useEffect(()=>{if(!r)return;const a=d=>{lv(d,e)&&(o.isPointerDown=!0)},l=d=>{if(o.ignoreEmulatedMouseEvents){o.ignoreEmulatedMouseEvents=!1;return}o.isPointerDown&&n&&lv(d,e)&&(o.isPointerDown=!1,s(d))},c=d=>{o.ignoreEmulatedMouseEvents=!0,n&&o.isPointerDown&&lv(d,e)&&(o.isPointerDown=!1,s(d))},u=CD(e.current);return u.addEventListener("mousedown",a,!0),u.addEventListener("mouseup",l,!0),u.addEventListener("touchstart",a,!0),u.addEventListener("touchend",c,!0),()=>{u.removeEventListener("mousedown",a,!0),u.removeEventListener("mouseup",l,!0),u.removeEventListener("touchstart",a,!0),u.removeEventListener("touchend",c,!0)}},[n,e,s,o,r])}function lv(t,e){var r,s;const n=((r=t.composedPath)==null?void 0:r.call(t)[0])??t.target;return n&&!CD(n).contains(n)?!1:!((s=e.current)!=null&&s.contains(n))}function CD(t){return(t==null?void 0:t.ownerDocument)??document}function Q$(t){const e=S.useRef();return S.useEffect(()=>{e.current=t},[t]),e.current}function Z$(t,e){const n=Rr(t);S.useEffect(()=>{if(e==null)return;let r=null;return r=window.setTimeout(()=>{n()},e),()=>{r&&window.clearTimeout(r)}},[e,n])}const kD=1/60*1e3,J$=typeof performance<"u"?()=>performance.now():()=>Date.now(),AD=typeof window<"u"?t=>window.requestAnimationFrame(t):t=>setTimeout(()=>t(J$()),kD);function ez(t){let e=[],n=[],r=0,s=!1,i=!1;const o=new WeakSet,a={schedule:(l,c=!1,u=!1)=>{const d=u&&s,f=d?e:n;return c&&o.add(l),f.indexOf(l)===-1&&(f.push(l),d&&s&&(r=e.length)),l},cancel:l=>{const c=n.indexOf(l);c!==-1&&n.splice(c,1),o.delete(l)},process:l=>{if(s){i=!0;return}if(s=!0,[e,n]=[n,e],n.length=0,r=e.length,r)for(let c=0;c<r;c++){const u=e[c];u(l),o.has(u)&&(a.schedule(u),t())}s=!1,i&&(i=!1,a.process(l))}};return a}const tz=40;let Nb=!0,Rf=!1,jb=!1;const Mc={delta:0,timestamp:0},hh=["read","update","preRender","render","postRender"],C0=hh.reduce((t,e)=>(t[e]=ez(()=>Rf=!0),t),{}),nz=hh.reduce((t,e)=>{const n=C0[e];return t[e]=(r,s=!1,i=!1)=>(Rf||iz(),n.schedule(r,s,i)),t},{}),rz=hh.reduce((t,e)=>(t[e]=C0[e].cancel,t),{});hh.reduce((t,e)=>(t[e]=()=>C0[e].process(Mc),t),{});const sz=t=>C0[t].process(Mc),RD=t=>{Rf=!1,Mc.delta=Nb?kD:Math.max(Math.min(t-Mc.timestamp,tz),1),Mc.timestamp=t,jb=!0,hh.forEach(sz),jb=!1,Rf&&(Nb=!1,AD(RD))},iz=()=>{Rf=!0,Nb=!0,jb||AD(RD)},dC=()=>Mc;var oz=Object.defineProperty,az=(t,e,n)=>e in t?oz(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Bs=(t,e,n)=>(az(t,typeof e!="symbol"?e+"":e,n),n);class lz{constructor(e,n,r){if(Bs(this,"history",[]),Bs(this,"startEvent",null),Bs(this,"lastEvent",null),Bs(this,"lastEventInfo",null),Bs(this,"handlers",{}),Bs(this,"removeListeners",()=>{}),Bs(this,"threshold",3),Bs(this,"win"),Bs(this,"updatePoint",()=>{if(!(this.lastEvent&&this.lastEventInfo))return;const a=cv(this.lastEventInfo,this.history),l=this.startEvent!==null,c=fz(a.offset,{x:0,y:0})>=this.threshold;if(!l&&!c)return;const{timestamp:u}=dC();this.history.push({...a.point,timestamp:u});const{onStart:d,onMove:f}=this.handlers;l||(d==null||d(this.lastEvent,a),this.startEvent=this.lastEvent),f==null||f(this.lastEvent,a)}),Bs(this,"onPointerMove",(a,l)=>{this.lastEvent=a,this.lastEventInfo=l,nz.update(this.updatePoint,!0)}),Bs(this,"onPointerUp",(a,l)=>{const c=cv(l,this.history),{onEnd:u,onSessionEnd:d}=this.handlers;d==null||d(a,c),this.end(),!(!u||!this.startEvent)&&(u==null||u(a,c))}),this.win=e.view??window,u$(e))return;this.handlers=n,r&&(this.threshold=r),e.stopPropagation(),e.preventDefault();const s={point:hD(e)},{timestamp:i}=dC();this.history=[{...s.point,timestamp:i}];const{onSessionStart:o}=n;o==null||o(e,cv(s,this.history)),this.removeListeners=dz(im(this.win,"pointermove",this.onPointerMove),im(this.win,"pointerup",this.onPointerUp),im(this.win,"pointercancel",this.onPointerUp))}updateHandlers(e){this.handlers=e}end(){var e;(e=this.removeListeners)==null||e.call(this),rz.update(this.updatePoint)}}function fC(t,e){return{x:t.x-e.x,y:t.y-e.y}}function cv(t,e){return{point:t.point,delta:fC(t.point,e[e.length-1]),offset:fC(t.point,e[0]),velocity:uz(e,.1)}}const cz=t=>t*1e3;function uz(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const s=t[t.length-1];for(;n>=0&&(r=t[n],!(s.timestamp-r.timestamp>cz(e)));)n--;if(!r)return{x:0,y:0};const i=(s.timestamp-r.timestamp)/1e3;if(i===0)return{x:0,y:0};const o={x:(s.x-r.x)/i,y:(s.y-r.y)/i};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function dz(...t){return e=>t.reduce((n,r)=>r(n),e)}function uv(t,e){return Math.abs(t-e)}function hC(t){return"x"in t&&"y"in t}function fz(t,e){if(typeof t=="number"&&typeof e=="number")return uv(t,e);if(hC(t)&&hC(e)){const n=uv(t.x,e.x),r=uv(t.y,e.y);return Math.sqrt(n**2+r**2)}return 0}function hz(t,e){const{onPan:n,onPanStart:r,onPanEnd:s,onPanSessionStart:i,onPanSessionEnd:o,threshold:a}=e,l=!!(n||r||s||i||o),c=S.useRef(null),u=ED({onSessionStart:i,onSessionEnd:o,onStart:r,onMove:n,onEnd(d,f){c.current=null,s==null||s(d,f)}});S.useEffect(()=>{var d;(d=c.current)==null||d.updateHandlers(u.current)}),S.useEffect(()=>{const d=t.current;if(!d||!l)return;function f(p){c.current=new lz(p,u.current,a)}return im(d,"pointerdown",f)},[t,l,u,a]),S.useEffect(()=>()=>{var d;(d=c.current)==null||d.end(),c.current=null},[])}const Sn={open:(t,e)=>`${t}[data-open], ${t}[open], ${t}[data-state=open] ${e}`,closed:(t,e)=>`${t}[data-closed], ${t}[data-state=closed] ${e}`,hover:(t,e)=>`${t}:hover ${e}, ${t}[data-hover] ${e}`,focus:(t,e)=>`${t}:focus ${e}, ${t}[data-focus] ${e}`,focusVisible:(t,e)=>`${t}:focus-visible ${e}`,focusWithin:(t,e)=>`${t}:focus-within ${e}`,active:(t,e)=>`${t}:active ${e}, ${t}[data-active] ${e}`,disabled:(t,e)=>`${t}:disabled ${e}, ${t}[data-disabled] ${e}`,invalid:(t,e)=>`${t}:invalid ${e}, ${t}[data-invalid] ${e}`,checked:(t,e)=>`${t}:checked ${e}, ${t}[data-checked] ${e}`,indeterminate:(t,e)=>`${t}:indeterminate ${e}, ${t}[aria-checked=mixed] ${e}, ${t}[data-indeterminate] ${e}`,readOnly:(t,e)=>`${t}:read-only ${e}, ${t}[readonly] ${e}, ${t}[data-read-only] ${e}`,expanded:(t,e)=>`${t}:read-only ${e}, ${t}[aria-expanded=true] ${e}, ${t}[data-expanded] ${e}`,placeholderShown:(t,e)=>`${t}:placeholder-shown ${e}`},ii=t=>_D(e=>t(e,"&"),"[role=group]","[data-group]",".group"),ji=t=>_D(e=>t(e,"~ &"),"[data-peer]",".peer"),_D=(t,...e)=>e.map(t).join(", "),pz={_hover:"&:hover, &[data-hover]",_active:"&:active, &[data-active]",_focus:"&:focus, &[data-focus]",_highlighted:"&[data-highlighted]",_focusWithin:"&:focus-within, &[data-focus-within]",_focusVisible:"&:focus-visible, &[data-focus-visible]",_disabled:"&:disabled, &[disabled], &[aria-disabled=true], &[data-disabled]",_readOnly:"&[aria-readonly=true], &[readonly], &[data-readonly]",_before:"&::before",_after:"&::after",_empty:"&:empty, &[data-empty]",_expanded:"&[aria-expanded=true], &[data-expanded], &[data-state=expanded]",_checked:"&[aria-checked=true], &[data-checked], &[data-state=checked]",_grabbed:"&[aria-grabbed=true], &[data-grabbed]",_pressed:"&[aria-pressed=true], &[data-pressed]",_invalid:"&[aria-invalid=true], &[data-invalid]",_valid:"&[data-valid], &[data-state=valid]",_loading:"&[data-loading], &[aria-busy=true]",_selected:"&[aria-selected=true], &[data-selected]",_hidden:"&[hidden], &[data-hidden]",_autofill:"&:-webkit-autofill",_even:"&:nth-of-type(even)",_odd:"&:nth-of-type(odd)",_first:"&:first-of-type",_firstLetter:"&::first-letter",_last:"&:last-of-type",_notFirst:"&:not(:first-of-type)",_notLast:"&:not(:last-of-type)",_visited:"&:visited",_activeLink:"&[aria-current=page]",_activeStep:"&[aria-current=step]",_indeterminate:"&:indeterminate, &[aria-checked=mixed], &[data-indeterminate], &[data-state=indeterminate]",_groupOpen:ii(Sn.open),_groupClosed:ii(Sn.closed),_groupHover:ii(Sn.hover),_peerHover:ji(Sn.hover),_groupFocus:ii(Sn.focus),_peerFocus:ji(Sn.focus),_groupFocusVisible:ii(Sn.focusVisible),_peerFocusVisible:ji(Sn.focusVisible),_groupActive:ii(Sn.active),_peerActive:ji(Sn.active),_groupDisabled:ii(Sn.disabled),_peerDisabled:ji(Sn.disabled),_groupInvalid:ii(Sn.invalid),_peerInvalid:ji(Sn.invalid),_groupChecked:ii(Sn.checked),_peerChecked:ji(Sn.checked),_groupFocusWithin:ii(Sn.focusWithin),_peerFocusWithin:ji(Sn.focusWithin),_peerPlaceholderShown:ji(Sn.placeholderShown),_placeholder:"&::placeholder, &[data-placeholder]",_placeholderShown:"&:placeholder-shown, &[data-placeholder-shown]",_fullScreen:"&:fullscreen, &[data-fullscreen]",_selection:"&::selection",_rtl:"[dir=rtl] &, &[dir=rtl]",_ltr:"[dir=ltr] &, &[dir=ltr]",_mediaDark:"@media (prefers-color-scheme: dark)",_mediaReduceMotion:"@media (prefers-reduced-motion: reduce)",_dark:".chakra-ui-dark &:not([data-theme]),[data-theme=dark] &:not([data-theme]),&[data-theme=dark]",_light:".chakra-ui-light &:not([data-theme]),[data-theme=light] &:not([data-theme]),&[data-theme=light]",_horizontal:"&[data-orientation=horizontal]",_vertical:"&[data-orientation=vertical]",_open:"&[data-open], &[open], &[data-state=open]",_closed:"&[data-closed], &[data-state=closed]",_complete:"&[data-complete]",_incomplete:"&[data-incomplete]",_current:"&[data-current]"};function k0(t){const e=t.conditions??{},n=Object.fromEntries(Object.entries(e).map(([r,s])=>[`_${r}`,s]));return{...pz,...n}}function LD(t){return Object.keys(k0(t))}const mz=t=>/!(important)?$/.test(t),pC=t=>typeof t=="string"?t.replace(/!(important)?$/,"").trim():t,gz=(t,e)=>n=>{const r=String(e),s=mz(r),i=pC(r),o=t?`${t}.${i}`:i;let a=er(n.__cssMap)&&o in n.__cssMap?n.__cssMap[o].varRef:e;return a=pC(a),s?`${a} !important`:a};function bw(t){const{scale:e,transform:n,compose:r}=t;return(i,o)=>{const a=gz(e,i)(o);let l=(n==null?void 0:n(a,o))??a;return r&&(l=r(l,o)),l}}const np=(...t)=>e=>t.reduce((n,r)=>r(n),e);function os(t,e){return n=>{const r={property:n,scale:t};return r.transform=bw({scale:t,transform:e}),r}}const yz=({rtl:t,ltr:e})=>n=>n.direction==="rtl"?t:e;function vz(t){const{property:e,scale:n,transform:r}=t;return{scale:n,property:yz(e),transform:n?bw({scale:n,compose:r}):r}}const PD=["rotate(var(--chakra-rotate, 0))","scaleX(var(--chakra-scale-x, 1))","scaleY(var(--chakra-scale-y, 1))","skewX(var(--chakra-skew-x, 0))","skewY(var(--chakra-skew-y, 0))"];function xz(){return["translateX(var(--chakra-translate-x, 0))","translateY(var(--chakra-translate-y, 0))",...PD].join(" ")}function bz(){return["translate3d(var(--chakra-translate-x, 0), var(--chakra-translate-y, 0), 0)",...PD].join(" ")}const Sz={"--chakra-blur":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-brightness":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-contrast":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-grayscale":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-hue-rotate":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-invert":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-saturate":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-sepia":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-drop-shadow":"var(--chakra-empty,/*!*/ /*!*/)",filter:["var(--chakra-blur)","var(--chakra-brightness)","var(--chakra-contrast)","var(--chakra-grayscale)","var(--chakra-hue-rotate)","var(--chakra-invert)","var(--chakra-saturate)","var(--chakra-sepia)","var(--chakra-drop-shadow)"].join(" ")},wz={backdropFilter:["var(--chakra-backdrop-blur)","var(--chakra-backdrop-brightness)","var(--chakra-backdrop-contrast)","var(--chakra-backdrop-grayscale)","var(--chakra-backdrop-hue-rotate)","var(--chakra-backdrop-invert)","var(--chakra-backdrop-opacity)","var(--chakra-backdrop-saturate)","var(--chakra-backdrop-sepia)"].join(" "),"--chakra-backdrop-blur":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-brightness":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-contrast":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-grayscale":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-hue-rotate":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-invert":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-opacity":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-saturate":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-sepia":"var(--chakra-empty,/*!*/ /*!*/)"};function Tz(t){return{"--chakra-ring-offset-shadow":"var(--chakra-ring-inset) 0 0 0 var(--chakra-ring-offset-width) var(--chakra-ring-offset-color)","--chakra-ring-shadow":"var(--chakra-ring-inset) 0 0 0 calc(var(--chakra-ring-width) + var(--chakra-ring-offset-width)) var(--chakra-ring-color)","--chakra-ring-width":t,boxShadow:["var(--chakra-ring-offset-shadow)","var(--chakra-ring-shadow)","var(--chakra-shadow, 0 0 #0000)"].join(", ")}}const Ez={"row-reverse":{space:"--chakra-space-x-reverse",divide:"--chakra-divide-x-reverse"},"column-reverse":{space:"--chakra-space-y-reverse",divide:"--chakra-divide-y-reverse"}},Bb={"to-t":"to top","to-tr":"to top right","to-r":"to right","to-br":"to bottom right","to-b":"to bottom","to-bl":"to bottom left","to-l":"to left","to-tl":"to top left"},Cz=new Set(Object.values(Bb)),$b=new Set(["none","-moz-initial","inherit","initial","revert","unset"]),kz=t=>t.trim();function Az(t,e){if(t==null||$b.has(t))return t;if(!(zb(t)||$b.has(t)))return`url('${t}')`;const s=/(^[a-z-A-Z]+)\((.*)\)/g.exec(t),i=s==null?void 0:s[1],o=s==null?void 0:s[2];if(!i||!o)return t;const a=i.includes("-gradient")?i:`${i}-gradient`,[l,...c]=o.split(",").map(kz).filter(Boolean);if((c==null?void 0:c.length)===0)return t;const u=l in Bb?Bb[l]:l;c.unshift(u);const d=c.map(f=>{if(Cz.has(f))return f;const p=f.indexOf(" "),[m,g]=p!==-1?[f.substr(0,p),f.substr(p+1)]:[f],y=zb(g)?g:g&&g.split(" "),x=`colors.${m}`,v=x in e.__cssMap?e.__cssMap[x].varRef:m;return y?[v,...Array.isArray(y)?y:[y]].join(" "):v});return`${a}(${d.join(", ")})`}const zb=t=>typeof t=="string"&&t.includes("(")&&t.includes(")"),Rz=(t,e)=>Az(t,e??{});function _z(t){return/^var\(--.+\)$/.test(t)}const Lz=t=>{const e=parseFloat(t.toString()),n=t.toString().replace(String(e),"");return{unitless:!n,value:e,unit:n}},oi=t=>e=>`${t}(${e})`,Qe={filter(t){return t!=="auto"?t:Sz},backdropFilter(t){return t!=="auto"?t:wz},ring(t){return Tz(Qe.px(t))},bgClip(t){return t==="text"?{color:"transparent",backgroundClip:"text"}:{backgroundClip:t}},transform(t){return t==="auto"?xz():t==="auto-gpu"?bz():t},vh(t){return t==="$100vh"?"var(--chakra-vh)":t},px(t){if(t==null)return t;const{unitless:e}=Lz(t);return e||typeof t=="number"?`${t}px`:t},fraction(t){return typeof t!="number"||t>1?t:`${t*100}%`},float(t,e){const n={left:"right",right:"left"};return e.direction==="rtl"?n[t]:t},degree(t){if(_z(t)||t==null)return t;const e=typeof t=="string"&&!t.endsWith("deg");return typeof t=="number"||e?`${t}deg`:t},gradient:Rz,blur:oi("blur"),opacity:oi("opacity"),brightness:oi("brightness"),contrast:oi("contrast"),dropShadow:oi("drop-shadow"),grayscale:oi("grayscale"),hueRotate:t=>oi("hue-rotate")(Qe.degree(t)),invert:oi("invert"),saturate:oi("saturate"),sepia:oi("sepia"),bgImage(t){return t==null||zb(t)||$b.has(t)?t:`url(${t})`},outline(t){const e=String(t)==="0"||String(t)==="none";return t!==null&&e?{outline:"2px solid transparent",outlineOffset:"2px"}:{outline:t}},flexDirection(t){const{space:e,divide:n}=Ez[t]??{},r={flexDirection:t};return e&&(r[e]=1),n&&(r[n]=1),r}},$={borderWidths:os("borderWidths"),borderStyles:os("borderStyles"),colors:os("colors"),borders:os("borders"),gradients:os("gradients",Qe.gradient),radii:os("radii",Qe.px),space:os("space",np(Qe.vh,Qe.px)),spaceT:os("space",np(Qe.vh,Qe.px)),degreeT(t){return{property:t,transform:Qe.degree}},prop(t,e,n){return{property:t,scale:e,...e&&{transform:bw({scale:e,transform:n})}}},propT(t,e){return{property:t,transform:e}},sizes:os("sizes",np(Qe.vh,Qe.px)),sizesT:os("sizes",np(Qe.vh,Qe.fraction)),shadows:os("shadows"),logical:vz,blur:os("blur",Qe.blur)},lm={background:$.colors("background"),backgroundColor:$.colors("backgroundColor"),backgroundImage:$.gradients("backgroundImage"),backgroundSize:!0,backgroundPosition:!0,backgroundRepeat:!0,backgroundAttachment:!0,backgroundClip:{transform:Qe.bgClip},bgSize:$.prop("backgroundSize"),bgPosition:$.prop("backgroundPosition"),bg:$.colors("background"),bgColor:$.colors("backgroundColor"),bgPos:$.prop("backgroundPosition"),bgRepeat:$.prop("backgroundRepeat"),bgAttachment:$.prop("backgroundAttachment"),bgGradient:$.gradients("backgroundImage"),bgClip:{transform:Qe.bgClip}};Object.assign(lm,{bgImage:lm.backgroundImage,bgImg:lm.backgroundImage});const lt={border:$.borders("border"),borderWidth:$.borderWidths("borderWidth"),borderStyle:$.borderStyles("borderStyle"),borderColor:$.colors("borderColor"),borderRadius:$.radii("borderRadius"),borderTop:$.borders("borderTop"),borderBlockStart:$.borders("borderBlockStart"),borderTopLeftRadius:$.radii("borderTopLeftRadius"),borderStartStartRadius:$.logical({scale:"radii",property:{ltr:"borderTopLeftRadius",rtl:"borderTopRightRadius"}}),borderEndStartRadius:$.logical({scale:"radii",property:{ltr:"borderBottomLeftRadius",rtl:"borderBottomRightRadius"}}),borderTopRightRadius:$.radii("borderTopRightRadius"),borderStartEndRadius:$.logical({scale:"radii",property:{ltr:"borderTopRightRadius",rtl:"borderTopLeftRadius"}}),borderEndEndRadius:$.logical({scale:"radii",property:{ltr:"borderBottomRightRadius",rtl:"borderBottomLeftRadius"}}),borderRight:$.borders("borderRight"),borderInlineEnd:$.borders("borderInlineEnd"),borderBottom:$.borders("borderBottom"),borderBlockEnd:$.borders("borderBlockEnd"),borderBottomLeftRadius:$.radii("borderBottomLeftRadius"),borderBottomRightRadius:$.radii("borderBottomRightRadius"),borderLeft:$.borders("borderLeft"),borderInlineStart:{property:"borderInlineStart",scale:"borders"},borderInlineStartRadius:$.logical({scale:"radii",property:{ltr:["borderTopLeftRadius","borderBottomLeftRadius"],rtl:["borderTopRightRadius","borderBottomRightRadius"]}}),borderInlineEndRadius:$.logical({scale:"radii",property:{ltr:["borderTopRightRadius","borderBottomRightRadius"],rtl:["borderTopLeftRadius","borderBottomLeftRadius"]}}),borderX:$.borders(["borderLeft","borderRight"]),borderInline:$.borders("borderInline"),borderY:$.borders(["borderTop","borderBottom"]),borderBlock:$.borders("borderBlock"),borderTopWidth:$.borderWidths("borderTopWidth"),borderBlockStartWidth:$.borderWidths("borderBlockStartWidth"),borderTopColor:$.colors("borderTopColor"),borderBlockStartColor:$.colors("borderBlockStartColor"),borderTopStyle:$.borderStyles("borderTopStyle"),borderBlockStartStyle:$.borderStyles("borderBlockStartStyle"),borderBottomWidth:$.borderWidths("borderBottomWidth"),borderBlockEndWidth:$.borderWidths("borderBlockEndWidth"),borderBottomColor:$.colors("borderBottomColor"),borderBlockEndColor:$.colors("borderBlockEndColor"),borderBottomStyle:$.borderStyles("borderBottomStyle"),borderBlockEndStyle:$.borderStyles("borderBlockEndStyle"),borderLeftWidth:$.borderWidths("borderLeftWidth"),borderInlineStartWidth:$.borderWidths("borderInlineStartWidth"),borderLeftColor:$.colors("borderLeftColor"),borderInlineStartColor:$.colors("borderInlineStartColor"),borderLeftStyle:$.borderStyles("borderLeftStyle"),borderInlineStartStyle:$.borderStyles("borderInlineStartStyle"),borderRightWidth:$.borderWidths("borderRightWidth"),borderInlineEndWidth:$.borderWidths("borderInlineEndWidth"),borderRightColor:$.colors("borderRightColor"),borderInlineEndColor:$.colors("borderInlineEndColor"),borderRightStyle:$.borderStyles("borderRightStyle"),borderInlineEndStyle:$.borderStyles("borderInlineEndStyle"),borderTopRadius:$.radii(["borderTopLeftRadius","borderTopRightRadius"]),borderBottomRadius:$.radii(["borderBottomLeftRadius","borderBottomRightRadius"]),borderLeftRadius:$.radii(["borderTopLeftRadius","borderBottomLeftRadius"]),borderRightRadius:$.radii(["borderTopRightRadius","borderBottomRightRadius"])};Object.assign(lt,{rounded:lt.borderRadius,roundedTop:lt.borderTopRadius,roundedTopLeft:lt.borderTopLeftRadius,roundedTopRight:lt.borderTopRightRadius,roundedTopStart:lt.borderStartStartRadius,roundedTopEnd:lt.borderStartEndRadius,roundedBottom:lt.borderBottomRadius,roundedBottomLeft:lt.borderBottomLeftRadius,roundedBottomRight:lt.borderBottomRightRadius,roundedBottomStart:lt.borderEndStartRadius,roundedBottomEnd:lt.borderEndEndRadius,roundedLeft:lt.borderLeftRadius,roundedRight:lt.borderRightRadius,roundedStart:lt.borderInlineStartRadius,roundedEnd:lt.borderInlineEndRadius,borderStart:lt.borderInlineStart,borderEnd:lt.borderInlineEnd,borderTopStartRadius:lt.borderStartStartRadius,borderTopEndRadius:lt.borderStartEndRadius,borderBottomStartRadius:lt.borderEndStartRadius,borderBottomEndRadius:lt.borderEndEndRadius,borderStartRadius:lt.borderInlineStartRadius,borderEndRadius:lt.borderInlineEndRadius,borderStartWidth:lt.borderInlineStartWidth,borderEndWidth:lt.borderInlineEndWidth,borderStartColor:lt.borderInlineStartColor,borderEndColor:lt.borderInlineEndColor,borderStartStyle:lt.borderInlineStartStyle,borderEndStyle:lt.borderInlineEndStyle});const Pz={color:$.colors("color"),textColor:$.colors("color"),fill:$.colors("fill"),stroke:$.colors("stroke"),accentColor:$.colors("accentColor"),textFillColor:$.colors("textFillColor")},gg={alignItems:!0,alignContent:!0,justifyItems:!0,justifyContent:!0,flexWrap:!0,flexDirection:{transform:Qe.flexDirection},flex:!0,flexFlow:!0,flexGrow:!0,flexShrink:!0,flexBasis:$.sizes("flexBasis"),justifySelf:!0,alignSelf:!0,order:!0,placeItems:!0,placeContent:!0,placeSelf:!0,gap:$.space("gap"),rowGap:$.space("rowGap"),columnGap:$.space("columnGap")};Object.assign(gg,{flexDir:gg.flexDirection});const us={width:$.sizesT("width"),inlineSize:$.sizesT("inlineSize"),height:$.sizes("height"),blockSize:$.sizes("blockSize"),boxSize:$.sizes(["width","height"]),minWidth:$.sizes("minWidth"),minInlineSize:$.sizes("minInlineSize"),minHeight:$.sizes("minHeight"),minBlockSize:$.sizes("minBlockSize"),maxWidth:$.sizes("maxWidth"),maxInlineSize:$.sizes("maxInlineSize"),maxHeight:$.sizes("maxHeight"),maxBlockSize:$.sizes("maxBlockSize"),overflow:!0,overflowX:!0,overflowY:!0,overscrollBehavior:!0,overscrollBehaviorX:!0,overscrollBehaviorY:!0,display:!0,aspectRatio:!0,hideFrom:{scale:"breakpoints",transform:(t,e)=>{var s,i;return{[`@media screen and (min-width: ${((i=(s=e.__breakpoints)==null?void 0:s.get(t))==null?void 0:i.minW)??t})`]:{display:"none"}}}},hideBelow:{scale:"breakpoints",transform:(t,e)=>{var s,i;return{[`@media screen and (max-width: ${((i=(s=e.__breakpoints)==null?void 0:s.get(t))==null?void 0:i._minW)??t})`]:{display:"none"}}}},verticalAlign:!0,boxSizing:!0,boxDecorationBreak:!0,float:$.propT("float",Qe.float),objectFit:!0,objectPosition:!0,visibility:!0,isolation:!0};Object.assign(us,{w:us.width,h:us.height,minW:us.minWidth,maxW:us.maxWidth,minH:us.minHeight,maxH:us.maxHeight,overscroll:us.overscrollBehavior,overscrollX:us.overscrollBehaviorX,overscrollY:us.overscrollBehaviorY});const Iz={filter:{transform:Qe.filter},blur:$.blur("--chakra-blur"),brightness:$.propT("--chakra-brightness",Qe.brightness),contrast:$.propT("--chakra-contrast",Qe.contrast),hueRotate:$.propT("--chakra-hue-rotate",Qe.hueRotate),invert:$.propT("--chakra-invert",Qe.invert),saturate:$.propT("--chakra-saturate",Qe.saturate),dropShadow:$.propT("--chakra-drop-shadow",Qe.dropShadow),backdropFilter:{transform:Qe.backdropFilter},backdropBlur:$.blur("--chakra-backdrop-blur"),backdropBrightness:$.propT("--chakra-backdrop-brightness",Qe.brightness),backdropContrast:$.propT("--chakra-backdrop-contrast",Qe.contrast),backdropHueRotate:$.propT("--chakra-backdrop-hue-rotate",Qe.hueRotate),backdropInvert:$.propT("--chakra-backdrop-invert",Qe.invert),backdropSaturate:$.propT("--chakra-backdrop-saturate",Qe.saturate)},Dz={ring:{transform:Qe.ring},ringColor:$.colors("--chakra-ring-color"),ringOffset:$.prop("--chakra-ring-offset-width"),ringOffsetColor:$.colors("--chakra-ring-offset-color"),ringInset:$.prop("--chakra-ring-inset")},Mz={appearance:!0,cursor:!0,resize:!0,userSelect:!0,pointerEvents:!0,outline:{transform:Qe.outline},outlineOffset:!0,outlineColor:$.colors("outlineColor")},ID={gridGap:$.space("gridGap"),gridColumnGap:$.space("gridColumnGap"),gridRowGap:$.space("gridRowGap"),gridColumn:!0,gridRow:!0,gridAutoFlow:!0,gridAutoColumns:!0,gridColumnStart:!0,gridColumnEnd:!0,gridRowStart:!0,gridRowEnd:!0,gridAutoRows:!0,gridTemplate:!0,gridTemplateColumns:!0,gridTemplateRows:!0,gridTemplateAreas:!0,gridArea:!0};function Oz(t,e,n,r){const s=typeof e=="string"?e.split("."):[e];for(r=0;r<s.length&&t;r+=1)t=t[s[r]];return t===void 0?n:t}const Fz=t=>{const e=new WeakMap;return(r,s,i,o)=>{if(typeof r>"u")return t(r,s,i);e.has(r)||e.set(r,new Map);const a=e.get(r);if(a.has(s))return a.get(s);const l=t(r,s,i,o);return a.set(s,l),l}},Nz=Fz(Oz),jz={border:"0px",clip:"rect(0, 0, 0, 0)",width:"1px",height:"1px",margin:"-1px",padding:"0px",overflow:"hidden",whiteSpace:"nowrap",position:"absolute"},Bz={position:"static",width:"auto",height:"auto",clip:"auto",padding:"0",margin:"0",overflow:"visible",whiteSpace:"normal"},dv=(t,e,n)=>{const r={},s=Nz(t,e,{});for(const i in s)i in n&&n[i]!=null||(r[i]=s[i]);return r},$z={srOnly:{transform(t){return t===!0?jz:t==="focusable"?Bz:{}}},layerStyle:{processResult:!0,transform:(t,e,n)=>dv(e,`layerStyles.${t}`,n)},textStyle:{processResult:!0,transform:(t,e,n)=>dv(e,`textStyles.${t}`,n)},apply:{processResult:!0,transform:(t,e,n)=>dv(e,t,n)}},Ud={position:!0,pos:$.prop("position"),zIndex:$.prop("zIndex","zIndices"),inset:$.spaceT("inset"),insetX:$.spaceT(["left","right"]),insetInline:$.spaceT("insetInline"),insetY:$.spaceT(["top","bottom"]),insetBlock:$.spaceT("insetBlock"),top:$.spaceT("top"),insetBlockStart:$.spaceT("insetBlockStart"),bottom:$.spaceT("bottom"),insetBlockEnd:$.spaceT("insetBlockEnd"),left:$.spaceT("left"),insetInlineStart:$.logical({scale:"space",property:{ltr:"left",rtl:"right"}}),right:$.spaceT("right"),insetInlineEnd:$.logical({scale:"space",property:{ltr:"right",rtl:"left"}})};Object.assign(Ud,{insetStart:Ud.insetInlineStart,insetEnd:Ud.insetInlineEnd});const Ub={boxShadow:$.shadows("boxShadow"),mixBlendMode:!0,blendMode:$.prop("mixBlendMode"),backgroundBlendMode:!0,bgBlendMode:$.prop("backgroundBlendMode"),opacity:!0};Object.assign(Ub,{shadow:Ub.boxShadow});const Dt={margin:$.spaceT("margin"),marginTop:$.spaceT("marginTop"),marginBlockStart:$.spaceT("marginBlockStart"),marginRight:$.spaceT("marginRight"),marginInlineEnd:$.spaceT("marginInlineEnd"),marginBottom:$.spaceT("marginBottom"),marginBlockEnd:$.spaceT("marginBlockEnd"),marginLeft:$.spaceT("marginLeft"),marginInlineStart:$.spaceT("marginInlineStart"),marginX:$.spaceT(["marginInlineStart","marginInlineEnd"]),marginInline:$.spaceT("marginInline"),marginY:$.spaceT(["marginTop","marginBottom"]),marginBlock:$.spaceT("marginBlock"),padding:$.space("padding"),paddingTop:$.space("paddingTop"),paddingBlockStart:$.space("paddingBlockStart"),paddingRight:$.space("paddingRight"),paddingBottom:$.space("paddingBottom"),paddingBlockEnd:$.space("paddingBlockEnd"),paddingLeft:$.space("paddingLeft"),paddingInlineStart:$.space("paddingInlineStart"),paddingInlineEnd:$.space("paddingInlineEnd"),paddingX:$.space(["paddingInlineStart","paddingInlineEnd"]),paddingInline:$.space("paddingInline"),paddingY:$.space(["paddingTop","paddingBottom"]),paddingBlock:$.space("paddingBlock")};Object.assign(Dt,{m:Dt.margin,mt:Dt.marginTop,mr:Dt.marginRight,me:Dt.marginInlineEnd,marginEnd:Dt.marginInlineEnd,mb:Dt.marginBottom,ml:Dt.marginLeft,ms:Dt.marginInlineStart,marginStart:Dt.marginInlineStart,mx:Dt.marginX,my:Dt.marginY,p:Dt.padding,pt:Dt.paddingTop,py:Dt.paddingY,px:Dt.paddingX,pb:Dt.paddingBottom,pl:Dt.paddingLeft,ps:Dt.paddingInlineStart,paddingStart:Dt.paddingInlineStart,pr:Dt.paddingRight,pe:Dt.paddingInlineEnd,paddingEnd:Dt.paddingInlineEnd});const zz={scrollBehavior:!0,scrollSnapAlign:!0,scrollSnapStop:!0,scrollSnapType:!0,scrollMargin:$.spaceT("scrollMargin"),scrollMarginTop:$.spaceT("scrollMarginTop"),scrollMarginBottom:$.spaceT("scrollMarginBottom"),scrollMarginLeft:$.spaceT("scrollMarginLeft"),scrollMarginRight:$.spaceT("scrollMarginRight"),scrollMarginX:$.spaceT(["scrollMarginLeft","scrollMarginRight"]),scrollMarginY:$.spaceT(["scrollMarginTop","scrollMarginBottom"]),scrollPadding:$.spaceT("scrollPadding"),scrollPaddingTop:$.spaceT("scrollPaddingTop"),scrollPaddingBottom:$.spaceT("scrollPaddingBottom"),scrollPaddingLeft:$.spaceT("scrollPaddingLeft"),scrollPaddingRight:$.spaceT("scrollPaddingRight"),scrollPaddingX:$.spaceT(["scrollPaddingLeft","scrollPaddingRight"]),scrollPaddingY:$.spaceT(["scrollPaddingTop","scrollPaddingBottom"])},Uz={fontFamily:$.prop("fontFamily","fonts"),fontSize:$.prop("fontSize","fontSizes",Qe.px),fontWeight:$.prop("fontWeight","fontWeights"),lineHeight:$.prop("lineHeight","lineHeights"),letterSpacing:$.prop("letterSpacing","letterSpacings"),textAlign:!0,fontStyle:!0,textIndent:!0,wordBreak:!0,overflowWrap:!0,textOverflow:!0,textTransform:!0,whiteSpace:!0,isTruncated:{transform(t){if(t===!0)return{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}}},noOfLines:{static:{overflow:"hidden",textOverflow:"ellipsis",display:"-webkit-box",WebkitBoxOrient:"vertical",WebkitLineClamp:"var(--chakra-line-clamp)"},property:"--chakra-line-clamp"}},Vz={textDecorationColor:$.colors("textDecorationColor"),textDecoration:!0,textDecor:{property:"textDecoration"},textDecorationLine:!0,textDecorationStyle:!0,textDecorationThickness:!0,textUnderlineOffset:!0,textShadow:$.shadows("textShadow")},Wz={clipPath:!0,transform:$.propT("transform",Qe.transform),transformOrigin:!0,translateX:$.spaceT("--chakra-translate-x"),translateY:$.spaceT("--chakra-translate-y"),skewX:$.degreeT("--chakra-skew-x"),skewY:$.degreeT("--chakra-skew-y"),scaleX:$.prop("--chakra-scale-x"),scaleY:$.prop("--chakra-scale-y"),scale:$.prop(["--chakra-scale-x","--chakra-scale-y"]),rotate:$.degreeT("--chakra-rotate")},Hz={listStyleType:!0,listStylePosition:!0,listStylePos:$.prop("listStylePosition"),listStyleImage:!0,listStyleImg:$.prop("listStyleImage")},Gz={transition:!0,transitionDelay:!0,animation:!0,willChange:!0,transitionDuration:$.prop("transitionDuration","transition.duration"),transitionProperty:$.prop("transitionProperty","transition.property"),transitionTimingFunction:$.prop("transitionTimingFunction","transition.easing")},Sw=vs({},lm,lt,Pz,gg,us,Iz,Dz,Mz,ID,$z,Ud,Ub,Dt,zz,Uz,Vz,Wz,Hz,Gz),Kz=Object.assign({},Dt,us,gg,ID,Ud),Yz=Object.keys(Kz),qz=t=>[...Object.keys(Sw),...LD(t)],Xz=t=>{const e=k0(t),n={...Sw,...e};return r=>Object.hasOwnProperty.call(n,r)},Qz=t=>e=>{if(!e.__breakpoints)return t;const{isResponsive:n,toArrayValue:r,media:s}=e.__breakpoints,i={};for(const o in t){let a=Gr(t[o],e);if(a==null)continue;if(a=er(a)&&n(a)?r(a):a,!Array.isArray(a)){i[o]=a;continue}const l=a.slice(0,s.length).length;for(let c=0;c<l;c+=1){const u=s==null?void 0:s[c];if(!u){i[o]=a[c];continue}i[u]=i[u]||{},a[c]!=null&&(i[u][o]=a[c])}}return i};function Zz(t){const e=[];let n="",r=!1;for(let s=0;s<t.length;s++){const i=t[s];i==="("?(r=!0,n+=i):i===")"?(r=!1,n+=i):i===","&&!r?(e.push(n),n=""):n+=i}return n=n.trim(),n&&e.push(n),e}function Jz(t){return/^var\(--.+\)$/.test(t)}const e9=(t,e)=>t.startsWith("--")&&typeof e=="string"&&!Jz(e),t9=(t,e)=>{if(e==null)return e;const n=o=>{var a,l;return(l=(a=t.__cssMap)==null?void 0:a[o])==null?void 0:l.varRef},r=o=>n(o)??o,[s,i]=Zz(e);return e=n(s)??r(i)??r(e),e};function n9(t){const{configs:e={},pseudos:n={},theme:r}=t,s=(i,o=!1)=>{var u;const a=Gr(i,r),l=Qz(a)(r);let c={};for(let d in l){const f=l[d];let p=Gr(f,r);d in n&&(d=n[d]),e9(d,p)&&(p=t9(r,p));let m=e[d];if(m===!0&&(m={property:d}),er(p)){c[d]=c[d]??{},c[d]=vs({},c[d],s(p,!0));continue}let g=((u=m==null?void 0:m.transform)==null?void 0:u.call(m,p,r,a))??p;g=m!=null&&m.processResult?s(g,!0):g;const y=Gr(m==null?void 0:m.property,r);if(!o&&(m!=null&&m.static)){const x=Gr(m.static,r);c=vs({},c,x)}if(y&&Array.isArray(y)){for(const x of y)c[x]=g;continue}if(y){y==="&"&&er(g)?c=vs({},c,g):c[y]=g;continue}if(er(g)){c=vs({},c,g);continue}c[d]=g}return c};return s}const DD=t=>e=>n9({theme:e,pseudos:k0(e),configs:Sw})(t);function Lt(t){return{definePartsStyle(e){return e},defineMultiStyleConfig(e){return{parts:t,...e}}}}function r9(t,e,n){var r,s;return((s=(r=t.__cssMap)==null?void 0:r[`${e}.${n}`])==null?void 0:s.varRef)??n}function s9(t,e){if(Array.isArray(t))return t;if(er(t))return e(t);if(t!=null)return[t]}function i9(t,e){for(let n=e+1;n<t.length;n++)if(t[n]!=null)return n;return-1}function o9(t){const e=t.__breakpoints;return function(r,s,i,o){var f,p;if(!e)return;const a={},l=s9(i,e.toArrayValue);if(!l)return a;const c=l.length,u=c===1,d=!!r.parts;for(let m=0;m<c;m++){const g=e.details[m],y=e.details[i9(l,m)],x=vd(g.minW,y==null?void 0:y._minW),v=Gr((f=r[s])==null?void 0:f[l[m]],o);if(v){if(d){(p=r.parts)==null||p.forEach(b=>{vs(a,{[b]:u?v[b]:{[x]:v[b]}})});continue}if(!d){u?vs(a,v):a[x]=v;continue}a[x]=v}}return a}}function a9(t){return e=>{const{variant:n,size:r,theme:s}=e,i=o9(s);return vs({},Gr(t.baseStyle??{},e),i(t,"sizes",r,e),i(t,"variants",n,e))}}function Ht(t){return ku(t,["styleConfig","size","variant","colorScheme"])}function MD(t){return er(t)&&t.reference?t.reference:String(t)}const A0=(t,...e)=>e.map(MD).join(` ${t} `).replace(/calc/g,""),mC=(...t)=>`calc(${A0("+",...t)})`,gC=(...t)=>`calc(${A0("-",...t)})`,Vb=(...t)=>`calc(${A0("*",...t)})`,yC=(...t)=>`calc(${A0("/",...t)})`,vC=t=>{const e=MD(t);return e!=null&&!Number.isNaN(parseFloat(e))?String(e).startsWith("-")?String(e).slice(1):`-${e}`:Vb(e,-1)},qi=Object.assign(t=>({add:(...e)=>qi(mC(t,...e)),subtract:(...e)=>qi(gC(t,...e)),multiply:(...e)=>qi(Vb(t,...e)),divide:(...e)=>qi(yC(t,...e)),negate:()=>qi(vC(t)),toString:()=>t.toString()}),{add:mC,subtract:gC,multiply:Vb,divide:yC,negate:vC});function l9(t,e="-"){return t.replace(/\s+/g,e)}function c9(t){const e=l9(t.toString());return d9(u9(e))}function u9(t){return t.includes("\\.")?t:!Number.isInteger(parseFloat(t.toString()))?t.replace(".","\\."):t}function d9(t){return t.replace(/[!-,/:-@[-^`{-~]/g,"\\$&")}function f9(t,e=""){return[e,t].filter(Boolean).join("-")}function h9(t,e){return`var(${t}${e?`, ${e}`:""})`}function p9(t,e=""){return c9(`--${f9(t,e)}`)}function Re(t,e,n){const r=p9(t,n);return{variable:r,reference:h9(r,e)}}function m9(t,e){const n={};for(const r of e){if(Array.isArray(r)){const[s,i]=r;n[s]=Re(`${t}-${s}`,i);continue}n[r]=Re(`${t}-${r}`)}return n}const g9=["colors","borders","borderWidths","borderStyles","fonts","fontSizes","fontWeights","gradients","letterSpacings","lineHeights","radii","space","shadows","sizes","zIndices","transition","blur","breakpoints"];function y9(t){return bD(t,g9)}function v9(t){return t.semanticTokens}function x9(t){const{__cssMap:e,__cssVars:n,__breakpoints:r,...s}=t;return s}function b9(t){const e=y9(t),n=v9(t),r=LD(t),s=o=>r.includes(o)||o==="default",i={};return uC(e,(o,a)=>{o!=null&&(i[a.join(".")]={isSemantic:!1,value:o})}),uC(n,(o,a)=>{o!=null&&(i[a.join(".")]={isSemantic:!0,value:o})},{stop:o=>Object.keys(o).every(s)}),i}function xC(t,e){return Re(String(t).replace(/\./g,"-"),void 0,e)}function S9(t){var a;const e=b9(t),n=(a=t.config)==null?void 0:a.cssVarPrefix,r=k0(t);let s={};const i={};function o(l,c){const d=[String(l).split(".")[0],c].join(".");if(!e[d])return c;const{reference:p}=xC(d,n);return p}for(const[l,c]of Object.entries(e)){const{isSemantic:u,value:d}=c,{variable:f,reference:p}=xC(l,n);if(!u){if(l.startsWith("space")){const g=l.split("."),[y,...x]=g,v=`${y}.-${x.join(".")}`,b=qi.negate(d),w=qi.negate(p);i[v]={value:b,var:f,varRef:w}}s[f]=d,i[l]={value:d,var:f,varRef:p};continue}const m=er(d)?d:{default:d};s=vs(s,Object.entries(m).reduce((g,[y,x])=>{if(!x)return g;const v=o(l,`${x}`);if(y==="default")return g[f]=v,g;const b=(r==null?void 0:r[y])??y;return g[b]={[f]:v},g},{})),i[l]={value:p,var:f,varRef:p}}return{cssVars:s,cssMap:i}}function w9(t){const e=x9(t),{cssMap:n,cssVars:r}=S9(e),s={"--chakra-ring-inset":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-ring-offset-width":"0px","--chakra-ring-offset-color":"#fff","--chakra-ring-color":"rgba(66, 153, 225, 0.6)","--chakra-ring-offset-shadow":"0 0 #0000","--chakra-ring-shadow":"0 0 #0000","--chakra-space-x-reverse":"0","--chakra-space-y-reverse":"0"},i=Xz(e);return Object.assign(e,{__cssVars:{...s,...r},__cssMap:n,__breakpoints:x$(e.breakpoints),__isStyleProp:i}),e}function ht(t,e={}){let n=!1;function r(){if(!n){n=!0;return}throw new Error("[anatomy] .part(...) should only be called once. Did you mean to use .extend(...) ?")}function s(...u){r();for(const d of u)e[d]=l(d);return ht(t,e)}function i(...u){for(const d of u)d in e||(e[d]=l(d));return ht(t,e)}function o(){return Object.fromEntries(Object.entries(e).map(([d,f])=>[d,f.selector]))}function a(){return Object.fromEntries(Object.entries(e).map(([d,f])=>[d,f.className]))}function l(u){const p=`chakra-${(["container","root"].includes(u??"")?[t]:[t,u]).filter(Boolean).join("__")}`;return{className:p,selector:`.${p}`,toString:()=>u}}return{parts:s,toPart:l,extend:i,selectors:o,classnames:a,get keys(){return Object.keys(e)},__type:{}}}const T9=ht("accordion").parts("root","container","button","panel","icon"),E9=ht("alert").parts("title","description","container","icon","spinner"),C9=ht("avatar").parts("label","badge","container","excessLabel","group"),k9=ht("breadcrumb").parts("link","item","container","separator");ht("button").parts();const A9=ht("checkbox").parts("control","icon","container","label");ht("progress").parts("track","filledTrack","label");const R9=ht("drawer").parts("overlay","dialogContainer","dialog","header","closeButton","body","footer"),_9=ht("editable").parts("preview","input","textarea"),L9=ht("form").parts("container","requiredIndicator","helperText"),P9=ht("formError").parts("text","icon"),I9=ht("input").parts("addon","field","element","group"),D9=ht("list").parts("container","item","icon"),M9=ht("menu").parts("button","list","item","groupTitle","icon","command","divider"),O9=ht("modal").parts("overlay","dialogContainer","dialog","header","closeButton","body","footer"),F9=ht("numberinput").parts("root","field","stepperGroup","stepper");ht("pininput").parts("field");const N9=ht("popover").parts("content","header","body","footer","popper","arrow","closeButton"),j9=ht("progress").parts("label","filledTrack","track"),B9=ht("radio").parts("container","control","label"),$9=ht("select").parts("field","icon"),z9=ht("slider").parts("container","track","thumb","filledTrack","mark"),U9=ht("stat").parts("container","label","helpText","number","icon"),V9=ht("switch").parts("container","track","thumb","label"),W9=ht("table").parts("table","thead","tbody","tr","th","td","tfoot","caption"),H9=ht("tabs").parts("root","tab","tablist","tabpanel","tabpanels","indicator"),G9=ht("tag").parts("container","label","closeButton"),K9=ht("card").parts("container","header","body","footer");ht("stepper").parts("stepper","step","title","description","indicator","separator","icon","number");const{definePartsStyle:Y9,defineMultiStyleConfig:q9}=Lt(T9.keys),X9={borderTopWidth:"1px",borderColor:"inherit",_last:{borderBottomWidth:"1px"}},Q9={transitionProperty:"common",transitionDuration:"normal",fontSize:"md",_focusVisible:{boxShadow:"outline"},_hover:{bg:"blackAlpha.50"},_disabled:{opacity:.4,cursor:"not-allowed"},px:"4",py:"2"},Z9={pt:"2",px:"4",pb:"5"},J9={fontSize:"1.25em"},eU=Y9({container:X9,button:Q9,panel:Z9,icon:J9}),tU=q9({baseStyle:eU});function Ya(t,e,n){return Math.min(Math.max(t,n),e)}class nU extends Error{constructor(e){super(`Failed to parse color: "${e}"`)}}var xd=nU;function ww(t){if(typeof t!="string")throw new xd(t);if(t.trim().toLowerCase()==="transparent")return[0,0,0,0];let e=t.trim();e=uU.test(t)?iU(t):t;const n=oU.exec(e);if(n){const o=Array.from(n).slice(1);return[...o.slice(0,3).map(a=>parseInt(_f(a,2),16)),parseInt(_f(o[3]||"f",2),16)/255]}const r=aU.exec(e);if(r){const o=Array.from(r).slice(1);return[...o.slice(0,3).map(a=>parseInt(a,16)),parseInt(o[3]||"ff",16)/255]}const s=lU.exec(e);if(s){const o=Array.from(s).slice(1);return[...o.slice(0,3).map(a=>parseInt(a,10)),parseFloat(o[3]||"1")]}const i=cU.exec(e);if(i){const[o,a,l,c]=Array.from(i).slice(1).map(parseFloat);if(Ya(0,100,a)!==a)throw new xd(t);if(Ya(0,100,l)!==l)throw new xd(t);return[...dU(o,a,l),Number.isNaN(c)?1:c]}throw new xd(t)}function rU(t){let e=5381,n=t.length;for(;n;)e=e*33^t.charCodeAt(--n);return(e>>>0)%2341}const bC=t=>parseInt(t.replace(/_/g,""),36),sU="1q29ehhb 1n09sgk7 1kl1ekf_ _yl4zsno 16z9eiv3 1p29lhp8 _bd9zg04 17u0____ _iw9zhe5 _to73___ _r45e31e _7l6g016 _jh8ouiv _zn3qba8 1jy4zshs 11u87k0u 1ro9yvyo 1aj3xael 1gz9zjz0 _3w8l4xo 1bf1ekf_ _ke3v___ _4rrkb__ 13j776yz _646mbhl _nrjr4__ _le6mbhl 1n37ehkb _m75f91n _qj3bzfz 1939yygw 11i5z6x8 _1k5f8xs 1509441m 15t5lwgf _ae2th1n _tg1ugcv 1lp1ugcv 16e14up_ _h55rw7n _ny9yavn _7a11xb_ 1ih442g9 _pv442g9 1mv16xof 14e6y7tu 1oo9zkds 17d1cisi _4v9y70f _y98m8kc 1019pq0v 12o9zda8 _348j4f4 1et50i2o _8epa8__ _ts6senj 1o350i2o 1mi9eiuo 1259yrp0 1ln80gnw _632xcoy 1cn9zldc _f29edu4 1n490c8q _9f9ziet 1b94vk74 _m49zkct 1kz6s73a 1eu9dtog _q58s1rz 1dy9sjiq __u89jo3 _aj5nkwg _ld89jo3 13h9z6wx _qa9z2ii _l119xgq _bs5arju 1hj4nwk9 1qt4nwk9 1ge6wau6 14j9zlcw 11p1edc_ _ms1zcxe _439shk6 _jt9y70f _754zsow 1la40eju _oq5p___ _x279qkz 1fa5r3rv _yd2d9ip _424tcku _8y1di2_ _zi2uabw _yy7rn9h 12yz980_ __39ljp6 1b59zg0x _n39zfzp 1fy9zest _b33k___ _hp9wq92 1il50hz4 _io472ub _lj9z3eo 19z9ykg0 _8t8iu3a 12b9bl4a 1ak5yw0o _896v4ku _tb8k8lv _s59zi6t _c09ze0p 1lg80oqn 1id9z8wb _238nba5 1kq6wgdi _154zssg _tn3zk49 _da9y6tc 1sg7cv4f _r12jvtt 1gq5fmkz 1cs9rvci _lp9jn1c _xw1tdnb 13f9zje6 16f6973h _vo7ir40 _bt5arjf _rc45e4t _hr4e100 10v4e100 _hc9zke2 _w91egv_ _sj2r1kk 13c87yx8 _vqpds__ _ni8ggk8 _tj9yqfb 1ia2j4r4 _7x9b10u 1fc9ld4j 1eq9zldr _5j9lhpx _ez9zl6o _md61fzm".split(" ").reduce((t,e)=>{const n=bC(e.substring(0,3)),r=bC(e.substring(3)).toString(16);let s="";for(let i=0;i<6-r.length;i++)s+="0";return t[n]=`${s}${r}`,t},{});function iU(t){const e=t.toLowerCase().trim(),n=sU[rU(e)];if(!n)throw new xd(t);return`#${n}`}const _f=(t,e)=>Array.from(Array(e)).map(()=>t).join(""),oU=new RegExp(`^#${_f("([a-f0-9])",3)}([a-f0-9])?$`,"i"),aU=new RegExp(`^#${_f("([a-f0-9]{2})",3)}([a-f0-9]{2})?$`,"i"),lU=new RegExp(`^rgba?\\(\\s*(\\d+)\\s*${_f(",\\s*(\\d+)\\s*",2)}(?:,\\s*([\\d.]+))?\\s*\\)$`,"i"),cU=/^hsla?\(\s*([\d.]+)\s*,\s*([\d.]+)%\s*,\s*([\d.]+)%(?:\s*,\s*([\d.]+))?\s*\)$/i,uU=/^[a-z]+$/i,SC=t=>Math.round(t*255),dU=(t,e,n)=>{let r=n/100;if(e===0)return[r,r,r].map(SC);const s=(t%360+360)%360/60,i=(1-Math.abs(2*r-1))*(e/100),o=i*(1-Math.abs(s%2-1));let a=0,l=0,c=0;s>=0&&s<1?(a=i,l=o):s>=1&&s<2?(a=o,l=i):s>=2&&s<3?(l=i,c=o):s>=3&&s<4?(l=o,c=i):s>=4&&s<5?(a=o,c=i):s>=5&&s<6&&(a=i,c=o);const u=r-i/2,d=a+u,f=l+u,p=c+u;return[d,f,p].map(SC)};function fU(t,e,n,r){return`rgba(${Ya(0,255,t).toFixed()}, ${Ya(0,255,e).toFixed()}, ${Ya(0,255,n).toFixed()}, ${parseFloat(Ya(0,1,r).toFixed(3))})`}function hU(t,e){const[n,r,s,i]=ww(t);return fU(n,r,s,i-e)}function pU(t){const[e,n,r,s]=ww(t);let i=o=>{const a=Ya(0,255,o).toString(16);return a.length===1?`0${a}`:a};return`#${i(e)}${i(n)}${i(r)}${s<1?i(Math.round(s*255)):""}`}const mU=t=>Object.keys(t).length===0;function gU(t,e,n,r,s){for(e=e.split?e.split("."):e,r=0;r<e.length;r++)t=t?t[e[r]]:s;return t===s?n:t}const lr=(t,e,n)=>{const r=gU(t,`colors.${e}`,e);try{return pU(r),r}catch{return"#000000"}},yU=t=>{const[e,n,r]=ww(t);return(e*299+n*587+r*114)/1e3},vU=t=>e=>{const n=lr(e,t);return yU(n)<128?"dark":"light"},xU=t=>e=>vU(t)(e)==="dark",tu=(t,e)=>n=>{const r=lr(n,t);return hU(r,1-e)};function wC(t="1rem",e="rgba(255, 255, 255, 0.15)"){return{backgroundImage:`linear-gradient(
    45deg,
    ${e} 25%,
    transparent 25%,
    transparent 50%,
    ${e} 50%,
    ${e} 75%,
    transparent 75%,
    transparent
  )`,backgroundSize:`${t} ${t}`}}const bU=()=>`#${Math.floor(Math.random()*16777215).toString(16).padEnd(6,"0")}`;function SU(t){const e=bU();return!t||mU(t)?e:t.string&&t.colors?TU(t.string,t.colors):t.string&&!t.colors?wU(t.string):t.colors&&!t.string?EU(t.colors):e}function wU(t){let e=0;if(t.length===0)return e.toString();for(let r=0;r<t.length;r+=1)e=t.charCodeAt(r)+((e<<5)-e),e=e&e;let n="#";for(let r=0;r<3;r+=1){const s=e>>r*8&255;n+=`00${s.toString(16)}`.substr(-2)}return n}function TU(t,e){let n=0;if(t.length===0)return e[0];for(let r=0;r<t.length;r+=1)n=t.charCodeAt(r)+((n<<5)-n),n=n&n;return n=(n%e.length+e.length)%e.length,e[n]}function EU(t){return t[Math.floor(Math.random()*t.length)]}function _e(t,e){return n=>n.colorMode==="dark"?e:t}function Tw(t){const{orientation:e,vertical:n,horizontal:r}=t;return e?e==="vertical"?n:r:{}}function OD(t){return er(t)&&t.reference?t.reference:String(t)}const R0=(t,...e)=>e.map(OD).join(` ${t} `).replace(/calc/g,""),TC=(...t)=>`calc(${R0("+",...t)})`,EC=(...t)=>`calc(${R0("-",...t)})`,Wb=(...t)=>`calc(${R0("*",...t)})`,CC=(...t)=>`calc(${R0("/",...t)})`,kC=t=>{const e=OD(t);return e!=null&&!Number.isNaN(parseFloat(e))?String(e).startsWith("-")?String(e).slice(1):`-${e}`:Wb(e,-1)},Xi=Object.assign(t=>({add:(...e)=>Xi(TC(t,...e)),subtract:(...e)=>Xi(EC(t,...e)),multiply:(...e)=>Xi(Wb(t,...e)),divide:(...e)=>Xi(CC(t,...e)),negate:()=>Xi(kC(t)),toString:()=>t.toString()}),{add:TC,subtract:EC,multiply:Wb,divide:CC,negate:kC});function CU(t){return!Number.isInteger(parseFloat(t.toString()))}function kU(t,e="-"){return t.replace(/\s+/g,e)}function FD(t){const e=kU(t.toString());return e.includes("\\.")?t:CU(t)?e.replace(".","\\."):t}function AU(t,e=""){return[e,FD(t)].filter(Boolean).join("-")}function RU(t,e){return`var(${FD(t)}${e?`, ${e}`:""})`}function _U(t,e=""){return`--${AU(t,e)}`}function An(t,e){const n=_U(t,e==null?void 0:e.prefix);return{variable:n,reference:RU(n,LU(e==null?void 0:e.fallback))}}function LU(t){return t==null?void 0:t.reference}const{definePartsStyle:ph,defineMultiStyleConfig:PU}=Lt(E9.keys),Yr=Re("alert-fg"),po=Re("alert-bg"),IU=ph({container:{bg:po.reference,px:"4",py:"3"},title:{fontWeight:"bold",lineHeight:"6",marginEnd:"2"},description:{lineHeight:"6"},icon:{color:Yr.reference,flexShrink:0,marginEnd:"3",w:"5",h:"6"},spinner:{color:Yr.reference,flexShrink:0,marginEnd:"3",w:"5",h:"5"}});function Ew(t){const{theme:e,colorScheme:n}=t,r=tu(`${n}.200`,.16)(e);return{light:`colors.${n}.100`,dark:r}}const DU=ph(t=>{const{colorScheme:e}=t,n=Ew(t);return{container:{[Yr.variable]:`colors.${e}.600`,[po.variable]:n.light,_dark:{[Yr.variable]:`colors.${e}.200`,[po.variable]:n.dark}}}}),MU=ph(t=>{const{colorScheme:e}=t,n=Ew(t);return{container:{[Yr.variable]:`colors.${e}.600`,[po.variable]:n.light,_dark:{[Yr.variable]:`colors.${e}.200`,[po.variable]:n.dark},paddingStart:"3",borderStartWidth:"4px",borderStartColor:Yr.reference}}}),OU=ph(t=>{const{colorScheme:e}=t,n=Ew(t);return{container:{[Yr.variable]:`colors.${e}.600`,[po.variable]:n.light,_dark:{[Yr.variable]:`colors.${e}.200`,[po.variable]:n.dark},pt:"2",borderTopWidth:"4px",borderTopColor:Yr.reference}}}),FU=ph(t=>{const{colorScheme:e}=t;return{container:{[Yr.variable]:"colors.white",[po.variable]:`colors.${e}.600`,_dark:{[Yr.variable]:"colors.gray.900",[po.variable]:`colors.${e}.200`},color:Yr.reference}}}),NU={subtle:DU,"left-accent":MU,"top-accent":OU,solid:FU},jU=PU({baseStyle:IU,variants:NU,defaultProps:{variant:"subtle",colorScheme:"blue"}}),ND={px:"1px",.5:"0.125rem",1:"0.25rem",1.5:"0.375rem",2:"0.5rem",2.5:"0.625rem",3:"0.75rem",3.5:"0.875rem",4:"1rem",5:"1.25rem",6:"1.5rem",7:"1.75rem",8:"2rem",9:"2.25rem",10:"2.5rem",12:"3rem",14:"3.5rem",16:"4rem",20:"5rem",24:"6rem",28:"7rem",32:"8rem",36:"9rem",40:"10rem",44:"11rem",48:"12rem",52:"13rem",56:"14rem",60:"15rem",64:"16rem",72:"18rem",80:"20rem",96:"24rem"},BU={max:"max-content",min:"min-content",full:"100%","3xs":"14rem","2xs":"16rem",xs:"20rem",sm:"24rem",md:"28rem",lg:"32rem",xl:"36rem","2xl":"42rem","3xl":"48rem","4xl":"56rem","5xl":"64rem","6xl":"72rem","7xl":"80rem","8xl":"90rem",prose:"60ch"},$U={sm:"640px",md:"768px",lg:"1024px",xl:"1280px"},jD={...ND,...BU,container:$U},zU=t=>typeof t=="function";function dr(t,...e){return zU(t)?t(...e):t}const{definePartsStyle:BD,defineMultiStyleConfig:UU}=Lt(C9.keys),Oc=Re("avatar-border-color"),Vd=Re("avatar-bg"),Lf=Re("avatar-font-size"),nu=Re("avatar-size"),VU={borderRadius:"full",border:"0.2em solid",borderColor:Oc.reference,[Oc.variable]:"white",_dark:{[Oc.variable]:"colors.gray.800"}},WU={bg:Vd.reference,fontSize:Lf.reference,width:nu.reference,height:nu.reference,lineHeight:"1",[Vd.variable]:"colors.gray.200",_dark:{[Vd.variable]:"colors.whiteAlpha.400"}},HU=t=>{const{name:e,theme:n}=t,r=e?SU({string:e}):"colors.gray.400",s=xU(r)(n);let i="white";return s||(i="gray.800"),{bg:Vd.reference,fontSize:Lf.reference,color:i,borderColor:Oc.reference,verticalAlign:"top",width:nu.reference,height:nu.reference,"&:not([data-loaded])":{[Vd.variable]:r},[Oc.variable]:"colors.white",_dark:{[Oc.variable]:"colors.gray.800"}}},GU={fontSize:Lf.reference,lineHeight:"1"},KU=BD(t=>({badge:dr(VU,t),excessLabel:dr(WU,t),container:dr(HU,t),label:GU}));function Co(t){const e=t!=="100%"?jD[t]:void 0;return BD({container:{[nu.variable]:e??t,[Lf.variable]:`calc(${e??t} / 2.5)`},excessLabel:{[nu.variable]:e??t,[Lf.variable]:`calc(${e??t} / 2.5)`}})}const YU={"2xs":Co(4),xs:Co(6),sm:Co(8),md:Co(12),lg:Co(16),xl:Co(24),"2xl":Co(32),full:Co("100%")},qU=UU({baseStyle:KU,sizes:YU,defaultProps:{size:"md"}}),un=m9("badge",["bg","color","shadow"]),XU={px:1,textTransform:"uppercase",fontSize:"xs",borderRadius:"sm",fontWeight:"bold",bg:un.bg.reference,color:un.color.reference,boxShadow:un.shadow.reference},QU=t=>{const{colorScheme:e,theme:n}=t,r=tu(`${e}.500`,.6)(n);return{[un.bg.variable]:`colors.${e}.500`,[un.color.variable]:"colors.white",_dark:{[un.bg.variable]:r,[un.color.variable]:"colors.whiteAlpha.800"}}},ZU=t=>{const{colorScheme:e,theme:n}=t,r=tu(`${e}.200`,.16)(n);return{[un.bg.variable]:`colors.${e}.100`,[un.color.variable]:`colors.${e}.800`,_dark:{[un.bg.variable]:r,[un.color.variable]:`colors.${e}.200`}}},JU=t=>{const{colorScheme:e,theme:n}=t,r=tu(`${e}.200`,.8)(n);return{[un.color.variable]:`colors.${e}.500`,_dark:{[un.color.variable]:r},[un.shadow.variable]:`inset 0 0 0px 1px ${un.color.reference}`}},e7={solid:QU,subtle:ZU,outline:JU},Wd={baseStyle:XU,variants:e7,defaultProps:{variant:"subtle",colorScheme:"gray"}},{defineMultiStyleConfig:t7,definePartsStyle:n7}=Lt(k9.keys),fv=Re("breadcrumb-link-decor"),r7={transitionProperty:"common",transitionDuration:"fast",transitionTimingFunction:"ease-out",outline:"none",color:"inherit",textDecoration:fv.reference,[fv.variable]:"none","&:not([aria-current=page])":{cursor:"pointer",_hover:{[fv.variable]:"underline"},_focusVisible:{boxShadow:"outline"}}},s7=n7({link:r7}),i7=t7({baseStyle:s7}),o7={lineHeight:"1.2",borderRadius:"md",fontWeight:"semibold",transitionProperty:"common",transitionDuration:"normal",_focusVisible:{boxShadow:"outline"},_disabled:{opacity:.4,cursor:"not-allowed",boxShadow:"none"},_hover:{_disabled:{bg:"initial"}}},$D=t=>{const{colorScheme:e,theme:n}=t;if(e==="gray")return{color:_e("gray.800","whiteAlpha.900")(t),_hover:{bg:_e("gray.100","whiteAlpha.200")(t)},_active:{bg:_e("gray.200","whiteAlpha.300")(t)}};const r=tu(`${e}.200`,.12)(n),s=tu(`${e}.200`,.24)(n);return{color:_e(`${e}.600`,`${e}.200`)(t),bg:"transparent",_hover:{bg:_e(`${e}.50`,r)(t)},_active:{bg:_e(`${e}.100`,s)(t)}}},a7=t=>{const{colorScheme:e}=t,n=_e("gray.200","whiteAlpha.300")(t);return{border:"1px solid",borderColor:e==="gray"?n:"currentColor",".chakra-button__group[data-attached][data-orientation=horizontal] > &:not(:last-of-type)":{marginEnd:"-1px"},".chakra-button__group[data-attached][data-orientation=vertical] > &:not(:last-of-type)":{marginBottom:"-1px"},...dr($D,t)}},l7={yellow:{bg:"yellow.400",color:"black",hoverBg:"yellow.500",activeBg:"yellow.600"},cyan:{bg:"cyan.400",color:"black",hoverBg:"cyan.500",activeBg:"cyan.600"}},c7=t=>{const{colorScheme:e}=t;if(e==="gray"){const a=_e("gray.100","whiteAlpha.200")(t);return{bg:a,color:_e("gray.800","whiteAlpha.900")(t),_hover:{bg:_e("gray.200","whiteAlpha.300")(t),_disabled:{bg:a}},_active:{bg:_e("gray.300","whiteAlpha.400")(t)}}}const{bg:n=`${e}.500`,color:r="white",hoverBg:s=`${e}.600`,activeBg:i=`${e}.700`}=l7[e]??{},o=_e(n,`${e}.200`)(t);return{bg:o,color:_e(r,"gray.800")(t),_hover:{bg:_e(s,`${e}.300`)(t),_disabled:{bg:o}},_active:{bg:_e(i,`${e}.400`)(t)}}},u7=t=>{const{colorScheme:e}=t;return{padding:0,height:"auto",lineHeight:"normal",verticalAlign:"baseline",color:_e(`${e}.500`,`${e}.200`)(t),_hover:{textDecoration:"underline",_disabled:{textDecoration:"none"}},_active:{color:_e(`${e}.700`,`${e}.500`)(t)}}},d7={bg:"none",color:"inherit",display:"inline",lineHeight:"inherit",m:"0",p:"0"},f7={ghost:$D,outline:a7,solid:c7,link:u7,unstyled:d7},h7={lg:{h:"12",minW:"12",fontSize:"lg",px:"6"},md:{h:"10",minW:"10",fontSize:"md",px:"4"},sm:{h:"8",minW:"8",fontSize:"sm",px:"3"},xs:{h:"6",minW:"6",fontSize:"xs",px:"2"}},p7={baseStyle:o7,variants:f7,sizes:h7,defaultProps:{variant:"solid",size:"md",colorScheme:"gray"}},{definePartsStyle:sl,defineMultiStyleConfig:m7}=Lt(K9.keys),yg=Re("card-bg"),oo=Re("card-padding"),zD=Re("card-shadow"),cm=Re("card-radius"),UD=Re("card-border-width","0"),VD=Re("card-border-color"),g7=sl({container:{[yg.variable]:"colors.chakra-body-bg",backgroundColor:yg.reference,boxShadow:zD.reference,borderRadius:cm.reference,color:"chakra-body-text",borderWidth:UD.reference,borderColor:VD.reference},body:{padding:oo.reference,flex:"1 1 0%"},header:{padding:oo.reference},footer:{padding:oo.reference}}),y7={sm:sl({container:{[cm.variable]:"radii.base",[oo.variable]:"space.3"}}),md:sl({container:{[cm.variable]:"radii.md",[oo.variable]:"space.5"}}),lg:sl({container:{[cm.variable]:"radii.xl",[oo.variable]:"space.7"}})},v7={elevated:sl({container:{[zD.variable]:"shadows.base",_dark:{[yg.variable]:"colors.gray.700"}}}),outline:sl({container:{[UD.variable]:"1px",[VD.variable]:"colors.chakra-border-color"}}),filled:sl({container:{[yg.variable]:"colors.chakra-subtle-bg"}}),unstyled:{body:{[oo.variable]:0},header:{[oo.variable]:0},footer:{[oo.variable]:0}}},x7=m7({baseStyle:g7,variants:v7,sizes:y7,defaultProps:{variant:"elevated",size:"md"}}),{definePartsStyle:um,defineMultiStyleConfig:b7}=Lt(A9.keys),Hd=Re("checkbox-size"),S7=t=>{const{colorScheme:e}=t;return{w:Hd.reference,h:Hd.reference,transitionProperty:"box-shadow",transitionDuration:"normal",border:"2px solid",borderRadius:"sm",borderColor:"inherit",color:"white",_checked:{bg:_e(`${e}.500`,`${e}.200`)(t),borderColor:_e(`${e}.500`,`${e}.200`)(t),color:_e("white","gray.900")(t),_hover:{bg:_e(`${e}.600`,`${e}.300`)(t),borderColor:_e(`${e}.600`,`${e}.300`)(t)},_disabled:{borderColor:_e("gray.200","transparent")(t),bg:_e("gray.200","whiteAlpha.300")(t),color:_e("gray.500","whiteAlpha.500")(t)}},_indeterminate:{bg:_e(`${e}.500`,`${e}.200`)(t),borderColor:_e(`${e}.500`,`${e}.200`)(t),color:_e("white","gray.900")(t)},_disabled:{bg:_e("gray.100","whiteAlpha.100")(t),borderColor:_e("gray.100","transparent")(t)},_focusVisible:{boxShadow:"outline"},_invalid:{borderColor:_e("red.500","red.300")(t)}}},w7={_disabled:{cursor:"not-allowed"}},T7={userSelect:"none",_disabled:{opacity:.4}},E7={transitionProperty:"transform",transitionDuration:"normal"},C7=um(t=>({icon:E7,container:w7,control:dr(S7,t),label:T7})),k7={sm:um({control:{[Hd.variable]:"sizes.3"},label:{fontSize:"sm"},icon:{fontSize:"3xs"}}),md:um({control:{[Hd.variable]:"sizes.4"},label:{fontSize:"md"},icon:{fontSize:"2xs"}}),lg:um({control:{[Hd.variable]:"sizes.5"},label:{fontSize:"lg"},icon:{fontSize:"2xs"}})},Fo=b7({baseStyle:C7,sizes:k7,defaultProps:{size:"md",colorScheme:"blue"}}),Gd=An("close-button-size"),Qu=An("close-button-bg"),A7={w:[Gd.reference],h:[Gd.reference],borderRadius:"md",transitionProperty:"common",transitionDuration:"normal",_disabled:{opacity:.4,cursor:"not-allowed",boxShadow:"none"},_hover:{[Qu.variable]:"colors.blackAlpha.100",_dark:{[Qu.variable]:"colors.whiteAlpha.100"}},_active:{[Qu.variable]:"colors.blackAlpha.200",_dark:{[Qu.variable]:"colors.whiteAlpha.200"}},_focusVisible:{boxShadow:"outline"},bg:Qu.reference},R7={lg:{[Gd.variable]:"sizes.10",fontSize:"md"},md:{[Gd.variable]:"sizes.8",fontSize:"xs"},sm:{[Gd.variable]:"sizes.6",fontSize:"2xs"}},_7={baseStyle:A7,sizes:R7,defaultProps:{size:"md"}},{variants:L7,defaultProps:P7}=Wd,I7={fontFamily:"mono",fontSize:"sm",px:"0.2em",borderRadius:"sm",bg:un.bg.reference,color:un.color.reference,boxShadow:un.shadow.reference},D7={baseStyle:I7,variants:L7,defaultProps:P7},M7={w:"100%",mx:"auto",maxW:"prose",px:"4"},O7={baseStyle:M7},F7={opacity:.6,borderColor:"inherit"},N7={borderStyle:"solid"},j7={borderStyle:"dashed"},B7={solid:N7,dashed:j7},$7={baseStyle:F7,variants:B7,defaultProps:{variant:"solid"}},{definePartsStyle:Hb,defineMultiStyleConfig:z7}=Lt(R9.keys),hv=Re("drawer-bg"),pv=Re("drawer-box-shadow");function Hl(t){return Hb(t==="full"?{dialog:{maxW:"100vw",h:"100vh"}}:{dialog:{maxW:t}})}const U7={bg:"blackAlpha.600",zIndex:"modal"},V7={display:"flex",zIndex:"modal",justifyContent:"center"},W7=t=>{const{isFullHeight:e}=t;return{...e&&{height:"100vh"},zIndex:"modal",maxH:"100vh",color:"inherit",[hv.variable]:"colors.white",[pv.variable]:"shadows.lg",_dark:{[hv.variable]:"colors.gray.700",[pv.variable]:"shadows.dark-lg"},bg:hv.reference,boxShadow:pv.reference}},H7={px:"6",py:"4",fontSize:"xl",fontWeight:"semibold"},G7={position:"absolute",top:"2",insetEnd:"3"},K7={px:"6",py:"2",flex:"1",overflow:"auto"},Y7={px:"6",py:"4"},q7=Hb(t=>({overlay:U7,dialogContainer:V7,dialog:dr(W7,t),header:H7,closeButton:G7,body:K7,footer:Y7})),X7={xs:Hl("xs"),sm:Hl("md"),md:Hl("lg"),lg:Hl("2xl"),xl:Hl("4xl"),full:Hl("full")},Q7=z7({baseStyle:q7,sizes:X7,defaultProps:{size:"xs"}}),{definePartsStyle:Z7,defineMultiStyleConfig:J7}=Lt(_9.keys),eV={borderRadius:"md",py:"1",transitionProperty:"common",transitionDuration:"normal"},tV={borderRadius:"md",py:"1",transitionProperty:"common",transitionDuration:"normal",width:"full",_focusVisible:{boxShadow:"outline"},_placeholder:{opacity:.6}},nV={borderRadius:"md",py:"1",transitionProperty:"common",transitionDuration:"normal",width:"full",_focusVisible:{boxShadow:"outline"},_placeholder:{opacity:.6}},rV=Z7({preview:eV,input:tV,textarea:nV}),sV=J7({baseStyle:rV}),{definePartsStyle:iV,defineMultiStyleConfig:oV}=Lt(L9.keys),Fc=Re("form-control-color"),aV={marginStart:"1",[Fc.variable]:"colors.red.500",_dark:{[Fc.variable]:"colors.red.300"},color:Fc.reference},lV={mt:"2",[Fc.variable]:"colors.gray.600",_dark:{[Fc.variable]:"colors.whiteAlpha.600"},color:Fc.reference,lineHeight:"normal",fontSize:"sm"},cV=iV({container:{width:"100%",position:"relative"},requiredIndicator:aV,helperText:lV}),uV=oV({baseStyle:cV}),{definePartsStyle:dV,defineMultiStyleConfig:fV}=Lt(P9.keys),Nc=Re("form-error-color"),hV={[Nc.variable]:"colors.red.500",_dark:{[Nc.variable]:"colors.red.300"},color:Nc.reference,mt:"2",fontSize:"sm",lineHeight:"normal"},pV={marginEnd:"0.5em",[Nc.variable]:"colors.red.500",_dark:{[Nc.variable]:"colors.red.300"},color:Nc.reference},mV=dV({text:hV,icon:pV}),gV=fV({baseStyle:mV}),yV={fontSize:"md",marginEnd:"3",mb:"2",fontWeight:"medium",transitionProperty:"common",transitionDuration:"normal",opacity:1,_disabled:{opacity:.4}},vV={baseStyle:yV},xV={fontFamily:"heading",fontWeight:"bold"},bV={"4xl":{fontSize:["6xl",null,"7xl"],lineHeight:1},"3xl":{fontSize:["5xl",null,"6xl"],lineHeight:1},"2xl":{fontSize:["4xl",null,"5xl"],lineHeight:[1.2,null,1]},xl:{fontSize:["3xl",null,"4xl"],lineHeight:[1.33,null,1.2]},lg:{fontSize:["2xl",null,"3xl"],lineHeight:[1.33,null,1.2]},md:{fontSize:"xl",lineHeight:1.2},sm:{fontSize:"md",lineHeight:1.2},xs:{fontSize:"sm",lineHeight:1.2}},SV={baseStyle:xV,sizes:bV,defaultProps:{size:"xl"}},{definePartsStyle:eo,defineMultiStyleConfig:wV}=Lt(I9.keys),gc=Re("input-height"),yc=Re("input-font-size"),vc=Re("input-padding"),xc=Re("input-border-radius"),TV=eo({addon:{height:gc.reference,fontSize:yc.reference,px:vc.reference,borderRadius:xc.reference},field:{width:"100%",height:gc.reference,fontSize:yc.reference,px:vc.reference,borderRadius:xc.reference,minWidth:0,outline:0,position:"relative",appearance:"none",transitionProperty:"common",transitionDuration:"normal",_disabled:{opacity:.4,cursor:"not-allowed"}}}),ko={lg:{[yc.variable]:"fontSizes.lg",[vc.variable]:"space.4",[xc.variable]:"radii.md",[gc.variable]:"sizes.12"},md:{[yc.variable]:"fontSizes.md",[vc.variable]:"space.4",[xc.variable]:"radii.md",[gc.variable]:"sizes.10"},sm:{[yc.variable]:"fontSizes.sm",[vc.variable]:"space.3",[xc.variable]:"radii.sm",[gc.variable]:"sizes.8"},xs:{[yc.variable]:"fontSizes.xs",[vc.variable]:"space.2",[xc.variable]:"radii.sm",[gc.variable]:"sizes.6"}},EV={lg:eo({field:ko.lg,group:ko.lg}),md:eo({field:ko.md,group:ko.md}),sm:eo({field:ko.sm,group:ko.sm}),xs:eo({field:ko.xs,group:ko.xs})};function Cw(t){const{focusBorderColor:e,errorBorderColor:n}=t;return{focusBorderColor:e||_e("blue.500","blue.300")(t),errorBorderColor:n||_e("red.500","red.300")(t)}}const CV=eo(t=>{const{theme:e}=t,{focusBorderColor:n,errorBorderColor:r}=Cw(t);return{field:{border:"1px solid",borderColor:"inherit",bg:"inherit",_hover:{borderColor:_e("gray.300","whiteAlpha.400")(t)},_readOnly:{boxShadow:"none !important",userSelect:"all"},_invalid:{borderColor:lr(e,r),boxShadow:`0 0 0 1px ${lr(e,r)}`},_focusVisible:{zIndex:1,borderColor:lr(e,n),boxShadow:`0 0 0 1px ${lr(e,n)}`}},addon:{border:"1px solid",borderColor:_e("inherit","whiteAlpha.50")(t),bg:_e("gray.100","whiteAlpha.300")(t)}}}),kV=eo(t=>{const{theme:e}=t,{focusBorderColor:n,errorBorderColor:r}=Cw(t);return{field:{border:"2px solid",borderColor:"transparent",bg:_e("gray.100","whiteAlpha.50")(t),_hover:{bg:_e("gray.200","whiteAlpha.100")(t)},_readOnly:{boxShadow:"none !important",userSelect:"all"},_invalid:{borderColor:lr(e,r)},_focusVisible:{bg:"transparent",borderColor:lr(e,n)}},addon:{border:"2px solid",borderColor:"transparent",bg:_e("gray.100","whiteAlpha.50")(t)}}}),AV=eo(t=>{const{theme:e}=t,{focusBorderColor:n,errorBorderColor:r}=Cw(t);return{field:{borderBottom:"1px solid",borderColor:"inherit",borderRadius:"0",px:"0",bg:"transparent",_readOnly:{boxShadow:"none !important",userSelect:"all"},_invalid:{borderColor:lr(e,r),boxShadow:`0px 1px 0px 0px ${lr(e,r)}`},_focusVisible:{borderColor:lr(e,n),boxShadow:`0px 1px 0px 0px ${lr(e,n)}`}},addon:{borderBottom:"2px solid",borderColor:"inherit",borderRadius:"0",px:"0",bg:"transparent"}}}),RV=eo({field:{bg:"transparent",px:"0",height:"auto"},addon:{bg:"transparent",px:"0",height:"auto"}}),_V={outline:CV,filled:kV,flushed:AV,unstyled:RV},dt=wV({baseStyle:TV,sizes:EV,variants:_V,defaultProps:{size:"md",variant:"outline"}}),mv=Re("kbd-bg"),LV={[mv.variable]:"colors.gray.100",_dark:{[mv.variable]:"colors.whiteAlpha.100"},bg:mv.reference,borderRadius:"md",borderWidth:"1px",borderBottomWidth:"3px",fontSize:"0.8em",fontWeight:"bold",lineHeight:"normal",px:"0.4em",whiteSpace:"nowrap"},PV={baseStyle:LV},IV={transitionProperty:"common",transitionDuration:"fast",transitionTimingFunction:"ease-out",cursor:"pointer",textDecoration:"none",outline:"none",color:"inherit",_hover:{textDecoration:"underline"},_focusVisible:{boxShadow:"outline"}},DV={baseStyle:IV},{defineMultiStyleConfig:MV,definePartsStyle:OV}=Lt(D9.keys),FV={marginEnd:"2",display:"inline",verticalAlign:"text-bottom"},NV=OV({icon:FV}),jV=MV({baseStyle:NV}),{defineMultiStyleConfig:BV,definePartsStyle:$V}=Lt(M9.keys),fi=Re("menu-bg"),gv=Re("menu-shadow"),zV={[fi.variable]:"#fff",[gv.variable]:"shadows.sm",_dark:{[fi.variable]:"colors.gray.700",[gv.variable]:"shadows.dark-lg"},color:"inherit",minW:"3xs",py:"2",zIndex:"dropdown",borderRadius:"md",borderWidth:"1px",bg:fi.reference,boxShadow:gv.reference},UV={py:"1.5",px:"3",transitionProperty:"background",transitionDuration:"ultra-fast",transitionTimingFunction:"ease-in",_focus:{[fi.variable]:"colors.gray.100",_dark:{[fi.variable]:"colors.whiteAlpha.100"}},_active:{[fi.variable]:"colors.gray.200",_dark:{[fi.variable]:"colors.whiteAlpha.200"}},_expanded:{[fi.variable]:"colors.gray.100",_dark:{[fi.variable]:"colors.whiteAlpha.100"}},_disabled:{opacity:.4,cursor:"not-allowed"},bg:fi.reference},VV={mx:4,my:2,fontWeight:"semibold",fontSize:"sm"},WV={display:"inline-flex",alignItems:"center",justifyContent:"center",flexShrink:0},HV={opacity:.6},GV={border:0,borderBottom:"1px solid",borderColor:"inherit",my:"2",opacity:.6},KV={transitionProperty:"common",transitionDuration:"normal"},YV=$V({button:KV,list:zV,item:UV,groupTitle:VV,icon:WV,command:HV,divider:GV}),qV=BV({baseStyle:YV}),{defineMultiStyleConfig:XV,definePartsStyle:Gb}=Lt(O9.keys),yv=Re("modal-bg"),vv=Re("modal-shadow"),QV={bg:"blackAlpha.600",zIndex:"modal"},ZV=t=>{const{isCentered:e,scrollBehavior:n}=t;return{display:"flex",zIndex:"modal",justifyContent:"center",alignItems:e?"center":"flex-start",overflow:n==="inside"?"hidden":"auto",overscrollBehaviorY:"none"}},JV=t=>{const{isCentered:e,scrollBehavior:n}=t;return{borderRadius:"md",color:"inherit",my:e?"auto":"16",mx:e?"auto":void 0,zIndex:"modal",maxH:n==="inside"?"calc(100% - 7.5rem)":void 0,[yv.variable]:"colors.white",[vv.variable]:"shadows.lg",_dark:{[yv.variable]:"colors.gray.700",[vv.variable]:"shadows.dark-lg"},bg:yv.reference,boxShadow:vv.reference}},eW={px:"6",py:"4",fontSize:"xl",fontWeight:"semibold"},tW={position:"absolute",top:"2",insetEnd:"3"},nW=t=>{const{scrollBehavior:e}=t;return{px:"6",py:"2",flex:"1",overflow:e==="inside"?"auto":void 0}},rW={px:"6",py:"4"},sW=Gb(t=>({overlay:QV,dialogContainer:dr(ZV,t),dialog:dr(JV,t),header:eW,closeButton:tW,body:dr(nW,t),footer:rW}));function $s(t){return Gb(t==="full"?{dialog:{maxW:"100vw",minH:"$100vh",my:"0",borderRadius:"0"}}:{dialog:{maxW:t}})}const iW={xs:$s("xs"),sm:$s("sm"),md:$s("md"),lg:$s("lg"),xl:$s("xl"),"2xl":$s("2xl"),"3xl":$s("3xl"),"4xl":$s("4xl"),"5xl":$s("5xl"),"6xl":$s("6xl"),full:$s("full")},oW=XV({baseStyle:sW,sizes:iW,defaultProps:{size:"md"}}),WD={letterSpacings:{tighter:"-0.05em",tight:"-0.025em",normal:"0",wide:"0.025em",wider:"0.05em",widest:"0.1em"},lineHeights:{normal:"normal",none:1,shorter:1.25,short:1.375,base:1.5,tall:1.625,taller:"2",3:".75rem",4:"1rem",5:"1.25rem",6:"1.5rem",7:"1.75rem",8:"2rem",9:"2.25rem",10:"2.5rem"},fontWeights:{hairline:100,thin:200,light:300,normal:400,medium:500,semibold:600,bold:700,extrabold:800,black:900},fonts:{heading:'-apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol"',body:'-apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol"',mono:'SFMono-Regular,Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace'},fontSizes:{"3xs":"0.45rem","2xs":"0.625rem",xs:"0.75rem",sm:"0.875rem",md:"1rem",lg:"1.125rem",xl:"1.25rem","2xl":"1.5rem","3xl":"1.875rem","4xl":"2.25rem","5xl":"3rem","6xl":"3.75rem","7xl":"4.5rem","8xl":"6rem","9xl":"8rem"}},{defineMultiStyleConfig:aW,definePartsStyle:HD}=Lt(F9.keys),kw=An("number-input-stepper-width"),GD=An("number-input-input-padding"),lW=Xi(kw).add("0.5rem").toString(),xv=An("number-input-bg"),bv=An("number-input-color"),Sv=An("number-input-border-color"),cW={[kw.variable]:"sizes.6",[GD.variable]:lW},uW=t=>{var e;return((e=dr(dt.baseStyle,t))==null?void 0:e.field)??{}},dW={width:kw.reference},fW={borderStart:"1px solid",borderStartColor:Sv.reference,color:bv.reference,bg:xv.reference,[bv.variable]:"colors.chakra-body-text",[Sv.variable]:"colors.chakra-border-color",_dark:{[bv.variable]:"colors.whiteAlpha.800",[Sv.variable]:"colors.whiteAlpha.300"},_active:{[xv.variable]:"colors.gray.200",_dark:{[xv.variable]:"colors.whiteAlpha.300"}},_disabled:{opacity:.4,cursor:"not-allowed"}},hW=HD(t=>({root:cW,field:dr(uW,t)??{},stepperGroup:dW,stepper:fW}));function rp(t){var i,o;const e=(i=dt.sizes)==null?void 0:i[t],n={lg:"md",md:"md",sm:"sm",xs:"sm"},r=((o=e.field)==null?void 0:o.fontSize)??"md",s=WD.fontSizes[r];return HD({field:{...e.field,paddingInlineEnd:GD.reference,verticalAlign:"top"},stepper:{fontSize:Xi(s).multiply(.75).toString(),_first:{borderTopEndRadius:n[t]},_last:{borderBottomEndRadius:n[t],mt:"-1px",borderTopWidth:1}}})}const pW={xs:rp("xs"),sm:rp("sm"),md:rp("md"),lg:rp("lg")},mW=aW({baseStyle:hW,sizes:pW,variants:dt.variants,defaultProps:dt.defaultProps});var xL;const gW={...(xL=dt.baseStyle)==null?void 0:xL.field,textAlign:"center"},yW={lg:{fontSize:"lg",w:12,h:12,borderRadius:"md"},md:{fontSize:"md",w:10,h:10,borderRadius:"md"},sm:{fontSize:"sm",w:8,h:8,borderRadius:"sm"},xs:{fontSize:"xs",w:6,h:6,borderRadius:"sm"}};var bL;const vW={outline:t=>{var e,n;return((n=dr((e=dt.variants)==null?void 0:e.outline,t))==null?void 0:n.field)??{}},flushed:t=>{var e,n;return((n=dr((e=dt.variants)==null?void 0:e.flushed,t))==null?void 0:n.field)??{}},filled:t=>{var e,n;return((n=dr((e=dt.variants)==null?void 0:e.filled,t))==null?void 0:n.field)??{}},unstyled:((bL=dt.variants)==null?void 0:bL.unstyled.field)??{}},xW={baseStyle:gW,sizes:yW,variants:vW,defaultProps:dt.defaultProps},{defineMultiStyleConfig:bW,definePartsStyle:SW}=Lt(N9.keys),sp=An("popper-bg"),wW=An("popper-arrow-bg"),AC=An("popper-arrow-shadow-color"),TW={zIndex:"popover"},EW={[sp.variable]:"colors.white",bg:sp.reference,[wW.variable]:sp.reference,[AC.variable]:"colors.gray.200",_dark:{[sp.variable]:"colors.gray.700",[AC.variable]:"colors.whiteAlpha.300"},width:"xs",border:"1px solid",borderColor:"inherit",borderRadius:"md",boxShadow:"sm",zIndex:"inherit",_focusVisible:{outline:0,boxShadow:"outline"}},CW={px:3,py:2,borderBottomWidth:"1px"},kW={px:3,py:2},AW={px:3,py:2,borderTopWidth:"1px"},RW={position:"absolute",borderRadius:"md",top:1,insetEnd:2,padding:2},_W=SW({popper:TW,content:EW,header:CW,body:kW,footer:AW,closeButton:RW}),LW=bW({baseStyle:_W}),{defineMultiStyleConfig:PW,definePartsStyle:bd}=Lt(j9.keys),IW=t=>{const{colorScheme:e,theme:n,isIndeterminate:r,hasStripe:s}=t,i=_e(wC(),wC("1rem","rgba(0,0,0,0.1)"))(t),o=_e(`${e}.500`,`${e}.200`)(t),a=`linear-gradient(
    to right,
    transparent 0%,
    ${lr(n,o)} 50%,
    transparent 100%
  )`;return{...!r&&s&&i,...r?{bgImage:a}:{bgColor:o}}},DW={lineHeight:"1",fontSize:"0.25em",fontWeight:"bold",color:"white"},MW=t=>({bg:_e("gray.100","whiteAlpha.300")(t)}),OW=t=>({transitionProperty:"common",transitionDuration:"slow",...IW(t)}),FW=bd(t=>({label:DW,filledTrack:OW(t),track:MW(t)})),NW={xs:bd({track:{h:"1"}}),sm:bd({track:{h:"2"}}),md:bd({track:{h:"3"}}),lg:bd({track:{h:"4"}})},jW=PW({sizes:NW,baseStyle:FW,defaultProps:{size:"md",colorScheme:"blue"}}),{defineMultiStyleConfig:BW,definePartsStyle:dm}=Lt(B9.keys),$W=t=>{var n;const e=(n=dr(Fo.baseStyle,t))==null?void 0:n.control;return{...e,borderRadius:"full",_checked:{...e==null?void 0:e._checked,_before:{content:'""',display:"inline-block",pos:"relative",w:"50%",h:"50%",borderRadius:"50%",bg:"currentColor"}}}},zW=dm(t=>{var e,n;return{label:(e=Fo.baseStyle)==null?void 0:e.call(Fo,t).label,container:(n=Fo.baseStyle)==null?void 0:n.call(Fo,t).container,control:$W(t)}}),UW={md:dm({control:{w:"4",h:"4"},label:{fontSize:"md"}}),lg:dm({control:{w:"5",h:"5"},label:{fontSize:"lg"}}),sm:dm({control:{width:"3",height:"3"},label:{fontSize:"sm"}})},VW=BW({baseStyle:zW,sizes:UW,defaultProps:{size:"md",colorScheme:"blue"}}),{defineMultiStyleConfig:WW,definePartsStyle:HW}=Lt($9.keys),ip=Re("select-bg");var SL;const GW={...(SL=dt.baseStyle)==null?void 0:SL.field,appearance:"none",paddingBottom:"1px",lineHeight:"normal",bg:ip.reference,[ip.variable]:"colors.white",_dark:{[ip.variable]:"colors.gray.700"},"> option, > optgroup":{bg:ip.reference}},KW={width:"6",height:"100%",insetEnd:"2",position:"relative",color:"currentColor",fontSize:"xl",_disabled:{opacity:.5}},YW=HW({field:GW,icon:KW}),op={paddingInlineEnd:"8"};var wL,TL,EL,CL,kL,AL,RL,_L;const qW={lg:{...(wL=dt.sizes)==null?void 0:wL.lg,field:{...(TL=dt.sizes)==null?void 0:TL.lg.field,...op}},md:{...(EL=dt.sizes)==null?void 0:EL.md,field:{...(CL=dt.sizes)==null?void 0:CL.md.field,...op}},sm:{...(kL=dt.sizes)==null?void 0:kL.sm,field:{...(AL=dt.sizes)==null?void 0:AL.sm.field,...op}},xs:{...(RL=dt.sizes)==null?void 0:RL.xs,field:{...(_L=dt.sizes)==null?void 0:_L.xs.field,...op},icon:{insetEnd:"1"}}},XW=WW({baseStyle:YW,sizes:qW,variants:dt.variants,defaultProps:dt.defaultProps}),wv=Re("skeleton-start-color"),Tv=Re("skeleton-end-color"),QW={[wv.variable]:"colors.gray.100",[Tv.variable]:"colors.gray.400",_dark:{[wv.variable]:"colors.gray.800",[Tv.variable]:"colors.gray.600"},background:wv.reference,borderColor:Tv.reference,opacity:.7,borderRadius:"sm"},ZW={baseStyle:QW},Ev=Re("skip-link-bg"),JW={borderRadius:"md",fontWeight:"semibold",_focusVisible:{boxShadow:"outline",padding:"4",position:"fixed",top:"6",insetStart:"6",[Ev.variable]:"colors.white",_dark:{[Ev.variable]:"colors.gray.700"},bg:Ev.reference}},eH={baseStyle:JW},{defineMultiStyleConfig:tH,definePartsStyle:_0}=Lt(z9.keys),Sl=Re("slider-thumb-size"),Pf=Re("slider-track-size"),zo=Re("slider-bg"),nH=t=>{const{orientation:e}=t;return{display:"inline-block",position:"relative",cursor:"pointer",_disabled:{opacity:.6,cursor:"default",pointerEvents:"none"},...Tw({orientation:e,vertical:{h:"100%",px:qi(Sl.reference).divide(2).toString()},horizontal:{w:"100%",py:qi(Sl.reference).divide(2).toString()}})}},rH=t=>({...Tw({orientation:t.orientation,horizontal:{h:Pf.reference},vertical:{w:Pf.reference}}),overflow:"hidden",borderRadius:"sm",[zo.variable]:"colors.gray.200",_dark:{[zo.variable]:"colors.whiteAlpha.200"},_disabled:{[zo.variable]:"colors.gray.300",_dark:{[zo.variable]:"colors.whiteAlpha.300"}},bg:zo.reference}),sH=t=>{const{orientation:e}=t;return{...Tw({orientation:e,vertical:{left:"50%",transform:"translateX(-50%)",_active:{transform:"translateX(-50%) scale(1.15)"}},horizontal:{top:"50%",transform:"translateY(-50%)",_active:{transform:"translateY(-50%) scale(1.15)"}}}),w:Sl.reference,h:Sl.reference,display:"flex",alignItems:"center",justifyContent:"center",position:"absolute",outline:0,zIndex:1,borderRadius:"full",bg:"white",boxShadow:"base",border:"1px solid",borderColor:"transparent",transitionProperty:"transform",transitionDuration:"normal",_focusVisible:{boxShadow:"outline"},_disabled:{bg:"gray.300"}}},iH=t=>{const{colorScheme:e}=t;return{width:"inherit",height:"inherit",[zo.variable]:`colors.${e}.500`,_dark:{[zo.variable]:`colors.${e}.200`},bg:zo.reference}},oH=_0(t=>({container:nH(t),track:rH(t),thumb:sH(t),filledTrack:iH(t)})),aH=_0({container:{[Sl.variable]:"sizes.4",[Pf.variable]:"sizes.1"}}),lH=_0({container:{[Sl.variable]:"sizes.3.5",[Pf.variable]:"sizes.1"}}),cH=_0({container:{[Sl.variable]:"sizes.2.5",[Pf.variable]:"sizes.0.5"}}),uH={lg:aH,md:lH,sm:cH},dH=tH({baseStyle:oH,sizes:uH,defaultProps:{size:"md",colorScheme:"blue"}}),Va=An("spinner-size"),fH={width:[Va.reference],height:[Va.reference]},hH={xs:{[Va.variable]:"sizes.3"},sm:{[Va.variable]:"sizes.4"},md:{[Va.variable]:"sizes.6"},lg:{[Va.variable]:"sizes.8"},xl:{[Va.variable]:"sizes.12"}},pH={baseStyle:fH,sizes:hH,defaultProps:{size:"md"}},{defineMultiStyleConfig:mH,definePartsStyle:KD}=Lt(U9.keys),gH={fontWeight:"medium"},yH={opacity:.8,marginBottom:"2"},vH={verticalAlign:"baseline",fontWeight:"semibold"},xH={marginEnd:1,w:"3.5",h:"3.5",verticalAlign:"middle"},bH=KD({container:{},label:gH,helpText:yH,number:vH,icon:xH}),SH={md:KD({label:{fontSize:"sm"},helpText:{fontSize:"sm"},number:{fontSize:"2xl"}})},wH=mH({baseStyle:bH,sizes:SH,defaultProps:{size:"md"}}),{defineMultiStyleConfig:TH,definePartsStyle:Sd}=Lt(["stepper","step","title","description","indicator","separator","icon","number"]),Qi=Re("stepper-indicator-size"),bc=Re("stepper-icon-size"),Sc=Re("stepper-title-font-size"),wd=Re("stepper-description-font-size"),Zu=Re("stepper-accent-color"),EH=Sd(({colorScheme:t})=>({stepper:{display:"flex",justifyContent:"space-between",gap:"4","&[data-orientation=vertical]":{flexDirection:"column",alignItems:"flex-start"},"&[data-orientation=horizontal]":{flexDirection:"row",alignItems:"center"},[Zu.variable]:`colors.${t}.500`,_dark:{[Zu.variable]:`colors.${t}.200`}},title:{fontSize:Sc.reference,fontWeight:"medium"},description:{fontSize:wd.reference,color:"chakra-subtle-text"},number:{fontSize:Sc.reference},step:{flexShrink:0,position:"relative",display:"flex",gap:"2","&[data-orientation=horizontal]":{alignItems:"center"},flex:"1","&:last-of-type:not([data-stretch])":{flex:"initial"}},icon:{flexShrink:0,width:bc.reference,height:bc.reference},indicator:{flexShrink:0,borderRadius:"full",width:Qi.reference,height:Qi.reference,display:"flex",justifyContent:"center",alignItems:"center","&[data-status=active]":{borderWidth:"2px",borderColor:Zu.reference},"&[data-status=complete]":{bg:Zu.reference,color:"chakra-inverse-text"},"&[data-status=incomplete]":{borderWidth:"2px"}},separator:{bg:"chakra-border-color",flex:"1","&[data-status=complete]":{bg:Zu.reference},"&[data-orientation=horizontal]":{width:"100%",height:"2px",marginStart:"2"},"&[data-orientation=vertical]":{width:"2px",position:"absolute",height:"100%",maxHeight:`calc(100% - ${Qi.reference} - 8px)`,top:`calc(${Qi.reference} + 4px)`,insetStart:`calc(${Qi.reference} / 2 - 1px)`}}})),CH=TH({baseStyle:EH,sizes:{xs:Sd({stepper:{[Qi.variable]:"sizes.4",[bc.variable]:"sizes.3",[Sc.variable]:"fontSizes.xs",[wd.variable]:"fontSizes.xs"}}),sm:Sd({stepper:{[Qi.variable]:"sizes.6",[bc.variable]:"sizes.4",[Sc.variable]:"fontSizes.sm",[wd.variable]:"fontSizes.xs"}}),md:Sd({stepper:{[Qi.variable]:"sizes.8",[bc.variable]:"sizes.5",[Sc.variable]:"fontSizes.md",[wd.variable]:"fontSizes.sm"}}),lg:Sd({stepper:{[Qi.variable]:"sizes.10",[bc.variable]:"sizes.6",[Sc.variable]:"fontSizes.lg",[wd.variable]:"fontSizes.md"}})},defaultProps:{size:"md",colorScheme:"blue"}}),{defineMultiStyleConfig:kH,definePartsStyle:fm}=Lt(V9.keys),Kd=An("switch-track-width"),il=An("switch-track-height"),Cv=An("switch-track-diff"),AH=Xi.subtract(Kd,il),Kb=An("switch-thumb-x"),Ju=An("switch-bg"),RH=t=>{const{colorScheme:e}=t;return{borderRadius:"full",p:"0.5",width:[Kd.reference],height:[il.reference],transitionProperty:"common",transitionDuration:"fast",[Ju.variable]:"colors.gray.300",_dark:{[Ju.variable]:"colors.whiteAlpha.400"},_focusVisible:{boxShadow:"outline"},_disabled:{opacity:.4,cursor:"not-allowed"},_checked:{[Ju.variable]:`colors.${e}.500`,_dark:{[Ju.variable]:`colors.${e}.200`}},bg:Ju.reference}},_H={bg:"white",transitionProperty:"transform",transitionDuration:"normal",borderRadius:"inherit",width:[il.reference],height:[il.reference],_checked:{transform:`translateX(${Kb.reference})`}},LH=fm(t=>({container:{[Cv.variable]:AH,[Kb.variable]:Cv.reference,_rtl:{[Kb.variable]:Xi(Cv).negate().toString()}},track:RH(t),thumb:_H})),PH={sm:fm({container:{[Kd.variable]:"1.375rem",[il.variable]:"sizes.3"}}),md:fm({container:{[Kd.variable]:"1.875rem",[il.variable]:"sizes.4"}}),lg:fm({container:{[Kd.variable]:"2.875rem",[il.variable]:"sizes.6"}})},IH=kH({baseStyle:LH,sizes:PH,defaultProps:{size:"md",colorScheme:"blue"}}),{defineMultiStyleConfig:DH,definePartsStyle:jc}=Lt(W9.keys),MH=jc({table:{fontVariantNumeric:"lining-nums tabular-nums",borderCollapse:"collapse",width:"full"},th:{fontFamily:"heading",fontWeight:"bold",textTransform:"uppercase",letterSpacing:"wider",textAlign:"start"},td:{textAlign:"start"},caption:{mt:4,fontFamily:"heading",textAlign:"center",fontWeight:"medium"}}),vg={"&[data-is-numeric=true]":{textAlign:"end"}},OH=jc(t=>{const{colorScheme:e}=t;return{th:{color:_e("gray.600","gray.400")(t),borderBottom:"1px",borderColor:_e(`${e}.100`,`${e}.700`)(t),...vg},td:{borderBottom:"1px",borderColor:_e(`${e}.100`,`${e}.700`)(t),...vg},caption:{color:_e("gray.600","gray.100")(t)},tfoot:{tr:{"&:last-of-type":{th:{borderBottomWidth:0}}}}}}),FH=jc(t=>{const{colorScheme:e}=t;return{th:{color:_e("gray.600","gray.400")(t),borderBottom:"1px",borderColor:_e(`${e}.100`,`${e}.700`)(t),...vg},td:{borderBottom:"1px",borderColor:_e(`${e}.100`,`${e}.700`)(t),...vg},caption:{color:_e("gray.600","gray.100")(t)},tbody:{tr:{"&:nth-of-type(odd)":{"th, td":{borderBottomWidth:"1px",borderColor:_e(`${e}.100`,`${e}.700`)(t)},td:{background:_e(`${e}.100`,`${e}.700`)(t)}}}},tfoot:{tr:{"&:last-of-type":{th:{borderBottomWidth:0}}}}}}),NH={simple:OH,striped:FH,unstyled:{}},jH={sm:jc({th:{px:"4",py:"1",lineHeight:"4",fontSize:"xs"},td:{px:"4",py:"2",fontSize:"sm",lineHeight:"4"},caption:{px:"4",py:"2",fontSize:"xs"}}),md:jc({th:{px:"6",py:"3",lineHeight:"4",fontSize:"xs"},td:{px:"6",py:"4",lineHeight:"5"},caption:{px:"6",py:"2",fontSize:"sm"}}),lg:jc({th:{px:"8",py:"4",lineHeight:"5",fontSize:"sm"},td:{px:"8",py:"5",lineHeight:"6"},caption:{px:"6",py:"2",fontSize:"md"}})},BH=DH({baseStyle:MH,variants:NH,sizes:jH,defaultProps:{variant:"simple",size:"md",colorScheme:"gray"}}),wr=Re("tabs-color"),Ys=Re("tabs-bg"),ap=Re("tabs-border-color"),{defineMultiStyleConfig:$H,definePartsStyle:Ei}=Lt(H9.keys),zH=t=>{const{orientation:e}=t;return{display:e==="vertical"?"flex":"block"}},UH=t=>{const{isFitted:e}=t;return{flex:e?1:void 0,transitionProperty:"common",transitionDuration:"normal",_focusVisible:{zIndex:1,boxShadow:"outline"},_disabled:{cursor:"not-allowed",opacity:.4}}},VH=t=>{const{align:e="start",orientation:n}=t;return{justifyContent:{end:"flex-end",center:"center",start:"flex-start"}[e],flexDirection:n==="vertical"?"column":"row"}},WH={p:4},HH=Ei(t=>({root:zH(t),tab:UH(t),tablist:VH(t),tabpanel:WH})),GH={sm:Ei({tab:{py:1,px:4,fontSize:"sm"}}),md:Ei({tab:{fontSize:"md",py:2,px:4}}),lg:Ei({tab:{fontSize:"lg",py:3,px:4}})},KH=Ei(t=>{const{colorScheme:e,orientation:n}=t,r=n==="vertical",s=r?"borderStart":"borderBottom",i=r?"marginStart":"marginBottom";return{tablist:{[s]:"2px solid",borderColor:"inherit"},tab:{[s]:"2px solid",borderColor:"transparent",[i]:"-2px",_selected:{[wr.variable]:`colors.${e}.600`,_dark:{[wr.variable]:`colors.${e}.300`},borderColor:"currentColor"},_active:{[Ys.variable]:"colors.gray.200",_dark:{[Ys.variable]:"colors.whiteAlpha.300"}},_disabled:{_active:{bg:"none"}},color:wr.reference,bg:Ys.reference}}}),YH=Ei(t=>{const{colorScheme:e}=t;return{tab:{borderTopRadius:"md",border:"1px solid",borderColor:"transparent",mb:"-1px",[ap.variable]:"transparent",_selected:{[wr.variable]:`colors.${e}.600`,[ap.variable]:"colors.white",_dark:{[wr.variable]:`colors.${e}.300`,[ap.variable]:"colors.gray.800"},borderColor:"inherit",borderBottomColor:ap.reference},color:wr.reference},tablist:{mb:"-1px",borderBottom:"1px solid",borderColor:"inherit"}}}),qH=Ei(t=>{const{colorScheme:e}=t;return{tab:{border:"1px solid",borderColor:"inherit",[Ys.variable]:"colors.gray.50",_dark:{[Ys.variable]:"colors.whiteAlpha.50"},mb:"-1px",_notLast:{marginEnd:"-1px"},_selected:{[Ys.variable]:"colors.white",[wr.variable]:`colors.${e}.600`,_dark:{[Ys.variable]:"colors.gray.800",[wr.variable]:`colors.${e}.300`},borderColor:"inherit",borderTopColor:"currentColor",borderBottomColor:"transparent"},color:wr.reference,bg:Ys.reference},tablist:{mb:"-1px",borderBottom:"1px solid",borderColor:"inherit"}}}),XH=Ei(t=>{const{colorScheme:e,theme:n}=t;return{tab:{borderRadius:"full",fontWeight:"semibold",color:"gray.600",_selected:{color:lr(n,`${e}.700`),bg:lr(n,`${e}.100`)}}}}),QH=Ei(t=>{const{colorScheme:e}=t;return{tab:{borderRadius:"full",fontWeight:"semibold",[wr.variable]:"colors.gray.600",_dark:{[wr.variable]:"inherit"},_selected:{[wr.variable]:"colors.white",[Ys.variable]:`colors.${e}.600`,_dark:{[wr.variable]:"colors.gray.800",[Ys.variable]:`colors.${e}.300`}},color:wr.reference,bg:Ys.reference}}}),ZH=Ei({}),JH={line:KH,enclosed:YH,"enclosed-colored":qH,"soft-rounded":XH,"solid-rounded":QH,unstyled:ZH},eG=$H({baseStyle:HH,sizes:GH,variants:JH,defaultProps:{size:"md",variant:"line",colorScheme:"blue"}}),{defineMultiStyleConfig:tG,definePartsStyle:ol}=Lt(G9.keys),RC=Re("tag-bg"),_C=Re("tag-color"),kv=Re("tag-shadow"),hm=Re("tag-min-height"),pm=Re("tag-min-width"),mm=Re("tag-font-size"),gm=Re("tag-padding-inline"),nG={fontWeight:"medium",lineHeight:1.2,outline:0,[_C.variable]:un.color.reference,[RC.variable]:un.bg.reference,[kv.variable]:un.shadow.reference,color:_C.reference,bg:RC.reference,boxShadow:kv.reference,borderRadius:"md",minH:hm.reference,minW:pm.reference,fontSize:mm.reference,px:gm.reference,_focusVisible:{[kv.variable]:"shadows.outline"}},rG={lineHeight:1.2,overflow:"visible"},sG={fontSize:"lg",w:"5",h:"5",transitionProperty:"common",transitionDuration:"normal",borderRadius:"full",marginStart:"1.5",marginEnd:"-1",opacity:.5,_disabled:{opacity:.4},_focusVisible:{boxShadow:"outline",bg:"rgba(0, 0, 0, 0.14)"},_hover:{opacity:.8},_active:{opacity:1}},iG=ol({container:nG,label:rG,closeButton:sG}),oG={sm:ol({container:{[hm.variable]:"sizes.5",[pm.variable]:"sizes.5",[mm.variable]:"fontSizes.xs",[gm.variable]:"space.2"},closeButton:{marginEnd:"-2px",marginStart:"0.35rem"}}),md:ol({container:{[hm.variable]:"sizes.6",[pm.variable]:"sizes.6",[mm.variable]:"fontSizes.sm",[gm.variable]:"space.2"}}),lg:ol({container:{[hm.variable]:"sizes.8",[pm.variable]:"sizes.8",[mm.variable]:"fontSizes.md",[gm.variable]:"space.3"}})},aG={subtle:ol(t=>{var e;return{container:(e=Wd.variants)==null?void 0:e.subtle(t)}}),solid:ol(t=>{var e;return{container:(e=Wd.variants)==null?void 0:e.solid(t)}}),outline:ol(t=>{var e;return{container:(e=Wd.variants)==null?void 0:e.outline(t)}})},lG=tG({variants:aG,baseStyle:iG,sizes:oG,defaultProps:{size:"md",variant:"subtle",colorScheme:"gray"}});var LL;const cG={...(LL=dt.baseStyle)==null?void 0:LL.field,paddingY:"2",minHeight:"20",lineHeight:"short",verticalAlign:"top"};var PL;const uG={outline:t=>{var e;return((e=dt.variants)==null?void 0:e.outline(t).field)??{}},flushed:t=>{var e;return((e=dt.variants)==null?void 0:e.flushed(t).field)??{}},filled:t=>{var e;return((e=dt.variants)==null?void 0:e.filled(t).field)??{}},unstyled:((PL=dt.variants)==null?void 0:PL.unstyled.field)??{}};var IL,DL,ML,OL;const dG={xs:((IL=dt.sizes)==null?void 0:IL.xs.field)??{},sm:((DL=dt.sizes)==null?void 0:DL.sm.field)??{},md:((ML=dt.sizes)==null?void 0:ML.md.field)??{},lg:((OL=dt.sizes)==null?void 0:OL.lg.field)??{}},fG={baseStyle:cG,sizes:dG,variants:uG,defaultProps:{size:"md",variant:"outline"}},lp=An("tooltip-bg"),Av=An("tooltip-fg"),hG=An("popper-arrow-bg"),pG={bg:lp.reference,color:Av.reference,[lp.variable]:"colors.gray.700",[Av.variable]:"colors.whiteAlpha.900",_dark:{[lp.variable]:"colors.gray.300",[Av.variable]:"colors.gray.900"},[hG.variable]:lp.reference,px:"2",py:"0.5",borderRadius:"sm",fontWeight:"medium",fontSize:"sm",boxShadow:"md",maxW:"xs",zIndex:"tooltip"},mG={baseStyle:pG},gG={Accordion:tU,Alert:jU,Avatar:qU,Badge:Wd,Breadcrumb:i7,Button:p7,Checkbox:Fo,CloseButton:_7,Code:D7,Container:O7,Divider:$7,Drawer:Q7,Editable:sV,Form:uV,FormError:gV,FormLabel:vV,Heading:SV,Input:dt,Kbd:PV,Link:DV,List:jV,Menu:qV,Modal:oW,NumberInput:mW,PinInput:xW,Popover:LW,Progress:jW,Radio:VW,Select:XW,Skeleton:ZW,SkipLink:eH,Slider:dH,Spinner:pH,Stat:wH,Switch:IH,Table:BH,Tabs:eG,Tag:lG,Textarea:fG,Tooltip:mG,Card:x7,Stepper:CH},yG={none:0,"1px":"1px solid","2px":"2px solid","4px":"4px solid","8px":"8px solid"},vG={base:"0em",sm:"30em",md:"48em",lg:"62em",xl:"80em","2xl":"96em"},xG={transparent:"transparent",current:"currentColor",black:"#000000",white:"#FFFFFF",whiteAlpha:{50:"rgba(255, 255, 255, 0.04)",100:"rgba(255, 255, 255, 0.06)",200:"rgba(255, 255, 255, 0.08)",300:"rgba(255, 255, 255, 0.16)",400:"rgba(255, 255, 255, 0.24)",500:"rgba(255, 255, 255, 0.36)",600:"rgba(255, 255, 255, 0.48)",700:"rgba(255, 255, 255, 0.64)",800:"rgba(255, 255, 255, 0.80)",900:"rgba(255, 255, 255, 0.92)"},blackAlpha:{50:"rgba(0, 0, 0, 0.04)",100:"rgba(0, 0, 0, 0.06)",200:"rgba(0, 0, 0, 0.08)",300:"rgba(0, 0, 0, 0.16)",400:"rgba(0, 0, 0, 0.24)",500:"rgba(0, 0, 0, 0.36)",600:"rgba(0, 0, 0, 0.48)",700:"rgba(0, 0, 0, 0.64)",800:"rgba(0, 0, 0, 0.80)",900:"rgba(0, 0, 0, 0.92)"},gray:{50:"#F7FAFC",100:"#EDF2F7",200:"#E2E8F0",300:"#CBD5E0",400:"#A0AEC0",500:"#718096",600:"#4A5568",700:"#2D3748",800:"#1A202C",900:"#171923"},red:{50:"#FFF5F5",100:"#FED7D7",200:"#FEB2B2",300:"#FC8181",400:"#F56565",500:"#E53E3E",600:"#C53030",700:"#9B2C2C",800:"#822727",900:"#63171B"},orange:{50:"#FFFAF0",100:"#FEEBC8",200:"#FBD38D",300:"#F6AD55",400:"#ED8936",500:"#DD6B20",600:"#C05621",700:"#9C4221",800:"#7B341E",900:"#652B19"},yellow:{50:"#FFFFF0",100:"#FEFCBF",200:"#FAF089",300:"#F6E05E",400:"#ECC94B",500:"#D69E2E",600:"#B7791F",700:"#975A16",800:"#744210",900:"#5F370E"},green:{50:"#F0FFF4",100:"#C6F6D5",200:"#9AE6B4",300:"#68D391",400:"#48BB78",500:"#38A169",600:"#2F855A",700:"#276749",800:"#22543D",900:"#1C4532"},teal:{50:"#E6FFFA",100:"#B2F5EA",200:"#81E6D9",300:"#4FD1C5",400:"#38B2AC",500:"#319795",600:"#2C7A7B",700:"#285E61",800:"#234E52",900:"#1D4044"},blue:{50:"#ebf8ff",100:"#bee3f8",200:"#90cdf4",300:"#63b3ed",400:"#4299e1",500:"#3182ce",600:"#2b6cb0",700:"#2c5282",800:"#2a4365",900:"#1A365D"},cyan:{50:"#EDFDFD",100:"#C4F1F9",200:"#9DECF9",300:"#76E4F7",400:"#0BC5EA",500:"#00B5D8",600:"#00A3C4",700:"#0987A0",800:"#086F83",900:"#065666"},purple:{50:"#FAF5FF",100:"#E9D8FD",200:"#D6BCFA",300:"#B794F4",400:"#9F7AEA",500:"#805AD5",600:"#6B46C1",700:"#553C9A",800:"#44337A",900:"#322659"},pink:{50:"#FFF5F7",100:"#FED7E2",200:"#FBB6CE",300:"#F687B3",400:"#ED64A6",500:"#D53F8C",600:"#B83280",700:"#97266D",800:"#702459",900:"#521B41"}},bG={none:"0",sm:"0.125rem",base:"0.25rem",md:"0.375rem",lg:"0.5rem",xl:"0.75rem","2xl":"1rem","3xl":"1.5rem",full:"9999px"},SG={xs:"0 0 0 1px rgba(0, 0, 0, 0.05)",sm:"0 1px 2px 0 rgba(0, 0, 0, 0.05)",base:"0 1px 3px 0 rgba(0, 0, 0, 0.1), 0 1px 2px 0 rgba(0, 0, 0, 0.06)",md:"0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06)",lg:"0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05)",xl:"0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04)","2xl":"0 25px 50px -12px rgba(0, 0, 0, 0.25)",outline:"0 0 0 3px rgba(66, 153, 225, 0.6)",inner:"inset 0 2px 4px 0 rgba(0,0,0,0.06)",none:"none","dark-lg":"rgba(0, 0, 0, 0.1) 0px 0px 0px 1px, rgba(0, 0, 0, 0.2) 0px 5px 10px, rgba(0, 0, 0, 0.4) 0px 15px 40px"},wG={common:"background-color, border-color, color, fill, stroke, opacity, box-shadow, transform",colors:"background-color, border-color, color, fill, stroke",dimensions:"width, height",position:"left, right, top, bottom",background:"background-color, background-image, background-position"},TG={"ease-in":"cubic-bezier(0.4, 0, 1, 1)","ease-out":"cubic-bezier(0, 0, 0.2, 1)","ease-in-out":"cubic-bezier(0.4, 0, 0.2, 1)"},EG={"ultra-fast":"50ms",faster:"100ms",fast:"150ms",normal:"200ms",slow:"300ms",slower:"400ms","ultra-slow":"500ms"},CG={property:wG,easing:TG,duration:EG},kG={hide:-1,auto:"auto",base:0,docked:10,dropdown:1e3,sticky:1100,banner:1200,overlay:1300,modal:1400,popover:1500,skipLink:1600,toast:1700,tooltip:1800},AG={none:0,sm:"4px",base:"8px",md:"12px",lg:"16px",xl:"24px","2xl":"40px","3xl":"64px"},RG={breakpoints:vG,zIndices:kG,radii:bG,blur:AG,colors:xG,...WD,sizes:jD,shadows:SG,space:ND,borders:yG,transition:CG},_G={colors:{"chakra-body-text":{_light:"gray.800",_dark:"whiteAlpha.900"},"chakra-body-bg":{_light:"white",_dark:"gray.800"},"chakra-border-color":{_light:"gray.200",_dark:"whiteAlpha.300"},"chakra-inverse-text":{_light:"white",_dark:"gray.800"},"chakra-subtle-bg":{_light:"gray.100",_dark:"gray.700"},"chakra-subtle-text":{_light:"gray.600",_dark:"gray.400"},"chakra-placeholder-color":{_light:"gray.500",_dark:"whiteAlpha.400"}}},LG={global:{body:{fontFamily:"body",color:"chakra-body-text",bg:"chakra-body-bg",transitionProperty:"background-color",transitionDuration:"normal",lineHeight:"base"},"*::placeholder":{color:"chakra-placeholder-color"},"*, *::before, &::after":{borderColor:"chakra-border-color"}}},PG=["borders","breakpoints","colors","components","config","direction","fonts","fontSizes","fontWeights","letterSpacings","lineHeights","radii","shadows","sizes","space","styles","transition","zIndices"];function IG(t){return er(t)?PG.every(e=>Object.prototype.hasOwnProperty.call(t,e)):!1}const DG="ltr",MG={useSystemColorMode:!1,initialColorMode:"light",cssVarPrefix:"chakra"},YD={semanticTokens:_G,direction:DG,...RG,components:gG,styles:LG,config:MG};var OG=!1;function FG(t){if(t.sheet)return t.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===t)return document.styleSheets[e]}function NG(t){var e=document.createElement("style");return e.setAttribute("data-emotion",t.key),t.nonce!==void 0&&e.setAttribute("nonce",t.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var jG=function(){function t(n){var r=this;this._insertTag=function(s){var i;r.tags.length===0?r.insertionPoint?i=r.insertionPoint.nextSibling:r.prepend?i=r.container.firstChild:i=r.before:i=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(s,i),r.tags.push(s)},this.isSpeedy=n.speedy===void 0?!OG:n.speedy,this.tags=[],this.ctr=0,this.nonce=n.nonce,this.key=n.key,this.container=n.container,this.prepend=n.prepend,this.insertionPoint=n.insertionPoint,this.before=null}var e=t.prototype;return e.hydrate=function(r){r.forEach(this._insertTag)},e.insert=function(r){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(NG(this));var s=this.tags[this.tags.length-1];if(this.isSpeedy){var i=FG(s);try{i.insertRule(r,i.cssRules.length)}catch{}}else s.appendChild(document.createTextNode(r));this.ctr++},e.flush=function(){this.tags.forEach(function(r){var s;return(s=r.parentNode)==null?void 0:s.removeChild(r)}),this.tags=[],this.ctr=0},t}(),Kn="-ms-",xg="-moz-",ct="-webkit-",qD="comm",Aw="rule",Rw="decl",BG="@import",XD="@keyframes",$G="@layer",zG=Math.abs,L0=String.fromCharCode,UG=Object.assign;function VG(t,e){return Bn(t,0)^45?(((e<<2^Bn(t,0))<<2^Bn(t,1))<<2^Bn(t,2))<<2^Bn(t,3):0}function QD(t){return t.trim()}function WG(t,e){return(t=e.exec(t))?t[0]:t}function ut(t,e,n){return t.replace(e,n)}function Yb(t,e){return t.indexOf(e)}function Bn(t,e){return t.charCodeAt(e)|0}function If(t,e,n){return t.slice(e,n)}function pi(t){return t.length}function _w(t){return t.length}function cp(t,e){return e.push(t),t}function HG(t,e){return t.map(e).join("")}var P0=1,ru=1,ZD=0,Mr=0,mn=0,Au="";function I0(t,e,n,r,s,i,o){return{value:t,root:e,parent:n,type:r,props:s,children:i,line:P0,column:ru,length:o,return:""}}function ed(t,e){return UG(I0("",null,null,"",null,null,0),t,{length:-t.length},e)}function GG(){return mn}function KG(){return mn=Mr>0?Bn(Au,--Mr):0,ru--,mn===10&&(ru=1,P0--),mn}function qr(){return mn=Mr<ZD?Bn(Au,Mr++):0,ru++,mn===10&&(ru=1,P0++),mn}function Ci(){return Bn(Au,Mr)}function ym(){return Mr}function mh(t,e){return If(Au,t,e)}function Df(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function JD(t){return P0=ru=1,ZD=pi(Au=t),Mr=0,[]}function eM(t){return Au="",t}function vm(t){return QD(mh(Mr-1,qb(t===91?t+2:t===40?t+1:t)))}function YG(t){for(;(mn=Ci())&&mn<33;)qr();return Df(t)>2||Df(mn)>3?"":" "}function qG(t,e){for(;--e&&qr()&&!(mn<48||mn>102||mn>57&&mn<65||mn>70&&mn<97););return mh(t,ym()+(e<6&&Ci()==32&&qr()==32))}function qb(t){for(;qr();)switch(mn){case t:return Mr;case 34:case 39:t!==34&&t!==39&&qb(mn);break;case 40:t===41&&qb(t);break;case 92:qr();break}return Mr}function XG(t,e){for(;qr()&&t+mn!==57;)if(t+mn===84&&Ci()===47)break;return"/*"+mh(e,Mr-1)+"*"+L0(t===47?t:qr())}function QG(t){for(;!Df(Ci());)qr();return mh(t,Mr)}function ZG(t){return eM(xm("",null,null,null,[""],t=JD(t),0,[0],t))}function xm(t,e,n,r,s,i,o,a,l){for(var c=0,u=0,d=o,f=0,p=0,m=0,g=1,y=1,x=1,v=0,b="",w=s,T=i,C=r,E=b;y;)switch(m=v,v=qr()){case 40:if(m!=108&&Bn(E,d-1)==58){Yb(E+=ut(vm(v),"&","&\f"),"&\f")!=-1&&(x=-1);break}case 34:case 39:case 91:E+=vm(v);break;case 9:case 10:case 13:case 32:E+=YG(m);break;case 92:E+=qG(ym()-1,7);continue;case 47:switch(Ci()){case 42:case 47:cp(JG(XG(qr(),ym()),e,n),l);break;default:E+="/"}break;case 123*g:a[c++]=pi(E)*x;case 125*g:case 59:case 0:switch(v){case 0:case 125:y=0;case 59+u:x==-1&&(E=ut(E,/\f/g,"")),p>0&&pi(E)-d&&cp(p>32?PC(E+";",r,n,d-1):PC(ut(E," ","")+";",r,n,d-2),l);break;case 59:E+=";";default:if(cp(C=LC(E,e,n,c,u,s,a,b,w=[],T=[],d),i),v===123)if(u===0)xm(E,e,C,C,w,i,d,a,T);else switch(f===99&&Bn(E,3)===110?100:f){case 100:case 108:case 109:case 115:xm(t,C,C,r&&cp(LC(t,C,C,0,0,s,a,b,s,w=[],d),T),s,T,d,a,r?w:T);break;default:xm(E,C,C,C,[""],T,0,a,T)}}c=u=p=0,g=x=1,b=E="",d=o;break;case 58:d=1+pi(E),p=m;default:if(g<1){if(v==123)--g;else if(v==125&&g++==0&&KG()==125)continue}switch(E+=L0(v),v*g){case 38:x=u>0?1:(E+="\f",-1);break;case 44:a[c++]=(pi(E)-1)*x,x=1;break;case 64:Ci()===45&&(E+=vm(qr())),f=Ci(),u=d=pi(b=E+=QG(ym())),v++;break;case 45:m===45&&pi(E)==2&&(g=0)}}return i}function LC(t,e,n,r,s,i,o,a,l,c,u){for(var d=s-1,f=s===0?i:[""],p=_w(f),m=0,g=0,y=0;m<r;++m)for(var x=0,v=If(t,d+1,d=zG(g=o[m])),b=t;x<p;++x)(b=QD(g>0?f[x]+" "+v:ut(v,/&\f/g,f[x])))&&(l[y++]=b);return I0(t,e,n,s===0?Aw:a,l,c,u)}function JG(t,e,n){return I0(t,e,n,qD,L0(GG()),If(t,2,-2),0)}function PC(t,e,n,r){return I0(t,e,n,Rw,If(t,0,r),If(t,r+1,-1),r)}function Bc(t,e){for(var n="",r=_w(t),s=0;s<r;s++)n+=e(t[s],s,t,e)||"";return n}function eK(t,e,n,r){switch(t.type){case $G:if(t.children.length)break;case BG:case Rw:return t.return=t.return||t.value;case qD:return"";case XD:return t.return=t.value+"{"+Bc(t.children,r)+"}";case Aw:t.value=t.props.join(",")}return pi(n=Bc(t.children,r))?t.return=t.value+"{"+n+"}":""}function tK(t){var e=_w(t);return function(n,r,s,i){for(var o="",a=0;a<e;a++)o+=t[a](n,r,s,i)||"";return o}}function nK(t){return function(e){e.root||(e=e.return)&&t(e)}}var IC=function(e){var n=new WeakMap;return function(r){if(n.has(r))return n.get(r);var s=e(r);return n.set(r,s),s}};function tM(t){var e=Object.create(null);return function(n){return e[n]===void 0&&(e[n]=t(n)),e[n]}}var rK=function(e,n,r){for(var s=0,i=0;s=i,i=Ci(),s===38&&i===12&&(n[r]=1),!Df(i);)qr();return mh(e,Mr)},sK=function(e,n){var r=-1,s=44;do switch(Df(s)){case 0:s===38&&Ci()===12&&(n[r]=1),e[r]+=rK(Mr-1,n,r);break;case 2:e[r]+=vm(s);break;case 4:if(s===44){e[++r]=Ci()===58?"&\f":"",n[r]=e[r].length;break}default:e[r]+=L0(s)}while(s=qr());return e},iK=function(e,n){return eM(sK(JD(e),n))},DC=new WeakMap,oK=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var n=e.value,r=e.parent,s=e.column===r.column&&e.line===r.line;r.type!=="rule";)if(r=r.parent,!r)return;if(!(e.props.length===1&&n.charCodeAt(0)!==58&&!DC.get(r))&&!s){DC.set(e,!0);for(var i=[],o=iK(n,i),a=r.props,l=0,c=0;l<o.length;l++)for(var u=0;u<a.length;u++,c++)e.props[c]=i[l]?o[l].replace(/&\f/g,a[u]):a[u]+" "+o[l]}}},aK=function(e){if(e.type==="decl"){var n=e.value;n.charCodeAt(0)===108&&n.charCodeAt(2)===98&&(e.return="",e.value="")}};function nM(t,e){switch(VG(t,e)){case 5103:return ct+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return ct+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return ct+t+xg+t+Kn+t+t;case 6828:case 4268:return ct+t+Kn+t+t;case 6165:return ct+t+Kn+"flex-"+t+t;case 5187:return ct+t+ut(t,/(\w+).+(:[^]+)/,ct+"box-$1$2"+Kn+"flex-$1$2")+t;case 5443:return ct+t+Kn+"flex-item-"+ut(t,/flex-|-self/,"")+t;case 4675:return ct+t+Kn+"flex-line-pack"+ut(t,/align-content|flex-|-self/,"")+t;case 5548:return ct+t+Kn+ut(t,"shrink","negative")+t;case 5292:return ct+t+Kn+ut(t,"basis","preferred-size")+t;case 6060:return ct+"box-"+ut(t,"-grow","")+ct+t+Kn+ut(t,"grow","positive")+t;case 4554:return ct+ut(t,/([^-])(transform)/g,"$1"+ct+"$2")+t;case 6187:return ut(ut(ut(t,/(zoom-|grab)/,ct+"$1"),/(image-set)/,ct+"$1"),t,"")+t;case 5495:case 3959:return ut(t,/(image-set\([^]*)/,ct+"$1$`$1");case 4968:return ut(ut(t,/(.+:)(flex-)?(.*)/,ct+"box-pack:$3"+Kn+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+ct+t+t;case 4095:case 3583:case 4068:case 2532:return ut(t,/(.+)-inline(.+)/,ct+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(pi(t)-1-e>6)switch(Bn(t,e+1)){case 109:if(Bn(t,e+4)!==45)break;case 102:return ut(t,/(.+:)(.+)-([^]+)/,"$1"+ct+"$2-$3$1"+xg+(Bn(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~Yb(t,"stretch")?nM(ut(t,"stretch","fill-available"),e)+t:t}break;case 4949:if(Bn(t,e+1)!==115)break;case 6444:switch(Bn(t,pi(t)-3-(~Yb(t,"!important")&&10))){case 107:return ut(t,":",":"+ct)+t;case 101:return ut(t,/(.+:)([^;!]+)(;|!.+)?/,"$1"+ct+(Bn(t,14)===45?"inline-":"")+"box$3$1"+ct+"$2$3$1"+Kn+"$2box$3")+t}break;case 5936:switch(Bn(t,e+11)){case 114:return ct+t+Kn+ut(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return ct+t+Kn+ut(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return ct+t+Kn+ut(t,/[svh]\w+-[tblr]{2}/,"lr")+t}return ct+t+Kn+t+t}return t}var lK=function(e,n,r,s){if(e.length>-1&&!e.return)switch(e.type){case Rw:e.return=nM(e.value,e.length);break;case XD:return Bc([ed(e,{value:ut(e.value,"@","@"+ct)})],s);case Aw:if(e.length)return HG(e.props,function(i){switch(WG(i,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return Bc([ed(e,{props:[ut(i,/:(read-\w+)/,":"+xg+"$1")]})],s);case"::placeholder":return Bc([ed(e,{props:[ut(i,/:(plac\w+)/,":"+ct+"input-$1")]}),ed(e,{props:[ut(i,/:(plac\w+)/,":"+xg+"$1")]}),ed(e,{props:[ut(i,/:(plac\w+)/,Kn+"input-$1")]})],s)}return""})}},cK=[lK],uK=function(e){var n=e.key;if(n==="css"){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(g){var y=g.getAttribute("data-emotion");y.indexOf(" ")!==-1&&(document.head.appendChild(g),g.setAttribute("data-s",""))})}var s=e.stylisPlugins||cK,i={},o,a=[];o=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+n+' "]'),function(g){for(var y=g.getAttribute("data-emotion").split(" "),x=1;x<y.length;x++)i[y[x]]=!0;a.push(g)});var l,c=[oK,aK];{var u,d=[eK,nK(function(g){u.insert(g)})],f=tK(c.concat(s,d)),p=function(y){return Bc(ZG(y),f)};l=function(y,x,v,b){u=v,p(y?y+"{"+x.styles+"}":x.styles),b&&(m.inserted[x.name]=!0)}}var m={key:n,sheet:new jG({key:n,container:o,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:i,registered:{},insert:l};return m.sheet.hydrate(a),m};function wl(){return wl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},wl.apply(null,arguments)}var rM={exports:{}},vt={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var On=typeof Symbol=="function"&&Symbol.for,Lw=On?Symbol.for("react.element"):60103,Pw=On?Symbol.for("react.portal"):60106,D0=On?Symbol.for("react.fragment"):60107,M0=On?Symbol.for("react.strict_mode"):60108,O0=On?Symbol.for("react.profiler"):60114,F0=On?Symbol.for("react.provider"):60109,N0=On?Symbol.for("react.context"):60110,Iw=On?Symbol.for("react.async_mode"):60111,j0=On?Symbol.for("react.concurrent_mode"):60111,B0=On?Symbol.for("react.forward_ref"):60112,$0=On?Symbol.for("react.suspense"):60113,dK=On?Symbol.for("react.suspense_list"):60120,z0=On?Symbol.for("react.memo"):60115,U0=On?Symbol.for("react.lazy"):60116,fK=On?Symbol.for("react.block"):60121,hK=On?Symbol.for("react.fundamental"):60117,pK=On?Symbol.for("react.responder"):60118,mK=On?Symbol.for("react.scope"):60119;function rs(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case Lw:switch(t=t.type,t){case Iw:case j0:case D0:case O0:case M0:case $0:return t;default:switch(t=t&&t.$$typeof,t){case N0:case B0:case U0:case z0:case F0:return t;default:return e}}case Pw:return e}}}function sM(t){return rs(t)===j0}vt.AsyncMode=Iw;vt.ConcurrentMode=j0;vt.ContextConsumer=N0;vt.ContextProvider=F0;vt.Element=Lw;vt.ForwardRef=B0;vt.Fragment=D0;vt.Lazy=U0;vt.Memo=z0;vt.Portal=Pw;vt.Profiler=O0;vt.StrictMode=M0;vt.Suspense=$0;vt.isAsyncMode=function(t){return sM(t)||rs(t)===Iw};vt.isConcurrentMode=sM;vt.isContextConsumer=function(t){return rs(t)===N0};vt.isContextProvider=function(t){return rs(t)===F0};vt.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===Lw};vt.isForwardRef=function(t){return rs(t)===B0};vt.isFragment=function(t){return rs(t)===D0};vt.isLazy=function(t){return rs(t)===U0};vt.isMemo=function(t){return rs(t)===z0};vt.isPortal=function(t){return rs(t)===Pw};vt.isProfiler=function(t){return rs(t)===O0};vt.isStrictMode=function(t){return rs(t)===M0};vt.isSuspense=function(t){return rs(t)===$0};vt.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===D0||t===j0||t===O0||t===M0||t===$0||t===dK||typeof t=="object"&&t!==null&&(t.$$typeof===U0||t.$$typeof===z0||t.$$typeof===F0||t.$$typeof===N0||t.$$typeof===B0||t.$$typeof===hK||t.$$typeof===pK||t.$$typeof===mK||t.$$typeof===fK)};vt.typeOf=rs;rM.exports=vt;var gK=rM.exports,iM=gK,yK={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},vK={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},oM={};oM[iM.ForwardRef]=yK;oM[iM.Memo]=vK;var xK=!0;function bK(t,e,n){var r="";return n.split(" ").forEach(function(s){t[s]!==void 0?e.push(t[s]+";"):s&&(r+=s+" ")}),r}var aM=function(e,n,r){var s=e.key+"-"+n.name;(r===!1||xK===!1)&&e.registered[s]===void 0&&(e.registered[s]=n.styles)},lM=function(e,n,r){aM(e,n,r);var s=e.key+"-"+n.name;if(e.inserted[n.name]===void 0){var i=n;do e.insert(n===i?"."+s:"",i,e.sheet,!0),i=i.next;while(i!==void 0)}};function SK(t){for(var e=0,n,r=0,s=t.length;s>=4;++r,s-=4)n=t.charCodeAt(r)&255|(t.charCodeAt(++r)&255)<<8|(t.charCodeAt(++r)&255)<<16|(t.charCodeAt(++r)&255)<<24,n=(n&65535)*1540483477+((n>>>16)*59797<<16),n^=n>>>24,e=(n&65535)*1540483477+((n>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(s){case 3:e^=(t.charCodeAt(r+2)&255)<<16;case 2:e^=(t.charCodeAt(r+1)&255)<<8;case 1:e^=t.charCodeAt(r)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var wK={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},TK=!1,EK=/[A-Z]|^ms/g,CK=/_EMO_([^_]+?)_([^]*?)_EMO_/g,cM=function(e){return e.charCodeAt(1)===45},MC=function(e){return e!=null&&typeof e!="boolean"},Rv=tM(function(t){return cM(t)?t:t.replace(EK,"-$&").toLowerCase()}),OC=function(e,n){switch(e){case"animation":case"animationName":if(typeof n=="string")return n.replace(CK,function(r,s,i){return mi={name:s,styles:i,next:mi},s})}return wK[e]!==1&&!cM(e)&&typeof n=="number"&&n!==0?n+"px":n},kK="Component selectors can only be used in conjunction with @emotion/babel-plugin, the swc Emotion plugin, or another Emotion-aware compiler transform.";function Mf(t,e,n){if(n==null)return"";var r=n;if(r.__emotion_styles!==void 0)return r;switch(typeof n){case"boolean":return"";case"object":{var s=n;if(s.anim===1)return mi={name:s.name,styles:s.styles,next:mi},s.name;var i=n;if(i.styles!==void 0){var o=i.next;if(o!==void 0)for(;o!==void 0;)mi={name:o.name,styles:o.styles,next:mi},o=o.next;var a=i.styles+";";return a}return AK(t,e,n)}case"function":{if(t!==void 0){var l=mi,c=n(t);return mi=l,Mf(t,e,c)}break}}var u=n;if(e==null)return u;var d=e[u];return d!==void 0?d:u}function AK(t,e,n){var r="";if(Array.isArray(n))for(var s=0;s<n.length;s++)r+=Mf(t,e,n[s])+";";else for(var i in n){var o=n[i];if(typeof o!="object"){var a=o;e!=null&&e[a]!==void 0?r+=i+"{"+e[a]+"}":MC(a)&&(r+=Rv(i)+":"+OC(i,a)+";")}else{if(i==="NO_COMPONENT_SELECTOR"&&TK)throw new Error(kK);if(Array.isArray(o)&&typeof o[0]=="string"&&(e==null||e[o[0]]===void 0))for(var l=0;l<o.length;l++)MC(o[l])&&(r+=Rv(i)+":"+OC(i,o[l])+";");else{var c=Mf(t,e,o);switch(i){case"animation":case"animationName":{r+=Rv(i)+":"+c+";";break}default:r+=i+"{"+c+"}"}}}}return r}var FC=/label:\s*([^\s;{]+)\s*(;|$)/g,mi;function Dw(t,e,n){if(t.length===1&&typeof t[0]=="object"&&t[0]!==null&&t[0].styles!==void 0)return t[0];var r=!0,s="";mi=void 0;var i=t[0];if(i==null||i.raw===void 0)r=!1,s+=Mf(n,e,i);else{var o=i;s+=o[0]}for(var a=1;a<t.length;a++)if(s+=Mf(n,e,t[a]),r){var l=i;s+=l[a]}FC.lastIndex=0;for(var c="",u;(u=FC.exec(s))!==null;)c+="-"+u[1];var d=SK(s)+c;return{name:d,styles:s,next:mi}}var RK=function(e){return e()},uM=Bx.useInsertionEffect?Bx.useInsertionEffect:!1,_K=uM||RK,NC=uM||S.useLayoutEffect,dM=S.createContext(typeof HTMLElement<"u"?uK({key:"css"}):null);dM.Provider;var Mw=function(e){return S.forwardRef(function(n,r){var s=S.useContext(dM);return e(n,s,r)})},Of=S.createContext({}),LK=function(e,n){if(typeof n=="function"){var r=n(e);return r}return wl({},e,n)},PK=IC(function(t){return IC(function(e){return LK(t,e)})}),IK=function(e){var n=S.useContext(Of);return e.theme!==n&&(n=PK(n)(e.theme)),S.createElement(Of.Provider,{value:n},e.children)},V0=Mw(function(t,e){var n=t.styles,r=Dw([n],void 0,S.useContext(Of)),s=S.useRef();return NC(function(){var i=e.key+"-global",o=new e.sheet.constructor({key:i,nonce:e.sheet.nonce,container:e.sheet.container,speedy:e.sheet.isSpeedy}),a=!1,l=document.querySelector('style[data-emotion="'+i+" "+r.name+'"]');return e.sheet.tags.length&&(o.before=e.sheet.tags[0]),l!==null&&(a=!0,l.setAttribute("data-emotion",i),o.hydrate([l])),s.current=[o,a],function(){o.flush()}},[e]),NC(function(){var i=s.current,o=i[0],a=i[1];if(a){i[1]=!1;return}if(r.next!==void 0&&lM(e,r.next,!0),o.tags.length){var l=o.tags[o.tags.length-1].nextElementSibling;o.before=l,o.flush()}e.insert("",r,o,!1)},[e,r.name]),null});function DK(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return Dw(e)}var Pl=function(){var e=DK.apply(void 0,arguments),n="animation-"+e.name;return{name:n,styles:"@keyframes "+n+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}};const Ow=S.createContext({});Ow.displayName="ColorModeContext";function ga(){const t=S.useContext(Ow);if(t===void 0)throw new Error("useColorMode must be used within a ColorModeProvider");return t}function de(t,e){const{colorMode:n}=ga();return n==="dark"?e:t}const up={light:"chakra-ui-light",dark:"chakra-ui-dark"};function MK(t={}){const{preventTransition:e=!0,nonce:n}=t,r={setDataset:s=>{const i=e?r.preventTransition():void 0;document.documentElement.dataset.theme=s,document.documentElement.style.colorScheme=s,i==null||i()},setClassName(s){document.body.classList.add(s?up.dark:up.light),document.body.classList.remove(s?up.light:up.dark)},query(){return window.matchMedia("(prefers-color-scheme: dark)")},getSystemTheme(s){return r.query().matches??s==="dark"?"dark":"light"},addListener(s){const i=r.query(),o=a=>{s(a.matches?"dark":"light")};return typeof i.addListener=="function"?i.addListener(o):i.addEventListener("change",o),()=>{typeof i.removeListener=="function"?i.removeListener(o):i.removeEventListener("change",o)}},preventTransition(){const s=document.createElement("style");return s.appendChild(document.createTextNode("*{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}")),n!==void 0&&(s.nonce=n),document.head.appendChild(s),()=>{window.getComputedStyle(document.body),requestAnimationFrame(()=>{requestAnimationFrame(()=>{document.head.removeChild(s)})})}}};return r}const OK="chakra-ui-color-mode";function FK(t){return{ssr:!1,type:"localStorage",get(e){if(!(globalThis!=null&&globalThis.document))return e;let n;try{n=localStorage.getItem(t)||e}catch{}return n||e},set(e){try{localStorage.setItem(t,e)}catch{}}}}const NK=FK(OK),jC=()=>{},jK=r$()?S.useLayoutEffect:S.useEffect;function BC(t,e){return t.type==="cookie"&&t.ssr?t.get(e):e}const fM=Mw(function(e,n){const{value:r,children:s,options:{useSystemColorMode:i,initialColorMode:o,disableTransitionOnChange:a}={},colorModeManager:l=NK}=e,c=o==="dark"?"dark":"light",[u,d]=S.useState(()=>BC(l,c)),[f,p]=S.useState(()=>BC(l)),{getSystemTheme:m,setClassName:g,setDataset:y,addListener:x}=S.useMemo(()=>MK({preventTransition:a,nonce:n==null?void 0:n.nonce}),[a,n==null?void 0:n.nonce]),v=o==="system"&&!u?f:u,b=S.useCallback(C=>{const E=C==="system"?m():C;d(E),g(E==="dark"),y(E),l.set(E)},[l,m,g,y]);jK(()=>{o==="system"&&p(m())},[]),S.useEffect(()=>{const C=l.get();if(C){b(C);return}if(o==="system"){b("system");return}b(c)},[l,c,o,b]);const w=S.useCallback(()=>{b(v==="dark"?"light":"dark")},[v,b]);S.useEffect(()=>{if(i)return x(b)},[i,x,b]);const T=S.useMemo(()=>({colorMode:r??v,toggleColorMode:r?jC:w,setColorMode:r?jC:b,forced:r!==void 0}),[v,w,b,r]);return h.jsx(Ow.Provider,{value:T,children:s})});fM.displayName="ColorModeProvider";const hM=String.raw,pM=hM`
  :root,
  :host {
    --chakra-vh: 100vh;
  }

  @supports (height: -webkit-fill-available) {
    :root,
    :host {
      --chakra-vh: -webkit-fill-available;
    }
  }

  @supports (height: -moz-fill-available) {
    :root,
    :host {
      --chakra-vh: -moz-fill-available;
    }
  }

  @supports (height: 100dvh) {
    :root,
    :host {
      --chakra-vh: 100dvh;
    }
  }
`,BK=()=>h.jsx(V0,{styles:pM}),$K=({scope:t=""})=>h.jsx(V0,{styles:hM`
      html {
        line-height: 1.5;
        -webkit-text-size-adjust: 100%;
        font-family: system-ui, sans-serif;
        -webkit-font-smoothing: antialiased;
        text-rendering: optimizeLegibility;
        -moz-osx-font-smoothing: grayscale;
        touch-action: manipulation;
      }

      body {
        position: relative;
        min-height: 100%;
        margin: 0;
        font-feature-settings: "kern";
      }

      ${t} :where(*, *::before, *::after) {
        border-width: 0;
        border-style: solid;
        box-sizing: border-box;
        word-wrap: break-word;
      }

      main {
        display: block;
      }

      ${t} hr {
        border-top-width: 1px;
        box-sizing: content-box;
        height: 0;
        overflow: visible;
      }

      ${t} :where(pre, code, kbd,samp) {
        font-family: SFMono-Regular, Menlo, Monaco, Consolas, monospace;
        font-size: 1em;
      }

      ${t} a {
        background-color: transparent;
        color: inherit;
        text-decoration: inherit;
      }

      ${t} abbr[title] {
        border-bottom: none;
        text-decoration: underline;
        -webkit-text-decoration: underline dotted;
        text-decoration: underline dotted;
      }

      ${t} :where(b, strong) {
        font-weight: bold;
      }

      ${t} small {
        font-size: 80%;
      }

      ${t} :where(sub,sup) {
        font-size: 75%;
        line-height: 0;
        position: relative;
        vertical-align: baseline;
      }

      ${t} sub {
        bottom: -0.25em;
      }

      ${t} sup {
        top: -0.5em;
      }

      ${t} img {
        border-style: none;
      }

      ${t} :where(button, input, optgroup, select, textarea) {
        font-family: inherit;
        font-size: 100%;
        line-height: 1.15;
        margin: 0;
      }

      ${t} :where(button, input) {
        overflow: visible;
      }

      ${t} :where(button, select) {
        text-transform: none;
      }

      ${t} :where(
          button::-moz-focus-inner,
          [type="button"]::-moz-focus-inner,
          [type="reset"]::-moz-focus-inner,
          [type="submit"]::-moz-focus-inner
        ) {
        border-style: none;
        padding: 0;
      }

      ${t} fieldset {
        padding: 0.35em 0.75em 0.625em;
      }

      ${t} legend {
        box-sizing: border-box;
        color: inherit;
        display: table;
        max-width: 100%;
        padding: 0;
        white-space: normal;
      }

      ${t} progress {
        vertical-align: baseline;
      }

      ${t} textarea {
        overflow: auto;
      }

      ${t} :where([type="checkbox"], [type="radio"]) {
        box-sizing: border-box;
        padding: 0;
      }

      ${t} input[type="number"]::-webkit-inner-spin-button,
      ${t} input[type="number"]::-webkit-outer-spin-button {
        -webkit-appearance: none !important;
      }

      ${t} input[type="number"] {
        -moz-appearance: textfield;
      }

      ${t} input[type="search"] {
        -webkit-appearance: textfield;
        outline-offset: -2px;
      }

      ${t} input[type="search"]::-webkit-search-decoration {
        -webkit-appearance: none !important;
      }

      ${t} ::-webkit-file-upload-button {
        -webkit-appearance: button;
        font: inherit;
      }

      ${t} details {
        display: block;
      }

      ${t} summary {
        display: list-item;
      }

      template {
        display: none;
      }

      [hidden] {
        display: none !important;
      }

      ${t} :where(
          blockquote,
          dl,
          dd,
          h1,
          h2,
          h3,
          h4,
          h5,
          h6,
          hr,
          figure,
          p,
          pre
        ) {
        margin: 0;
      }

      ${t} button {
        background: transparent;
        padding: 0;
      }

      ${t} fieldset {
        margin: 0;
        padding: 0;
      }

      ${t} :where(ol, ul) {
        margin: 0;
        padding: 0;
      }

      ${t} textarea {
        resize: vertical;
      }

      ${t} :where(button, [role="button"]) {
        cursor: pointer;
      }

      ${t} button::-moz-focus-inner {
        border: 0 !important;
      }

      ${t} table {
        border-collapse: collapse;
      }

      ${t} :where(h1, h2, h3, h4, h5, h6) {
        font-size: inherit;
        font-weight: inherit;
      }

      ${t} :where(button, input, optgroup, select, textarea) {
        padding: 0;
        line-height: inherit;
        color: inherit;
      }

      ${t} :where(img, svg, video, canvas, audio, iframe, embed, object) {
        display: block;
      }

      ${t} :where(img, video) {
        max-width: 100%;
        height: auto;
      }

      [data-js-focus-visible]
        :focus:not([data-focus-visible-added]):not(
          [data-focus-visible-disabled]
        ) {
        outline: none;
        box-shadow: none;
      }

      ${t} select::-ms-expand {
        display: none;
      }

      ${pM}
    `});function zK(t){const{cssVarsRoot:e,theme:n,children:r}=t,s=S.useMemo(()=>w9(n),[n]);return h.jsxs(IK,{theme:s,children:[h.jsx(UK,{root:e}),r]})}function UK({root:t=":host, :root"}){const e=[t,"[data-theme]"].join(",");return h.jsx(V0,{styles:n=>({[e]:n.__cssVars})})}Zt({name:"StylesContext",errorMessage:"useStyles: `styles` is undefined. Seems you forgot to wrap the components in `<StylesProvider />` "});function VK(t){return Zt({name:`${t}StylesContext`,errorMessage:`useStyles: "styles" is undefined. Seems you forgot to wrap the components in "<${t} />" `})}function WK(){const{colorMode:t}=ga();return h.jsx(V0,{styles:e=>{const n=vD(e,"styles.global"),r=Gr(n,{theme:e,colorMode:t});return r?DD(r)(e):void 0}})}const[HK,GK]=Zt({strict:!1,name:"PortalManagerContext"});function mM(t){const{children:e,zIndex:n}=t;return h.jsx(HK,{value:{zIndex:n},children:e})}mM.displayName="PortalManager";const Fw=S.createContext({getDocument(){return document},getWindow(){return window}});Fw.displayName="EnvironmentContext";function KK({defer:t}={}){const[,e]=S.useReducer(n=>n+1,0);return ta(()=>{t&&e()},[t]),S.useContext(Fw)}function gM(t){const{children:e,environment:n,disabled:r}=t,s=S.useRef(null),i=S.useMemo(()=>n||{getDocument:()=>{var a;return((a=s.current)==null?void 0:a.ownerDocument)??document},getWindow:()=>{var a;return((a=s.current)==null?void 0:a.ownerDocument.defaultView)??window}},[n]),o=!r||!n;return h.jsxs(Fw.Provider,{value:i,children:[e,o&&h.jsx("span",{id:"__chakra_env",hidden:!0,ref:s})]})}gM.displayName="EnvironmentProvider";const YK=t=>{const{children:e,colorModeManager:n,portalZIndex:r,resetScope:s,resetCSS:i=!0,theme:o={},environment:a,cssVarsRoot:l,disableEnvironment:c,disableGlobalStyle:u}=t,d=h.jsx(gM,{environment:a,disabled:c,children:e});return h.jsx(zK,{theme:o,cssVarsRoot:l,children:h.jsxs(fM,{colorModeManager:n,options:o.config,children:[i?h.jsx($K,{scope:s}):h.jsx(BK,{}),!u&&h.jsx(WK,{}),r?h.jsx(mM,{zIndex:r,children:d}):d]})})},yM=S.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"}),W0=S.createContext({}),gh=S.createContext(null),H0=typeof document<"u",Nw=H0?S.useLayoutEffect:S.useEffect,vM=S.createContext({strict:!1}),jw=t=>t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),qK="framerAppearId",xM="data-"+jw(qK);function XK(t,e,n,r){const{visualElement:s}=S.useContext(W0),i=S.useContext(vM),o=S.useContext(gh),a=S.useContext(yM).reducedMotion,l=S.useRef();r=r||i.renderer,!l.current&&r&&(l.current=r(t,{visualState:e,parent:s,props:n,presenceContext:o,blockInitialAnimation:o?o.initial===!1:!1,reducedMotionConfig:a}));const c=l.current;S.useInsertionEffect(()=>{c&&c.update(n,o)});const u=S.useRef(!!(n[xM]&&!window.HandoffComplete));return Nw(()=>{c&&(c.render(),u.current&&c.animationState&&c.animationState.animateChanges())}),S.useEffect(()=>{c&&(c.updateFeatures(),!u.current&&c.animationState&&c.animationState.animateChanges(),u.current&&(u.current=!1,window.HandoffComplete=!0))}),c}function wc(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function QK(t,e,n){return S.useCallback(r=>{r&&t.mount&&t.mount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):wc(n)&&(n.current=r))},[e])}function Ff(t){return typeof t=="string"||Array.isArray(t)}function G0(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}const Bw=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],$w=["initial",...Bw];function K0(t){return G0(t.animate)||$w.some(e=>Ff(t[e]))}function bM(t){return!!(K0(t)||t.variants)}function ZK(t,e){if(K0(t)){const{initial:n,animate:r}=t;return{initial:n===!1||Ff(n)?n:void 0,animate:Ff(r)?r:void 0}}return t.inherit!==!1?e:{}}function JK(t){const{initial:e,animate:n}=ZK(t,S.useContext(W0));return S.useMemo(()=>({initial:e,animate:n}),[$C(e),$C(n)])}function $C(t){return Array.isArray(t)?t.join(" "):t}const zC={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Nf={};for(const t in zC)Nf[t]={isEnabled:e=>zC[t].some(n=>!!e[n])};function eY(t){for(const e in t)Nf[e]={...Nf[e],...t[e]}}const zw=S.createContext({}),SM=S.createContext({}),tY=Symbol.for("motionComponentSymbol");function nY({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:r,Component:s}){t&&eY(t);function i(a,l){let c;const u={...S.useContext(yM),...a,layoutId:rY(a)},{isStatic:d}=u,f=JK(a),p=r(a,d);if(!d&&H0){f.visualElement=XK(s,p,u,e);const m=S.useContext(SM),g=S.useContext(vM).strict;f.visualElement&&(c=f.visualElement.loadFeatures(u,g,t,m))}return S.createElement(W0.Provider,{value:f},c&&f.visualElement?S.createElement(c,{visualElement:f.visualElement,...u}):null,n(s,a,QK(p,f.visualElement,l),p,d,f.visualElement))}const o=S.forwardRef(i);return o[tY]=s,o}function rY({layoutId:t}){const e=S.useContext(zw).id;return e&&t!==void 0?e+"-"+t:t}function sY(t){function e(r,s={}){return nY(t(r,s))}if(typeof Proxy>"u")return e;const n=new Map;return new Proxy(e,{get:(r,s)=>(n.has(s)||n.set(s,e(s)),n.get(s))})}const iY=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Uw(t){return typeof t!="string"||t.includes("-")?!1:!!(iY.indexOf(t)>-1||/[A-Z]/.test(t))}const bg={};function oY(t){Object.assign(bg,t)}const yh=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Il=new Set(yh);function wM(t,{layout:e,layoutId:n}){return Il.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!bg[t]||t==="opacity")}const Or=t=>!!(t&&t.getVelocity),aY={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},lY=yh.length;function cY(t,{enableHardwareAcceleration:e=!0,allowTransformNone:n=!0},r,s){let i="";for(let o=0;o<lY;o++){const a=yh[o];if(t[a]!==void 0){const l=aY[a]||a;i+=`${l}(${t[a]}) `}}return e&&!t.z&&(i+="translateZ(0)"),i=i.trim(),s?i=s(t,r?"":i):n&&r&&(i="none"),i}const TM=t=>e=>typeof e=="string"&&e.startsWith(t),EM=TM("--"),Xb=TM("var(--"),uY=/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g,dY=(t,e)=>e&&typeof t=="number"?e.transform(t):t,oa=(t,e,n)=>Math.min(Math.max(n,t),e),Dl={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Yd={...Dl,transform:t=>oa(0,1,t)},dp={...Dl,default:1},qd=t=>Math.round(t*1e5)/1e5,Y0=/(-)?([\d]*\.?[\d])+/g,CM=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,fY=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function vh(t){return typeof t=="string"}const xh=t=>({test:e=>vh(e)&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Po=xh("deg"),ki=xh("%"),De=xh("px"),hY=xh("vh"),pY=xh("vw"),UC={...ki,parse:t=>ki.parse(t)/100,transform:t=>ki.transform(t*100)},VC={...Dl,transform:Math.round},kM={borderWidth:De,borderTopWidth:De,borderRightWidth:De,borderBottomWidth:De,borderLeftWidth:De,borderRadius:De,radius:De,borderTopLeftRadius:De,borderTopRightRadius:De,borderBottomRightRadius:De,borderBottomLeftRadius:De,width:De,maxWidth:De,height:De,maxHeight:De,size:De,top:De,right:De,bottom:De,left:De,padding:De,paddingTop:De,paddingRight:De,paddingBottom:De,paddingLeft:De,margin:De,marginTop:De,marginRight:De,marginBottom:De,marginLeft:De,rotate:Po,rotateX:Po,rotateY:Po,rotateZ:Po,scale:dp,scaleX:dp,scaleY:dp,scaleZ:dp,skew:Po,skewX:Po,skewY:Po,distance:De,translateX:De,translateY:De,translateZ:De,x:De,y:De,z:De,perspective:De,transformPerspective:De,opacity:Yd,originX:UC,originY:UC,originZ:De,zIndex:VC,fillOpacity:Yd,strokeOpacity:Yd,numOctaves:VC};function Vw(t,e,n,r){const{style:s,vars:i,transform:o,transformOrigin:a}=t;let l=!1,c=!1,u=!0;for(const d in e){const f=e[d];if(EM(d)){i[d]=f;continue}const p=kM[d],m=dY(f,p);if(Il.has(d)){if(l=!0,o[d]=m,!u)continue;f!==(p.default||0)&&(u=!1)}else d.startsWith("origin")?(c=!0,a[d]=m):s[d]=m}if(e.transform||(l||r?s.transform=cY(t.transform,n,u,r):s.transform&&(s.transform="none")),c){const{originX:d="50%",originY:f="50%",originZ:p=0}=a;s.transformOrigin=`${d} ${f} ${p}`}}const Ww=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function AM(t,e,n){for(const r in e)!Or(e[r])&&!wM(r,n)&&(t[r]=e[r])}function mY({transformTemplate:t},e,n){return S.useMemo(()=>{const r=Ww();return Vw(r,e,{enableHardwareAcceleration:!n},t),Object.assign({},r.vars,r.style)},[e])}function gY(t,e,n){const r=t.style||{},s={};return AM(s,r,t),Object.assign(s,mY(t,e,n)),t.transformValues?t.transformValues(s):s}function yY(t,e,n){const r={},s=gY(t,e,n);return t.drag&&t.dragListener!==!1&&(r.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(r.tabIndex=0),r.style=s,r}const vY=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Sg(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||vY.has(t)}let RM=t=>!Sg(t);function xY(t){t&&(RM=e=>e.startsWith("on")?!Sg(e):t(e))}try{xY(require("@emotion/is-prop-valid").default)}catch{}function bY(t,e,n){const r={};for(const s in t)s==="values"&&typeof t.values=="object"||(RM(s)||n===!0&&Sg(s)||!e&&!Sg(s)||t.draggable&&s.startsWith("onDrag"))&&(r[s]=t[s]);return r}function WC(t,e,n){return typeof t=="string"?t:De.transform(e+n*t)}function SY(t,e,n){const r=WC(e,t.x,t.width),s=WC(n,t.y,t.height);return`${r} ${s}`}const wY={offset:"stroke-dashoffset",array:"stroke-dasharray"},TY={offset:"strokeDashoffset",array:"strokeDasharray"};function EY(t,e,n=1,r=0,s=!0){t.pathLength=1;const i=s?wY:TY;t[i.offset]=De.transform(-r);const o=De.transform(e),a=De.transform(n);t[i.array]=`${o} ${a}`}function Hw(t,{attrX:e,attrY:n,attrScale:r,originX:s,originY:i,pathLength:o,pathSpacing:a=1,pathOffset:l=0,...c},u,d,f){if(Vw(t,c,u,f),d){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:p,style:m,dimensions:g}=t;p.transform&&(g&&(m.transform=p.transform),delete p.transform),g&&(s!==void 0||i!==void 0||m.transform)&&(m.transformOrigin=SY(g,s!==void 0?s:.5,i!==void 0?i:.5)),e!==void 0&&(p.x=e),n!==void 0&&(p.y=n),r!==void 0&&(p.scale=r),o!==void 0&&EY(p,o,a,l,!1)}const _M=()=>({...Ww(),attrs:{}}),Gw=t=>typeof t=="string"&&t.toLowerCase()==="svg";function CY(t,e,n,r){const s=S.useMemo(()=>{const i=_M();return Hw(i,e,{enableHardwareAcceleration:!1},Gw(r),t.transformTemplate),{...i.attrs,style:{...i.style}}},[e]);if(t.style){const i={};AM(i,t.style,t),s.style={...i,...s.style}}return s}function kY(t=!1){return(n,r,s,{latestValues:i},o)=>{const l=(Uw(n)?CY:yY)(r,i,o,n),u={...bY(r,typeof n=="string",t),...l,ref:s},{children:d}=r,f=S.useMemo(()=>Or(d)?d.get():d,[d]);return S.createElement(n,{...u,children:f})}}function LM(t,{style:e,vars:n},r,s){Object.assign(t.style,e,s&&s.getProjectionStyles(r));for(const i in n)t.style.setProperty(i,n[i])}const PM=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function IM(t,e,n,r){LM(t,e,void 0,r);for(const s in e.attrs)t.setAttribute(PM.has(s)?s:jw(s),e.attrs[s])}function Kw(t,e){const{style:n}=t,r={};for(const s in n)(Or(n[s])||e.style&&Or(e.style[s])||wM(s,t))&&(r[s]=n[s]);return r}function DM(t,e){const n=Kw(t,e);for(const r in t)if(Or(t[r])||Or(e[r])){const s=yh.indexOf(r)!==-1?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r;n[s]=t[r]}return n}function Yw(t,e,n,r={},s={}){return typeof e=="function"&&(e=e(n!==void 0?n:t.custom,r,s)),typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"&&(e=e(n!==void 0?n:t.custom,r,s)),e}function MM(t){const e=S.useRef(null);return e.current===null&&(e.current=t()),e.current}const wg=t=>Array.isArray(t),AY=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),RY=t=>wg(t)?t[t.length-1]||0:t;function bm(t){const e=Or(t)?t.get():t;return AY(e)?e.toValue():e}function _Y({scrapeMotionValuesFromProps:t,createRenderState:e,onMount:n},r,s,i){const o={latestValues:LY(r,s,i,t),renderState:e()};return n&&(o.mount=a=>n(r,a,o)),o}const OM=t=>(e,n)=>{const r=S.useContext(W0),s=S.useContext(gh),i=()=>_Y(t,e,r,s);return n?i():MM(i)};function LY(t,e,n,r){const s={},i=r(t,{});for(const f in i)s[f]=bm(i[f]);let{initial:o,animate:a}=t;const l=K0(t),c=bM(t);e&&c&&!l&&t.inherit!==!1&&(o===void 0&&(o=e.initial),a===void 0&&(a=e.animate));let u=n?n.initial===!1:!1;u=u||o===!1;const d=u?a:o;return d&&typeof d!="boolean"&&!G0(d)&&(Array.isArray(d)?d:[d]).forEach(p=>{const m=Yw(t,p);if(!m)return;const{transitionEnd:g,transition:y,...x}=m;for(const v in x){let b=x[v];if(Array.isArray(b)){const w=u?b.length-1:0;b=b[w]}b!==null&&(s[v]=b)}for(const v in g)s[v]=g[v]}),s}const cn=t=>t;class HC{constructor(){this.order=[],this.scheduled=new Set}add(e){if(!this.scheduled.has(e))return this.scheduled.add(e),this.order.push(e),!0}remove(e){const n=this.order.indexOf(e);n!==-1&&(this.order.splice(n,1),this.scheduled.delete(e))}clear(){this.order.length=0,this.scheduled.clear()}}function PY(t){let e=new HC,n=new HC,r=0,s=!1,i=!1;const o=new WeakSet,a={schedule:(l,c=!1,u=!1)=>{const d=u&&s,f=d?e:n;return c&&o.add(l),f.add(l)&&d&&s&&(r=e.order.length),l},cancel:l=>{n.remove(l),o.delete(l)},process:l=>{if(s){i=!0;return}if(s=!0,[e,n]=[n,e],n.clear(),r=e.order.length,r)for(let c=0;c<r;c++){const u=e.order[c];u(l),o.has(u)&&(a.schedule(u),t())}s=!1,i&&(i=!1,a.process(l))}};return a}const fp=["prepare","read","update","preRender","render","postRender"],IY=40;function DY(t,e){let n=!1,r=!0;const s={delta:0,timestamp:0,isProcessing:!1},i=fp.reduce((d,f)=>(d[f]=PY(()=>n=!0),d),{}),o=d=>i[d].process(s),a=()=>{const d=performance.now();n=!1,s.delta=r?1e3/60:Math.max(Math.min(d-s.timestamp,IY),1),s.timestamp=d,s.isProcessing=!0,fp.forEach(o),s.isProcessing=!1,n&&e&&(r=!1,t(a))},l=()=>{n=!0,r=!0,s.isProcessing||t(a)};return{schedule:fp.reduce((d,f)=>{const p=i[f];return d[f]=(m,g=!1,y=!1)=>(n||l(),p.schedule(m,g,y)),d},{}),cancel:d=>fp.forEach(f=>i[f].cancel(d)),state:s,steps:i}}const{schedule:_t,cancel:mo,state:qn,steps:_v}=DY(typeof requestAnimationFrame<"u"?requestAnimationFrame:cn,!0),MY={useVisualState:OM({scrapeMotionValuesFromProps:DM,createRenderState:_M,onMount:(t,e,{renderState:n,latestValues:r})=>{_t.read(()=>{try{n.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{n.dimensions={x:0,y:0,width:0,height:0}}}),_t.render(()=>{Hw(n,r,{enableHardwareAcceleration:!1},Gw(e.tagName),t.transformTemplate),IM(e,n)})}})},OY={useVisualState:OM({scrapeMotionValuesFromProps:Kw,createRenderState:Ww})};function FY(t,{forwardMotionProps:e=!1},n,r){return{...Uw(t)?MY:OY,preloadedFeatures:n,useRender:kY(e),createVisualElement:r,Component:t}}function to(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}const FM=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1;function q0(t,e="page"){return{point:{x:t[e+"X"],y:t[e+"Y"]}}}const NY=t=>e=>FM(e)&&t(e,q0(e));function ao(t,e,n,r){return to(t,e,NY(n),r)}const jY=(t,e)=>n=>e(t(n)),na=(...t)=>t.reduce(jY);function NM(t){let e=null;return()=>{const n=()=>{e=null};return e===null?(e=t,n):!1}}const GC=NM("dragHorizontal"),KC=NM("dragVertical");function jM(t){let e=!1;if(t==="y")e=KC();else if(t==="x")e=GC();else{const n=GC(),r=KC();n&&r?e=()=>{n(),r()}:(n&&n(),r&&r())}return e}function BM(){const t=jM(!0);return t?(t(),!1):!0}class ya{constructor(e){this.isMounted=!1,this.node=e}update(){}}function YC(t,e){const n="pointer"+(e?"enter":"leave"),r="onHover"+(e?"Start":"End"),s=(i,o)=>{if(i.pointerType==="touch"||BM())return;const a=t.getProps();t.animationState&&a.whileHover&&t.animationState.setActive("whileHover",e),a[r]&&_t.update(()=>a[r](i,o))};return ao(t.current,n,s,{passive:!t.getProps()[r]})}class BY extends ya{mount(){this.unmount=na(YC(this.node,!0),YC(this.node,!1))}unmount(){}}class $Y extends ya{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=na(to(this.node.current,"focus",()=>this.onFocus()),to(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const $M=(t,e)=>e?t===e?!0:$M(t,e.parentElement):!1;function Lv(t,e){if(!e)return;const n=new PointerEvent("pointer"+t);e(n,q0(n))}class zY extends ya{constructor(){super(...arguments),this.removeStartListeners=cn,this.removeEndListeners=cn,this.removeAccessibleListeners=cn,this.startPointerPress=(e,n)=>{if(this.isPressing)return;this.removeEndListeners();const r=this.node.getProps(),i=ao(window,"pointerup",(a,l)=>{if(!this.checkPressEnd())return;const{onTap:c,onTapCancel:u,globalTapTarget:d}=this.node.getProps();_t.update(()=>{!d&&!$M(this.node.current,a.target)?u&&u(a,l):c&&c(a,l)})},{passive:!(r.onTap||r.onPointerUp)}),o=ao(window,"pointercancel",(a,l)=>this.cancelPress(a,l),{passive:!(r.onTapCancel||r.onPointerCancel)});this.removeEndListeners=na(i,o),this.startPress(e,n)},this.startAccessiblePress=()=>{const e=i=>{if(i.key!=="Enter"||this.isPressing)return;const o=a=>{a.key!=="Enter"||!this.checkPressEnd()||Lv("up",(l,c)=>{const{onTap:u}=this.node.getProps();u&&_t.update(()=>u(l,c))})};this.removeEndListeners(),this.removeEndListeners=to(this.node.current,"keyup",o),Lv("down",(a,l)=>{this.startPress(a,l)})},n=to(this.node.current,"keydown",e),r=()=>{this.isPressing&&Lv("cancel",(i,o)=>this.cancelPress(i,o))},s=to(this.node.current,"blur",r);this.removeAccessibleListeners=na(n,s)}}startPress(e,n){this.isPressing=!0;const{onTapStart:r,whileTap:s}=this.node.getProps();s&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),r&&_t.update(()=>r(e,n))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!BM()}cancelPress(e,n){if(!this.checkPressEnd())return;const{onTapCancel:r}=this.node.getProps();r&&_t.update(()=>r(e,n))}mount(){const e=this.node.getProps(),n=ao(e.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(e.onTapStart||e.onPointerStart)}),r=to(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=na(n,r)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const Qb=new WeakMap,Pv=new WeakMap,UY=t=>{const e=Qb.get(t.target);e&&e(t)},VY=t=>{t.forEach(UY)};function WY({root:t,...e}){const n=t||document;Pv.has(n)||Pv.set(n,{});const r=Pv.get(n),s=JSON.stringify(e);return r[s]||(r[s]=new IntersectionObserver(VY,{root:t,...e})),r[s]}function HY(t,e,n){const r=WY(e);return Qb.set(t,n),r.observe(t),()=>{Qb.delete(t),r.unobserve(t)}}const GY={some:0,all:1};class KY extends ya{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:s="some",once:i}=e,o={root:n?n.current:void 0,rootMargin:r,threshold:typeof s=="number"?s:GY[s]},a=l=>{const{isIntersecting:c}=l;if(this.isInView===c||(this.isInView=c,i&&!c&&this.hasEnteredView))return;c&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",c);const{onViewportEnter:u,onViewportLeave:d}=this.node.getProps(),f=c?u:d;f&&f(l)};return HY(this.node.current,o,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(YY(e,n))&&this.startObserver()}unmount(){}}function YY({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const qY={inView:{Feature:KY},tap:{Feature:zY},focus:{Feature:$Y},hover:{Feature:BY}};function zM(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}function XY(t){const e={};return t.values.forEach((n,r)=>e[r]=n.get()),e}function QY(t){const e={};return t.values.forEach((n,r)=>e[r]=n.getVelocity()),e}function X0(t,e,n){const r=t.getProps();return Yw(r,e,n!==void 0?n:r.custom,XY(t),QY(t))}let Tg=cn;const al=t=>t*1e3,lo=t=>t/1e3,ZY={current:!1},UM=t=>Array.isArray(t)&&typeof t[0]=="number";function VM(t){return!!(!t||typeof t=="string"&&WM[t]||UM(t)||Array.isArray(t)&&t.every(VM))}const Td=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,WM={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Td([0,.65,.55,1]),circOut:Td([.55,0,1,.45]),backIn:Td([.31,.01,.66,-.59]),backOut:Td([.33,1.53,.69,.99])};function HM(t){if(t)return UM(t)?Td(t):Array.isArray(t)?t.map(HM):WM[t]}function JY(t,e,n,{delay:r=0,duration:s,repeat:i=0,repeatType:o="loop",ease:a,times:l}={}){const c={[e]:n};l&&(c.offset=l);const u=HM(a);return Array.isArray(u)&&(c.easing=u),t.animate(c,{delay:r,duration:s,easing:Array.isArray(u)?"linear":u,fill:"both",iterations:i+1,direction:o==="reverse"?"alternate":"normal"})}function eq(t,{repeat:e,repeatType:n="loop"}){const r=e&&n!=="loop"&&e%2===1?0:t.length-1;return t[r]}const GM=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,tq=1e-7,nq=12;function rq(t,e,n,r,s){let i,o,a=0;do o=e+(n-e)/2,i=GM(o,r,s)-t,i>0?n=o:e=o;while(Math.abs(i)>tq&&++a<nq);return o}function bh(t,e,n,r){if(t===e&&n===r)return cn;const s=i=>rq(i,0,1,t,n);return i=>i===0||i===1?i:GM(s(i),e,r)}const sq=bh(.42,0,1,1),iq=bh(0,0,.58,1),KM=bh(.42,0,.58,1),oq=t=>Array.isArray(t)&&typeof t[0]!="number",YM=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,qM=t=>e=>1-t(1-e),qw=t=>1-Math.sin(Math.acos(t)),XM=qM(qw),aq=YM(qw),QM=bh(.33,1.53,.69,.99),Xw=qM(QM),lq=YM(Xw),cq=t=>(t*=2)<1?.5*Xw(t):.5*(2-Math.pow(2,-10*(t-1))),qC={linear:cn,easeIn:sq,easeInOut:KM,easeOut:iq,circIn:qw,circInOut:aq,circOut:XM,backIn:Xw,backInOut:lq,backOut:QM,anticipate:cq},XC=t=>{if(Array.isArray(t)){Tg(t.length===4);const[e,n,r,s]=t;return bh(e,n,r,s)}else if(typeof t=="string")return Tg(qC[t]!==void 0),qC[t];return t},Qw=(t,e)=>n=>!!(vh(n)&&fY.test(n)&&n.startsWith(t)||e&&Object.prototype.hasOwnProperty.call(n,e)),ZM=(t,e,n)=>r=>{if(!vh(r))return r;const[s,i,o,a]=r.match(Y0);return{[t]:parseFloat(s),[e]:parseFloat(i),[n]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},uq=t=>oa(0,255,t),Iv={...Dl,transform:t=>Math.round(uq(t))},qa={test:Qw("rgb","red"),parse:ZM("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+Iv.transform(t)+", "+Iv.transform(e)+", "+Iv.transform(n)+", "+qd(Yd.transform(r))+")"};function dq(t){let e="",n="",r="",s="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),s=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),s=t.substring(4,5),e+=e,n+=n,r+=r,s+=s),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:s?parseInt(s,16)/255:1}}const Zb={test:Qw("#"),parse:dq,transform:qa.transform},Tc={test:Qw("hsl","hue"),parse:ZM("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+ki.transform(qd(e))+", "+ki.transform(qd(n))+", "+qd(Yd.transform(r))+")"},or={test:t=>qa.test(t)||Zb.test(t)||Tc.test(t),parse:t=>qa.test(t)?qa.parse(t):Tc.test(t)?Tc.parse(t):Zb.parse(t),transform:t=>vh(t)?t:t.hasOwnProperty("red")?qa.transform(t):Tc.transform(t)},qt=(t,e,n)=>-n*t+n*e+t;function Dv(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function fq({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let s=0,i=0,o=0;if(!e)s=i=o=n;else{const a=n<.5?n*(1+e):n+e-n*e,l=2*n-a;s=Dv(l,a,t+1/3),i=Dv(l,a,t),o=Dv(l,a,t-1/3)}return{red:Math.round(s*255),green:Math.round(i*255),blue:Math.round(o*255),alpha:r}}const Mv=(t,e,n)=>{const r=t*t;return Math.sqrt(Math.max(0,n*(e*e-r)+r))},hq=[Zb,qa,Tc],pq=t=>hq.find(e=>e.test(t));function QC(t){const e=pq(t);let n=e.parse(t);return e===Tc&&(n=fq(n)),n}const JM=(t,e)=>{const n=QC(t),r=QC(e),s={...n};return i=>(s.red=Mv(n.red,r.red,i),s.green=Mv(n.green,r.green,i),s.blue=Mv(n.blue,r.blue,i),s.alpha=qt(n.alpha,r.alpha,i),qa.transform(s))};function mq(t){var e,n;return isNaN(t)&&vh(t)&&(((e=t.match(Y0))===null||e===void 0?void 0:e.length)||0)+(((n=t.match(CM))===null||n===void 0?void 0:n.length)||0)>0}const e4={regex:uY,countKey:"Vars",token:"${v}",parse:cn},t4={regex:CM,countKey:"Colors",token:"${c}",parse:or.parse},n4={regex:Y0,countKey:"Numbers",token:"${n}",parse:Dl.parse};function Ov(t,{regex:e,countKey:n,token:r,parse:s}){const i=t.tokenised.match(e);i&&(t["num"+n]=i.length,t.tokenised=t.tokenised.replace(e,r),t.values.push(...i.map(s)))}function Eg(t){const e=t.toString(),n={value:e,tokenised:e,values:[],numVars:0,numColors:0,numNumbers:0};return n.value.includes("var(--")&&Ov(n,e4),Ov(n,t4),Ov(n,n4),n}function r4(t){return Eg(t).values}function s4(t){const{values:e,numColors:n,numVars:r,tokenised:s}=Eg(t),i=e.length;return o=>{let a=s;for(let l=0;l<i;l++)l<r?a=a.replace(e4.token,o[l]):l<r+n?a=a.replace(t4.token,or.transform(o[l])):a=a.replace(n4.token,qd(o[l]));return a}}const gq=t=>typeof t=="number"?0:t;function yq(t){const e=r4(t);return s4(t)(e.map(gq))}const aa={test:mq,parse:r4,createTransformer:s4,getAnimatableNone:yq},i4=(t,e)=>n=>`${n>0?e:t}`;function o4(t,e){return typeof t=="number"?n=>qt(t,e,n):or.test(t)?JM(t,e):t.startsWith("var(")?i4(t,e):l4(t,e)}const a4=(t,e)=>{const n=[...t],r=n.length,s=t.map((i,o)=>o4(i,e[o]));return i=>{for(let o=0;o<r;o++)n[o]=s[o](i);return n}},vq=(t,e)=>{const n={...t,...e},r={};for(const s in n)t[s]!==void 0&&e[s]!==void 0&&(r[s]=o4(t[s],e[s]));return s=>{for(const i in r)n[i]=r[i](s);return n}},l4=(t,e)=>{const n=aa.createTransformer(e),r=Eg(t),s=Eg(e);return r.numVars===s.numVars&&r.numColors===s.numColors&&r.numNumbers>=s.numNumbers?na(a4(r.values,s.values),n):i4(t,e)},jf=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r},ZC=(t,e)=>n=>qt(t,e,n);function xq(t){return typeof t=="number"?ZC:typeof t=="string"?or.test(t)?JM:l4:Array.isArray(t)?a4:typeof t=="object"?vq:ZC}function bq(t,e,n){const r=[],s=n||xq(t[0]),i=t.length-1;for(let o=0;o<i;o++){let a=s(t[o],t[o+1]);if(e){const l=Array.isArray(e)?e[o]||cn:e;a=na(l,a)}r.push(a)}return r}function c4(t,e,{clamp:n=!0,ease:r,mixer:s}={}){const i=t.length;if(Tg(i===e.length),i===1)return()=>e[0];t[0]>t[i-1]&&(t=[...t].reverse(),e=[...e].reverse());const o=bq(e,r,s),a=o.length,l=c=>{let u=0;if(a>1)for(;u<t.length-2&&!(c<t[u+1]);u++);const d=jf(t[u],t[u+1],c);return o[u](d)};return n?c=>l(oa(t[0],t[i-1],c)):l}function Sq(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const s=jf(0,e,r);t.push(qt(n,1,s))}}function wq(t){const e=[0];return Sq(e,t.length-1),e}function Tq(t,e){return t.map(n=>n*e)}function Eq(t,e){return t.map(()=>e||KM).splice(0,t.length-1)}function Cg({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const s=oq(r)?r.map(XC):XC(r),i={done:!1,value:e[0]},o=Tq(n&&n.length===e.length?n:wq(e),t),a=c4(o,e,{ease:Array.isArray(s)?s:Eq(e,s)});return{calculatedDuration:t,next:l=>(i.value=a(l),i.done=l>=t,i)}}function u4(t,e){return e?t*(1e3/e):0}const Cq=5;function d4(t,e,n){const r=Math.max(e-Cq,0);return u4(n-t(r),e-r)}const Fv=.001,kq=.01,Aq=10,Rq=.05,_q=1;function Lq({duration:t=800,bounce:e=.25,velocity:n=0,mass:r=1}){let s,i,o=1-e;o=oa(Rq,_q,o),t=oa(kq,Aq,lo(t)),o<1?(s=c=>{const u=c*o,d=u*t,f=u-n,p=Jb(c,o),m=Math.exp(-d);return Fv-f/p*m},i=c=>{const d=c*o*t,f=d*n+n,p=Math.pow(o,2)*Math.pow(c,2)*t,m=Math.exp(-d),g=Jb(Math.pow(c,2),o);return(-s(c)+Fv>0?-1:1)*((f-p)*m)/g}):(s=c=>{const u=Math.exp(-c*t),d=(c-n)*t+1;return-Fv+u*d},i=c=>{const u=Math.exp(-c*t),d=(n-c)*(t*t);return u*d});const a=5/t,l=Iq(s,i,a);if(t=al(t),isNaN(l))return{stiffness:100,damping:10,duration:t};{const c=Math.pow(l,2)*r;return{stiffness:c,damping:o*2*Math.sqrt(r*c),duration:t}}}const Pq=12;function Iq(t,e,n){let r=n;for(let s=1;s<Pq;s++)r=r-t(r)/e(r);return r}function Jb(t,e){return t*Math.sqrt(1-e*e)}const Dq=["duration","bounce"],Mq=["stiffness","damping","mass"];function JC(t,e){return e.some(n=>t[n]!==void 0)}function Oq(t){let e={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...t};if(!JC(t,Mq)&&JC(t,Dq)){const n=Lq(t);e={...e,...n,mass:1},e.isResolvedFromDuration=!0}return e}function f4({keyframes:t,restDelta:e,restSpeed:n,...r}){const s=t[0],i=t[t.length-1],o={done:!1,value:s},{stiffness:a,damping:l,mass:c,duration:u,velocity:d,isResolvedFromDuration:f}=Oq({...r,velocity:-lo(r.velocity||0)}),p=d||0,m=l/(2*Math.sqrt(a*c)),g=i-s,y=lo(Math.sqrt(a/c)),x=Math.abs(g)<5;n||(n=x?.01:2),e||(e=x?.005:.5);let v;if(m<1){const b=Jb(y,m);v=w=>{const T=Math.exp(-m*y*w);return i-T*((p+m*y*g)/b*Math.sin(b*w)+g*Math.cos(b*w))}}else if(m===1)v=b=>i-Math.exp(-y*b)*(g+(p+y*g)*b);else{const b=y*Math.sqrt(m*m-1);v=w=>{const T=Math.exp(-m*y*w),C=Math.min(b*w,300);return i-T*((p+m*y*g)*Math.sinh(C)+b*g*Math.cosh(C))/b}}return{calculatedDuration:f&&u||null,next:b=>{const w=v(b);if(f)o.done=b>=u;else{let T=p;b!==0&&(m<1?T=d4(v,b,w):T=0);const C=Math.abs(T)<=n,E=Math.abs(i-w)<=e;o.done=C&&E}return o.value=o.done?i:w,o}}}function ek({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:s=10,bounceStiffness:i=500,modifyTarget:o,min:a,max:l,restDelta:c=.5,restSpeed:u}){const d=t[0],f={done:!1,value:d},p=k=>a!==void 0&&k<a||l!==void 0&&k>l,m=k=>a===void 0?l:l===void 0||Math.abs(a-k)<Math.abs(l-k)?a:l;let g=n*e;const y=d+g,x=o===void 0?y:o(y);x!==y&&(g=x-d);const v=k=>-g*Math.exp(-k/r),b=k=>x+v(k),w=k=>{const A=v(k),R=b(k);f.done=Math.abs(A)<=c,f.value=f.done?x:R};let T,C;const E=k=>{p(f.value)&&(T=k,C=f4({keyframes:[f.value,m(f.value)],velocity:d4(b,k,f.value),damping:s,stiffness:i,restDelta:c,restSpeed:u}))};return E(0),{calculatedDuration:null,next:k=>{let A=!1;return!C&&T===void 0&&(A=!0,w(k),E(k)),T!==void 0&&k>T?C.next(k-T):(!A&&w(k),f)}}}const Fq=t=>{const e=({timestamp:n})=>t(n);return{start:()=>_t.update(e,!0),stop:()=>mo(e),now:()=>qn.isProcessing?qn.timestamp:performance.now()}},tk=2e4;function nk(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<tk;)e+=n,r=t.next(e);return e>=tk?1/0:e}const Nq={decay:ek,inertia:ek,tween:Cg,keyframes:Cg,spring:f4};function kg({autoplay:t=!0,delay:e=0,driver:n=Fq,keyframes:r,type:s="keyframes",repeat:i=0,repeatDelay:o=0,repeatType:a="loop",onPlay:l,onStop:c,onComplete:u,onUpdate:d,...f}){let p=1,m=!1,g,y;const x=()=>{y=new Promise(te=>{g=te})};x();let v;const b=Nq[s]||Cg;let w;b!==Cg&&typeof r[0]!="number"&&(w=c4([0,100],r,{clamp:!1}),r=[0,100]);const T=b({...f,keyframes:r});let C;a==="mirror"&&(C=b({...f,keyframes:[...r].reverse(),velocity:-(f.velocity||0)}));let E="idle",k=null,A=null,R=null;T.calculatedDuration===null&&i&&(T.calculatedDuration=nk(T));const{calculatedDuration:L}=T;let D=1/0,M=1/0;L!==null&&(D=L+o,M=D*(i+1)-o);let B=0;const V=te=>{if(A===null)return;p>0&&(A=Math.min(A,te)),p<0&&(A=Math.min(te-M/p,A)),k!==null?B=k:B=Math.round(te-A)*p;const ne=B-e*(p>=0?1:-1),q=p>=0?ne<0:ne>M;B=Math.max(ne,0),E==="finished"&&k===null&&(B=M);let ee=B,ce=T;if(i){const Ge=Math.min(B,M)/D;let it=Math.floor(Ge),Fe=Ge%1;!Fe&&Ge>=1&&(Fe=1),Fe===1&&it--,it=Math.min(it,i+1),!!(it%2)&&(a==="reverse"?(Fe=1-Fe,o&&(Fe-=o/D)):a==="mirror"&&(ce=C)),ee=oa(0,1,Fe)*D}const Y=q?{done:!1,value:r[0]}:ce.next(ee);w&&(Y.value=w(Y.value));let{done:ue}=Y;!q&&L!==null&&(ue=p>=0?B>=M:B<=0);const Ae=k===null&&(E==="finished"||E==="running"&&ue);return d&&d(Y.value),Ae&&N(),Y},O=()=>{v&&v.stop(),v=void 0},I=()=>{E="idle",O(),g(),x(),A=R=null},N=()=>{E="finished",u&&u(),O(),g()},j=()=>{if(m)return;v||(v=n(V));const te=v.now();l&&l(),k!==null?A=te-k:(!A||E==="finished")&&(A=te),E==="finished"&&x(),R=A,k=null,E="running",v.start()};t&&j();const K={then(te,ne){return y.then(te,ne)},get time(){return lo(B)},set time(te){te=al(te),B=te,k!==null||!v||p===0?k=te:A=v.now()-te/p},get duration(){const te=T.calculatedDuration===null?nk(T):T.calculatedDuration;return lo(te)},get speed(){return p},set speed(te){te===p||!v||(p=te,K.time=lo(B))},get state(){return E},play:j,pause:()=>{E="paused",k=B},stop:()=>{m=!0,E!=="idle"&&(E="idle",c&&c(),I())},cancel:()=>{R!==null&&V(R),I()},complete:()=>{E="finished"},sample:te=>(A=0,V(te))};return K}function jq(t){let e;return()=>(e===void 0&&(e=t()),e)}const Bq=jq(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),$q=new Set(["opacity","clipPath","filter","transform","backgroundColor"]),hp=10,zq=2e4,Uq=(t,e)=>e.type==="spring"||t==="backgroundColor"||!VM(e.ease);function Vq(t,e,{onUpdate:n,onComplete:r,...s}){if(!(Bq()&&$q.has(e)&&!s.repeatDelay&&s.repeatType!=="mirror"&&s.damping!==0&&s.type!=="inertia"))return!1;let o=!1,a,l,c=!1;const u=()=>{l=new Promise(b=>{a=b})};u();let{keyframes:d,duration:f=300,ease:p,times:m}=s;if(Uq(e,s)){const b=kg({...s,repeat:0,delay:0});let w={done:!1,value:d[0]};const T=[];let C=0;for(;!w.done&&C<zq;)w=b.sample(C),T.push(w.value),C+=hp;m=void 0,d=T,f=C-hp,p="linear"}const g=JY(t.owner.current,e,d,{...s,duration:f,ease:p,times:m}),y=()=>{c=!1,g.cancel()},x=()=>{c=!0,_t.update(y),a(),u()};return g.onfinish=()=>{c||(t.set(eq(d,s)),r&&r(),x())},{then(b,w){return l.then(b,w)},attachTimeline(b){return g.timeline=b,g.onfinish=null,cn},get time(){return lo(g.currentTime||0)},set time(b){g.currentTime=al(b)},get speed(){return g.playbackRate},set speed(b){g.playbackRate=b},get duration(){return lo(f)},play:()=>{o||(g.play(),mo(y))},pause:()=>g.pause(),stop:()=>{if(o=!0,g.playState==="idle")return;const{currentTime:b}=g;if(b){const w=kg({...s,autoplay:!1});t.setWithVelocity(w.sample(b-hp).value,w.sample(b).value,hp)}x()},complete:()=>{c||g.finish()},cancel:x}}function Wq({keyframes:t,delay:e,onUpdate:n,onComplete:r}){const s=()=>(n&&n(t[t.length-1]),r&&r(),{time:0,speed:1,duration:0,play:cn,pause:cn,stop:cn,then:i=>(i(),Promise.resolve()),cancel:cn,complete:cn});return e?kg({keyframes:[0,1],duration:0,delay:e,onComplete:s}):s()}const Hq={type:"spring",stiffness:500,damping:25,restSpeed:10},Gq=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),Kq={type:"keyframes",duration:.8},Yq={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},qq=(t,{keyframes:e})=>e.length>2?Kq:Il.has(t)?t.startsWith("scale")?Gq(e[1]):Hq:Yq,e1=(t,e)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(aa.test(e)||e==="0")&&!e.startsWith("url(")),Xq=new Set(["brightness","contrast","saturate","opacity"]);function Qq(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(Y0)||[];if(!r)return t;const s=n.replace(r,"");let i=Xq.has(e)?1:0;return r!==n&&(i*=100),e+"("+i+s+")"}const Zq=/([a-z-]*)\(.*?\)/g,t1={...aa,getAnimatableNone:t=>{const e=t.match(Zq);return e?e.map(Qq).join(" "):t}},Jq={...kM,color:or,backgroundColor:or,outlineColor:or,fill:or,stroke:or,borderColor:or,borderTopColor:or,borderRightColor:or,borderBottomColor:or,borderLeftColor:or,filter:t1,WebkitFilter:t1},Zw=t=>Jq[t];function h4(t,e){let n=Zw(t);return n!==t1&&(n=aa),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const p4=t=>/^0[^.\s]+$/.test(t);function eX(t){if(typeof t=="number")return t===0;if(t!==null)return t==="none"||t==="0"||p4(t)}function tX(t,e,n,r){const s=e1(e,n);let i;Array.isArray(n)?i=[...n]:i=[null,n];const o=r.from!==void 0?r.from:t.get();let a;const l=[];for(let c=0;c<i.length;c++)i[c]===null&&(i[c]=c===0?o:i[c-1]),eX(i[c])&&l.push(c),typeof i[c]=="string"&&i[c]!=="none"&&i[c]!=="0"&&(a=i[c]);if(s&&l.length&&a)for(let c=0;c<l.length;c++){const u=l[c];i[u]=h4(e,a)}return i}function nX({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:s,repeat:i,repeatType:o,repeatDelay:a,from:l,elapsed:c,...u}){return!!Object.keys(u).length}function Jw(t,e){return t[e]||t.default||t}const rX={skipAnimations:!1},eT=(t,e,n,r={})=>s=>{const i=Jw(r,t)||{},o=i.delay||r.delay||0;let{elapsed:a=0}=r;a=a-al(o);const l=tX(e,t,n,i),c=l[0],u=l[l.length-1],d=e1(t,c),f=e1(t,u);let p={keyframes:l,velocity:e.getVelocity(),ease:"easeOut",...i,delay:-a,onUpdate:m=>{e.set(m),i.onUpdate&&i.onUpdate(m)},onComplete:()=>{s(),i.onComplete&&i.onComplete()}};if(nX(i)||(p={...p,...qq(t,p)}),p.duration&&(p.duration=al(p.duration)),p.repeatDelay&&(p.repeatDelay=al(p.repeatDelay)),!d||!f||ZY.current||i.type===!1||rX.skipAnimations)return Wq(p);if(!r.isHandoff&&e.owner&&e.owner.current instanceof HTMLElement&&!e.owner.getProps().onUpdate){const m=Vq(e,t,p);if(m)return m}return kg(p)};function Ag(t){return!!(Or(t)&&t.add)}const m4=t=>/^\-?\d*\.?\d+$/.test(t);function tT(t,e){t.indexOf(e)===-1&&t.push(e)}function nT(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class rT{constructor(){this.subscriptions=[]}add(e){return tT(this.subscriptions,e),()=>nT(this.subscriptions,e)}notify(e,n,r){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](e,n,r);else for(let i=0;i<s;i++){const o=this.subscriptions[i];o&&o(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const sX=t=>!isNaN(parseFloat(t));class iX{constructor(e,n={}){this.version="10.18.0",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(r,s=!0)=>{this.prev=this.current,this.current=r;const{delta:i,timestamp:o}=qn;this.lastUpdated!==o&&(this.timeDelta=i,this.lastUpdated=o,_t.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),s&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>_t.postRender(this.velocityCheck),this.velocityCheck=({timestamp:r})=>{r!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=e,this.canTrackVelocity=sX(this.current),this.owner=n.owner}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new rT);const r=this.events[e].add(n);return e==="change"?()=>{r(),_t.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,r){this.set(n),this.prev=e,this.timeDelta=r}jump(e){this.updateAndNotify(e),this.prev=e,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?u4(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function su(t,e){return new iX(t,e)}const g4=t=>e=>e.test(t),oX={test:t=>t==="auto",parse:t=>t},y4=[Dl,De,ki,Po,pY,hY,oX],td=t=>y4.find(g4(t)),aX=[...y4,or,aa],lX=t=>aX.find(g4(t));function cX(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,su(n))}function uX(t,e){const n=X0(t,e);let{transitionEnd:r={},transition:s={},...i}=n?t.makeTargetAnimatable(n,!1):{};i={...i,...r};for(const o in i){const a=RY(i[o]);cX(t,o,a)}}function dX(t,e,n){var r,s;const i=Object.keys(e).filter(a=>!t.hasValue(a)),o=i.length;if(o)for(let a=0;a<o;a++){const l=i[a],c=e[l];let u=null;Array.isArray(c)&&(u=c[0]),u===null&&(u=(s=(r=n[l])!==null&&r!==void 0?r:t.readValue(l))!==null&&s!==void 0?s:e[l]),u!=null&&(typeof u=="string"&&(m4(u)||p4(u))?u=parseFloat(u):!lX(u)&&aa.test(c)&&(u=h4(l,c)),t.addValue(l,su(u,{owner:t})),n[l]===void 0&&(n[l]=u),u!==null&&t.setBaseTarget(l,u))}}function fX(t,e){return e?(e[t]||e.default||e).from:void 0}function hX(t,e,n){const r={};for(const s in t){const i=fX(s,e);if(i!==void 0)r[s]=i;else{const o=n.getValue(s);o&&(r[s]=o.get())}}return r}function pX({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function mX(t,e){const n=t.get();if(Array.isArray(e)){for(let r=0;r<e.length;r++)if(e[r]!==n)return!0}else return n!==e}function v4(t,e,{delay:n=0,transitionOverride:r,type:s}={}){let{transition:i=t.getDefaultTransition(),transitionEnd:o,...a}=t.makeTargetAnimatable(e);const l=t.getValue("willChange");r&&(i=r);const c=[],u=s&&t.animationState&&t.animationState.getState()[s];for(const d in a){const f=t.getValue(d),p=a[d];if(!f||p===void 0||u&&pX(u,d))continue;const m={delay:n,elapsed:0,...Jw(i||{},d)};if(window.HandoffAppearAnimations){const x=t.getProps()[xM];if(x){const v=window.HandoffAppearAnimations(x,d,f,_t);v!==null&&(m.elapsed=v,m.isHandoff=!0)}}let g=!m.isHandoff&&!mX(f,p);if(m.type==="spring"&&(f.getVelocity()||m.velocity)&&(g=!1),f.animation&&(g=!1),g)continue;f.start(eT(d,f,p,t.shouldReduceMotion&&Il.has(d)?{type:!1}:m));const y=f.animation;Ag(l)&&(l.add(d),y.then(()=>l.remove(d))),c.push(y)}return o&&Promise.all(c).then(()=>{o&&uX(t,o)}),c}function n1(t,e,n={}){const r=X0(t,e,n.custom);let{transition:s=t.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(s=n.transitionOverride);const i=r?()=>Promise.all(v4(t,r,n)):()=>Promise.resolve(),o=t.variantChildren&&t.variantChildren.size?(l=0)=>{const{delayChildren:c=0,staggerChildren:u,staggerDirection:d}=s;return gX(t,e,c+l,u,d,n)}:()=>Promise.resolve(),{when:a}=s;if(a){const[l,c]=a==="beforeChildren"?[i,o]:[o,i];return l().then(()=>c())}else return Promise.all([i(),o(n.delay)])}function gX(t,e,n=0,r=0,s=1,i){const o=[],a=(t.variantChildren.size-1)*r,l=s===1?(c=0)=>c*r:(c=0)=>a-c*r;return Array.from(t.variantChildren).sort(yX).forEach((c,u)=>{c.notify("AnimationStart",e),o.push(n1(c,e,{...i,delay:n+l(u)}).then(()=>c.notify("AnimationComplete",e)))}),Promise.all(o)}function yX(t,e){return t.sortNodePosition(e)}function vX(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const s=e.map(i=>n1(t,i,n));r=Promise.all(s)}else if(typeof e=="string")r=n1(t,e,n);else{const s=typeof e=="function"?X0(t,e,n.custom):e;r=Promise.all(v4(t,s,n))}return r.then(()=>t.notify("AnimationComplete",e))}const xX=[...Bw].reverse(),bX=Bw.length;function SX(t){return e=>Promise.all(e.map(({animation:n,options:r})=>vX(t,n,r)))}function wX(t){let e=SX(t);const n=EX();let r=!0;const s=(l,c)=>{const u=X0(t,c);if(u){const{transition:d,transitionEnd:f,...p}=u;l={...l,...p,...f}}return l};function i(l){e=l(t)}function o(l,c){const u=t.getProps(),d=t.getVariantContext(!0)||{},f=[],p=new Set;let m={},g=1/0;for(let x=0;x<bX;x++){const v=xX[x],b=n[v],w=u[v]!==void 0?u[v]:d[v],T=Ff(w),C=v===c?b.isActive:null;C===!1&&(g=x);let E=w===d[v]&&w!==u[v]&&T;if(E&&r&&t.manuallyAnimateOnMount&&(E=!1),b.protectedKeys={...m},!b.isActive&&C===null||!w&&!b.prevProp||G0(w)||typeof w=="boolean")continue;let A=TX(b.prevProp,w)||v===c&&b.isActive&&!E&&T||x>g&&T,R=!1;const L=Array.isArray(w)?w:[w];let D=L.reduce(s,{});C===!1&&(D={});const{prevResolvedValues:M={}}=b,B={...M,...D},V=O=>{A=!0,p.has(O)&&(R=!0,p.delete(O)),b.needsAnimating[O]=!0};for(const O in B){const I=D[O],N=M[O];if(m.hasOwnProperty(O))continue;let j=!1;wg(I)&&wg(N)?j=!zM(I,N):j=I!==N,j?I!==void 0?V(O):p.add(O):I!==void 0&&p.has(O)?V(O):b.protectedKeys[O]=!0}b.prevProp=w,b.prevResolvedValues=D,b.isActive&&(m={...m,...D}),r&&t.blockInitialAnimation&&(A=!1),A&&(!E||R)&&f.push(...L.map(O=>({animation:O,options:{type:v,...l}})))}if(p.size){const x={};p.forEach(v=>{const b=t.getBaseTarget(v);b!==void 0&&(x[v]=b)}),f.push({animation:x})}let y=!!f.length;return r&&(u.initial===!1||u.initial===u.animate)&&!t.manuallyAnimateOnMount&&(y=!1),r=!1,y?e(f):Promise.resolve()}function a(l,c,u){var d;if(n[l].isActive===c)return Promise.resolve();(d=t.variantChildren)===null||d===void 0||d.forEach(p=>{var m;return(m=p.animationState)===null||m===void 0?void 0:m.setActive(l,c)}),n[l].isActive=c;const f=o(u,l);for(const p in n)n[p].protectedKeys={};return f}return{animateChanges:o,setActive:a,setAnimateFunction:i,getState:()=>n}}function TX(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!zM(e,t):!1}function Ra(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function EX(){return{animate:Ra(!0),whileInView:Ra(),whileHover:Ra(),whileTap:Ra(),whileDrag:Ra(),whileFocus:Ra(),exit:Ra()}}class CX extends ya{constructor(e){super(e),e.animationState||(e.animationState=wX(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();this.unmount(),G0(e)&&(this.unmount=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){}}let kX=0;class AX extends ya{constructor(){super(...arguments),this.id=kX++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n,custom:r}=this.node.presenceContext,{isPresent:s}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===s)return;const i=this.node.animationState.setActive("exit",!e,{custom:r??this.node.getProps().custom});n&&!e&&i.then(()=>n(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const RX={animation:{Feature:CX},exit:{Feature:AX}},rk=(t,e)=>Math.abs(t-e);function _X(t,e){const n=rk(t.x,e.x),r=rk(t.y,e.y);return Math.sqrt(n**2+r**2)}class x4{constructor(e,n,{transformPagePoint:r,contextWindow:s,dragSnapToOrigin:i=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const d=jv(this.lastMoveEventInfo,this.history),f=this.startEvent!==null,p=_X(d.offset,{x:0,y:0})>=3;if(!f&&!p)return;const{point:m}=d,{timestamp:g}=qn;this.history.push({...m,timestamp:g});const{onStart:y,onMove:x}=this.handlers;f||(y&&y(this.lastMoveEvent,d),this.startEvent=this.lastMoveEvent),x&&x(this.lastMoveEvent,d)},this.handlePointerMove=(d,f)=>{this.lastMoveEvent=d,this.lastMoveEventInfo=Nv(f,this.transformPagePoint),_t.update(this.updatePoint,!0)},this.handlePointerUp=(d,f)=>{this.end();const{onEnd:p,onSessionEnd:m,resumeAnimation:g}=this.handlers;if(this.dragSnapToOrigin&&g&&g(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const y=jv(d.type==="pointercancel"?this.lastMoveEventInfo:Nv(f,this.transformPagePoint),this.history);this.startEvent&&p&&p(d,y),m&&m(d,y)},!FM(e))return;this.dragSnapToOrigin=i,this.handlers=n,this.transformPagePoint=r,this.contextWindow=s||window;const o=q0(e),a=Nv(o,this.transformPagePoint),{point:l}=a,{timestamp:c}=qn;this.history=[{...l,timestamp:c}];const{onSessionStart:u}=n;u&&u(e,jv(a,this.history)),this.removeListeners=na(ao(this.contextWindow,"pointermove",this.handlePointerMove),ao(this.contextWindow,"pointerup",this.handlePointerUp),ao(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),mo(this.updatePoint)}}function Nv(t,e){return e?{point:e(t.point)}:t}function sk(t,e){return{x:t.x-e.x,y:t.y-e.y}}function jv({point:t},e){return{point:t,delta:sk(t,b4(e)),offset:sk(t,LX(e)),velocity:PX(e,.1)}}function LX(t){return t[0]}function b4(t){return t[t.length-1]}function PX(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const s=b4(t);for(;n>=0&&(r=t[n],!(s.timestamp-r.timestamp>al(e)));)n--;if(!r)return{x:0,y:0};const i=lo(s.timestamp-r.timestamp);if(i===0)return{x:0,y:0};const o={x:(s.x-r.x)/i,y:(s.y-r.y)/i};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function Zr(t){return t.max-t.min}function r1(t,e=0,n=.01){return Math.abs(t-e)<=n}function ik(t,e,n,r=.5){t.origin=r,t.originPoint=qt(e.min,e.max,t.origin),t.scale=Zr(n)/Zr(e),(r1(t.scale,1,1e-4)||isNaN(t.scale))&&(t.scale=1),t.translate=qt(n.min,n.max,t.origin)-t.originPoint,(r1(t.translate)||isNaN(t.translate))&&(t.translate=0)}function Xd(t,e,n,r){ik(t.x,e.x,n.x,r?r.originX:void 0),ik(t.y,e.y,n.y,r?r.originY:void 0)}function ok(t,e,n){t.min=n.min+e.min,t.max=t.min+Zr(e)}function IX(t,e,n){ok(t.x,e.x,n.x),ok(t.y,e.y,n.y)}function ak(t,e,n){t.min=e.min-n.min,t.max=t.min+Zr(e)}function Qd(t,e,n){ak(t.x,e.x,n.x),ak(t.y,e.y,n.y)}function DX(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?qt(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?qt(n,t,r.max):Math.min(t,n)),t}function lk(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function MX(t,{top:e,left:n,bottom:r,right:s}){return{x:lk(t.x,n,s),y:lk(t.y,e,r)}}function ck(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function OX(t,e){return{x:ck(t.x,e.x),y:ck(t.y,e.y)}}function FX(t,e){let n=.5;const r=Zr(t),s=Zr(e);return s>r?n=jf(e.min,e.max-r,t.min):r>s&&(n=jf(t.min,t.max-s,e.min)),oa(0,1,n)}function NX(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const s1=.35;function jX(t=s1){return t===!1?t=0:t===!0&&(t=s1),{x:uk(t,"left","right"),y:uk(t,"top","bottom")}}function uk(t,e,n){return{min:dk(t,e),max:dk(t,n)}}function dk(t,e){return typeof t=="number"?t:t[e]||0}const fk=()=>({translate:0,scale:1,origin:0,originPoint:0}),Ec=()=>({x:fk(),y:fk()}),hk=()=>({min:0,max:0}),hn=()=>({x:hk(),y:hk()});function ds(t){return[t("x"),t("y")]}function S4({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function BX({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function $X(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function Bv(t){return t===void 0||t===1}function i1({scale:t,scaleX:e,scaleY:n}){return!Bv(t)||!Bv(e)||!Bv(n)}function Oa(t){return i1(t)||w4(t)||t.z||t.rotate||t.rotateX||t.rotateY}function w4(t){return pk(t.x)||pk(t.y)}function pk(t){return t&&t!=="0%"}function Rg(t,e,n){const r=t-n,s=e*r;return n+s}function mk(t,e,n,r,s){return s!==void 0&&(t=Rg(t,s,r)),Rg(t,n,r)+e}function o1(t,e=0,n=1,r,s){t.min=mk(t.min,e,n,r,s),t.max=mk(t.max,e,n,r,s)}function T4(t,{x:e,y:n}){o1(t.x,e.translate,e.scale,e.originPoint),o1(t.y,n.translate,n.scale,n.originPoint)}function zX(t,e,n,r=!1){const s=n.length;if(!s)return;e.x=e.y=1;let i,o;for(let a=0;a<s;a++){i=n[a],o=i.projectionDelta;const l=i.instance;l&&l.style&&l.style.display==="contents"||(r&&i.options.layoutScroll&&i.scroll&&i!==i.root&&Cc(t,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,T4(t,o)),r&&Oa(i.latestValues)&&Cc(t,i.latestValues))}e.x=gk(e.x),e.y=gk(e.y)}function gk(t){return Number.isInteger(t)||t>1.0000000000001||t<.999999999999?t:1}function No(t,e){t.min=t.min+e,t.max=t.max+e}function yk(t,e,[n,r,s]){const i=e[s]!==void 0?e[s]:.5,o=qt(t.min,t.max,i);o1(t,e[n],e[r],o,e.scale)}const UX=["x","scaleX","originX"],VX=["y","scaleY","originY"];function Cc(t,e){yk(t.x,e,UX),yk(t.y,e,VX)}function E4(t,e){return S4($X(t.getBoundingClientRect(),e))}function WX(t,e,n){const r=E4(t,n),{scroll:s}=e;return s&&(No(r.x,s.offset.x),No(r.y,s.offset.y)),r}const C4=({current:t})=>t?t.ownerDocument.defaultView:null,HX=new WeakMap;class GX{constructor(e){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=hn(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const s=u=>{const{dragSnapToOrigin:d}=this.getProps();d?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(q0(u,"page").point)},i=(u,d)=>{const{drag:f,dragPropagation:p,onDragStart:m}=this.getProps();if(f&&!p&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=jM(f),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),ds(y=>{let x=this.getAxisMotionValue(y).get()||0;if(ki.test(x)){const{projection:v}=this.visualElement;if(v&&v.layout){const b=v.layout.layoutBox[y];b&&(x=Zr(b)*(parseFloat(x)/100))}}this.originPoint[y]=x}),m&&_t.update(()=>m(u,d),!1,!0);const{animationState:g}=this.visualElement;g&&g.setActive("whileDrag",!0)},o=(u,d)=>{const{dragPropagation:f,dragDirectionLock:p,onDirectionLock:m,onDrag:g}=this.getProps();if(!f&&!this.openGlobalLock)return;const{offset:y}=d;if(p&&this.currentDirection===null){this.currentDirection=KX(y),this.currentDirection!==null&&m&&m(this.currentDirection);return}this.updateAxis("x",d.point,y),this.updateAxis("y",d.point,y),this.visualElement.render(),g&&g(u,d)},a=(u,d)=>this.stop(u,d),l=()=>ds(u=>{var d;return this.getAnimationState(u)==="paused"&&((d=this.getAxisMotionValue(u).animation)===null||d===void 0?void 0:d.play())}),{dragSnapToOrigin:c}=this.getProps();this.panSession=new x4(e,{onSessionStart:s,onStart:i,onMove:o,onSessionEnd:a,resumeAnimation:l},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:c,contextWindow:C4(this.visualElement)})}stop(e,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:s}=n;this.startAnimation(s);const{onDragEnd:i}=this.getProps();i&&_t.update(()=>i(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:s}=this.getProps();if(!r||!pp(e,s,this.currentDirection))return;const i=this.getAxisMotionValue(e);let o=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(o=DX(o,this.constraints[e],this.elastic[e])),i.set(o)}resolveConstraints(){var e;const{dragConstraints:n,dragElastic:r}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,i=this.constraints;n&&wc(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&s?this.constraints=MX(s.layoutBox,n):this.constraints=!1,this.elastic=jX(r),i!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&ds(o=>{this.getAxisMotionValue(o)&&(this.constraints[o]=NX(s.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!wc(e))return!1;const r=e.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const i=WX(r,s.root,this.visualElement.getTransformPagePoint());let o=OX(s.layout.layoutBox,i);if(n){const a=n(BX(o));this.hasMutatedConstraints=!!a,a&&(o=S4(a))}return o}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:s,dragTransition:i,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},c=ds(u=>{if(!pp(u,n,this.currentDirection))return;let d=l&&l[u]||{};o&&(d={min:0,max:0});const f=s?200:1e6,p=s?40:1e7,m={type:"inertia",velocity:r?e[u]:0,bounceStiffness:f,bounceDamping:p,timeConstant:750,restDelta:1,restSpeed:10,...i,...d};return this.startAxisValueAnimation(u,m)});return Promise.all(c).then(a)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return r.start(eT(e,r,0,n))}stopAnimation(){ds(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){ds(e=>{var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(e){const n="_drag"+e.toUpperCase(),r=this.visualElement.getProps(),s=r[n];return s||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){ds(n=>{const{drag:r}=this.getProps();if(!pp(n,r,this.currentDirection))return;const{projection:s}=this.visualElement,i=this.getAxisMotionValue(n);if(s&&s.layout){const{min:o,max:a}=s.layout.layoutBox[n];i.set(e[n]-qt(o,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!wc(n)||!r||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};ds(o=>{const a=this.getAxisMotionValue(o);if(a){const l=a.get();s[o]=FX({min:l,max:l},this.constraints[o])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),ds(o=>{if(!pp(o,e,null))return;const a=this.getAxisMotionValue(o),{min:l,max:c}=this.constraints[o];a.set(qt(l,c,s[o]))})}addListeners(){if(!this.visualElement.current)return;HX.set(this.visualElement,this);const e=this.visualElement.current,n=ao(e,"pointerdown",l=>{const{drag:c,dragListener:u=!0}=this.getProps();c&&u&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();wc(l)&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,i=s.addEventListener("measure",r);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),r();const o=to(window,"resize",()=>this.scalePositionWithinConstraints()),a=s.addEventListener("didUpdate",({delta:l,hasLayoutChanged:c})=>{this.isDragging&&c&&(ds(u=>{const d=this.getAxisMotionValue(u);d&&(this.originPoint[u]+=l[u].translate,d.set(d.get()+l[u].translate))}),this.visualElement.render())});return()=>{o(),n(),i(),a&&a()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:s=!1,dragConstraints:i=!1,dragElastic:o=s1,dragMomentum:a=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:s,dragConstraints:i,dragElastic:o,dragMomentum:a}}}function pp(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function KX(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class YX extends ya{constructor(e){super(e),this.removeGroupControls=cn,this.removeListeners=cn,this.controls=new GX(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||cn}unmount(){this.removeGroupControls(),this.removeListeners()}}const vk=t=>(e,n)=>{t&&_t.update(()=>t(e,n))};class qX extends ya{constructor(){super(...arguments),this.removePointerDownListener=cn}onPointerDown(e){this.session=new x4(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:C4(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:s}=this.node.getProps();return{onSessionStart:vk(e),onStart:vk(n),onMove:r,onEnd:(i,o)=>{delete this.session,s&&_t.update(()=>s(i,o))}}}mount(){this.removePointerDownListener=ao(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function k4(){const t=S.useContext(gh);if(t===null)return[!0,null];const{isPresent:e,onExitComplete:n,register:r}=t,s=S.useId();return S.useEffect(()=>r(s),[]),!e&&n?[!1,()=>n&&n(s)]:[!0]}function XX(){return QX(S.useContext(gh))}function QX(t){return t===null?!0:t.isPresent}const Sm={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function xk(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const nd={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(De.test(t))t=parseFloat(t);else return t;const n=xk(t,e.target.x),r=xk(t,e.target.y);return`${n}% ${r}%`}},ZX={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,s=aa.parse(t);if(s.length>5)return r;const i=aa.createTransformer(t),o=typeof s[0]!="number"?1:0,a=n.x.scale*e.x,l=n.y.scale*e.y;s[0+o]/=a,s[1+o]/=l;const c=qt(a,l,.5);return typeof s[2+o]=="number"&&(s[2+o]/=c),typeof s[3+o]=="number"&&(s[3+o]/=c),i(s)}};class JX extends cr.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:s}=this.props,{projection:i}=e;oY(eQ),i&&(n.group&&n.group.add(i),r&&r.register&&s&&r.register(i),i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),Sm.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:s,isPresent:i}=this.props,o=r.projection;return o&&(o.isPresent=i,s||e.layoutDependency!==n||n===void 0?o.willUpdate():this.safeToRemove(),e.isPresent!==i&&(i?o.promote():o.relegate()||_t.postRender(()=>{const a=o.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),queueMicrotask(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:s}=e;s&&(s.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(s),r&&r.deregister&&r.deregister(s))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function A4(t){const[e,n]=k4(),r=S.useContext(zw);return cr.createElement(JX,{...t,layoutGroup:r,switchLayoutGroup:S.useContext(SM),isPresent:e,safeToRemove:n})}const eQ={borderRadius:{...nd,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:nd,borderTopRightRadius:nd,borderBottomLeftRadius:nd,borderBottomRightRadius:nd,boxShadow:ZX},R4=["TopLeft","TopRight","BottomLeft","BottomRight"],tQ=R4.length,bk=t=>typeof t=="string"?parseFloat(t):t,Sk=t=>typeof t=="number"||De.test(t);function nQ(t,e,n,r,s,i){s?(t.opacity=qt(0,n.opacity!==void 0?n.opacity:1,rQ(r)),t.opacityExit=qt(e.opacity!==void 0?e.opacity:1,0,sQ(r))):i&&(t.opacity=qt(e.opacity!==void 0?e.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let o=0;o<tQ;o++){const a=`border${R4[o]}Radius`;let l=wk(e,a),c=wk(n,a);if(l===void 0&&c===void 0)continue;l||(l=0),c||(c=0),l===0||c===0||Sk(l)===Sk(c)?(t[a]=Math.max(qt(bk(l),bk(c),r),0),(ki.test(c)||ki.test(l))&&(t[a]+="%")):t[a]=c}(e.rotate||n.rotate)&&(t.rotate=qt(e.rotate||0,n.rotate||0,r))}function wk(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const rQ=_4(0,.5,XM),sQ=_4(.5,.95,cn);function _4(t,e,n){return r=>r<t?0:r>e?1:n(jf(t,e,r))}function Tk(t,e){t.min=e.min,t.max=e.max}function as(t,e){Tk(t.x,e.x),Tk(t.y,e.y)}function Ek(t,e,n,r,s){return t-=e,t=Rg(t,1/n,r),s!==void 0&&(t=Rg(t,1/s,r)),t}function iQ(t,e=0,n=1,r=.5,s,i=t,o=t){if(ki.test(e)&&(e=parseFloat(e),e=qt(o.min,o.max,e/100)-o.min),typeof e!="number")return;let a=qt(i.min,i.max,r);t===i&&(a-=e),t.min=Ek(t.min,e,n,a,s),t.max=Ek(t.max,e,n,a,s)}function Ck(t,e,[n,r,s],i,o){iQ(t,e[n],e[r],e[s],e.scale,i,o)}const oQ=["x","scaleX","originX"],aQ=["y","scaleY","originY"];function kk(t,e,n,r){Ck(t.x,e,oQ,n?n.x:void 0,r?r.x:void 0),Ck(t.y,e,aQ,n?n.y:void 0,r?r.y:void 0)}function Ak(t){return t.translate===0&&t.scale===1}function L4(t){return Ak(t.x)&&Ak(t.y)}function lQ(t,e){return t.x.min===e.x.min&&t.x.max===e.x.max&&t.y.min===e.y.min&&t.y.max===e.y.max}function P4(t,e){return Math.round(t.x.min)===Math.round(e.x.min)&&Math.round(t.x.max)===Math.round(e.x.max)&&Math.round(t.y.min)===Math.round(e.y.min)&&Math.round(t.y.max)===Math.round(e.y.max)}function Rk(t){return Zr(t.x)/Zr(t.y)}class cQ{constructor(){this.members=[]}add(e){tT(this.members,e),e.scheduleRender()}remove(e){if(nT(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(s=>e===s);if(n===0)return!1;let r;for(let s=n;s>=0;s--){const i=this.members[s];if(i.isPresent!==!1){r=i;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:s}=e.options;s===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function _k(t,e,n){let r="";const s=t.x.translate/e.x,i=t.y.translate/e.y;if((s||i)&&(r=`translate3d(${s}px, ${i}px, 0) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{rotate:l,rotateX:c,rotateY:u}=n;l&&(r+=`rotate(${l}deg) `),c&&(r+=`rotateX(${c}deg) `),u&&(r+=`rotateY(${u}deg) `)}const o=t.x.scale*e.x,a=t.y.scale*e.y;return(o!==1||a!==1)&&(r+=`scale(${o}, ${a})`),r||"none"}const uQ=(t,e)=>t.depth-e.depth;class dQ{constructor(){this.children=[],this.isDirty=!1}add(e){tT(this.children,e),this.isDirty=!0}remove(e){nT(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(uQ),this.isDirty=!1,this.children.forEach(e)}}function fQ(t,e){const n=performance.now(),r=({timestamp:s})=>{const i=s-n;i>=e&&(mo(r),t(i-e))};return _t.read(r,!0),()=>mo(r)}function hQ(t){window.MotionDebug&&window.MotionDebug.record(t)}function pQ(t){return t instanceof SVGElement&&t.tagName!=="svg"}function mQ(t,e,n){const r=Or(t)?t:su(t);return r.start(eT("",r,e,n)),r.animation}const Lk=["","X","Y","Z"],gQ={visibility:"hidden"},Pk=1e3;let yQ=0;const Fa={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function I4({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:s}){return class{constructor(o={},a=e==null?void 0:e()){this.id=yQ++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,Fa.totalNodes=Fa.resolvedTargetDeltas=Fa.recalculatedProjection=0,this.nodes.forEach(bQ),this.nodes.forEach(CQ),this.nodes.forEach(kQ),this.nodes.forEach(SQ),hQ(Fa)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new dQ)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new rT),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const l=this.eventHandlers.get(o);l&&l.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}mount(o,a=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=pQ(o),this.instance=o;const{layoutId:l,layout:c,visualElement:u}=this.options;if(u&&!u.current&&u.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),a&&(c||l)&&(this.isLayoutDirty=!0),t){let d;const f=()=>this.root.updateBlockedByResize=!1;t(o,()=>{this.root.updateBlockedByResize=!0,d&&d(),d=fQ(f,250),Sm.hasAnimatedSinceResize&&(Sm.hasAnimatedSinceResize=!1,this.nodes.forEach(Dk))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&u&&(l||c)&&this.addEventListener("didUpdate",({delta:d,hasLayoutChanged:f,hasRelativeTargetChanged:p,layout:m})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const g=this.options.transition||u.getDefaultTransition()||PQ,{onLayoutAnimationStart:y,onLayoutAnimationComplete:x}=u.getProps(),v=!this.targetLayout||!P4(this.targetLayout,m)||p,b=!f&&p;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||b||f&&(v||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(d,b);const w={...Jw(g,"layout"),onPlay:y,onComplete:x};(u.shouldReduceMotion||this.options.layoutRoot)&&(w.delay=0,w.type=!1),this.startAnimation(w)}else f||Dk(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=m})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,mo(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(AQ),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let u=0;u<this.path.length;u++){const d=this.path[u];d.shouldResetTransform=!0,d.updateScroll("snapshot"),d.options.layoutRoot&&d.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const c=this.getTransformTemplate();this.prevTransformTemplateValue=c?c(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Ik);return}this.isUpdating||this.nodes.forEach(TQ),this.isUpdating=!1,this.nodes.forEach(EQ),this.nodes.forEach(vQ),this.nodes.forEach(xQ),this.clearAllSnapshots();const a=performance.now();qn.delta=oa(0,1e3/60,a-qn.timestamp),qn.timestamp=a,qn.isProcessing=!0,_v.update.process(qn),_v.preRender.process(qn),_v.render.process(qn),qn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,queueMicrotask(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach(wQ),this.sharedNodes.forEach(RQ)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,_t.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){_t.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=hn(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let a=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a&&(this.scroll={animationId:this.root.animationId,phase:o,isRoot:r(this.instance),offset:n(this.instance)})}resetTransform(){if(!s)return;const o=this.isLayoutDirty||this.shouldResetTransform,a=this.projectionDelta&&!L4(this.projectionDelta),l=this.getTransformTemplate(),c=l?l(this.latestValues,""):void 0,u=c!==this.prevTransformTemplateValue;o&&(a||Oa(this.latestValues)||u)&&(s(this.instance,c),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return o&&(l=this.removeTransform(l)),IQ(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:o}=this.options;if(!o)return hn();const a=o.measureViewportBox(),{scroll:l}=this.root;return l&&(No(a.x,l.offset.x),No(a.y,l.offset.y)),a}removeElementScroll(o){const a=hn();as(a,o);for(let l=0;l<this.path.length;l++){const c=this.path[l],{scroll:u,options:d}=c;if(c!==this.root&&u&&d.layoutScroll){if(u.isRoot){as(a,o);const{scroll:f}=this.root;f&&(No(a.x,-f.offset.x),No(a.y,-f.offset.y))}No(a.x,u.offset.x),No(a.y,u.offset.y)}}return a}applyTransform(o,a=!1){const l=hn();as(l,o);for(let c=0;c<this.path.length;c++){const u=this.path[c];!a&&u.options.layoutScroll&&u.scroll&&u!==u.root&&Cc(l,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),Oa(u.latestValues)&&Cc(l,u.latestValues)}return Oa(this.latestValues)&&Cc(l,this.latestValues),l}removeTransform(o){const a=hn();as(a,o);for(let l=0;l<this.path.length;l++){const c=this.path[l];if(!c.instance||!Oa(c.latestValues))continue;i1(c.latestValues)&&c.updateSnapshot();const u=hn(),d=c.measurePageBox();as(u,d),kk(a,c.latestValues,c.snapshot?c.snapshot.layoutBox:void 0,u)}return Oa(this.latestValues)&&kk(a,this.latestValues),a}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==qn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var a;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==l;if(!(o||c&&this.isSharedProjectionDirty||this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:d,layoutId:f}=this.options;if(!(!this.layout||!(d||f))){if(this.resolvedRelativeTargetAt=qn.timestamp,!this.targetDelta&&!this.relativeTarget){const p=this.getClosestProjectingParent();p&&p.layout&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=hn(),this.relativeTargetOrigin=hn(),Qd(this.relativeTargetOrigin,this.layout.layoutBox,p.layout.layoutBox),as(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=hn(),this.targetWithTransforms=hn()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),IX(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):as(this.target,this.layout.layoutBox),T4(this.target,this.targetDelta)):as(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const p=this.getClosestProjectingParent();p&&!!p.resumingFrom==!!this.resumingFrom&&!p.options.layoutScroll&&p.target&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=hn(),this.relativeTargetOrigin=hn(),Qd(this.relativeTargetOrigin,this.target,p.target),as(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Fa.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||i1(this.parent.latestValues)||w4(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var o;const a=this.getLead(),l=!!this.resumingFrom||this!==a;let c=!0;if((this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty)&&(c=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===qn.timestamp&&(c=!1),c)return;const{layout:u,layoutId:d}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(u||d))return;as(this.layoutCorrected,this.layout.layoutBox);const f=this.treeScale.x,p=this.treeScale.y;zX(this.layoutCorrected,this.treeScale,this.path,l),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox);const{target:m}=a;if(!m){this.projectionTransform&&(this.projectionDelta=Ec(),this.projectionTransform="none",this.scheduleRender());return}this.projectionDelta||(this.projectionDelta=Ec(),this.projectionDeltaWithTransform=Ec());const g=this.projectionTransform;Xd(this.projectionDelta,this.layoutCorrected,m,this.latestValues),this.projectionTransform=_k(this.projectionDelta,this.treeScale),(this.projectionTransform!==g||this.treeScale.x!==f||this.treeScale.y!==p)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",m)),Fa.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),o){const a=this.getStack();a&&a.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(o,a=!1){const l=this.snapshot,c=l?l.latestValues:{},u={...this.latestValues},d=Ec();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const f=hn(),p=l?l.source:void 0,m=this.layout?this.layout.source:void 0,g=p!==m,y=this.getStack(),x=!y||y.members.length<=1,v=!!(g&&!x&&this.options.crossfade===!0&&!this.path.some(LQ));this.animationProgress=0;let b;this.mixTargetDelta=w=>{const T=w/1e3;Mk(d.x,o.x,T),Mk(d.y,o.y,T),this.setTargetDelta(d),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Qd(f,this.layout.layoutBox,this.relativeParent.layout.layoutBox),_Q(this.relativeTarget,this.relativeTargetOrigin,f,T),b&&lQ(this.relativeTarget,b)&&(this.isProjectionDirty=!1),b||(b=hn()),as(b,this.relativeTarget)),g&&(this.animationValues=u,nQ(u,c,this.latestValues,T,v,x)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=T},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(mo(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=_t.update(()=>{Sm.hasAnimatedSinceResize=!0,this.currentAnimation=mQ(0,Pk,{...o,onUpdate:a=>{this.mixTargetDelta(a),o.onUpdate&&o.onUpdate(a)},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(Pk),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:l,layout:c,latestValues:u}=o;if(!(!a||!l||!c)){if(this!==o&&this.layout&&c&&D4(this.options.animationType,this.layout.layoutBox,c.layoutBox)){l=this.target||hn();const d=Zr(this.layout.layoutBox.x);l.x.min=o.target.x.min,l.x.max=l.x.min+d;const f=Zr(this.layout.layoutBox.y);l.y.min=o.target.y.min,l.y.max=l.y.min+f}as(a,l),Cc(a,u),Xd(this.projectionDeltaWithTransform,this.layoutCorrected,a,u)}}registerSharedNode(o,a){this.sharedNodes.has(o)||this.sharedNodes.set(o,new cQ),this.sharedNodes.get(o).add(a);const c=a.options.initialPromotionConfig;a.promote({transition:c?c.transition:void 0,preserveFollowOpacity:c&&c.shouldPreserveFollowOpacity?c.shouldPreserveFollowOpacity(a):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:a}=this.options;return a?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:a}=this.options;return a?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:l}={}){const c=this.getStack();c&&c.promote(this,l),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:l}=o;if((l.rotate||l.rotateX||l.rotateY||l.rotateZ)&&(a=!0),!a)return;const c={};for(let u=0;u<Lk.length;u++){const d="rotate"+Lk[u];l[d]&&(c[d]=l[d],o.setStaticValue(d,0))}o.render();for(const u in c)o.setStaticValue(u,c[u]);o.scheduleRender()}getProjectionStyles(o){var a,l;if(!this.instance||this.isSVG)return;if(!this.isVisible)return gQ;const c={visibility:""},u=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,c.opacity="",c.pointerEvents=bm(o==null?void 0:o.pointerEvents)||"",c.transform=u?u(this.latestValues,""):"none",c;const d=this.getLead();if(!this.projectionDelta||!this.layout||!d.target){const g={};return this.options.layoutId&&(g.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,g.pointerEvents=bm(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!Oa(this.latestValues)&&(g.transform=u?u({},""):"none",this.hasProjected=!1),g}const f=d.animationValues||d.latestValues;this.applyTransformsToTarget(),c.transform=_k(this.projectionDeltaWithTransform,this.treeScale,f),u&&(c.transform=u(f,c.transform));const{x:p,y:m}=this.projectionDelta;c.transformOrigin=`${p.origin*100}% ${m.origin*100}% 0`,d.animationValues?c.opacity=d===this?(l=(a=f.opacity)!==null&&a!==void 0?a:this.latestValues.opacity)!==null&&l!==void 0?l:1:this.preserveOpacity?this.latestValues.opacity:f.opacityExit:c.opacity=d===this?f.opacity!==void 0?f.opacity:"":f.opacityExit!==void 0?f.opacityExit:0;for(const g in bg){if(f[g]===void 0)continue;const{correct:y,applyTo:x}=bg[g],v=c.transform==="none"?f[g]:y(f[g],d);if(x){const b=x.length;for(let w=0;w<b;w++)c[x[w]]=v}else c[g]=v}return this.options.layoutId&&(c.pointerEvents=d===this?bm(o==null?void 0:o.pointerEvents)||"":"none"),c}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var a;return(a=o.currentAnimation)===null||a===void 0?void 0:a.stop()}),this.root.nodes.forEach(Ik),this.root.sharedNodes.clear()}}}function vQ(t){t.updateLayout()}function xQ(t){var e;const n=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&n&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:s}=t.layout,{animationType:i}=t.options,o=n.source!==t.layout.source;i==="size"?ds(d=>{const f=o?n.measuredBox[d]:n.layoutBox[d],p=Zr(f);f.min=r[d].min,f.max=f.min+p}):D4(i,n.layoutBox,r)&&ds(d=>{const f=o?n.measuredBox[d]:n.layoutBox[d],p=Zr(r[d]);f.max=f.min+p,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[d].max=t.relativeTarget[d].min+p)});const a=Ec();Xd(a,r,n.layoutBox);const l=Ec();o?Xd(l,t.applyTransform(s,!0),n.measuredBox):Xd(l,r,n.layoutBox);const c=!L4(a);let u=!1;if(!t.resumeFrom){const d=t.getClosestProjectingParent();if(d&&!d.resumeFrom){const{snapshot:f,layout:p}=d;if(f&&p){const m=hn();Qd(m,n.layoutBox,f.layoutBox);const g=hn();Qd(g,r,p.layoutBox),P4(m,g)||(u=!0),d.options.layoutRoot&&(t.relativeTarget=g,t.relativeTargetOrigin=m,t.relativeParent=d)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:l,layoutDelta:a,hasLayoutChanged:c,hasRelativeTargetChanged:u})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function bQ(t){Fa.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function SQ(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function wQ(t){t.clearSnapshot()}function Ik(t){t.clearMeasurements()}function TQ(t){t.isLayoutDirty=!1}function EQ(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function Dk(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function CQ(t){t.resolveTargetDelta()}function kQ(t){t.calcProjection()}function AQ(t){t.resetRotation()}function RQ(t){t.removeLeadSnapshot()}function Mk(t,e,n){t.translate=qt(e.translate,0,n),t.scale=qt(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function Ok(t,e,n,r){t.min=qt(e.min,n.min,r),t.max=qt(e.max,n.max,r)}function _Q(t,e,n,r){Ok(t.x,e.x,n.x,r),Ok(t.y,e.y,n.y,r)}function LQ(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const PQ={duration:.45,ease:[.4,0,.1,1]},Fk=t=>typeof navigator<"u"&&navigator.userAgent.toLowerCase().includes(t),Nk=Fk("applewebkit/")&&!Fk("chrome/")?Math.round:cn;function jk(t){t.min=Nk(t.min),t.max=Nk(t.max)}function IQ(t){jk(t.x),jk(t.y)}function D4(t,e,n){return t==="position"||t==="preserve-aspect"&&!r1(Rk(e),Rk(n),.2)}const DQ=I4({attachResizeListener:(t,e)=>to(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),$v={current:void 0},M4=I4({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!$v.current){const t=new DQ({});t.mount(window),t.setOptions({layoutScroll:!0}),$v.current=t}return $v.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),MQ={pan:{Feature:qX},drag:{Feature:YX,ProjectionNode:M4,MeasureLayout:A4}},OQ=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function FQ(t){const e=OQ.exec(t);if(!e)return[,];const[,n,r]=e;return[n,r]}function a1(t,e,n=1){const[r,s]=FQ(t);if(!r)return;const i=window.getComputedStyle(e).getPropertyValue(r);if(i){const o=i.trim();return m4(o)?parseFloat(o):o}else return Xb(s)?a1(s,e,n+1):s}function NQ(t,{...e},n){const r=t.current;if(!(r instanceof Element))return{target:e,transitionEnd:n};n&&(n={...n}),t.values.forEach(s=>{const i=s.get();if(!Xb(i))return;const o=a1(i,r);o&&s.set(o)});for(const s in e){const i=e[s];if(!Xb(i))continue;const o=a1(i,r);o&&(e[s]=o,n||(n={}),n[s]===void 0&&(n[s]=i))}return{target:e,transitionEnd:n}}const jQ=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),O4=t=>jQ.has(t),BQ=t=>Object.keys(t).some(O4),Bk=t=>t===Dl||t===De,$k=(t,e)=>parseFloat(t.split(", ")[e]),zk=(t,e)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const s=r.match(/^matrix3d\((.+)\)$/);if(s)return $k(s[1],e);{const i=r.match(/^matrix\((.+)\)$/);return i?$k(i[1],t):0}},$Q=new Set(["x","y","z"]),zQ=yh.filter(t=>!$Q.has(t));function UQ(t){const e=[];return zQ.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e.length&&t.render(),e}const iu={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:zk(4,13),y:zk(5,14)};iu.translateX=iu.x;iu.translateY=iu.y;const VQ=(t,e,n)=>{const r=e.measureViewportBox(),s=e.current,i=getComputedStyle(s),{display:o}=i,a={};o==="none"&&e.setStaticValue("display",t.display||"block"),n.forEach(c=>{a[c]=iu[c](r,i)}),e.render();const l=e.measureViewportBox();return n.forEach(c=>{const u=e.getValue(c);u&&u.jump(a[c]),t[c]=iu[c](l,i)}),t},WQ=(t,e,n={},r={})=>{e={...e},r={...r};const s=Object.keys(e).filter(O4);let i=[],o=!1;const a=[];if(s.forEach(l=>{const c=t.getValue(l);if(!t.hasValue(l))return;let u=n[l],d=td(u);const f=e[l];let p;if(wg(f)){const m=f.length,g=f[0]===null?1:0;u=f[g],d=td(u);for(let y=g;y<m&&f[y]!==null;y++)p?Tg(td(f[y])===p):p=td(f[y])}else p=td(f);if(d!==p)if(Bk(d)&&Bk(p)){const m=c.get();typeof m=="string"&&c.set(parseFloat(m)),typeof f=="string"?e[l]=parseFloat(f):Array.isArray(f)&&p===De&&(e[l]=f.map(parseFloat))}else d!=null&&d.transform&&(p!=null&&p.transform)&&(u===0||f===0)?u===0?c.set(p.transform(u)):e[l]=d.transform(f):(o||(i=UQ(t),o=!0),a.push(l),r[l]=r[l]!==void 0?r[l]:e[l],c.jump(f))}),a.length){const l=a.indexOf("height")>=0?window.pageYOffset:null,c=VQ(e,t,a);return i.length&&i.forEach(([u,d])=>{t.getValue(u).set(d)}),t.render(),H0&&l!==null&&window.scrollTo({top:l}),{target:c,transitionEnd:r}}else return{target:e,transitionEnd:r}};function HQ(t,e,n,r){return BQ(e)?WQ(t,e,n,r):{target:e,transitionEnd:r}}const GQ=(t,e,n,r)=>{const s=NQ(t,e,r);return e=s.target,r=s.transitionEnd,HQ(t,e,n,r)},l1={current:null},F4={current:!1};function KQ(){if(F4.current=!0,!!H0)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>l1.current=t.matches;t.addListener(e),e()}else l1.current=!1}function YQ(t,e,n){const{willChange:r}=e;for(const s in e){const i=e[s],o=n[s];if(Or(i))t.addValue(s,i),Ag(r)&&r.add(s);else if(Or(o))t.addValue(s,su(i,{owner:t})),Ag(r)&&r.remove(s);else if(o!==i)if(t.hasValue(s)){const a=t.getValue(s);!a.hasAnimated&&a.set(i)}else{const a=t.getStaticValue(s);t.addValue(s,su(a!==void 0?a:i,{owner:t}))}}for(const s in n)e[s]===void 0&&t.removeValue(s);return e}const Uk=new WeakMap,N4=Object.keys(Nf),qQ=N4.length,Vk=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],XQ=$w.length;class QQ{constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:s,visualState:i},o={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>_t.render(this.render,!1,!0);const{latestValues:a,renderState:l}=i;this.latestValues=a,this.baseTarget={...a},this.initialValues=n.initial?{...a}:{},this.renderState=l,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=s,this.options=o,this.isControllingVariants=K0(n),this.isVariantNode=bM(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:c,...u}=this.scrapeMotionValuesFromProps(n,{});for(const d in u){const f=u[d];a[d]!==void 0&&Or(f)&&(f.set(a[d],!1),Ag(c)&&c.add(d))}}scrapeMotionValuesFromProps(e,n){return{}}mount(e){this.current=e,Uk.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),F4.current||KQ(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:l1.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){Uk.delete(this.current),this.projection&&this.projection.unmount(),mo(this.notifyUpdate),mo(this.render),this.valueSubscriptions.forEach(e=>e()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features)this.features[e].unmount();this.current=null}bindToMotionValue(e,n){const r=Il.has(e),s=n.on("change",o=>{this.latestValues[e]=o,this.props.onUpdate&&_t.update(this.notifyUpdate,!1,!0),r&&this.projection&&(this.projection.isTransformDirty=!0)}),i=n.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(e,()=>{s(),i()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}loadFeatures({children:e,...n},r,s,i){let o,a;for(let l=0;l<qQ;l++){const c=N4[l],{isEnabled:u,Feature:d,ProjectionNode:f,MeasureLayout:p}=Nf[c];f&&(o=f),u(n)&&(!this.features[c]&&d&&(this.features[c]=new d(this)),p&&(a=p))}if((this.type==="html"||this.type==="svg")&&!this.projection&&o){this.projection=new o(this.latestValues,this.parent&&this.parent.projection);const{layoutId:l,layout:c,drag:u,dragConstraints:d,layoutScroll:f,layoutRoot:p}=n;this.projection.setOptions({layoutId:l,layout:c,alwaysMeasureLayout:!!u||d&&wc(d),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof c=="string"?c:"both",initialPromotionConfig:i,layoutScroll:f,layoutRoot:p})}return a}updateFeatures(){for(const e in this.features){const n=this.features[e];n.isMounted?n.update():(n.mount(),n.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):hn()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}makeTargetAnimatable(e,n=!0){return this.makeTargetAnimatableFromInstance(e,this.props,n)}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<Vk.length;r++){const s=Vk[r];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const i=e["on"+s];i&&(this.propEventSubscriptions[s]=this.on(s,i))}this.prevMotionValues=YQ(this,this.scrapeMotionValuesFromProps(e,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(e=!1){if(e)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const r=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(r.initial=this.props.initial),r}const n={};for(let r=0;r<XQ;r++){const s=$w[r],i=this.props[s];(Ff(i)||i===!1)&&(n[s]=i)}return n}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){n!==this.values.get(e)&&(this.removeValue(e),this.bindToMotionValue(e,n)),this.values.set(e,n),this.latestValues[e]=n.get()}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=su(n,{owner:this}),this.addValue(e,r)),r}readValue(e){var n;return this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(n=this.getBaseTargetFromProps(this.props,e))!==null&&n!==void 0?n:this.readValueFromInstance(this.current,e,this.options)}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var n;const{initial:r}=this.props,s=typeof r=="string"||typeof r=="object"?(n=Yw(this.props,r))===null||n===void 0?void 0:n[e]:void 0;if(r&&s!==void 0)return s;const i=this.getBaseTargetFromProps(this.props,e);return i!==void 0&&!Or(i)?i:this.initialValues[e]!==void 0&&s===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new rT),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class j4 extends QQ{sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}makeTargetAnimatableFromInstance({transition:e,transitionEnd:n,...r},{transformValues:s},i){let o=hX(r,e||{},this);if(s&&(n&&(n=s(n)),r&&(r=s(r)),o&&(o=s(o))),i){dX(this,r,o);const a=GQ(this,r,o,n);n=a.transitionEnd,r=a.target}return{transition:e,transitionEnd:n,...r}}}function ZQ(t){return window.getComputedStyle(t)}class JQ extends j4{constructor(){super(...arguments),this.type="html"}readValueFromInstance(e,n){if(Il.has(n)){const r=Zw(n);return r&&r.default||0}else{const r=ZQ(e),s=(EM(n)?r.getPropertyValue(n):r[n])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(e,{transformPagePoint:n}){return E4(e,n)}build(e,n,r,s){Vw(e,n,r,s.transformTemplate)}scrapeMotionValuesFromProps(e,n){return Kw(e,n)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Or(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}renderInstance(e,n,r,s){LM(e,n,r,s)}}class eZ extends j4{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(Il.has(n)){const r=Zw(n);return r&&r.default||0}return n=PM.has(n)?n:jw(n),e.getAttribute(n)}measureInstanceViewportBox(){return hn()}scrapeMotionValuesFromProps(e,n){return DM(e,n)}build(e,n,r,s){Hw(e,n,r,this.isSVGTag,s.transformTemplate)}renderInstance(e,n,r,s){IM(e,n,r,s)}mount(e){this.isSVGTag=Gw(e.tagName),super.mount(e)}}const tZ=(t,e)=>Uw(t)?new eZ(e,{enableHardwareAcceleration:!1}):new JQ(e,{enableHardwareAcceleration:!0}),nZ={layout:{ProjectionNode:M4,MeasureLayout:A4}},rZ={...RX,...qY,...MQ,...nZ},Di=sY((t,e)=>FY(t,e,rZ,tZ));function B4(){const t=S.useRef(!1);return Nw(()=>(t.current=!0,()=>{t.current=!1}),[]),t}function sZ(){const t=B4(),[e,n]=S.useState(0),r=S.useCallback(()=>{t.current&&n(e+1)},[e]);return[S.useCallback(()=>_t.postRender(r),[r]),e]}class iZ extends S.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const r=this.props.sizeRef.current;r.height=n.offsetHeight||0,r.width=n.offsetWidth||0,r.top=n.offsetTop,r.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function oZ({children:t,isPresent:e}){const n=S.useId(),r=S.useRef(null),s=S.useRef({width:0,height:0,top:0,left:0});return S.useInsertionEffect(()=>{const{width:i,height:o,top:a,left:l}=s.current;if(e||!r.current||!i||!o)return;r.current.dataset.motionPopId=n;const c=document.createElement("style");return document.head.appendChild(c),c.sheet&&c.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${i}px !important;
            height: ${o}px !important;
            top: ${a}px !important;
            left: ${l}px !important;
          }
        `),()=>{document.head.removeChild(c)}},[e]),S.createElement(iZ,{isPresent:e,childRef:r,sizeRef:s},S.cloneElement(t,{ref:r}))}const zv=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:s,presenceAffectsLayout:i,mode:o})=>{const a=MM(aZ),l=S.useId(),c=S.useMemo(()=>({id:l,initial:e,isPresent:n,custom:s,onExitComplete:u=>{a.set(u,!0);for(const d of a.values())if(!d)return;r&&r()},register:u=>(a.set(u,!1),()=>a.delete(u))}),i?void 0:[n]);return S.useMemo(()=>{a.forEach((u,d)=>a.set(d,!1))},[n]),S.useEffect(()=>{!n&&!a.size&&r&&r()},[n]),o==="popLayout"&&(t=S.createElement(oZ,{isPresent:n},t)),S.createElement(gh.Provider,{value:c},t)};function aZ(){return new Map}function lZ(t){return S.useEffect(()=>()=>t(),[])}const Na=t=>t.key||"";function cZ(t,e){t.forEach(n=>{const r=Na(n);e.set(r,n)})}function uZ(t){const e=[];return S.Children.forEach(t,n=>{S.isValidElement(n)&&e.push(n)}),e}const va=({children:t,custom:e,initial:n=!0,onExitComplete:r,exitBeforeEnter:s,presenceAffectsLayout:i=!0,mode:o="sync"})=>{const a=S.useContext(zw).forceRender||sZ()[0],l=B4(),c=uZ(t);let u=c;const d=S.useRef(new Map).current,f=S.useRef(u),p=S.useRef(new Map).current,m=S.useRef(!0);if(Nw(()=>{m.current=!1,cZ(c,p),f.current=u}),lZ(()=>{m.current=!0,p.clear(),d.clear()}),m.current)return S.createElement(S.Fragment,null,u.map(v=>S.createElement(zv,{key:Na(v),isPresent:!0,initial:n?void 0:!1,presenceAffectsLayout:i,mode:o},v)));u=[...u];const g=f.current.map(Na),y=c.map(Na),x=g.length;for(let v=0;v<x;v++){const b=g[v];y.indexOf(b)===-1&&!d.has(b)&&d.set(b,void 0)}return o==="wait"&&d.size&&(u=[]),d.forEach((v,b)=>{if(y.indexOf(b)!==-1)return;const w=p.get(b);if(!w)return;const T=g.indexOf(b);let C=v;if(!C){const E=()=>{d.delete(b);const k=Array.from(p.keys()).filter(A=>!y.includes(A));if(k.forEach(A=>p.delete(A)),f.current=c.filter(A=>{const R=Na(A);return R===b||k.includes(R)}),!d.size){if(l.current===!1)return;a(),r&&r()}};C=S.createElement(zv,{key:Na(w),isPresent:!1,onExitComplete:E,custom:e,presenceAffectsLayout:i,mode:o},w),d.set(b,C)}u.splice(T,0,C)}),u=u.map(v=>{const b=v.key;return d.has(b)?v:S.createElement(zv,{key:Na(v),isPresent:!0,presenceAffectsLayout:i,mode:o},v)}),S.createElement(S.Fragment,null,d.size?u:u.map(v=>S.cloneElement(v)))},dZ=(t,e)=>t.find(n=>n.id===e);function Wk(t,e){const n=$4(t,e),r=n?t[n].findIndex(s=>s.id===e):-1;return{position:n,index:r}}function $4(t,e){for(const[n,r]of Object.entries(t))if(dZ(r,e))return n}function fZ(t){const e=t.includes("right"),n=t.includes("left");let r="center";return e&&(r="flex-end"),n&&(r="flex-start"),{display:"flex",flexDirection:"column",alignItems:r}}function hZ(t){const n=t==="top"||t==="bottom"?"0 auto":void 0,r=t.includes("top")?"env(safe-area-inset-top, 0px)":void 0,s=t.includes("bottom")?"env(safe-area-inset-bottom, 0px)":void 0,i=t.includes("left")?void 0:"env(safe-area-inset-right, 0px)",o=t.includes("right")?void 0:"env(safe-area-inset-left, 0px)";return{position:"fixed",zIndex:"var(--toast-z-index, 5500)",pointerEvents:"none",display:"flex",flexDirection:"column",margin:n,top:r,bottom:s,right:i,left:o}}var pZ=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|fetchpriority|fetchPriority|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,mZ=tM(function(t){return pZ.test(t)||t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)<91}),gZ=mZ,yZ=function(e){return e!=="theme"},Hk=function(e){return typeof e=="string"&&e.charCodeAt(0)>96?gZ:yZ},Gk=function(e,n,r){var s;if(n){var i=n.shouldForwardProp;s=e.__emotion_forwardProp&&i?function(o){return e.__emotion_forwardProp(o)&&i(o)}:i}return typeof s!="function"&&r&&(s=e.__emotion_forwardProp),s},vZ=!1,xZ=function(e){var n=e.cache,r=e.serialized,s=e.isStringTag;return aM(n,r,s),_K(function(){return lM(n,r,s)}),null},bZ=function t(e,n){var r=e.__emotion_real===e,s=r&&e.__emotion_base||e,i,o;n!==void 0&&(i=n.label,o=n.target);var a=Gk(e,n,r),l=a||Hk(s),c=!l("as");return function(){var u=arguments,d=r&&e.__emotion_styles!==void 0?e.__emotion_styles.slice(0):[];if(i!==void 0&&d.push("label:"+i+";"),u[0]==null||u[0].raw===void 0)d.push.apply(d,u);else{d.push(u[0][0]);for(var f=u.length,p=1;p<f;p++)d.push(u[p],u[0][p])}var m=Mw(function(g,y,x){var v=c&&g.as||s,b="",w=[],T=g;if(g.theme==null){T={};for(var C in g)T[C]=g[C];T.theme=S.useContext(Of)}typeof g.className=="string"?b=bK(y.registered,w,g.className):g.className!=null&&(b=g.className+" ");var E=Dw(d.concat(w),y.registered,T);b+=y.key+"-"+E.name,o!==void 0&&(b+=" "+o);var k=c&&a===void 0?Hk(v):l,A={};for(var R in g)c&&R==="as"||k(R)&&(A[R]=g[R]);return A.className=b,x&&(A.ref=x),S.createElement(S.Fragment,null,S.createElement(xZ,{cache:y,serialized:E,isStringTag:typeof v=="string"}),S.createElement(v,A))});return m.displayName=i!==void 0?i:"Styled("+(typeof s=="string"?s:s.displayName||s.name||"Component")+")",m.defaultProps=e.defaultProps,m.__emotion_real=m,m.__emotion_base=s,m.__emotion_styles=d,m.__emotion_forwardProp=a,Object.defineProperty(m,"toString",{value:function(){return o===void 0&&vZ?"NO_COMPONENT_SELECTOR":"."+o}}),m.withComponent=function(g,y){return t(g,wl({},n,y,{shouldForwardProp:Gk(m,y,!0)})).apply(void 0,d)},m}},SZ=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],c1=bZ.bind();SZ.forEach(function(t){c1[t]=c1(t)});const wZ=new Set([...qz({}),"textStyle","layerStyle","apply","noOfLines","focusBorderColor","errorBorderColor","as","__css","css","sx"]),TZ=new Set(["htmlWidth","htmlHeight","htmlSize","htmlTranslate"]);function EZ(t){return(TZ.has(t)||!wZ.has(t))&&t[0]!=="_"}const CZ=L$(c1),kZ=({baseStyle:t})=>e=>{const{theme:n,css:r,__css:s,sx:i,...o}=e,[a]=$$(o,n.__isStyleProp),l=Gr(t,e),c=m$({},s,l,vw(a),i),u=DD(c)(e.theme);return r?[u,r]:u};function Uv(t,e){const{baseStyle:n,...r}=e??{};r.shouldForwardProp||(r.shouldForwardProp=EZ);const s=kZ({baseStyle:n}),i=CZ(t,r)(s);return S.forwardRef(function(l,c){const{children:u,...d}=l,{colorMode:f,forced:p}=ga(),m=p?f:void 0;return S.createElement(i,{ref:c,"data-theme":m,...d},u)})}function AZ(){const t=new Map;return new Proxy(Uv,{apply(e,n,r){return Uv(...r)},get(e,n){return t.has(n)||t.set(n,Uv(n)),t.get(n)}})}const ae=AZ(),RZ={initial:t=>{const{position:e}=t,n=["top","bottom"].includes(e)?"y":"x";let r=["top-right","bottom-right"].includes(e)?1:-1;return e==="bottom"&&(r=1),{opacity:0,[n]:r*24}},animate:{opacity:1,y:0,x:0,scale:1,transition:{duration:.4,ease:[.4,0,.2,1]}},exit:{opacity:0,scale:.85,transition:{duration:.2,ease:[.4,0,1,1]}}},z4=S.memo(t=>{const{id:e,message:n,onCloseComplete:r,onRequestRemove:s,requestClose:i=!1,position:o="bottom",duration:a=5e3,containerStyle:l,motionVariants:c=RZ,toastSpacing:u="0.5rem"}=t,[d,f]=S.useState(a),p=XX();bl(()=>{p||r==null||r()},[p]),bl(()=>{f(a)},[a]);const m=()=>f(null),g=()=>f(a),y=()=>{p&&s()};S.useEffect(()=>{p&&i&&s()},[p,i,s]),Z$(y,d);const x=S.useMemo(()=>({pointerEvents:"auto",maxWidth:560,minWidth:300,margin:u,...l}),[l,u]),v=S.useMemo(()=>fZ(o),[o]);return h.jsx(Di.div,{layout:!0,className:"chakra-toast",variants:c,initial:"initial",animate:"animate",exit:"exit",onHoverStart:m,onHoverEnd:g,custom:{position:o},style:v,children:h.jsx(ae.div,{role:"status","aria-atomic":"true",className:"chakra-toast__inner",__css:x,children:Gr(n,{id:e,onClose:y})})})});z4.displayName="ToastComponent";function he(t){return S.forwardRef(t)}var _Z=typeof Element<"u",LZ=typeof Map=="function",PZ=typeof Set=="function",IZ=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function wm(t,e){if(t===e)return!0;if(t&&e&&typeof t=="object"&&typeof e=="object"){if(t.constructor!==e.constructor)return!1;var n,r,s;if(Array.isArray(t)){if(n=t.length,n!=e.length)return!1;for(r=n;r--!==0;)if(!wm(t[r],e[r]))return!1;return!0}var i;if(LZ&&t instanceof Map&&e instanceof Map){if(t.size!==e.size)return!1;for(i=t.entries();!(r=i.next()).done;)if(!e.has(r.value[0]))return!1;for(i=t.entries();!(r=i.next()).done;)if(!wm(r.value[1],e.get(r.value[0])))return!1;return!0}if(PZ&&t instanceof Set&&e instanceof Set){if(t.size!==e.size)return!1;for(i=t.entries();!(r=i.next()).done;)if(!e.has(r.value[0]))return!1;return!0}if(IZ&&ArrayBuffer.isView(t)&&ArrayBuffer.isView(e)){if(n=t.length,n!=e.length)return!1;for(r=n;r--!==0;)if(t[r]!==e[r])return!1;return!0}if(t.constructor===RegExp)return t.source===e.source&&t.flags===e.flags;if(t.valueOf!==Object.prototype.valueOf&&typeof t.valueOf=="function"&&typeof e.valueOf=="function")return t.valueOf()===e.valueOf();if(t.toString!==Object.prototype.toString&&typeof t.toString=="function"&&typeof e.toString=="function")return t.toString()===e.toString();if(s=Object.keys(t),n=s.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!Object.prototype.hasOwnProperty.call(e,s[r]))return!1;if(_Z&&t instanceof Element)return!1;for(r=n;r--!==0;)if(!((s[r]==="_owner"||s[r]==="__v"||s[r]==="__o")&&t.$$typeof)&&!wm(t[s[r]],e[s[r]]))return!1;return!0}return t!==t&&e!==e}var DZ=function(e,n){try{return wm(e,n)}catch(r){if((r.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw r}};const MZ=ih(DZ);function vo(){const t=S.useContext(Of);if(!t)throw Error("useTheme: `theme` is undefined. Seems you forgot to wrap your app in `<ChakraProvider />` or `<ThemeProvider />`");return t}function U4(){const t=ga(),e=vo();return{...t,theme:e}}function OZ(t,e,n){if(e==null)return e;const r=s=>{var i,o;return(o=(i=t.__breakpoints)==null?void 0:i.asArray)==null?void 0:o[s]};return r(e)??r(n)??n}function FZ(t,e,n){if(e==null)return e;const r=s=>{var i,o;return(o=(i=t.__cssMap)==null?void 0:i[s])==null?void 0:o.value};return r(e)??r(n)??n}function NZ(t,e,n){const r=vo();return V4(t,e,n)(r)}function V4(t,e,n){const r=Array.isArray(e)?e:[e],s=Array.isArray(n)?n:[n];return i=>{const o=s.filter(Boolean),a=r.map((l,c)=>{if(t==="breakpoints")return OZ(i,l,o[c]??l);const u=`${t}.${l}`;return FZ(i,u,o[c]??l)});return Array.isArray(e)?a:a[0]}}function W4(t,e={}){const{styleConfig:n,...r}=e,{theme:s,colorMode:i}=U4(),o=t?vD(s,`components.${t}`):void 0,a=n||o,l=vs({theme:s,colorMode:i},(a==null?void 0:a.defaultProps)??{},vw(ku(r,["children"])),(u,d)=>u?void 0:d),c=S.useRef({});if(a){const d=a9(a)(l);MZ(c.current,d)||(c.current=d)}return c.current}function Nr(t,e={}){return W4(t,e)}function Is(t,e={}){return W4(t,e)}const Kk={path:h.jsxs("g",{stroke:"currentColor",strokeWidth:"1.5",children:[h.jsx("path",{strokeLinecap:"round",fill:"none",d:"M9,9a3,3,0,1,1,4,2.829,1.5,1.5,0,0,0-1,1.415V14.25"}),h.jsx("path",{fill:"currentColor",strokeLinecap:"round",d:"M12,17.25a.375.375,0,1,0,.375.375A.375.375,0,0,0,12,17.25h0"}),h.jsx("circle",{fill:"none",strokeMiterlimit:"10",cx:"12",cy:"12",r:"11.25"})]}),viewBox:"0 0 24 24"},Zn=he((t,e)=>{const{as:n,viewBox:r,color:s="currentColor",focusable:i=!1,children:o,className:a,__css:l,...c}=t,u=Ee("chakra-icon",a),d=Nr("Icon",t),f={w:"1em",h:"1em",display:"inline-block",lineHeight:"1em",flexShrink:0,color:s,...l,...d},p={ref:e,focusable:i,className:u,__css:f},m=r??Kk.viewBox;if(n&&typeof n!="string")return h.jsx(ae.svg,{as:n,...p,...c});const g=o??Kk.path;return h.jsx(ae.svg,{verticalAlign:"middle",viewBox:m,...p,...c,children:g})});Zn.displayName="Icon";function jZ(t){return h.jsx(Zn,{viewBox:"0 0 24 24",...t,children:h.jsx("path",{fill:"currentColor",d:"M12,0A12,12,0,1,0,24,12,12.014,12.014,0,0,0,12,0Zm6.927,8.2-6.845,9.289a1.011,1.011,0,0,1-1.43.188L5.764,13.769a1,1,0,1,1,1.25-1.562l4.076,3.261,6.227-8.451A1,1,0,1,1,18.927,8.2Z"})})}function BZ(t){return h.jsx(Zn,{viewBox:"0 0 24 24",...t,children:h.jsx("path",{fill:"currentColor",d:"M12,0A12,12,0,1,0,24,12,12.013,12.013,0,0,0,12,0Zm.25,5a1.5,1.5,0,1,1-1.5,1.5A1.5,1.5,0,0,1,12.25,5ZM14.5,18.5h-4a1,1,0,0,1,0-2h.75a.25.25,0,0,0,.25-.25v-4.5a.25.25,0,0,0-.25-.25H10.5a1,1,0,0,1,0-2h1a2,2,0,0,1,2,2v4.75a.25.25,0,0,0,.25.25h.75a1,1,0,1,1,0,2Z"})})}function Yk(t){return h.jsx(Zn,{viewBox:"0 0 24 24",...t,children:h.jsx("path",{fill:"currentColor",d:"M11.983,0a12.206,12.206,0,0,0-8.51,3.653A11.8,11.8,0,0,0,0,12.207,11.779,11.779,0,0,0,11.8,24h.214A12.111,12.111,0,0,0,24,11.791h0A11.766,11.766,0,0,0,11.983,0ZM10.5,16.542a1.476,1.476,0,0,1,1.449-1.53h.027a1.527,1.527,0,0,1,1.523,1.47,1.475,1.475,0,0,1-1.449,1.53h-.027A1.529,1.529,0,0,1,10.5,16.542ZM11,12.5v-6a1,1,0,0,1,2,0v6a1,1,0,1,1-2,0Z"})})}const $Z=Pl({"0%":{transform:"rotate(0deg)"},"100%":{transform:"rotate(360deg)"}}),kn=he((t,e)=>{const n=Nr("Spinner",t),{label:r="Loading...",thickness:s="2px",speed:i="0.45s",emptyColor:o="transparent",className:a,...l}=Ht(t),c=Ee("chakra-spinner",a),u={display:"inline-block",borderColor:"currentColor",borderStyle:"solid",borderRadius:"99999px",borderWidth:s,borderBottomColor:o,borderLeftColor:o,animation:`${$Z} ${i} linear infinite`,...n};return h.jsx(ae.div,{ref:e,__css:u,className:c,...l,children:r&&h.jsx(ae.span,{srOnly:!0,children:r})})});kn.displayName="Spinner";const[zZ,sT]=Zt({name:"AlertContext",hookName:"useAlertContext",providerName:"<Alert />"}),[UZ,iT]=Zt({name:"AlertStylesContext",hookName:"useAlertStyles",providerName:"<Alert />"}),H4={info:{icon:BZ,colorScheme:"blue"},warning:{icon:Yk,colorScheme:"orange"},success:{icon:jZ,colorScheme:"green"},error:{icon:Yk,colorScheme:"red"},loading:{icon:kn,colorScheme:"blue"}};function VZ(t){return H4[t].colorScheme}function WZ(t){return H4[t].icon}const G4=he(function(e,n){const{status:r="info",addRole:s=!0,...i}=Ht(e),o=e.colorScheme??VZ(r),a=Is("Alert",{...e,colorScheme:o}),l={width:"100%",display:"flex",alignItems:"center",position:"relative",overflow:"hidden",...a.container};return h.jsx(zZ,{value:{status:r},children:h.jsx(UZ,{value:a,children:h.jsx(ae.div,{"data-status":r,role:s?"alert":void 0,ref:n,...i,className:Ee("chakra-alert",e.className),__css:l})})})});G4.displayName="Alert";function K4(t){const{status:e}=sT(),n=WZ(e),r=iT(),s=e==="loading"?r.spinner:r.icon;return h.jsx(ae.span,{display:"inherit","data-status":e,...t,className:Ee("chakra-alert__icon",t.className),__css:s,children:t.children||h.jsx(n,{h:"100%",w:"100%"})})}K4.displayName="AlertIcon";const Y4=he(function(e,n){const r=iT(),{status:s}=sT();return h.jsx(ae.div,{ref:n,"data-status":s,...e,className:Ee("chakra-alert__title",e.className),__css:r.title})});Y4.displayName="AlertTitle";const q4=he(function(e,n){const{status:r}=sT(),s=iT(),i={display:"inline",...s.description};return h.jsx(ae.div,{ref:n,"data-status":r,...e,className:Ee("chakra-alert__desc",e.className),__css:i})});q4.displayName="AlertDescription";function HZ(t){return h.jsx(Zn,{focusable:"false","aria-hidden":!0,...t,children:h.jsx("path",{fill:"currentColor",d:"M.439,21.44a1.5,1.5,0,0,0,2.122,2.121L11.823,14.3a.25.25,0,0,1,.354,0l9.262,9.263a1.5,1.5,0,1,0,2.122-2.121L14.3,12.177a.25.25,0,0,1,0-.354l9.263-9.262A1.5,1.5,0,0,0,21.439.44L12.177,9.7a.25.25,0,0,1-.354,0L2.561.44A1.5,1.5,0,0,0,.439,2.561L9.7,11.823a.25.25,0,0,1,0,.354Z"})})}const oT=he(function(e,n){const r=Nr("CloseButton",e),{children:s,isDisabled:i,__css:o,...a}=Ht(e),l={outline:0,display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0};return h.jsx(ae.button,{type:"button","aria-label":"Close",ref:n,disabled:i,__css:{...l,...r,...o},...a,children:s||h.jsx(HZ,{width:"1em",height:"1em"})})});oT.displayName="CloseButton";const GZ=t=>{const{status:e,variant:n="solid",id:r,title:s,isClosable:i,onClose:o,description:a,colorScheme:l,icon:c}=t,u=r?{root:`toast-${r}`,title:`toast-${r}-title`,description:`toast-${r}-description`}:void 0;return h.jsxs(G4,{addRole:!1,status:e,variant:n,id:u==null?void 0:u.root,alignItems:"start",borderRadius:"md",boxShadow:"lg",paddingEnd:8,textAlign:"start",width:"auto",colorScheme:l,children:[h.jsx(K4,{children:c}),h.jsxs(ae.div,{flex:"1",maxWidth:"100%",children:[s&&h.jsx(Y4,{id:u==null?void 0:u.title,children:s}),a&&h.jsx(q4,{id:u==null?void 0:u.description,display:"block",children:a})]}),i&&h.jsx(oT,{size:"sm",onClick:o,position:"absolute",insetEnd:1,top:1})]})};function X4(t={}){const{render:e,toastComponent:n=GZ}=t;return s=>typeof e=="function"?e({...s,...t}):h.jsx(n,{...s,...t})}const KZ={top:[],"top-left":[],"top-right":[],"bottom-left":[],bottom:[],"bottom-right":[]},vi=YZ(KZ);function YZ(t){let e=t;const n=new Set,r=s=>{e=s(e),n.forEach(i=>i())};return{getState:()=>e,subscribe:s=>(n.add(s),()=>{r(()=>t),n.delete(s)}),removeToast:(s,i)=>{r(o=>({...o,[i]:o[i].filter(a=>a.id!=s)}))},notify:(s,i)=>{const o=qZ(s,i),{position:a,id:l}=o;return r(c=>{const d=a.includes("top")?[o,...c[a]??[]]:[...c[a]??[],o];return{...c,[a]:d}}),l},update:(s,i)=>{s&&r(o=>{const a={...o},{position:l,index:c}=Wk(a,s);return l&&c!==-1&&(a[l][c]={...a[l][c],...i,message:X4(i)}),a})},closeAll:({positions:s}={})=>{r(i=>(s??["bottom","bottom-right","bottom-left","top","top-left","top-right"]).reduce((l,c)=>(l[c]=i[c].map(u=>({...u,requestClose:!0})),l),{...i}))},close:s=>{r(i=>{const o=$4(i,s);return o?{...i,[o]:i[o].map(a=>a.id==s?{...a,requestClose:!0}:a)}:i})},isActive:s=>!!Wk(vi.getState(),s).position}}let qk=0;function qZ(t,e={}){qk+=1;const n=e.id??qk,r=e.position??"bottom";return{id:n,message:t,position:r,duration:e.duration,onCloseComplete:e.onCloseComplete,onRequestRemove:()=>vi.removeToast(String(n),r),status:e.status,requestClose:!1,containerStyle:e.containerStyle}}const[Q4,XZ]=Zt({strict:!1,name:"PortalContext"}),aT="chakra-portal",QZ=".chakra-portal",ZZ=t=>h.jsx("div",{className:"chakra-portal-zIndex",style:{position:"absolute",zIndex:t.zIndex,top:0,left:0,right:0},children:t.children}),JZ=t=>{const{appendToParentPortal:e,children:n}=t,[r,s]=S.useState(null),i=S.useRef(null),[,o]=S.useState({});S.useEffect(()=>o({}),[]);const a=XZ(),l=GK();ta(()=>{if(!r)return;const u=r.ownerDocument,d=e?a??u.body:u.body;if(!d)return;i.current=u.createElement("div"),i.current.className=aT,d.appendChild(i.current),o({});const f=i.current;return()=>{d.contains(f)&&d.removeChild(f)}},[r]);const c=l!=null&&l.zIndex?h.jsx(ZZ,{zIndex:l==null?void 0:l.zIndex,children:n}):n;return i.current?dh.createPortal(h.jsx(Q4,{value:i.current,children:c}),i.current):h.jsx("span",{ref:u=>{u&&s(u)}})},eJ=t=>{const{children:e,containerRef:n,appendToParentPortal:r}=t,s=n.current,i=s??(typeof window<"u"?document.body:void 0),o=S.useMemo(()=>{const l=s==null?void 0:s.ownerDocument.createElement("div");return l&&(l.className=aT),l},[s]),[,a]=S.useState({});return ta(()=>a({}),[]),ta(()=>{if(!(!o||!i))return i.appendChild(o),()=>{i.removeChild(o)}},[o,i]),i&&o?dh.createPortal(h.jsx(Q4,{value:r?o:null,children:e}),o):null};function Ru(t){const e={appendToParentPortal:!0,...t},{containerRef:n,...r}=e;return n?h.jsx(eJ,{containerRef:n,...r}):h.jsx(JZ,{...r})}Ru.className=aT;Ru.selector=QZ;Ru.displayName="Portal";const[tJ,nJ]=Zt({name:"ToastOptionsContext",strict:!1}),rJ=t=>{const e=S.useSyncExternalStore(vi.subscribe,vi.getState,vi.getState),{motionVariants:n,component:r=z4,portalProps:s,animatePresenceProps:i}=t,a=Object.keys(e).map(l=>{const c=e[l];return h.jsx("div",{role:"region","aria-live":"polite","aria-label":`Notifications-${l}`,id:`chakra-toast-manager-${l}`,style:hZ(l),children:h.jsx(va,{...i,initial:!1,children:c.map(u=>h.jsx(r,{motionVariants:n,...u},u.id))})},l)});return h.jsx(Ru,{...s,children:a})},sJ=t=>function({children:n,theme:r=t,toastOptions:s,...i}){return h.jsxs(YK,{theme:r,...i,children:[h.jsx(tJ,{value:s==null?void 0:s.defaultOptions,children:n}),h.jsx(rJ,{...s})]})},iJ=sJ(YD);function Xk(t){return t.sort((e,n)=>{const r=e.compareDocumentPosition(n);if(r&Node.DOCUMENT_POSITION_FOLLOWING||r&Node.DOCUMENT_POSITION_CONTAINED_BY)return-1;if(r&Node.DOCUMENT_POSITION_PRECEDING||r&Node.DOCUMENT_POSITION_CONTAINS)return 1;if(r&Node.DOCUMENT_POSITION_DISCONNECTED||r&Node.DOCUMENT_POSITION_IMPLEMENTATION_SPECIFIC)throw Error("Cannot sort the given nodes.");return 0})}const oJ=t=>typeof t=="object"&&"nodeType"in t&&t.nodeType===Node.ELEMENT_NODE;function Qk(t,e,n){let r=t+1;return n&&r>=e&&(r=0),r}function Zk(t,e,n){let r=t-1;return n&&r<0&&(r=e),r}const Vv=typeof window<"u"?S.useLayoutEffect:S.useEffect,Jk=t=>t;var aJ=Object.defineProperty,lJ=(t,e,n)=>e in t?aJ(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,en=(t,e,n)=>(lJ(t,typeof e!="symbol"?e+"":e,n),n);class cJ{constructor(){en(this,"descendants",new Map),en(this,"register",e=>{if(e!=null)return oJ(e)?this.registerNode(e):n=>{this.registerNode(n,e)}}),en(this,"unregister",e=>{this.descendants.delete(e);const n=Xk(Array.from(this.descendants.keys()));this.assignIndex(n)}),en(this,"destroy",()=>{this.descendants.clear()}),en(this,"assignIndex",e=>{this.descendants.forEach(n=>{const r=e.indexOf(n.node);n.index=r,n.node.dataset.index=n.index.toString()})}),en(this,"count",()=>this.descendants.size),en(this,"enabledCount",()=>this.enabledValues().length),en(this,"values",()=>Array.from(this.descendants.values()).sort((n,r)=>n.index-r.index)),en(this,"enabledValues",()=>this.values().filter(e=>!e.disabled)),en(this,"item",e=>{if(this.count()!==0)return this.values()[e]}),en(this,"enabledItem",e=>{if(this.enabledCount()!==0)return this.enabledValues()[e]}),en(this,"first",()=>this.item(0)),en(this,"firstEnabled",()=>this.enabledItem(0)),en(this,"last",()=>this.item(this.descendants.size-1)),en(this,"lastEnabled",()=>{const e=this.enabledValues().length-1;return this.enabledItem(e)}),en(this,"indexOf",e=>{var n;return e?((n=this.descendants.get(e))==null?void 0:n.index)??-1:-1}),en(this,"enabledIndexOf",e=>e==null?-1:this.enabledValues().findIndex(n=>n.node.isSameNode(e))),en(this,"next",(e,n=!0)=>{const r=Qk(e,this.count(),n);return this.item(r)}),en(this,"nextEnabled",(e,n=!0)=>{const r=this.item(e);if(!r)return;const s=this.enabledIndexOf(r.node),i=Qk(s,this.enabledCount(),n);return this.enabledItem(i)}),en(this,"prev",(e,n=!0)=>{const r=Zk(e,this.count()-1,n);return this.item(r)}),en(this,"prevEnabled",(e,n=!0)=>{const r=this.item(e);if(!r)return;const s=this.enabledIndexOf(r.node),i=Zk(s,this.enabledCount()-1,n);return this.enabledItem(i)}),en(this,"registerNode",(e,n)=>{if(!e||this.descendants.has(e))return;const r=Array.from(this.descendants.keys()).concat(e),s=Xk(r);n!=null&&n.disabled&&(n.disabled=!!n.disabled);const i={node:e,index:-1,...n};this.descendants.set(e,i),this.assignIndex(s)})}}function Z4(){const[t,e]=Zt({name:"DescendantsProvider",errorMessage:"useDescendantsContext must be used within DescendantsProvider"});return[t,e,()=>{const s=S.useRef(new cJ);return Vv(()=>()=>s.current.destroy()),s.current},s=>{const i=e(),[o,a]=S.useState(-1),l=S.useRef(null);Vv(()=>()=>{l.current&&i.unregister(l.current)},[]),Vv(()=>{if(!l.current)return;const u=Number(l.current.dataset.index);o!=u&&!Number.isNaN(u)&&a(u)});const c=Jk(s?i.register(s):i.register);return{descendants:i,index:o,enabledIndex:i.enabledIndexOf(l.current),register:Cn(c,l)}}]}const Xa={ease:[.25,.1,.25,1],easeIn:[.4,0,1,1],easeOut:[0,0,.2,1],easeInOut:[.4,0,.2,1]},rd={scale:{enter:{scale:1},exit:{scale:.95}},fade:{enter:{opacity:1},exit:{opacity:0}},pushLeft:{enter:{x:"100%"},exit:{x:"-30%"}},pushRight:{enter:{x:"-100%"},exit:{x:"30%"}},pushUp:{enter:{y:"100%"},exit:{y:"-30%"}},pushDown:{enter:{y:"-100%"},exit:{y:"30%"}},slideLeft:{position:{left:0,top:0,bottom:0,width:"100%"},enter:{x:0,y:0},exit:{x:"-100%",y:0}},slideRight:{position:{right:0,top:0,bottom:0,width:"100%"},enter:{x:0,y:0},exit:{x:"100%",y:0}},slideUp:{position:{top:0,left:0,right:0,maxWidth:"100vw"},enter:{x:0,y:0},exit:{x:0,y:"-100%"}},slideDown:{position:{bottom:0,left:0,right:0,maxWidth:"100vw"},enter:{x:0,y:0},exit:{x:0,y:"100%"}}};function u1(t){switch((t==null?void 0:t.direction)??"right"){case"right":return rd.slideRight;case"left":return rd.slideLeft;case"bottom":return rd.slideDown;case"top":return rd.slideUp;default:return rd.slideRight}}const ll={enter:{duration:.2,ease:Xa.easeOut},exit:{duration:.1,ease:Xa.easeIn}},Zs={enter:(t,e)=>({...t,delay:typeof e=="number"?e:e==null?void 0:e.enter}),exit:(t,e)=>({...t,delay:typeof e=="number"?e:e==null?void 0:e.exit})},uJ=t=>t!=null&&parseInt(t.toString(),10)>0,eA={exit:{height:{duration:.2,ease:Xa.ease},opacity:{duration:.3,ease:Xa.ease}},enter:{height:{duration:.3,ease:Xa.ease},opacity:{duration:.4,ease:Xa.ease}}},dJ={exit:({animateOpacity:t,startingHeight:e,transition:n,transitionEnd:r,delay:s})=>({...t&&{opacity:uJ(e)?1:0},height:e,transitionEnd:r==null?void 0:r.exit,transition:(n==null?void 0:n.exit)??Zs.exit(eA.exit,s)}),enter:({animateOpacity:t,endingHeight:e,transition:n,transitionEnd:r,delay:s})=>({...t&&{opacity:1},height:e,transitionEnd:r==null?void 0:r.enter,transition:(n==null?void 0:n.enter)??Zs.enter(eA.enter,s)})},ou=S.forwardRef((t,e)=>{const{in:n,unmountOnExit:r,animateOpacity:s=!0,startingHeight:i=0,endingHeight:o="auto",style:a,className:l,transition:c,transitionEnd:u,animatePresenceProps:d,...f}=t,[p,m]=S.useState(!1);S.useEffect(()=>{const b=setTimeout(()=>{m(!0)});return()=>clearTimeout(b)},[]),z$({condition:Number(i)>0&&!!r,message:"startingHeight and unmountOnExit are mutually exclusive. You can't use them together"});const g=parseFloat(i.toString())>0,y={startingHeight:i,endingHeight:o,animateOpacity:s,transition:p?c:{enter:{duration:0}},transitionEnd:{enter:u==null?void 0:u.enter,exit:r?u==null?void 0:u.exit:{...u==null?void 0:u.exit,display:g?"block":"none"}}},x=r?n:!0,v=n||r?"enter":"exit";return h.jsx(va,{...d,initial:!1,custom:y,children:x&&h.jsx(Di.div,{ref:e,...f,className:Ee("chakra-collapse",l),style:{overflow:"hidden",display:"block",...a},custom:y,variants:dJ,initial:r?"exit":!1,animate:v,exit:"exit"})})});ou.displayName="Collapse";const[fJ,hJ]=Zt({name:"AvatarStylesContext",hookName:"useAvatarStyles",providerName:"<Avatar/>"});function pJ(t){const e=t.trim().split(" "),n=e[0]??"",r=e.length>1?e[e.length-1]:"";return n&&r?`${n.charAt(0)}${r.charAt(0)}`:n.charAt(0)}function J4(t){const{name:e,getInitials:n,...r}=t,s=hJ();return h.jsx(ae.div,{role:"img","aria-label":e,...r,__css:s.label,children:e?n==null?void 0:n(e):null})}J4.displayName="AvatarName";const eO=t=>h.jsxs(ae.svg,{viewBox:"0 0 128 128",color:"#fff",width:"100%",height:"100%",className:"chakra-avatar__svg",...t,children:[h.jsx("path",{fill:"currentColor",d:"M103,102.1388 C93.094,111.92 79.3504,118 64.1638,118 C48.8056,118 34.9294,111.768 25,101.7892 L25,95.2 C25,86.8096 31.981,80 40.6,80 L87.4,80 C96.019,80 103,86.8096 103,95.2 L103,102.1388 Z"}),h.jsx("path",{fill:"currentColor",d:"M63.9961647,24 C51.2938136,24 41,34.2938136 41,46.9961647 C41,59.7061864 51.2938136,70 63.9961647,70 C76.6985159,70 87,59.7061864 87,46.9961647 C87,34.2938136 76.6985159,24 63.9961647,24"})]});function tO(t){const{loading:e,src:n,srcSet:r,onLoad:s,onError:i,crossOrigin:o,sizes:a,ignoreFallback:l}=t,[c,u]=S.useState("pending");S.useEffect(()=>{u(n?"loading":"pending")},[n]);const d=S.useRef(),f=S.useCallback(()=>{if(!n)return;p();const m=new Image;m.src=n,o&&(m.crossOrigin=o),r&&(m.srcset=r),a&&(m.sizes=a),e&&(m.loading=e),m.onload=g=>{p(),u("loaded"),s==null||s(g)},m.onerror=g=>{p(),u("failed"),i==null||i(g)},d.current=m},[n,o,r,a,s,i,e]),p=()=>{d.current&&(d.current.onload=null,d.current.onerror=null,d.current=null)};return ta(()=>{if(!l)return c==="loading"&&f(),()=>{p()}},[c,f,l]),l?"loaded":c}const mJ=(t,e)=>t!=="loaded"&&e==="beforeLoadOrError"||t==="failed"&&e==="onError";function nO(t){const{src:e,srcSet:n,onError:r,onLoad:s,getInitials:i,name:o,borderRadius:a,loading:l,iconLabel:c,icon:u=h.jsx(eO,{}),ignoreFallback:d,referrerPolicy:f,crossOrigin:p}=t,g=tO({src:e,onError:r,crossOrigin:p,ignoreFallback:d})==="loaded";return!e||!g?o?h.jsx(J4,{className:"chakra-avatar__initials",getInitials:i,name:o}):S.cloneElement(u,{role:"img","aria-label":c}):h.jsx(ae.img,{src:e,srcSet:n,alt:o??c,onLoad:s,referrerPolicy:f,crossOrigin:p??void 0,className:"chakra-avatar__img",loading:l,__css:{width:"100%",height:"100%",objectFit:"cover",borderRadius:a}})}nO.displayName="AvatarImage";const gJ={display:"inline-flex",alignItems:"center",justifyContent:"center",textAlign:"center",textTransform:"uppercase",fontWeight:"medium",position:"relative",flexShrink:0},d1=he((t,e)=>{const n=Is("Avatar",t),[r,s]=S.useState(!1),{src:i,srcSet:o,name:a,showBorder:l,borderRadius:c="full",onError:u,onLoad:d,getInitials:f=pJ,icon:p=h.jsx(eO,{}),iconLabel:m=" avatar",loading:g,children:y,borderColor:x,ignoreFallback:v,crossOrigin:b,referrerPolicy:w,...T}=Ht(t),C={borderRadius:c,borderWidth:l?"2px":void 0,...gJ,...n.container};return x&&(C.borderColor=x),h.jsx(ae.span,{ref:e,...T,className:Ee("chakra-avatar",t.className),"data-loaded":Be(r),__css:C,children:h.jsxs(fJ,{value:n,children:[h.jsx(nO,{src:i,srcSet:o,loading:g,onLoad:rt(d,()=>{s(!0)}),onError:u,getInitials:f,name:a,borderRadius:c,icon:p,iconLabel:m,ignoreFallback:v,crossOrigin:b,referrerPolicy:w}),y]})})});d1.displayName="Avatar";const Cs=he(function(e,n){const r=Nr("Badge",e),{className:s,...i}=Ht(e);return h.jsx(ae.span,{ref:n,className:Ee("chakra-badge",e.className),...i,__css:{display:"inline-block",whiteSpace:"nowrap",verticalAlign:"middle",...r}})});Cs.displayName="Badge";const oe=ae("div");oe.displayName="Box";const rO=he(function(e,n){const{size:r,centerContent:s=!0,...i}=e,o=s?{display:"flex",alignItems:"center",justifyContent:"center"}:{};return h.jsx(oe,{ref:n,boxSize:r,__css:{...o,flexShrink:0,flexGrow:0},...i})});rO.displayName="Square";const sO=he(function(e,n){const{size:r,...s}=e;return h.jsx(rO,{size:r,ref:n,borderRadius:"9999px",...s})});sO.displayName="Circle";const[Qge,yJ]=Zt({strict:!1,name:"ButtonGroupContext"});function Ed(t){const{children:e,className:n,...r}=t,s=S.isValidElement(e)?S.cloneElement(e,{"aria-hidden":!0,focusable:!1}):e,i=Ee("chakra-button__icon",n);return h.jsx(ae.span,{display:"inline-flex",alignSelf:"center",flexShrink:0,...r,className:i,children:s})}Ed.displayName="ButtonIcon";function f1(t){const{label:e,placement:n,spacing:r="0.5rem",children:s=h.jsx(kn,{color:"currentColor",width:"1em",height:"1em"}),className:i,__css:o,...a}=t,l=Ee("chakra-button__spinner",i),c=n==="start"?"marginEnd":"marginStart",u=S.useMemo(()=>({display:"flex",alignItems:"center",position:e?"relative":"absolute",[c]:e?r:0,fontSize:"1em",lineHeight:"normal",...o}),[o,e,c,r]);return h.jsx(ae.div,{className:l,...a,__css:u,children:s})}f1.displayName="ButtonSpinner";function vJ(t){const[e,n]=S.useState(!t);return{ref:S.useCallback(i=>{i&&n(i.tagName==="BUTTON")},[]),type:e?"button":void 0}}const ve=he((t,e)=>{const n=yJ(),r=Nr("Button",{...n,...t}),{isDisabled:s=n==null?void 0:n.isDisabled,isLoading:i,isActive:o,children:a,leftIcon:l,rightIcon:c,loadingText:u,iconSpacing:d="0.5rem",type:f,spinner:p,spinnerPlacement:m="start",className:g,as:y,shouldWrapChildren:x,...v}=Ht(t),b=S.useMemo(()=>{const E={...r==null?void 0:r._focus,zIndex:1};return{display:"inline-flex",appearance:"none",alignItems:"center",justifyContent:"center",userSelect:"none",position:"relative",whiteSpace:"nowrap",verticalAlign:"middle",outline:"none",...r,...!!n&&{_focus:E}}},[r,n]),{ref:w,type:T}=vJ(y),C={rightIcon:c,leftIcon:l,iconSpacing:d,children:a,shouldWrapChildren:x};return h.jsxs(ae.button,{disabled:s||i,ref:q$(e,w),as:y,type:f??T,"data-active":Be(o),"data-loading":Be(i),__css:b,className:Ee("chakra-button",g),...v,children:[i&&m==="start"&&h.jsx(f1,{className:"chakra-button__spinner--start",label:u,placement:"start",spacing:d,children:p}),i?u||h.jsx(ae.span,{opacity:0,children:h.jsx(tA,{...C})}):h.jsx(tA,{...C}),i&&m==="end"&&h.jsx(f1,{className:"chakra-button__spinner--end",label:u,placement:"end",spacing:d,children:p})]})});ve.displayName="Button";function tA(t){const{leftIcon:e,rightIcon:n,children:r,iconSpacing:s,shouldWrapChildren:i}=t;return i?h.jsxs("span",{style:{display:"contents"},children:[e&&h.jsx(Ed,{marginEnd:s,children:e}),r,n&&h.jsx(Ed,{marginStart:s,children:n})]}):h.jsxs(h.Fragment,{children:[e&&h.jsx(Ed,{marginEnd:s,children:e}),r,n&&h.jsx(Ed,{marginStart:s,children:n})]})}const Ue=he((t,e)=>{const{icon:n,children:r,isRound:s,"aria-label":i,...o}=t,a=n||r,l=S.isValidElement(a)?S.cloneElement(a,{"aria-hidden":!0,focusable:!1}):null;return h.jsx(ve,{px:"0",py:"0",borderRadius:s?"full":void 0,ref:e,"aria-label":i,...o,children:l})});Ue.displayName="IconButton";const[xJ,bJ]=VK("Card"),nA=he(function(e,n){const{className:r,children:s,direction:i="column",justify:o,align:a,...l}=Ht(e),c=Is("Card",e);return h.jsx(ae.div,{ref:n,className:Ee("chakra-card",r),__css:{display:"flex",flexDirection:i,justifyContent:o,alignItems:a,position:"relative",minWidth:0,wordWrap:"break-word",...c.container},...l,children:h.jsx(xJ,{value:c,children:s})})}),rA=he(function(e,n){const{className:r,...s}=e,i=bJ();return h.jsx(ae.div,{ref:n,className:Ee("chakra-card__body",r),__css:i.body,...s})}),Un=ae("div",{baseStyle:{display:"flex",alignItems:"center",justifyContent:"center"}});Un.displayName="Center";const SJ={horizontal:{insetStart:"50%",transform:"translateX(-50%)"},vertical:{top:"50%",transform:"translateY(-50%)"},both:{insetStart:"50%",top:"50%",transform:"translate(-50%, -50%)"}};he(function(e,n){const{axis:r="both",...s}=e;return h.jsx(ae.div,{ref:n,__css:SJ[r],...s,position:"absolute"})});var wJ=()=>typeof document<"u",sA=!1,Sh=null,Tl=!1,h1=!1,p1=new Set;function lT(t,e){p1.forEach(n=>n(t,e))}var TJ=typeof window<"u"&&window.navigator!=null?/^Mac/.test(window.navigator.platform):!1;function EJ(t){return!(t.metaKey||!TJ&&t.altKey||t.ctrlKey||t.key==="Control"||t.key==="Shift"||t.key==="Meta")}function iA(t){Tl=!0,EJ(t)&&(Sh="keyboard",lT("keyboard",t))}function Gl(t){if(Sh="pointer",t.type==="mousedown"||t.type==="pointerdown"){Tl=!0;const e=t.composedPath?t.composedPath()[0]:t.target;let n=!1;try{n=e.matches(":focus-visible")}catch{}if(n)return;lT("pointer",t)}}function CJ(t){return t.mozInputSource===0&&t.isTrusted?!0:t.detail===0&&!t.pointerType}function kJ(t){CJ(t)&&(Tl=!0,Sh="virtual")}function AJ(t){t.target===window||t.target===document||t.target instanceof Element&&t.target.hasAttribute("tabindex")||(!Tl&&!h1&&(Sh="virtual",lT("virtual",t)),Tl=!1,h1=!1)}function RJ(){Tl=!1,h1=!0}function oA(){return Sh!=="pointer"}function _J(){if(!wJ()||sA)return;const{focus:t}=HTMLElement.prototype;HTMLElement.prototype.focus=function(...n){Tl=!0,t.apply(this,n)},document.addEventListener("keydown",iA,!0),document.addEventListener("keyup",iA,!0),document.addEventListener("click",kJ,!0),window.addEventListener("focus",AJ,!0),window.addEventListener("blur",RJ,!1),typeof PointerEvent<"u"?(document.addEventListener("pointerdown",Gl,!0),document.addEventListener("pointermove",Gl,!0),document.addEventListener("pointerup",Gl,!0)):(document.addEventListener("mousedown",Gl,!0),document.addEventListener("mousemove",Gl,!0),document.addEventListener("mouseup",Gl,!0)),sA=!0}function LJ(t){_J(),t(oA());const e=()=>t(oA());return p1.add(e),()=>{p1.delete(e)}}const[PJ,iO]=Zt({name:"FormControlStylesContext",errorMessage:`useFormControlStyles returned is 'undefined'. Seems you forgot to wrap the components in "<FormControl />" `}),[IJ,Q0]=Zt({strict:!1,name:"FormControlContext"});function DJ(t){const{id:e,isRequired:n,isInvalid:r,isDisabled:s,isReadOnly:i,...o}=t,a=S.useId(),l=e||`field-${a}`,c=`${l}-label`,u=`${l}-feedback`,d=`${l}-helptext`,[f,p]=S.useState(!1),[m,g]=S.useState(!1),[y,x]=S.useState(!1),v=S.useCallback((E={},k=null)=>({id:d,...E,ref:Cn(k,A=>{A&&g(!0)})}),[d]),b=S.useCallback((E={},k=null)=>({...E,ref:k,"data-focus":Be(y),"data-disabled":Be(s),"data-invalid":Be(r),"data-readonly":Be(i),id:E.id!==void 0?E.id:c,htmlFor:E.htmlFor!==void 0?E.htmlFor:l}),[l,s,y,r,i,c]),w=S.useCallback((E={},k=null)=>({id:u,...E,ref:Cn(k,A=>{A&&p(!0)}),"aria-live":"polite"}),[u]),T=S.useCallback((E={},k=null)=>({...E,...o,ref:k,role:"group","data-focus":Be(y),"data-disabled":Be(s),"data-invalid":Be(r),"data-readonly":Be(i)}),[o,s,y,r,i]),C=S.useCallback((E={},k=null)=>({...E,ref:k,role:"presentation","aria-hidden":!0,children:E.children||"*"}),[]);return{isRequired:!!n,isInvalid:!!r,isReadOnly:!!i,isDisabled:!!s,isFocused:!!y,onFocus:()=>x(!0),onBlur:()=>x(!1),hasFeedbackText:f,setHasFeedbackText:p,hasHelpText:m,setHasHelpText:g,id:l,labelId:c,feedbackId:u,helpTextId:d,htmlProps:o,getHelpTextProps:v,getErrorMessageProps:w,getRootProps:T,getLabelProps:b,getRequiredIndicatorProps:C}}const ms=he(function(e,n){const r=Is("Form",e),s=Ht(e),{getRootProps:i,htmlProps:o,...a}=DJ(s),l=Ee("chakra-form-control",e.className);return h.jsx(IJ,{value:a,children:h.jsx(PJ,{value:r,children:h.jsx(ae.div,{...i({},n),className:l,__css:r.container})})})});ms.displayName="FormControl";const MJ=he(function(e,n){const r=Q0(),s=iO(),i=Ee("chakra-form__helper-text",e.className);return h.jsx(ae.div,{...r==null?void 0:r.getHelpTextProps(e,n),__css:s.helperText,className:i})});MJ.displayName="FormHelperText";function cT(t){const{isDisabled:e,isInvalid:n,isReadOnly:r,isRequired:s,...i}=oO(t);return{...i,disabled:e,readOnly:r,required:s,"aria-invalid":Dc(n),"aria-required":Dc(s),"aria-readonly":Dc(r)}}function oO(t){const e=Q0(),{id:n,disabled:r,readOnly:s,required:i,isRequired:o,isInvalid:a,isReadOnly:l,isDisabled:c,onFocus:u,onBlur:d,...f}=t,p=t["aria-describedby"]?[t["aria-describedby"]]:[];return e!=null&&e.hasFeedbackText&&(e!=null&&e.isInvalid)&&p.push(e.feedbackId),e!=null&&e.hasHelpText&&p.push(e.helpTextId),{...f,"aria-describedby":p.join(" ")||void 0,id:n??(e==null?void 0:e.id),isDisabled:r??c??(e==null?void 0:e.isDisabled),isReadOnly:s??l??(e==null?void 0:e.isReadOnly),isRequired:i??o??(e==null?void 0:e.isRequired),isInvalid:a??(e==null?void 0:e.isInvalid),onFocus:rt(e==null?void 0:e.onFocus,u),onBlur:rt(e==null?void 0:e.onBlur,d)}}const OJ={border:"0",clip:"rect(0, 0, 0, 0)",height:"1px",width:"1px",margin:"-1px",padding:"0",overflow:"hidden",whiteSpace:"nowrap",position:"absolute"};function FJ(t={}){const e=oO(t),{isDisabled:n,isReadOnly:r,isRequired:s,isInvalid:i,id:o,onBlur:a,onFocus:l,"aria-describedby":c}=e,{defaultChecked:u,isChecked:d,isFocusable:f,onChange:p,isIndeterminate:m,name:g,value:y,tabIndex:x=void 0,"aria-label":v,"aria-labelledby":b,"aria-invalid":w,...T}=t,C=ku(T,["isDisabled","isReadOnly","isRequired","isInvalid","id","onBlur","onFocus","aria-describedby"]),E=Rr(p),k=Rr(a),A=Rr(l),[R,L]=S.useState(!1),[D,M]=S.useState(!1),[B,V]=S.useState(!1),[O,I]=S.useState(!1);S.useEffect(()=>LJ(L),[]);const N=S.useRef(null),[j,K]=S.useState(!0),[te,ne]=S.useState(!!u),q=d!==void 0,ee=q?d:te,ce=S.useCallback(Ce=>{if(r||n){Ce.preventDefault();return}q||ne(ee?Ce.currentTarget.checked:m?!0:Ce.currentTarget.checked),E==null||E(Ce)},[r,n,ee,q,m,E]);ta(()=>{N.current&&(N.current.indeterminate=!!m)},[m]),bl(()=>{n&&M(!1)},[n,M]),ta(()=>{const Ce=N.current;if(!(Ce!=null&&Ce.form))return;const ot=()=>{ne(!!u)};return Ce.form.addEventListener("reset",ot),()=>{var wt;return(wt=Ce.form)==null?void 0:wt.removeEventListener("reset",ot)}},[]);const Y=n&&!f,ue=S.useCallback(Ce=>{Ce.key===" "&&I(!0)},[I]),Ae=S.useCallback(Ce=>{Ce.key===" "&&I(!1)},[I]);ta(()=>{if(!N.current)return;N.current.checked!==ee&&ne(N.current.checked)},[N.current]);const Ge=S.useCallback((Ce={},ot=null)=>{const wt=sn=>{D&&sn.preventDefault(),I(!0)};return{...Ce,ref:ot,"data-active":Be(O),"data-hover":Be(B),"data-checked":Be(ee),"data-focus":Be(D),"data-focus-visible":Be(D&&R),"data-indeterminate":Be(m),"data-disabled":Be(n),"data-invalid":Be(i),"data-readonly":Be(r),"aria-hidden":!0,onMouseDown:rt(Ce.onMouseDown,wt),onMouseUp:rt(Ce.onMouseUp,()=>I(!1)),onMouseEnter:rt(Ce.onMouseEnter,()=>V(!0)),onMouseLeave:rt(Ce.onMouseLeave,()=>V(!1))}},[O,ee,n,D,R,B,m,i,r]),it=S.useCallback((Ce={},ot=null)=>({...Ce,ref:ot,"data-active":Be(O),"data-hover":Be(B),"data-checked":Be(ee),"data-focus":Be(D),"data-focus-visible":Be(D&&R),"data-indeterminate":Be(m),"data-disabled":Be(n),"data-invalid":Be(i),"data-readonly":Be(r)}),[O,ee,n,D,R,B,m,i,r]),Fe=S.useCallback((Ce={},ot=null)=>({...C,...Ce,ref:Cn(ot,wt=>{wt&&K(wt.tagName==="LABEL")}),onClick:rt(Ce.onClick,()=>{var wt;j||((wt=N.current)==null||wt.click(),requestAnimationFrame(()=>{var sn;(sn=N.current)==null||sn.focus({preventScroll:!0})}))}),"data-disabled":Be(n),"data-checked":Be(ee),"data-invalid":Be(i)}),[C,n,ee,i,j]),je=S.useCallback((Ce={},ot=null)=>({...Ce,ref:Cn(N,ot),type:"checkbox",name:g,value:y,id:o,tabIndex:x,onChange:rt(Ce.onChange,ce),onBlur:rt(Ce.onBlur,k,()=>M(!1)),onFocus:rt(Ce.onFocus,A,()=>M(!0)),onKeyDown:rt(Ce.onKeyDown,ue),onKeyUp:rt(Ce.onKeyUp,Ae),required:s,checked:ee,disabled:Y,readOnly:r,"aria-label":v,"aria-labelledby":b,"aria-invalid":w?!!w:i,"aria-describedby":c,"aria-disabled":n,style:OJ}),[g,y,o,ce,k,A,ue,Ae,s,ee,Y,r,v,b,w,i,c,n,x]),Ke=S.useCallback((Ce={},ot=null)=>({...Ce,ref:ot,onMouseDown:rt(Ce.onMouseDown,NJ),"data-disabled":Be(n),"data-checked":Be(ee),"data-invalid":Be(i)}),[ee,n,i]);return{state:{isInvalid:i,isFocused:D,isChecked:ee,isActive:O,isHovered:B,isIndeterminate:m,isDisabled:n,isReadOnly:r,isRequired:s},getRootProps:Fe,getCheckboxProps:Ge,getIndicatorProps:it,getInputProps:je,getLabelProps:Ke,htmlProps:C}}function NJ(t){t.preventDefault(),t.stopPropagation()}const xo=he(function(e,n){const{className:r,centerContent:s,...i}=Ht(e),o=Nr("Container",e);return h.jsx(ae.div,{ref:n,className:Ee("chakra-container",r),...i,__css:{...o,...s&&{display:"flex",flexDirection:"column",alignItems:"center"}}})});xo.displayName="Container";const aO=he(function(e,n){const{borderLeftWidth:r,borderBottomWidth:s,borderTopWidth:i,borderRightWidth:o,borderWidth:a,borderStyle:l,borderColor:c,...u}=Nr("Divider",e),{className:d,orientation:f="horizontal",__css:p,...m}=Ht(e),g={vertical:{borderLeftWidth:r||o||a||"1px",height:"100%"},horizontal:{borderBottomWidth:s||i||a||"1px",width:"100%"}};return h.jsx(ae.hr,{ref:n,"aria-orientation":f,...m,__css:{...u,border:"0",borderColor:c,borderStyle:l,...g[f],...p},className:Ee("chakra-divider",d)})});aO.displayName="Divider";function Cd(t){return typeof t=="function"}function jJ(...t){return e=>t.reduce((n,r)=>r(n),e)}const BJ=t=>function(...n){let r=[...n],s=n[n.length-1];return IG(s)&&r.length>1?r=r.slice(0,r.length-1):s=t,jJ(...r.map(i=>o=>Cd(i)?i(o):zJ(o,i)))(s)},$J=BJ(YD);function zJ(...t){return vs({},...t,lO)}function lO(t,e,n,r){if((Cd(t)||Cd(e))&&Object.prototype.hasOwnProperty.call(r,n))return(...s)=>{const i=Cd(t)?t(...s):t,o=Cd(e)?e(...s):e;return vs({},i,o,lO)};if(om(t)&&om(e))return[...t,...e];if(om(t)&&er(e))return e}const fe=he(function(e,n){const{direction:r,align:s,justify:i,wrap:o,basis:a,grow:l,shrink:c,...u}=e,d={display:"flex",flexDirection:r,alignItems:s,justifyContent:i,flexWrap:o,flexBasis:a,flexGrow:l,flexShrink:c};return h.jsx(ae.div,{ref:n,__css:d,...u})});fe.displayName="Flex";function UJ(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.includes(r))continue;n[r]=t[r]}return n}var cO={exports:{}},VJ="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",WJ=VJ,HJ=WJ;function uO(){}function dO(){}dO.resetWarningCache=uO;var GJ=function(){function t(r,s,i,o,a,l){if(l!==HJ){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:dO,resetWarningCache:uO};return n.PropTypes=n,n};cO.exports=GJ();var KJ=cO.exports;const $c=ih(KJ);var m1="data-focus-lock",fO="data-focus-lock-disabled",YJ="data-no-focus-lock",qJ="data-autofocus-inside",XJ="data-no-autofocus";function Wv(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function QJ(t,e){var n=S.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var s=n.value;s!==r&&(n.value=r,n.callback(r,s))}}}})[0];return n.callback=e,n.facade}var ZJ=typeof window<"u"?S.useLayoutEffect:S.useEffect,aA=new WeakMap;function hO(t,e){var n=QJ(null,function(r){return t.forEach(function(s){return Wv(s,r)})});return ZJ(function(){var r=aA.get(n);if(r){var s=new Set(r),i=new Set(t),o=n.current;s.forEach(function(a){i.has(a)||Wv(a,null)}),i.forEach(function(a){s.has(a)||Wv(a,o)})}aA.set(n,t)},[t]),n}var Hv={width:"1px",height:"0px",padding:0,overflow:"hidden",position:"fixed",top:"1px",left:"1px"},xi=function(){return xi=Object.assign||function(e){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},xi.apply(this,arguments)};function pO(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function JJ(t,e,n){if(n||arguments.length===2)for(var r=0,s=e.length,i;r<s;r++)(i||!(r in e))&&(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return t.concat(i||Array.prototype.slice.call(e))}function mO(t){return t}function gO(t,e){e===void 0&&(e=mO);var n=[],r=!1,s={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(i){var o=e(i,r);return n.push(o),function(){n=n.filter(function(a){return a!==o})}},assignSyncMedium:function(i){for(r=!0;n.length;){var o=n;n=[],o.forEach(i)}n={push:function(a){return i(a)},filter:function(){return n}}},assignMedium:function(i){r=!0;var o=[];if(n.length){var a=n;n=[],a.forEach(i),o=n}var l=function(){var u=o;o=[],u.forEach(i)},c=function(){return Promise.resolve().then(l)};c(),n={push:function(u){o.push(u),c()},filter:function(u){return o=o.filter(u),n}}}};return s}function uT(t,e){return e===void 0&&(e=mO),gO(t,e)}function yO(t){t===void 0&&(t={});var e=gO(null);return e.options=xi({async:!0,ssr:!1},t),e}var vO=function(t){var e=t.sideCar,n=pO(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return S.createElement(r,xi({},n))};vO.isSideCarExport=!0;function eee(t,e){return t.useMedium(e),vO}var xO=uT({},function(t){var e=t.target,n=t.currentTarget;return{target:e,currentTarget:n}}),bO=uT(),tee=uT(),nee=yO({async:!0,ssr:typeof document<"u"}),ree=S.createContext(void 0),see=[],dT=S.forwardRef(function(e,n){var r,s=S.useState(),i=s[0],o=s[1],a=S.useRef(),l=S.useRef(!1),c=S.useRef(null),u=S.useState({}),d=u[1],f=e.children,p=e.disabled,m=p===void 0?!1:p,g=e.noFocusGuards,y=g===void 0?!1:g,x=e.persistentFocus,v=x===void 0?!1:x,b=e.crossFrame,w=b===void 0?!0:b,T=e.autoFocus,C=T===void 0?!0:T;e.allowTextSelection;var E=e.group,k=e.className,A=e.whiteList,R=e.hasPositiveIndices,L=e.shards,D=L===void 0?see:L,M=e.as,B=M===void 0?"div":M,V=e.lockProps,O=V===void 0?{}:V,I=e.sideCar,N=e.returnFocus,j=N===void 0?!1:N,K=e.focusOptions,te=e.onActivation,ne=e.onDeactivation,q=S.useState({}),ee=q[0],ce=S.useCallback(function(ot){var wt=ot.captureFocusRestore;if(!c.current){var sn,Wn=(sn=document)==null?void 0:sn.activeElement;c.current=Wn,Wn!==document.body&&(c.current=wt(Wn))}a.current&&te&&te(a.current),l.current=!0,d()},[te]),Y=S.useCallback(function(){l.current=!1,ne&&ne(a.current),d()},[ne]),ue=S.useCallback(function(ot){var wt=c.current;if(wt){var sn=(typeof wt=="function"?wt():wt)||document.body,Wn=typeof j=="function"?j(sn):j;if(Wn){var fn=typeof Wn=="object"?Wn:void 0;c.current=null,ot?Promise.resolve().then(function(){return sn.focus(fn)}):sn.focus(fn)}}},[j]),Ae=S.useCallback(function(ot){l.current&&xO.useMedium(ot)},[]),Ge=bO.useMedium,it=S.useCallback(function(ot){a.current!==ot&&(a.current=ot,o(ot))},[]),Fe=wl((r={},r[fO]=m&&"disabled",r[m1]=E,r),O),je=y!==!0,Ke=je&&y!=="tail",Nt=hO([n,it]),Ce=S.useMemo(function(){return{observed:a,shards:D,enabled:!m,active:l.current}},[m,l.current,D,i]);return S.createElement(S.Fragment,null,je&&[S.createElement("div",{key:"guard-first","data-focus-guard":!0,tabIndex:m?-1:0,style:Hv}),R?S.createElement("div",{key:"guard-nearest","data-focus-guard":!0,tabIndex:m?-1:1,style:Hv}):null],!m&&S.createElement(I,{id:ee,sideCar:nee,observed:i,disabled:m,persistentFocus:v,crossFrame:w,autoFocus:C,whiteList:A,shards:D,onActivation:ce,onDeactivation:Y,returnFocus:ue,focusOptions:K,noFocusGuards:y}),S.createElement(B,wl({ref:Nt},Fe,{className:k,onBlur:Ge,onFocus:Ae}),S.createElement(ree.Provider,{value:Ce},f)),Ke&&S.createElement("div",{"data-focus-guard":!0,tabIndex:m?-1:0,style:Hv}))});dT.propTypes={};function g1(t,e){return g1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},g1(t,e)}function iee(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,g1(t,e)}function Bf(t){"@babel/helpers - typeof";return Bf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bf(t)}function oee(t,e){if(Bf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Bf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function aee(t){var e=oee(t,"string");return Bf(e)=="symbol"?e:e+""}function lee(t,e,n){return(e=aee(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function cee(t,e){function n(r){return r.displayName||r.name||"Component"}return function(s){var i=[],o;function a(){o=t(i.map(function(c){return c.props})),e(o)}var l=function(c){iee(u,c);function u(){return c.apply(this,arguments)||this}u.peek=function(){return o};var d=u.prototype;return d.componentDidMount=function(){i.push(this),a()},d.componentDidUpdate=function(){a()},d.componentWillUnmount=function(){var p=i.indexOf(this);i.splice(p,1),a()},d.render=function(){return cr.createElement(s,this.props)},u}(S.PureComponent);return lee(l,"displayName","SideEffect("+n(s)+")"),l}}var Mi=function(t){for(var e=Array(t.length),n=0;n<t.length;++n)e[n]=t[n];return e},El=function(t){return Array.isArray(t)?t:[t]},SO=function(t){return Array.isArray(t)?t[0]:t},uee=function(t){if(t.nodeType!==Node.ELEMENT_NODE)return!1;var e=window.getComputedStyle(t,null);return!e||!e.getPropertyValue?!1:e.getPropertyValue("display")==="none"||e.getPropertyValue("visibility")==="hidden"},wO=function(t){return t.parentNode&&t.parentNode.nodeType===Node.DOCUMENT_FRAGMENT_NODE?t.parentNode.host:t.parentNode},TO=function(t){return t===document||t&&t.nodeType===Node.DOCUMENT_NODE},dee=function(t){return t.hasAttribute("inert")},fee=function(t,e){return!t||TO(t)||!uee(t)&&!dee(t)&&e(wO(t))},EO=function(t,e){var n=t.get(e);if(n!==void 0)return n;var r=fee(e,EO.bind(void 0,t));return t.set(e,r),r},hee=function(t,e){return t&&!TO(t)?gee(t)?e(wO(t)):!1:!0},CO=function(t,e){var n=t.get(e);if(n!==void 0)return n;var r=hee(e,CO.bind(void 0,t));return t.set(e,r),r},kO=function(t){return t.dataset},pee=function(t){return t.tagName==="BUTTON"},AO=function(t){return t.tagName==="INPUT"},RO=function(t){return AO(t)&&t.type==="radio"},mee=function(t){return!((AO(t)||pee(t))&&(t.type==="hidden"||t.disabled))},gee=function(t){var e=t.getAttribute(XJ);return![!0,"true",""].includes(e)},fT=function(t){var e;return!!(t&&(!((e=kO(t))===null||e===void 0)&&e.focusGuard))},y1=function(t){return!fT(t)},yee=function(t){return!!t},vee=function(t,e){var n=Math.max(0,t.tabIndex),r=Math.max(0,e.tabIndex),s=n-r,i=t.index-e.index;if(s){if(!n)return 1;if(!r)return-1}return s||i},xee=function(t){return t.tabIndex<0&&!t.hasAttribute("tabindex")?0:t.tabIndex},hT=function(t,e,n){return Mi(t).map(function(r,s){var i=xee(r);return{node:r,index:s,tabIndex:n&&i===-1?(r.dataset||{}).focusGuard?0:-1:i}}).filter(function(r){return!e||r.tabIndex>=0}).sort(vee)},bee=["button:enabled","select:enabled","textarea:enabled","input:enabled","a[href]","area[href]","summary","iframe","object","embed","audio[controls]","video[controls]","[tabindex]","[contenteditable]","[autofocus]"],pT=bee.join(","),See="".concat(pT,", [data-focus-guard]"),_O=function(t,e){return Mi((t.shadowRoot||t).children).reduce(function(n,r){return n.concat(r.matches(e?See:pT)?[r]:[],_O(r))},[])},wee=function(t,e){var n;return t instanceof HTMLIFrameElement&&(!((n=t.contentDocument)===null||n===void 0)&&n.body)?au([t.contentDocument.body],e):[t]},au=function(t,e){return t.reduce(function(n,r){var s,i=_O(r,e),o=(s=[]).concat.apply(s,i.map(function(a){return wee(a,e)}));return n.concat(o,r.parentNode?Mi(r.parentNode.querySelectorAll(pT)).filter(function(a){return a===r}):[])},[])},Tee=function(t){var e=t.querySelectorAll("[".concat(qJ,"]"));return Mi(e).map(function(n){return au([n])}).reduce(function(n,r){return n.concat(r)},[])},mT=function(t,e){return Mi(t).filter(function(n){return EO(e,n)}).filter(function(n){return mee(n)})},lA=function(t,e){return e===void 0&&(e=new Map),Mi(t).filter(function(n){return CO(e,n)})},gT=function(t,e,n){return hT(mT(au(t,n),e),!0,n)},$f=function(t,e){return hT(mT(au(t),e),!1)},Eee=function(t,e){return mT(Tee(t),e)},cl=function(t,e){return t.shadowRoot?cl(t.shadowRoot,e):Object.getPrototypeOf(t).contains!==void 0&&Object.getPrototypeOf(t).contains.call(t,e)?!0:Mi(t.children).some(function(n){var r;if(n instanceof HTMLIFrameElement){var s=(r=n.contentDocument)===null||r===void 0?void 0:r.body;return s?cl(s,e):!1}return cl(n,e)})},Cee=function(t){for(var e=new Set,n=t.length,r=0;r<n;r+=1)for(var s=r+1;s<n;s+=1){var i=t[r].compareDocumentPosition(t[s]);(i&Node.DOCUMENT_POSITION_CONTAINED_BY)>0&&e.add(s),(i&Node.DOCUMENT_POSITION_CONTAINS)>0&&e.add(r)}return t.filter(function(o,a){return!e.has(a)})},LO=function(t){return t.parentNode?LO(t.parentNode):t},yT=function(t){var e=El(t);return e.filter(Boolean).reduce(function(n,r){var s=r.getAttribute(m1);return n.push.apply(n,s?Cee(Mi(LO(r).querySelectorAll("[".concat(m1,'="').concat(s,'"]:not([').concat(fO,'="disabled"])')))):[r]),n},[])},kee=function(t){try{return t()}catch{return}},zf=function(t){if(t===void 0&&(t=document),!(!t||!t.activeElement)){var e=t.activeElement;return e.shadowRoot?zf(e.shadowRoot):e instanceof HTMLIFrameElement&&kee(function(){return e.contentWindow.document})?zf(e.contentWindow.document):e}},Aee=function(t,e){return t===e},Ree=function(t,e){return!!Mi(t.querySelectorAll("iframe")).some(function(n){return Aee(n,e)})},PO=function(t,e){return e===void 0&&(e=zf(SO(t).ownerDocument)),!e||e.dataset&&e.dataset.focusGuard?!1:yT(t).some(function(n){return cl(n,e)||Ree(n,e)})},_ee=function(t){t===void 0&&(t=document);var e=zf(t);return e?Mi(t.querySelectorAll("[".concat(YJ,"]"))).some(function(n){return cl(n,e)}):!1},Lee=function(t,e){return e.filter(RO).filter(function(n){return n.name===t.name}).filter(function(n){return n.checked})[0]||t},vT=function(t,e){return RO(t)&&t.name?Lee(t,e):t},Pee=function(t){var e=new Set;return t.forEach(function(n){return e.add(vT(n,t))}),t.filter(function(n){return e.has(n)})},cA=function(t){return t[0]&&t.length>1?vT(t[0],t):t[0]},uA=function(t,e){return t.indexOf(vT(e,t))},v1="NEW_FOCUS",Iee=function(t,e,n,r,s){var i=t.length,o=t[0],a=t[i-1],l=fT(r);if(!(r&&t.indexOf(r)>=0)){var c=r!==void 0?n.indexOf(r):-1,u=s?n.indexOf(s):c,d=s?t.indexOf(s):-1;if(c===-1)return d!==-1?d:v1;if(d===-1)return v1;var f=c-u,p=n.indexOf(o),m=n.indexOf(a),g=Pee(n),y=r!==void 0?g.indexOf(r):-1,x=y-(s?g.indexOf(s):c);if(!f&&d>=0||e.length===0)return d;var v=uA(t,e[0]),b=uA(t,e[e.length-1]);if(c<=p&&l&&Math.abs(f)>1)return b;if(c>=m&&l&&Math.abs(f)>1)return v;if(f&&Math.abs(x)>1)return d;if(c<=p)return b;if(c>m)return v;if(f)return Math.abs(f)>1?d:(i+d+f)%i}},Dee=function(t){return function(e){var n,r=(n=kO(e))===null||n===void 0?void 0:n.autofocus;return e.autofocus||r!==void 0&&r!=="false"||t.indexOf(e)>=0}},dA=function(t,e,n){var r=t.map(function(i){var o=i.node;return o}),s=lA(r.filter(Dee(n)));return s&&s.length?cA(s):cA(lA(e))},x1=function(t,e){return e===void 0&&(e=[]),e.push(t),t.parentNode&&x1(t.parentNode.host||t.parentNode,e),e},Gv=function(t,e){for(var n=x1(t),r=x1(e),s=0;s<n.length;s+=1){var i=n[s];if(r.indexOf(i)>=0)return i}return!1},IO=function(t,e,n){var r=El(t),s=El(e),i=r[0],o=!1;return s.filter(Boolean).forEach(function(a){o=Gv(o||a,a)||o,n.filter(Boolean).forEach(function(l){var c=Gv(i,l);c&&(!o||cl(c,o)?o=c:o=Gv(c,o))})}),o},fA=function(t,e){return t.reduce(function(n,r){return n.concat(Eee(r,e))},[])},Mee=function(t,e){var n=new Map;return e.forEach(function(r){return n.set(r.node,r)}),t.map(function(r){return n.get(r)}).filter(yee)},Oee=function(t,e){var n=zf(El(t).length>0?document:SO(t).ownerDocument),r=yT(t).filter(y1),s=IO(n||t,t,r),i=new Map,o=$f(r,i),a=o.filter(function(m){var g=m.node;return y1(g)});if(a[0]){var l=$f([s],i).map(function(m){var g=m.node;return g}),c=Mee(l,a),u=c.map(function(m){var g=m.node;return g}),d=c.filter(function(m){var g=m.tabIndex;return g>=0}).map(function(m){var g=m.node;return g}),f=Iee(u,d,l,n,e);if(f===v1){var p=dA(o,d,fA(r,i))||dA(o,u,fA(r,i));if(p)return{node:p};console.warn("focus-lock: cannot find any node to move focus into");return}return f===void 0?f:c[f]}},Fee=function(t){var e=yT(t).filter(y1),n=IO(t,t,e),r=hT(au([n],!0),!0,!0),s=au(e,!1);return r.map(function(i){var o=i.node,a=i.index;return{node:o,index:a,lockItem:s.indexOf(o)>=0,guard:fT(o)}})},xT=function(t,e){t&&("focus"in t&&t.focus(e),"contentWindow"in t&&t.contentWindow&&t.contentWindow.focus())},Kv=0,Yv=!1,DO=function(t,e,n){n===void 0&&(n={});var r=Oee(t,e);if(!Yv&&r){if(Kv>2){console.error("FocusLock: focus-fighting detected. Only one focus management system could be active. See https://github.com/theKashey/focus-lock/#focus-fighting"),Yv=!0,setTimeout(function(){Yv=!1},1);return}Kv++,xT(r.node,n.focusOptions),Kv--}};function sd(t){if(!t)return null;if(typeof WeakRef>"u")return function(){return t||null};var e=t?new WeakRef(t):null;return function(){return(e==null?void 0:e.deref())||null}}var Nee=function(t){if(!t)return null;for(var e=[],n=t;n&&n!==document.body;)e.push({current:sd(n),parent:sd(n.parentElement),left:sd(n.previousElementSibling),right:sd(n.nextElementSibling)}),n=n.parentElement;return{element:sd(t),stack:e,ownerDocument:t.ownerDocument}},jee=function(t){var e,n,r,s,i;if(t)for(var o=t.stack,a=t.ownerDocument,l=new Map,c=0,u=o;c<u.length;c++){var d=u[c],f=(e=d.parent)===null||e===void 0?void 0:e.call(d);if(f&&a.contains(f)){for(var p=(n=d.left)===null||n===void 0?void 0:n.call(d),m=d.current(),g=f.contains(m)?m:void 0,y=(r=d.right)===null||r===void 0?void 0:r.call(d),x=gT([f],l),v=(i=(s=g??(p==null?void 0:p.nextElementSibling))!==null&&s!==void 0?s:y)!==null&&i!==void 0?i:p;v;){for(var b=0,w=x;b<w.length;b++){var T=w[b];if(v!=null&&v.contains(T.node))return T.node}v=v.nextElementSibling}if(x.length)return x[0].node}}},MO=function(t){var e=Nee(t);return function(){return jee(e)}},Bee=function(t,e,n){if(!t||!e)return console.error("no element or scope given"),{};var r=El(e);if(r.every(function(o){return!cl(o,t)}))return console.error("Active element is not contained in the scope"),{};var s=n?gT(r,new Map):$f(r,new Map),i=s.findIndex(function(o){var a=o.node;return a===t});if(i!==-1)return{prev:s[i-1],next:s[i+1],first:s[0],last:s[s.length-1]}},$ee=function(t,e){var n=e?gT(El(t),new Map):$f(El(t),new Map);return{first:n[0],last:n[n.length-1]}},zee=function(t){return Object.assign({scope:document.body,cycle:!0,onlyTabbable:!0},t)},OO=function(t,e,n){e===void 0&&(e={});var r=zee(e),s=Bee(t,r.scope,r.onlyTabbable);if(s){var i=n(s,r.cycle);i&&xT(i.node,r.focusOptions)}},Uee=function(t,e){e===void 0&&(e={}),OO(t,e,function(n,r){var s=n.next,i=n.first;return s||r&&i})},Vee=function(t,e){e===void 0&&(e={}),OO(t,e,function(n,r){var s=n.prev,i=n.last;return s||r&&i})},FO=function(t,e,n){var r,s=$ee(t,(r=e.onlyTabbable)!==null&&r!==void 0?r:!0),i=s[n];i&&xT(i.node,e.focusOptions)},Wee=function(t,e){e===void 0&&(e={}),FO(t,e,"first")},Hee=function(t,e){e===void 0&&(e={}),FO(t,e,"last")};function bT(t){setTimeout(t,1)}var Gee=function(e){return e&&"current"in e?e.current:e},NO=function(){return document&&document.activeElement===document.body},Kee=function(){return NO()||_ee()},zc=null,zr=null,hA=function(){return null},Uc=null,Uf=!1,ST=!1,Yee=function(){return!0},qee=function(e){return(zc.whiteList||Yee)(e)},Xee=function(e,n){Uc={observerNode:e,portaledElement:n}},Qee=function(e){return Uc&&Uc.portaledElement===e};function pA(t,e,n,r){var s=null,i=t;do{var o=r[i];if(o.guard)o.node.dataset.focusAutoGuard&&(s=o);else if(o.lockItem){if(i!==t)return;s=null}else break}while((i+=n)!==e);s&&(s.node.tabIndex=0)}var Zee=function(e){return e?!!Uf:Uf==="meanwhile"},Jee=function t(e,n,r){return n&&(n.host===e&&(!n.activeElement||r.contains(n.activeElement))||n.parentNode&&t(e,n.parentNode,r))},ete=function(e,n){return n.some(function(r){return Jee(e,r,r)})},jO=function(e){return $f(e,new Map)},tte=function(e){return!jO([e.parentNode]).some(function(n){return n.node===e})},_g=function(){var e=!1;if(zc){var n=zc,r=n.observed,s=n.persistentFocus,i=n.autoFocus,o=n.shards,a=n.crossFrame,l=n.focusOptions,c=n.noFocusGuards,u=r||Uc&&Uc.portaledElement;if(NO()&&zr&&(!document.body.contains(zr)||tte(zr))){zr=null;var d=hA();d&&d.focus()}var f=document&&document.activeElement;if(u){var p=[u].concat(o.map(Gee).filter(Boolean)),m=function(){if(!Zee(a)||!c||!zr||ST)return!1;var b=jO(p),w=b.findIndex(function(T){var C=T.node;return C===zr});return w===0||w===b.length-1};if((!f||qee(f))&&(s||m()||!Kee()||!zr&&i)&&(u&&!(PO(p)||f&&ete(f,p)||Qee(f))&&(document&&!zr&&f&&!i?(f.blur&&f.blur(),document.body.focus()):(e=DO(p,zr,{focusOptions:l}),Uc={})),Uf=!1,zr=document&&document.activeElement,hA=MO(zr)),document&&f!==document.activeElement&&document.querySelector("[data-focus-auto-guard]")){var g=document&&document.activeElement,y=Fee(p),x=y.map(function(v){var b=v.node;return b}).indexOf(g);x>-1&&(y.filter(function(v){var b=v.guard,w=v.node;return b&&w.dataset.focusAutoGuard}).forEach(function(v){var b=v.node;return b.removeAttribute("tabIndex")}),pA(x,y.length,1,y),pA(x,-1,-1,y))}}}return e},BO=function(e){_g()&&e&&(e.stopPropagation(),e.preventDefault())},wT=function(){return bT(_g)},nte=function(e){var n=e.target,r=e.currentTarget;r.contains(n)||Xee(r,n)},rte=function(){return null},$O=function(){ST=!0},zO=function(){ST=!1,Uf="just",bT(function(){Uf="meanwhile"})},ste=function(){document.addEventListener("focusin",BO),document.addEventListener("focusout",wT),window.addEventListener("focus",$O),window.addEventListener("blur",zO)},ite=function(){document.removeEventListener("focusin",BO),document.removeEventListener("focusout",wT),window.removeEventListener("focus",$O),window.removeEventListener("blur",zO)};function ote(t){return t.filter(function(e){var n=e.disabled;return!n})}var UO={moveFocusInside:DO,focusInside:PO,focusNextElement:Uee,focusPrevElement:Vee,focusFirstElement:Wee,focusLastElement:Hee,captureFocusRestore:MO};function ate(t){var e=t.slice(-1)[0];e&&!zc&&ste();var n=zc,r=n&&e&&e.id===n.id;zc=e,n&&!r&&(n.onDeactivation(),t.filter(function(s){var i=s.id;return i===n.id}).length||n.returnFocus(!e)),e?(zr=null,(!r||n.observed!==e.observed)&&e.onActivation(UO),_g(),bT(_g)):(ite(),zr=null)}xO.assignSyncMedium(nte);bO.assignMedium(wT);tee.assignMedium(function(t){return t(UO)});const lte=cee(ote,ate)(rte);var b1=S.forwardRef(function(e,n){return S.createElement(dT,wl({sideCar:lte,ref:n},e))}),VO=dT.propTypes||{};VO.sideCar;UJ(VO,["sideCar"]);b1.propTypes={};const cte=b1.default??b1,WO=t=>{const{initialFocusRef:e,finalFocusRef:n,contentRef:r,restoreFocus:s,children:i,isDisabled:o,autoFocus:a,persistentFocus:l,lockFocusAcrossFrames:c}=t,u=S.useCallback(()=>{e!=null&&e.current?e.current.focus():r!=null&&r.current&&A$(r.current).length===0&&requestAnimationFrame(()=>{var m;(m=r.current)==null||m.focus()})},[e,r]),d=S.useCallback(()=>{var p;(p=n==null?void 0:n.current)==null||p.focus()},[n]),f=s&&!n;return h.jsx(cte,{crossFrame:c,persistentFocus:l,autoFocus:a,disabled:o,onActivation:u,onDeactivation:d,returnFocus:f,children:i})};WO.displayName="FocusLock";const gs=he(function(e,n){const r=Nr("FormLabel",e),s=Ht(e),{className:i,children:o,requiredIndicator:a=h.jsx(HO,{}),optionalIndicator:l=null,...c}=s,u=Q0(),d=(u==null?void 0:u.getLabelProps(c,n))??{ref:n,...c};return h.jsxs(ae.label,{...d,className:Ee("chakra-form__label",s.className),__css:{display:"block",textAlign:"start",...r},children:[o,u!=null&&u.isRequired?a:l]})});gs.displayName="FormLabel";const HO=he(function(e,n){const r=Q0(),s=iO();if(!(r!=null&&r.isRequired))return null;const i=Ee("chakra-form__required-indicator",e.className);return h.jsx(ae.span,{...r==null?void 0:r.getRequiredIndicatorProps(e,n),__css:s.requiredIndicator,className:i})});HO.displayName="RequiredIndicator";const wh=he(function(e,n){const{templateAreas:r,gap:s,rowGap:i,columnGap:o,column:a,row:l,autoFlow:c,autoRows:u,templateRows:d,autoColumns:f,templateColumns:p,...m}=e,g={display:"grid",gridTemplateAreas:r,gridGap:s,gridRowGap:i,gridColumnGap:o,gridAutoColumns:f,gridColumn:a,gridRow:l,gridAutoFlow:c,gridAutoRows:u,gridTemplateRows:d,gridTemplateColumns:p};return h.jsx(ae.div,{ref:n,__css:g,...m})});wh.displayName="Grid";const Vf=he(function(e,n){const{columns:r,spacingX:s,spacingY:i,spacing:o,minChildWidth:a,...l}=e,c=vo(),u=a?dte(a,c):fte(r);return h.jsx(wh,{ref:n,gap:o,columnGap:s,rowGap:i,templateColumns:u,...l})});Vf.displayName="SimpleGrid";function ute(t){return typeof t=="number"?`${t}px`:t}function dte(t,e){return xw(t,n=>{const r=V4("sizes",n,ute(n))(e);return n===null?null:`repeat(auto-fit, minmax(${r}, 1fr))`})}function fte(t){return xw(t,e=>e===null?null:`repeat(${e}, minmax(0, 1fr))`)}function Fn(t){const{viewBox:e="0 0 24 24",d:n,displayName:r,defaultProps:s={}}=t,i=S.Children.toArray(t.path),o=he((a,l)=>h.jsx(Zn,{ref:l,viewBox:e,...s,...a,children:i.length?i:h.jsx("path",{fill:"currentColor",d:n})}));return o.displayName=r,o}const S1=he(function(e,n){const{htmlWidth:r,htmlHeight:s,alt:i,...o}=e;return h.jsx("img",{width:r,height:s,ref:n,alt:i,...o})});S1.displayName="NativeImage";const ks=he(function(e,n){const{fallbackSrc:r,fallback:s,src:i,srcSet:o,align:a,fit:l,loading:c,ignoreFallback:u,crossOrigin:d,fallbackStrategy:f="beforeLoadOrError",referrerPolicy:p,...m}=e,g=r!==void 0||s!==void 0,y=c!=null||u||!g,x=tO({...e,crossOrigin:d,ignoreFallback:y}),v=mJ(x,f),b={ref:n,objectFit:l,objectPosition:a,...y?m:ku(m,["onError","onLoad"])};return v?s||h.jsx(ae.img,{as:S1,className:"chakra-image__placeholder",src:r,...b}):h.jsx(ae.img,{as:S1,src:i,srcSet:o,crossOrigin:d,loading:c,referrerPolicy:p,className:"chakra-image",...b})});ks.displayName="Image";const Ct=he(function(e,n){const{htmlSize:r,...s}=e,i=Is("Input",s),o=Ht(s),a=cT(o),l=Ee("chakra-input",e.className);return h.jsx(ae.input,{size:r,...a,__css:i.field,ref:n,className:l})});Ct.displayName="Input";Ct.id="Input";const Mt=he(function(e,n){const r=Nr("Link",e),{className:s,isExternal:i,...o}=Ht(e);return h.jsx(ae.a,{target:i?"_blank":void 0,rel:i?"noopener":void 0,ref:n,className:Ee("chakra-link",s),...o,__css:r})});Mt.displayName="Link";function hte(t,e={}){const{ssr:n=!0,fallback:r}=e,{getWindow:s}=KK(),i=Array.isArray(t)?t:[t];let o=Array.isArray(r)?r:[r];o=o.filter(c=>c!=null);const[a,l]=S.useState(()=>i.map((c,u)=>({media:c,matches:n?!!o[u]:s().matchMedia(c).matches})));return S.useEffect(()=>{const c=s();l(i.map(f=>({media:f,matches:c.matchMedia(f).matches})));const u=i.map(f=>c.matchMedia(f)),d=f=>{l(p=>p.slice().map(m=>m.media===f.media?{...m,matches:f.matches}:m))};return u.forEach(f=>{typeof f.addListener=="function"?f.addListener(d):f.addEventListener("change",d)}),()=>{u.forEach(f=>{typeof f.removeListener=="function"?f.removeListener(d):f.removeEventListener("change",d)})}},[s]),a.map(c=>c.matches)}function pte(t){var a;const e=er(t)?t:{fallback:t??"base"},r=vo().__breakpoints.details.map(({minMaxQuery:l,breakpoint:c})=>({breakpoint:c,query:l.replace("@media screen and ","")})),s=r.map(l=>l.breakpoint===e.fallback),o=hte(r.map(l=>l.query),{fallback:s,ssr:e.ssr}).findIndex(l=>l==!0);return((a=r[o])==null?void 0:a.breakpoint)??e.fallback}function mte(t,e,n=SD){let r=Object.keys(t).indexOf(e);if(r!==-1)return t[e];let s=n.indexOf(e);for(;s>=0;){const i=n[s];if(t.hasOwnProperty(i)){r=s;break}s-=1}if(r!==-1){const i=n[r];return t[i]}}function rn(t,e){var a;const n=er(e)?e:{fallback:"base"},r=pte(n),s=vo();if(!r)return;const i=Array.from(((a=s.__breakpoints)==null?void 0:a.keys)||[]),o=Array.isArray(t)?Object.fromEntries(Object.entries(O$(t,i)).map(([l,c])=>[l,c])):t;return mte(o,r,i)}function gte(t,e,n,r){if(e==null)return r;if(!r)return t.find(o=>n(o).toLowerCase().startsWith(e.toLowerCase()));const s=t.filter(i=>n(i).toLowerCase().startsWith(e.toLowerCase()));if(s.length>0){let i;return s.includes(r)?(i=s.indexOf(r)+1,i===s.length&&(i=0),s[i]):(i=t.indexOf(s[0]),t[i])}return r}function yte(t){const{key:e}=t;return e.length===1||e.length>1&&/[^a-zA-Z0-9]/.test(e)}function vte(t={}){const{timeout:e=300,preventDefault:n=()=>!0}=t,[r,s]=S.useState([]),i=S.useRef(),o=()=>{i.current&&(clearTimeout(i.current),i.current=null)},a=()=>{o(),i.current=setTimeout(()=>{s([]),i.current=null},e)};S.useEffect(()=>o,[]);function l(c){return u=>{if(u.key==="Backspace"){const d=[...r];d.pop(),s(d);return}if(yte(u)){const d=r.concat(u.key);n(u)&&(u.preventDefault(),u.stopPropagation()),s(d),c(d.join("")),a()}}}return l}var _r="top",As="bottom",Rs="right",Lr="left",TT="auto",Th=[_r,As,Rs,Lr],lu="start",Wf="end",xte="clippingParents",GO="viewport",id="popper",bte="reference",mA=Th.reduce(function(t,e){return t.concat([e+"-"+lu,e+"-"+Wf])},[]),KO=[].concat(Th,[TT]).reduce(function(t,e){return t.concat([e,e+"-"+lu,e+"-"+Wf])},[]),Ste="beforeRead",wte="read",Tte="afterRead",Ete="beforeMain",Cte="main",kte="afterMain",Ate="beforeWrite",Rte="write",_te="afterWrite",Lte=[Ste,wte,Tte,Ete,Cte,kte,Ate,Rte,_te];function Li(t){return t?(t.nodeName||"").toLowerCase():null}function Jr(t){if(t==null)return window;if(t.toString()!=="[object Window]"){var e=t.ownerDocument;return e&&e.defaultView||window}return t}function Cl(t){var e=Jr(t).Element;return t instanceof e||t instanceof Element}function ws(t){var e=Jr(t).HTMLElement;return t instanceof e||t instanceof HTMLElement}function ET(t){if(typeof ShadowRoot>"u")return!1;var e=Jr(t).ShadowRoot;return t instanceof e||t instanceof ShadowRoot}function Pte(t){var e=t.state;Object.keys(e.elements).forEach(function(n){var r=e.styles[n]||{},s=e.attributes[n]||{},i=e.elements[n];!ws(i)||!Li(i)||(Object.assign(i.style,r),Object.keys(s).forEach(function(o){var a=s[o];a===!1?i.removeAttribute(o):i.setAttribute(o,a===!0?"":a)}))})}function Ite(t){var e=t.state,n={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,n.popper),e.styles=n,e.elements.arrow&&Object.assign(e.elements.arrow.style,n.arrow),function(){Object.keys(e.elements).forEach(function(r){var s=e.elements[r],i=e.attributes[r]||{},o=Object.keys(e.styles.hasOwnProperty(r)?e.styles[r]:n[r]),a=o.reduce(function(l,c){return l[c]="",l},{});!ws(s)||!Li(s)||(Object.assign(s.style,a),Object.keys(i).forEach(function(l){s.removeAttribute(l)}))})}}const Dte={name:"applyStyles",enabled:!0,phase:"write",fn:Pte,effect:Ite,requires:["computeStyles"]};function Ai(t){return t.split("-")[0]}var ul=Math.max,Lg=Math.min,cu=Math.round;function w1(){var t=navigator.userAgentData;return t!=null&&t.brands&&Array.isArray(t.brands)?t.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function YO(){return!/^((?!chrome|android).)*safari/i.test(w1())}function uu(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!1);var r=t.getBoundingClientRect(),s=1,i=1;e&&ws(t)&&(s=t.offsetWidth>0&&cu(r.width)/t.offsetWidth||1,i=t.offsetHeight>0&&cu(r.height)/t.offsetHeight||1);var o=Cl(t)?Jr(t):window,a=o.visualViewport,l=!YO()&&n,c=(r.left+(l&&a?a.offsetLeft:0))/s,u=(r.top+(l&&a?a.offsetTop:0))/i,d=r.width/s,f=r.height/i;return{width:d,height:f,top:u,right:c+d,bottom:u+f,left:c,x:c,y:u}}function CT(t){var e=uu(t),n=t.offsetWidth,r=t.offsetHeight;return Math.abs(e.width-n)<=1&&(n=e.width),Math.abs(e.height-r)<=1&&(r=e.height),{x:t.offsetLeft,y:t.offsetTop,width:n,height:r}}function qO(t,e){var n=e.getRootNode&&e.getRootNode();if(t.contains(e))return!0;if(n&&ET(n)){var r=e;do{if(r&&t.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function go(t){return Jr(t).getComputedStyle(t)}function Mte(t){return["table","td","th"].indexOf(Li(t))>=0}function xa(t){return((Cl(t)?t.ownerDocument:t.document)||window.document).documentElement}function Z0(t){return Li(t)==="html"?t:t.assignedSlot||t.parentNode||(ET(t)?t.host:null)||xa(t)}function gA(t){return!ws(t)||go(t).position==="fixed"?null:t.offsetParent}function Ote(t){var e=/firefox/i.test(w1()),n=/Trident/i.test(w1());if(n&&ws(t)){var r=go(t);if(r.position==="fixed")return null}var s=Z0(t);for(ET(s)&&(s=s.host);ws(s)&&["html","body"].indexOf(Li(s))<0;){var i=go(s);if(i.transform!=="none"||i.perspective!=="none"||i.contain==="paint"||["transform","perspective"].indexOf(i.willChange)!==-1||e&&i.willChange==="filter"||e&&i.filter&&i.filter!=="none")return s;s=s.parentNode}return null}function Eh(t){for(var e=Jr(t),n=gA(t);n&&Mte(n)&&go(n).position==="static";)n=gA(n);return n&&(Li(n)==="html"||Li(n)==="body"&&go(n).position==="static")?e:n||Ote(t)||e}function kT(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function Zd(t,e,n){return ul(t,Lg(e,n))}function Fte(t,e,n){var r=Zd(t,e,n);return r>n?n:r}function XO(){return{top:0,right:0,bottom:0,left:0}}function QO(t){return Object.assign({},XO(),t)}function ZO(t,e){return e.reduce(function(n,r){return n[r]=t,n},{})}var Nte=function(e,n){return e=typeof e=="function"?e(Object.assign({},n.rects,{placement:n.placement})):e,QO(typeof e!="number"?e:ZO(e,Th))};function jte(t){var e,n=t.state,r=t.name,s=t.options,i=n.elements.arrow,o=n.modifiersData.popperOffsets,a=Ai(n.placement),l=kT(a),c=[Lr,Rs].indexOf(a)>=0,u=c?"height":"width";if(!(!i||!o)){var d=Nte(s.padding,n),f=CT(i),p=l==="y"?_r:Lr,m=l==="y"?As:Rs,g=n.rects.reference[u]+n.rects.reference[l]-o[l]-n.rects.popper[u],y=o[l]-n.rects.reference[l],x=Eh(i),v=x?l==="y"?x.clientHeight||0:x.clientWidth||0:0,b=g/2-y/2,w=d[p],T=v-f[u]-d[m],C=v/2-f[u]/2+b,E=Zd(w,C,T),k=l;n.modifiersData[r]=(e={},e[k]=E,e.centerOffset=E-C,e)}}function Bte(t){var e=t.state,n=t.options,r=n.element,s=r===void 0?"[data-popper-arrow]":r;s!=null&&(typeof s=="string"&&(s=e.elements.popper.querySelector(s),!s)||qO(e.elements.popper,s)&&(e.elements.arrow=s))}const $te={name:"arrow",enabled:!0,phase:"main",fn:jte,effect:Bte,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function du(t){return t.split("-")[1]}var zte={top:"auto",right:"auto",bottom:"auto",left:"auto"};function Ute(t,e){var n=t.x,r=t.y,s=e.devicePixelRatio||1;return{x:cu(n*s)/s||0,y:cu(r*s)/s||0}}function yA(t){var e,n=t.popper,r=t.popperRect,s=t.placement,i=t.variation,o=t.offsets,a=t.position,l=t.gpuAcceleration,c=t.adaptive,u=t.roundOffsets,d=t.isFixed,f=o.x,p=f===void 0?0:f,m=o.y,g=m===void 0?0:m,y=typeof u=="function"?u({x:p,y:g}):{x:p,y:g};p=y.x,g=y.y;var x=o.hasOwnProperty("x"),v=o.hasOwnProperty("y"),b=Lr,w=_r,T=window;if(c){var C=Eh(n),E="clientHeight",k="clientWidth";if(C===Jr(n)&&(C=xa(n),go(C).position!=="static"&&a==="absolute"&&(E="scrollHeight",k="scrollWidth")),C=C,s===_r||(s===Lr||s===Rs)&&i===Wf){w=As;var A=d&&C===T&&T.visualViewport?T.visualViewport.height:C[E];g-=A-r.height,g*=l?1:-1}if(s===Lr||(s===_r||s===As)&&i===Wf){b=Rs;var R=d&&C===T&&T.visualViewport?T.visualViewport.width:C[k];p-=R-r.width,p*=l?1:-1}}var L=Object.assign({position:a},c&&zte),D=u===!0?Ute({x:p,y:g},Jr(n)):{x:p,y:g};if(p=D.x,g=D.y,l){var M;return Object.assign({},L,(M={},M[w]=v?"0":"",M[b]=x?"0":"",M.transform=(T.devicePixelRatio||1)<=1?"translate("+p+"px, "+g+"px)":"translate3d("+p+"px, "+g+"px, 0)",M))}return Object.assign({},L,(e={},e[w]=v?g+"px":"",e[b]=x?p+"px":"",e.transform="",e))}function Vte(t){var e=t.state,n=t.options,r=n.gpuAcceleration,s=r===void 0?!0:r,i=n.adaptive,o=i===void 0?!0:i,a=n.roundOffsets,l=a===void 0?!0:a,c={placement:Ai(e.placement),variation:du(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:s,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,yA(Object.assign({},c,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:o,roundOffsets:l})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,yA(Object.assign({},c,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}const Wte={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:Vte,data:{}};var mp={passive:!0};function Hte(t){var e=t.state,n=t.instance,r=t.options,s=r.scroll,i=s===void 0?!0:s,o=r.resize,a=o===void 0?!0:o,l=Jr(e.elements.popper),c=[].concat(e.scrollParents.reference,e.scrollParents.popper);return i&&c.forEach(function(u){u.addEventListener("scroll",n.update,mp)}),a&&l.addEventListener("resize",n.update,mp),function(){i&&c.forEach(function(u){u.removeEventListener("scroll",n.update,mp)}),a&&l.removeEventListener("resize",n.update,mp)}}const Gte={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:Hte,data:{}};var Kte={left:"right",right:"left",bottom:"top",top:"bottom"};function Tm(t){return t.replace(/left|right|bottom|top/g,function(e){return Kte[e]})}var Yte={start:"end",end:"start"};function vA(t){return t.replace(/start|end/g,function(e){return Yte[e]})}function AT(t){var e=Jr(t),n=e.pageXOffset,r=e.pageYOffset;return{scrollLeft:n,scrollTop:r}}function RT(t){return uu(xa(t)).left+AT(t).scrollLeft}function qte(t,e){var n=Jr(t),r=xa(t),s=n.visualViewport,i=r.clientWidth,o=r.clientHeight,a=0,l=0;if(s){i=s.width,o=s.height;var c=YO();(c||!c&&e==="fixed")&&(a=s.offsetLeft,l=s.offsetTop)}return{width:i,height:o,x:a+RT(t),y:l}}function Xte(t){var e,n=xa(t),r=AT(t),s=(e=t.ownerDocument)==null?void 0:e.body,i=ul(n.scrollWidth,n.clientWidth,s?s.scrollWidth:0,s?s.clientWidth:0),o=ul(n.scrollHeight,n.clientHeight,s?s.scrollHeight:0,s?s.clientHeight:0),a=-r.scrollLeft+RT(t),l=-r.scrollTop;return go(s||n).direction==="rtl"&&(a+=ul(n.clientWidth,s?s.clientWidth:0)-i),{width:i,height:o,x:a,y:l}}function _T(t){var e=go(t),n=e.overflow,r=e.overflowX,s=e.overflowY;return/auto|scroll|overlay|hidden/.test(n+s+r)}function JO(t){return["html","body","#document"].indexOf(Li(t))>=0?t.ownerDocument.body:ws(t)&&_T(t)?t:JO(Z0(t))}function Jd(t,e){var n;e===void 0&&(e=[]);var r=JO(t),s=r===((n=t.ownerDocument)==null?void 0:n.body),i=Jr(r),o=s?[i].concat(i.visualViewport||[],_T(r)?r:[]):r,a=e.concat(o);return s?a:a.concat(Jd(Z0(o)))}function T1(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function Qte(t,e){var n=uu(t,!1,e==="fixed");return n.top=n.top+t.clientTop,n.left=n.left+t.clientLeft,n.bottom=n.top+t.clientHeight,n.right=n.left+t.clientWidth,n.width=t.clientWidth,n.height=t.clientHeight,n.x=n.left,n.y=n.top,n}function xA(t,e,n){return e===GO?T1(qte(t,n)):Cl(e)?Qte(e,n):T1(Xte(xa(t)))}function Zte(t){var e=Jd(Z0(t)),n=["absolute","fixed"].indexOf(go(t).position)>=0,r=n&&ws(t)?Eh(t):t;return Cl(r)?e.filter(function(s){return Cl(s)&&qO(s,r)&&Li(s)!=="body"}):[]}function Jte(t,e,n,r){var s=e==="clippingParents"?Zte(t):[].concat(e),i=[].concat(s,[n]),o=i[0],a=i.reduce(function(l,c){var u=xA(t,c,r);return l.top=ul(u.top,l.top),l.right=Lg(u.right,l.right),l.bottom=Lg(u.bottom,l.bottom),l.left=ul(u.left,l.left),l},xA(t,o,r));return a.width=a.right-a.left,a.height=a.bottom-a.top,a.x=a.left,a.y=a.top,a}function eF(t){var e=t.reference,n=t.element,r=t.placement,s=r?Ai(r):null,i=r?du(r):null,o=e.x+e.width/2-n.width/2,a=e.y+e.height/2-n.height/2,l;switch(s){case _r:l={x:o,y:e.y-n.height};break;case As:l={x:o,y:e.y+e.height};break;case Rs:l={x:e.x+e.width,y:a};break;case Lr:l={x:e.x-n.width,y:a};break;default:l={x:e.x,y:e.y}}var c=s?kT(s):null;if(c!=null){var u=c==="y"?"height":"width";switch(i){case lu:l[c]=l[c]-(e[u]/2-n[u]/2);break;case Wf:l[c]=l[c]+(e[u]/2-n[u]/2);break}}return l}function Hf(t,e){e===void 0&&(e={});var n=e,r=n.placement,s=r===void 0?t.placement:r,i=n.strategy,o=i===void 0?t.strategy:i,a=n.boundary,l=a===void 0?xte:a,c=n.rootBoundary,u=c===void 0?GO:c,d=n.elementContext,f=d===void 0?id:d,p=n.altBoundary,m=p===void 0?!1:p,g=n.padding,y=g===void 0?0:g,x=QO(typeof y!="number"?y:ZO(y,Th)),v=f===id?bte:id,b=t.rects.popper,w=t.elements[m?v:f],T=Jte(Cl(w)?w:w.contextElement||xa(t.elements.popper),l,u,o),C=uu(t.elements.reference),E=eF({reference:C,element:b,strategy:"absolute",placement:s}),k=T1(Object.assign({},b,E)),A=f===id?k:C,R={top:T.top-A.top+x.top,bottom:A.bottom-T.bottom+x.bottom,left:T.left-A.left+x.left,right:A.right-T.right+x.right},L=t.modifiersData.offset;if(f===id&&L){var D=L[s];Object.keys(R).forEach(function(M){var B=[Rs,As].indexOf(M)>=0?1:-1,V=[_r,As].indexOf(M)>=0?"y":"x";R[M]+=D[V]*B})}return R}function ene(t,e){e===void 0&&(e={});var n=e,r=n.placement,s=n.boundary,i=n.rootBoundary,o=n.padding,a=n.flipVariations,l=n.allowedAutoPlacements,c=l===void 0?KO:l,u=du(r),d=u?a?mA:mA.filter(function(m){return du(m)===u}):Th,f=d.filter(function(m){return c.indexOf(m)>=0});f.length===0&&(f=d);var p=f.reduce(function(m,g){return m[g]=Hf(t,{placement:g,boundary:s,rootBoundary:i,padding:o})[Ai(g)],m},{});return Object.keys(p).sort(function(m,g){return p[m]-p[g]})}function tne(t){if(Ai(t)===TT)return[];var e=Tm(t);return[vA(t),e,vA(e)]}function nne(t){var e=t.state,n=t.options,r=t.name;if(!e.modifiersData[r]._skip){for(var s=n.mainAxis,i=s===void 0?!0:s,o=n.altAxis,a=o===void 0?!0:o,l=n.fallbackPlacements,c=n.padding,u=n.boundary,d=n.rootBoundary,f=n.altBoundary,p=n.flipVariations,m=p===void 0?!0:p,g=n.allowedAutoPlacements,y=e.options.placement,x=Ai(y),v=x===y,b=l||(v||!m?[Tm(y)]:tne(y)),w=[y].concat(b).reduce(function(ee,ce){return ee.concat(Ai(ce)===TT?ene(e,{placement:ce,boundary:u,rootBoundary:d,padding:c,flipVariations:m,allowedAutoPlacements:g}):ce)},[]),T=e.rects.reference,C=e.rects.popper,E=new Map,k=!0,A=w[0],R=0;R<w.length;R++){var L=w[R],D=Ai(L),M=du(L)===lu,B=[_r,As].indexOf(D)>=0,V=B?"width":"height",O=Hf(e,{placement:L,boundary:u,rootBoundary:d,altBoundary:f,padding:c}),I=B?M?Rs:Lr:M?As:_r;T[V]>C[V]&&(I=Tm(I));var N=Tm(I),j=[];if(i&&j.push(O[D]<=0),a&&j.push(O[I]<=0,O[N]<=0),j.every(function(ee){return ee})){A=L,k=!1;break}E.set(L,j)}if(k)for(var K=m?3:1,te=function(ce){var Y=w.find(function(ue){var Ae=E.get(ue);if(Ae)return Ae.slice(0,ce).every(function(Ge){return Ge})});if(Y)return A=Y,"break"},ne=K;ne>0;ne--){var q=te(ne);if(q==="break")break}e.placement!==A&&(e.modifiersData[r]._skip=!0,e.placement=A,e.reset=!0)}}const rne={name:"flip",enabled:!0,phase:"main",fn:nne,requiresIfExists:["offset"],data:{_skip:!1}};function bA(t,e,n){return n===void 0&&(n={x:0,y:0}),{top:t.top-e.height-n.y,right:t.right-e.width+n.x,bottom:t.bottom-e.height+n.y,left:t.left-e.width-n.x}}function SA(t){return[_r,Rs,As,Lr].some(function(e){return t[e]>=0})}function sne(t){var e=t.state,n=t.name,r=e.rects.reference,s=e.rects.popper,i=e.modifiersData.preventOverflow,o=Hf(e,{elementContext:"reference"}),a=Hf(e,{altBoundary:!0}),l=bA(o,r),c=bA(a,s,i),u=SA(l),d=SA(c);e.modifiersData[n]={referenceClippingOffsets:l,popperEscapeOffsets:c,isReferenceHidden:u,hasPopperEscaped:d},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":u,"data-popper-escaped":d})}const ine={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:sne};function one(t,e,n){var r=Ai(t),s=[Lr,_r].indexOf(r)>=0?-1:1,i=typeof n=="function"?n(Object.assign({},e,{placement:t})):n,o=i[0],a=i[1];return o=o||0,a=(a||0)*s,[Lr,Rs].indexOf(r)>=0?{x:a,y:o}:{x:o,y:a}}function ane(t){var e=t.state,n=t.options,r=t.name,s=n.offset,i=s===void 0?[0,0]:s,o=KO.reduce(function(u,d){return u[d]=one(d,e.rects,i),u},{}),a=o[e.placement],l=a.x,c=a.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=l,e.modifiersData.popperOffsets.y+=c),e.modifiersData[r]=o}const lne={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:ane};function cne(t){var e=t.state,n=t.name;e.modifiersData[n]=eF({reference:e.rects.reference,element:e.rects.popper,strategy:"absolute",placement:e.placement})}const une={name:"popperOffsets",enabled:!0,phase:"read",fn:cne,data:{}};function dne(t){return t==="x"?"y":"x"}function fne(t){var e=t.state,n=t.options,r=t.name,s=n.mainAxis,i=s===void 0?!0:s,o=n.altAxis,a=o===void 0?!1:o,l=n.boundary,c=n.rootBoundary,u=n.altBoundary,d=n.padding,f=n.tether,p=f===void 0?!0:f,m=n.tetherOffset,g=m===void 0?0:m,y=Hf(e,{boundary:l,rootBoundary:c,padding:d,altBoundary:u}),x=Ai(e.placement),v=du(e.placement),b=!v,w=kT(x),T=dne(w),C=e.modifiersData.popperOffsets,E=e.rects.reference,k=e.rects.popper,A=typeof g=="function"?g(Object.assign({},e.rects,{placement:e.placement})):g,R=typeof A=="number"?{mainAxis:A,altAxis:A}:Object.assign({mainAxis:0,altAxis:0},A),L=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,D={x:0,y:0};if(C){if(i){var M,B=w==="y"?_r:Lr,V=w==="y"?As:Rs,O=w==="y"?"height":"width",I=C[w],N=I+y[B],j=I-y[V],K=p?-k[O]/2:0,te=v===lu?E[O]:k[O],ne=v===lu?-k[O]:-E[O],q=e.elements.arrow,ee=p&&q?CT(q):{width:0,height:0},ce=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:XO(),Y=ce[B],ue=ce[V],Ae=Zd(0,E[O],ee[O]),Ge=b?E[O]/2-K-Ae-Y-R.mainAxis:te-Ae-Y-R.mainAxis,it=b?-E[O]/2+K+Ae+ue+R.mainAxis:ne+Ae+ue+R.mainAxis,Fe=e.elements.arrow&&Eh(e.elements.arrow),je=Fe?w==="y"?Fe.clientTop||0:Fe.clientLeft||0:0,Ke=(M=L==null?void 0:L[w])!=null?M:0,Nt=I+Ge-Ke-je,Ce=I+it-Ke,ot=Zd(p?Lg(N,Nt):N,I,p?ul(j,Ce):j);C[w]=ot,D[w]=ot-I}if(a){var wt,sn=w==="x"?_r:Lr,Wn=w==="x"?As:Rs,fn=C[T],jr=T==="y"?"height":"width",ss=fn+y[sn],on=fn-y[Wn],mr=[_r,Lr].indexOf(x)!==-1,ti=(wt=L==null?void 0:L[T])!=null?wt:0,ni=mr?ss:fn-E[jr]-k[jr]-ti+R.altAxis,nr=mr?fn+E[jr]+k[jr]-ti-R.altAxis:on,vn=p&&mr?Fte(ni,fn,nr):Zd(p?ni:ss,fn,p?nr:on);C[T]=vn,D[T]=vn-fn}e.modifiersData[r]=D}}const hne={name:"preventOverflow",enabled:!0,phase:"main",fn:fne,requiresIfExists:["offset"]};function pne(t){return{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}}function mne(t){return t===Jr(t)||!ws(t)?AT(t):pne(t)}function gne(t){var e=t.getBoundingClientRect(),n=cu(e.width)/t.offsetWidth||1,r=cu(e.height)/t.offsetHeight||1;return n!==1||r!==1}function yne(t,e,n){n===void 0&&(n=!1);var r=ws(e),s=ws(e)&&gne(e),i=xa(e),o=uu(t,s,n),a={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(r||!r&&!n)&&((Li(e)!=="body"||_T(i))&&(a=mne(e)),ws(e)?(l=uu(e,!0),l.x+=e.clientLeft,l.y+=e.clientTop):i&&(l.x=RT(i))),{x:o.left+a.scrollLeft-l.x,y:o.top+a.scrollTop-l.y,width:o.width,height:o.height}}function vne(t){var e=new Map,n=new Set,r=[];t.forEach(function(i){e.set(i.name,i)});function s(i){n.add(i.name);var o=[].concat(i.requires||[],i.requiresIfExists||[]);o.forEach(function(a){if(!n.has(a)){var l=e.get(a);l&&s(l)}}),r.push(i)}return t.forEach(function(i){n.has(i.name)||s(i)}),r}function xne(t){var e=vne(t);return Lte.reduce(function(n,r){return n.concat(e.filter(function(s){return s.phase===r}))},[])}function bne(t){var e;return function(){return e||(e=new Promise(function(n){Promise.resolve().then(function(){e=void 0,n(t())})})),e}}function Sne(t){var e=t.reduce(function(n,r){var s=n[r.name];return n[r.name]=s?Object.assign({},s,r,{options:Object.assign({},s.options,r.options),data:Object.assign({},s.data,r.data)}):r,n},{});return Object.keys(e).map(function(n){return e[n]})}var wA={placement:"bottom",modifiers:[],strategy:"absolute"};function TA(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return!e.some(function(r){return!(r&&typeof r.getBoundingClientRect=="function")})}function wne(t){t===void 0&&(t={});var e=t,n=e.defaultModifiers,r=n===void 0?[]:n,s=e.defaultOptions,i=s===void 0?wA:s;return function(a,l,c){c===void 0&&(c=i);var u={placement:"bottom",orderedModifiers:[],options:Object.assign({},wA,i),modifiersData:{},elements:{reference:a,popper:l},attributes:{},styles:{}},d=[],f=!1,p={state:u,setOptions:function(x){var v=typeof x=="function"?x(u.options):x;g(),u.options=Object.assign({},i,u.options,v),u.scrollParents={reference:Cl(a)?Jd(a):a.contextElement?Jd(a.contextElement):[],popper:Jd(l)};var b=xne(Sne([].concat(r,u.options.modifiers)));return u.orderedModifiers=b.filter(function(w){return w.enabled}),m(),p.update()},forceUpdate:function(){if(!f){var x=u.elements,v=x.reference,b=x.popper;if(TA(v,b)){u.rects={reference:yne(v,Eh(b),u.options.strategy==="fixed"),popper:CT(b)},u.reset=!1,u.placement=u.options.placement,u.orderedModifiers.forEach(function(R){return u.modifiersData[R.name]=Object.assign({},R.data)});for(var w=0;w<u.orderedModifiers.length;w++){if(u.reset===!0){u.reset=!1,w=-1;continue}var T=u.orderedModifiers[w],C=T.fn,E=T.options,k=E===void 0?{}:E,A=T.name;typeof C=="function"&&(u=C({state:u,options:k,name:A,instance:p})||u)}}}},update:bne(function(){return new Promise(function(y){p.forceUpdate(),y(u)})}),destroy:function(){g(),f=!0}};if(!TA(a,l))return p;p.setOptions(c).then(function(y){!f&&c.onFirstUpdate&&c.onFirstUpdate(y)});function m(){u.orderedModifiers.forEach(function(y){var x=y.name,v=y.options,b=v===void 0?{}:v,w=y.effect;if(typeof w=="function"){var T=w({state:u,name:x,instance:p,options:b}),C=function(){};d.push(T||C)}})}function g(){d.forEach(function(y){return y()}),d=[]}return p}}var Tne=[Gte,une,Wte,Dte,lne,rne,hne,$te,ine],Ene=wne({defaultModifiers:Tne});const Kl=(t,e)=>({var:t,varRef:e?`var(${t}, ${e})`:`var(${t})`}),$n={arrowShadowColor:Kl("--popper-arrow-shadow-color"),arrowSize:Kl("--popper-arrow-size","8px"),arrowSizeHalf:Kl("--popper-arrow-size-half"),arrowBg:Kl("--popper-arrow-bg"),transformOrigin:Kl("--popper-transform-origin"),arrowOffset:Kl("--popper-arrow-offset")};function Cne(t){if(t.includes("top"))return"1px 1px 0px 0 var(--popper-arrow-shadow-color)";if(t.includes("bottom"))return"-1px -1px 0px 0 var(--popper-arrow-shadow-color)";if(t.includes("right"))return"-1px 1px 0px 0 var(--popper-arrow-shadow-color)";if(t.includes("left"))return"1px -1px 0px 0 var(--popper-arrow-shadow-color)"}const kne={top:"bottom center","top-start":"bottom left","top-end":"bottom right",bottom:"top center","bottom-start":"top left","bottom-end":"top right",left:"right center","left-start":"right top","left-end":"right bottom",right:"left center","right-start":"left top","right-end":"left bottom"},Ane=t=>kne[t],EA={scroll:!0,resize:!0};function Rne(t){let e;return typeof t=="object"?e={enabled:!0,options:{...EA,...t}}:e={enabled:t,options:EA},e}const _ne={name:"matchWidth",enabled:!0,phase:"beforeWrite",requires:["computeStyles"],fn:({state:t})=>{t.styles.popper.width=`${t.rects.reference.width}px`},effect:({state:t})=>()=>{const e=t.elements.reference;t.elements.popper.style.width=`${e.offsetWidth}px`}},Lne={name:"transformOrigin",enabled:!0,phase:"write",fn:({state:t})=>{CA(t)},effect:({state:t})=>()=>{CA(t)}},CA=t=>{t.elements.popper.style.setProperty($n.transformOrigin.var,Ane(t.placement))},Pne={name:"positionArrow",enabled:!0,phase:"afterWrite",fn:({state:t})=>{Ine(t)}},Ine=t=>{var n;if(!t.placement)return;const e=Dne(t.placement);if((n=t.elements)!=null&&n.arrow&&e){Object.assign(t.elements.arrow.style,{[e.property]:e.value,width:$n.arrowSize.varRef,height:$n.arrowSize.varRef,zIndex:-1});const r={[$n.arrowSizeHalf.var]:`calc(${$n.arrowSize.varRef} / 2 - 1px)`,[$n.arrowOffset.var]:`calc(${$n.arrowSizeHalf.varRef} * -1)`};for(const s in r)t.elements.arrow.style.setProperty(s,r[s])}},Dne=t=>{if(t.startsWith("top"))return{property:"bottom",value:$n.arrowOffset.varRef};if(t.startsWith("bottom"))return{property:"top",value:$n.arrowOffset.varRef};if(t.startsWith("left"))return{property:"right",value:$n.arrowOffset.varRef};if(t.startsWith("right"))return{property:"left",value:$n.arrowOffset.varRef}},Mne={name:"innerArrow",enabled:!0,phase:"main",requires:["arrow"],fn:({state:t})=>{kA(t)},effect:({state:t})=>()=>{kA(t)}},kA=t=>{if(!t.elements.arrow)return;const e=t.elements.arrow.querySelector("[data-popper-arrow-inner]");if(!e)return;const n=Cne(t.placement);n&&e.style.setProperty("--popper-arrow-default-shadow",n),Object.assign(e.style,{transform:"rotate(45deg)",background:$n.arrowBg.varRef,top:0,left:0,width:"100%",height:"100%",position:"absolute",zIndex:"inherit",boxShadow:"var(--popper-arrow-shadow, var(--popper-arrow-default-shadow))"})},One={"start-start":{ltr:"left-start",rtl:"right-start"},"start-end":{ltr:"left-end",rtl:"right-end"},"end-start":{ltr:"right-start",rtl:"left-start"},"end-end":{ltr:"right-end",rtl:"left-end"},start:{ltr:"left",rtl:"right"},end:{ltr:"right",rtl:"left"}},Fne={"auto-start":"auto-end","auto-end":"auto-start","top-start":"top-end","top-end":"top-start","bottom-start":"bottom-end","bottom-end":"bottom-start"};function Nne(t,e="ltr"){var r;const n=((r=One[t])==null?void 0:r[e])||t;return e==="ltr"?n:Fne[t]??n}function tF(t={}){const{enabled:e=!0,modifiers:n,placement:r="bottom",strategy:s="absolute",arrowPadding:i=8,eventListeners:o=!0,offset:a,gutter:l=8,flip:c=!0,boundary:u="clippingParents",preventOverflow:d=!0,matchWidth:f,direction:p="ltr"}=t,m=S.useRef(null),g=S.useRef(null),y=S.useRef(null),x=Nne(r,p),v=S.useRef(()=>{}),b=S.useCallback(()=>{var R;!e||!m.current||!g.current||((R=v.current)==null||R.call(v),y.current=Ene(m.current,g.current,{placement:x,modifiers:[Mne,Pne,Lne,{..._ne,enabled:!!f},{name:"eventListeners",...Rne(o)},{name:"arrow",options:{padding:i}},{name:"offset",options:{offset:a??[0,l]}},{name:"flip",enabled:!!c,options:{padding:8}},{name:"preventOverflow",enabled:!!d,options:{boundary:u}},...n??[]],strategy:s}),y.current.forceUpdate(),v.current=y.current.destroy)},[x,e,n,f,o,i,a,l,c,d,u,s]);S.useEffect(()=>()=>{var R;!m.current&&!g.current&&((R=y.current)==null||R.destroy(),y.current=null)},[]);const w=S.useCallback(R=>{m.current=R,b()},[b]),T=S.useCallback((R={},L=null)=>({...R,ref:Cn(w,L)}),[w]),C=S.useCallback(R=>{g.current=R,b()},[b]),E=S.useCallback((R={},L=null)=>({...R,ref:Cn(C,L),style:{...R.style,position:s,minWidth:f?void 0:"max-content",inset:"0 auto auto 0"}}),[s,C,f]),k=S.useCallback((R={},L=null)=>{const{size:D,shadowColor:M,bg:B,style:V,...O}=R;return{...O,ref:L,"data-popper-arrow":"",style:jne(R)}},[]),A=S.useCallback((R={},L=null)=>({...R,ref:L,"data-popper-arrow-inner":""}),[]);return{update(){var R;(R=y.current)==null||R.update()},forceUpdate(){var R;(R=y.current)==null||R.forceUpdate()},transformOrigin:$n.transformOrigin.varRef,referenceRef:w,popperRef:C,getPopperProps:E,getArrowProps:k,getArrowInnerProps:A,getReferenceProps:T}}function jne(t){const{size:e,shadowColor:n,bg:r,style:s}=t,i={...s,position:"absolute"};return e&&(i["--popper-arrow-size"]=e),n&&(i["--popper-arrow-shadow-color"]=n),r&&(i["--popper-arrow-bg"]=r),i}function Bne(){const t=S.useRef(new Map),e=t.current,n=S.useCallback((s,i,o,a)=>{t.current.set(o,{type:i,el:s,options:a}),s.addEventListener(i,o,a)},[]),r=S.useCallback((s,i,o,a)=>{s.removeEventListener(i,o,a),t.current.delete(o)},[]);return S.useEffect(()=>()=>{e.forEach((s,i)=>{r(s.el,s.type,i,s.options)})},[r,e]),{add:n,remove:r}}function qv(t){var s,i;const e=((i=(s=t.composedPath)==null?void 0:s.call(t))==null?void 0:i[0])??t.target,{tagName:n,isContentEditable:r}=e;return n!=="INPUT"&&n!=="TEXTAREA"&&r!==!0}function nF(t={}){const{ref:e,isDisabled:n,isFocusable:r,clickOnEnter:s=!0,clickOnSpace:i=!0,onMouseDown:o,onMouseUp:a,onClick:l,onKeyDown:c,onKeyUp:u,tabIndex:d,onMouseOver:f,onMouseLeave:p,...m}=t,[g,y]=S.useState(!0),[x,v]=S.useState(!1),b=Bne(),w=I=>{I&&I.tagName!=="BUTTON"&&y(!1)},T=g?d:d||0,C=n&&!r,E=S.useCallback(I=>{if(n){I.stopPropagation(),I.preventDefault();return}I.currentTarget.focus(),l==null||l(I)},[n,l]),k=S.useCallback(I=>{x&&qv(I)&&(I.preventDefault(),I.stopPropagation(),v(!1),b.remove(document,"keyup",k,!1))},[x,b]),A=S.useCallback(I=>{if(c==null||c(I),n||I.defaultPrevented||I.metaKey||!qv(I.nativeEvent)||g)return;const N=s&&I.key==="Enter";i&&I.key===" "&&(I.preventDefault(),v(!0)),N&&(I.preventDefault(),I.currentTarget.click()),b.add(document,"keyup",k,!1)},[n,g,c,s,i,b,k]),R=S.useCallback(I=>{if(u==null||u(I),n||I.defaultPrevented||I.metaKey||!qv(I.nativeEvent)||g)return;i&&I.key===" "&&(I.preventDefault(),v(!1),I.currentTarget.click())},[i,g,n,u]),L=S.useCallback(I=>{I.button===0&&(v(!1),b.remove(document,"mouseup",L,!1))},[b]),D=S.useCallback(I=>{if(I.button!==0)return;if(n){I.stopPropagation(),I.preventDefault();return}g||v(!0),I.currentTarget.focus({preventScroll:!0}),b.add(document,"mouseup",L,!1),o==null||o(I)},[n,g,o,b,L]),M=S.useCallback(I=>{I.button===0&&(g||v(!1),a==null||a(I))},[a,g]),B=S.useCallback(I=>{if(n){I.preventDefault();return}f==null||f(I)},[n,f]),V=S.useCallback(I=>{x&&(I.preventDefault(),v(!1)),p==null||p(I)},[x,p]),O=Cn(e,w);return g?{...m,ref:O,type:"button","aria-disabled":C?void 0:n,disabled:C,onClick:E,onMouseDown:o,onMouseUp:a,onKeyUp:u,onKeyDown:c,onMouseOver:f,onMouseLeave:p}:{...m,ref:O,role:"button","data-active":Be(x),"aria-disabled":n?"true":void 0,tabIndex:C?void 0:T,onClick:E,onMouseDown:D,onMouseUp:M,onKeyUp:R,onKeyDown:A,onMouseOver:B,onMouseLeave:V}}const[$ne,zne,Une,Vne]=Z4(),[Wne,Ch]=Zt({strict:!1,name:"MenuContext"});function rF(t){return(t==null?void 0:t.ownerDocument)??document}function Hne(t){return rF(t).activeElement===t}function Gne(t={}){const{id:e,closeOnSelect:n=!0,closeOnBlur:r=!0,initialFocusRef:s,autoSelect:i=!0,isLazy:o,isOpen:a,defaultIsOpen:l,onClose:c,onOpen:u,placement:d="bottom-start",lazyBehavior:f="unmount",direction:p,computePositionOnMount:m=!1,...g}=t,y=S.useRef(null),x=S.useRef(null),v=S.useRef(!0),b=Une(),w=S.useCallback(()=>{requestAnimationFrame(()=>{var q;(q=y.current)==null||q.focus({preventScroll:!1})})},[]),T=S.useCallback(()=>{const q=setTimeout(()=>{var ee,ce;if(s)(ee=s.current)==null||ee.focus();else if(!b.count())(ce=y.current)==null||ce.focus({preventScroll:!1});else{const Y=b.firstEnabled();Y&&B(Y.index)}});j.current.add(q)},[b,s]),C=S.useCallback(()=>{const q=setTimeout(()=>{var ee;if(!b.count())(ee=y.current)==null||ee.focus({preventScroll:!1});else{const ce=b.lastEnabled();ce&&B(ce.index)}});j.current.add(q)},[b]),E=S.useCallback(()=>{u==null||u(),i?T():w()},[i,T,w,u]),{isOpen:k,onOpen:A,onClose:R,onToggle:L}=fh({isOpen:a,defaultIsOpen:l,onClose:c,onOpen:E});X$({enabled:k&&r,ref:y,handler:q=>{var ce,Y,ue;const ee=((Y=(ce=q.composedPath)==null?void 0:ce.call(q))==null?void 0:Y[0])??q.target;(ue=x.current)!=null&&ue.contains(ee)||R()}});const D=tF({...g,enabled:k||m,placement:d,direction:p}),[M,B]=S.useState(-1);H$(y,{focusRef:x,visible:k,shouldFocus:!0});const V=V$({isOpen:k,ref:y}),[O,I]=K$(e,"menu-button","menu-list"),N=S.useCallback(()=>{A(),w()},[A,w]),j=S.useRef(new Set([]));S.useEffect(()=>{const q=j.current;return()=>{q.forEach(ee=>clearTimeout(ee)),q.clear()}},[]),bl(()=>{var q;k||(B(-1),(q=y.current)==null||q.scrollTo(0,0))},[k]),bl(()=>{k&&M===-1&&w()},[M,k]),S.useEffect(()=>{var ee;if(!k)return;const q=b.item(M);(ee=q==null?void 0:q.node)==null||ee.focus({preventScroll:!v.current})},[b,M,k]);const K=S.useCallback(()=>{A(),T()},[T,A]),te=S.useCallback(()=>{v.current=!0,A(),C()},[A,C]),ne=S.useCallback(()=>{var ue,Ae;const q=rF(y.current),ee=(ue=y.current)==null?void 0:ue.contains(q.activeElement);if(!(k&&!ee))return;const Y=(Ae=b.item(M))==null?void 0:Ae.node;Y==null||Y.focus({preventScroll:!v.current})},[k,M,b]);return{openAndFocusMenu:N,openAndFocusFirstItem:K,openAndFocusLastItem:te,onTransitionEnd:ne,unstable__animationState:V,descendants:b,popper:D,buttonId:O,menuId:I,forceUpdate:D.forceUpdate,orientation:"vertical",isOpen:k,onToggle:L,onOpen:A,onClose:R,menuRef:y,buttonRef:x,focusedIndex:M,closeOnSelect:n,closeOnBlur:r,autoSelect:i,setFocusedIndex:B,isLazy:o,lazyBehavior:f,initialFocusRef:s,scrollIntoViewRef:v}}function Kne(t={},e=null){const n=Ch(),{onToggle:r,popper:s,openAndFocusFirstItem:i,openAndFocusLastItem:o,scrollIntoViewRef:a}=n,l=S.useCallback(c=>{const u=c.key,f={Enter:i,ArrowDown:i,ArrowUp:o}[u];f&&(a.current=!0,c.preventDefault(),c.stopPropagation(),f(c))},[i,o,a]);return{...t,ref:Cn(n.buttonRef,e,s.referenceRef),id:n.buttonId,"data-active":Be(n.isOpen),"aria-expanded":n.isOpen,"aria-haspopup":"menu","aria-controls":n.menuId,onClick:rt(t.onClick,r),onKeyDown:rt(t.onKeyDown,l)}}function E1(t){var e;return Qne(t)&&!!((e=t==null?void 0:t.getAttribute("role"))!=null&&e.startsWith("menuitem"))}function Yne(t={},e=null){const n=Ch();if(!n)throw new Error("useMenuContext: context is undefined. Seems you forgot to wrap component within <Menu>");const{focusedIndex:r,setFocusedIndex:s,menuRef:i,isOpen:o,onClose:a,menuId:l,isLazy:c,lazyBehavior:u,scrollIntoViewRef:d,unstable__animationState:f}=n,p=zne(),m=vte({preventDefault:v=>v.key!==" "&&E1(v.target)}),g=S.useCallback(v=>{if(!v.currentTarget.contains(v.target))return;const b=v.key,T={Tab:E=>E.preventDefault(),Escape:E=>{E.stopPropagation(),a()},ArrowDown:()=>{d.current=!0;const E=p.nextEnabled(r)??p.firstEnabled();E&&s(E.index)},ArrowUp:()=>{d.current=!0;const E=p.prevEnabled(r)??p.firstEnabled();E&&s(E.index)}}[b];if(T){v.preventDefault(),T(v);return}const C=m(E=>{const k=gte(p.values(),E,A=>{var R;return((R=A==null?void 0:A.node)==null?void 0:R.textContent)??""},p.item(r));if(k){const A=p.indexOf(k.node);s(A)}});E1(v.target)&&C(v)},[p,r,m,a,s,d]),y=S.useRef(!1);o&&(y.current=!0);const x=xD({wasSelected:y.current,enabled:c,mode:u,isSelected:f.present});return{...t,ref:Cn(i,e),children:x?t.children:null,tabIndex:-1,role:"menu",id:l,style:{...t.style,transformOrigin:"var(--popper-transform-origin)"},"aria-orientation":"vertical",onKeyDown:rt(t.onKeyDown,g)}}function qne(t={}){const{popper:e,isOpen:n}=Ch();return e.getPopperProps({...t,style:{visibility:n?"visible":"hidden",...t.style}})}function Xne(t={},e=null){const{onMouseEnter:n,onMouseMove:r,onMouseLeave:s,onClick:i,onFocus:o,isDisabled:a,isFocusable:l,closeOnSelect:c,type:u,...d}=t,f=Ch(),{setFocusedIndex:p,focusedIndex:m,closeOnSelect:g,onClose:y,menuId:x,scrollIntoViewRef:v}=f,b=S.useRef(null),w=`${x}-menuitem-${S.useId()}`,{index:T,register:C}=Vne({disabled:a&&!l}),E=S.useCallback(B=>{n==null||n(B),!a&&(v.current=!1,p(T))},[p,T,a,n,v]),k=S.useCallback(B=>{r==null||r(B),b.current&&!Hne(b.current)&&E(B)},[E,r]),A=S.useCallback(B=>{s==null||s(B),!a&&p(-1)},[p,a,s]),R=S.useCallback(B=>{i==null||i(B),E1(B.currentTarget)&&(c??g)&&y()},[y,i,g,c]),L=S.useCallback(B=>{o==null||o(B),p(T)},[p,o,T]),D=T===m,M=nF({onClick:R,onFocus:L,onMouseEnter:E,onMouseMove:k,onMouseLeave:A,ref:Cn(C,b,e),isDisabled:a,isFocusable:l});return{...d,...M,type:u??M.type,id:w,role:"menuitem",tabIndex:D?0:-1}}function Qne(t){if(!Zne(t))return!1;const e=t.ownerDocument.defaultView??window;return t instanceof e.HTMLElement}function Zne(t){return t!=null&&typeof t=="object"&&"nodeType"in t&&t.nodeType===Node.ELEMENT_NODE}const[Jne,kh]=Zt({name:"MenuStylesContext",errorMessage:`useMenuStyles returned is 'undefined'. Seems you forgot to wrap the components in "<Menu />" `}),sF=t=>{const{children:e}=t,n=Is("Menu",t),r=Ht(t),{direction:s}=vo(),{descendants:i,...o}=Gne({...r,direction:s}),a=S.useMemo(()=>o,[o]),{isOpen:l,onClose:c,forceUpdate:u}=a;return h.jsx($ne,{value:i,children:h.jsx(Wne,{value:a,children:h.jsx(Jne,{value:n,children:Gr(e,{isOpen:l,onClose:c,forceUpdate:u})})})})};sF.displayName="Menu";const ere=he((t,e)=>{const n=kh();return h.jsx(ae.button,{ref:e,...t,__css:{display:"inline-flex",appearance:"none",alignItems:"center",outline:0,...n.button}})}),iF=he((t,e)=>{const{children:n,as:r,...s}=t,i=Kne(s,e),o=r||ere;return h.jsx(o,{...i,className:Ee("chakra-menu__menu-button",t.className),children:h.jsx(ae.span,{__css:{pointerEvents:"none",flex:"1 1 auto",minW:0},children:t.children})})});iF.displayName="MenuButton";const oF=he((t,e)=>{const n=kh();return h.jsx(ae.span,{ref:e,...t,__css:n.command,className:"chakra-menu__command"})});oF.displayName="MenuCommand";const aF=t=>{const{className:e,children:n,...r}=t,s=kh(),i=S.Children.only(n),o=S.isValidElement(i)?S.cloneElement(i,{focusable:"false","aria-hidden":!0,className:Ee("chakra-menu__icon",i.props.className)}):null,a=Ee("chakra-menu__icon-wrapper",e);return h.jsx(ae.span,{className:a,...r,__css:s.icon,children:o})};aF.displayName="MenuIcon";const tre=he((t,e)=>{const{type:n,...r}=t,s=kh(),i=r.as||n?n??void 0:"button",o=S.useMemo(()=>({textDecoration:"none",color:"inherit",userSelect:"none",display:"flex",width:"100%",alignItems:"center",textAlign:"start",flex:"0 0 auto",outline:0,...s.item}),[s.item]);return h.jsx(ae.button,{ref:e,type:i,...r,__css:o})}),rc=he((t,e)=>{const{icon:n,iconSpacing:r="0.75rem",command:s,commandSpacing:i="0.75rem",children:o,...a}=t,l=Xne(a,e),u=n||s?h.jsx("span",{style:{pointerEvents:"none",flex:1},children:o}):o;return h.jsxs(tre,{...l,className:Ee("chakra-menu__menuitem",l.className),children:[n&&h.jsx(aF,{fontSize:"0.8em",marginEnd:r,children:n}),u,s&&h.jsx(oF,{marginStart:i,children:s})]})});rc.displayName="MenuItem";const nre={enter:{visibility:"visible",opacity:1,scale:1,transition:{duration:.2,ease:[.4,0,.2,1]}},exit:{transitionEnd:{visibility:"hidden"},opacity:0,scale:.8,transition:{duration:.1,easings:"easeOut"}}},rre=ae(Di.div),lF=he(function(e,n){var f;const{rootProps:r,motionProps:s,...i}=e,{isOpen:o,onTransitionEnd:a,unstable__animationState:l}=Ch(),c=Yne(i,n),u=qne(r),d=kh();return h.jsx(ae.div,{...u,__css:{zIndex:e.zIndex??((f=d.list)==null?void 0:f.zIndex)},children:h.jsx(rre,{variants:nre,initial:!1,animate:o?"enter":"exit",__css:{outline:0,...d.list},...s,...c,className:Ee("chakra-menu__menu-list",c.className),onUpdate:a,onAnimationComplete:b$(l.onComplete,c.onAnimationComplete)})})});lF.displayName="MenuList";var sre=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},Yl=new WeakMap,gp=new WeakMap,yp={},Xv=0,cF=function(t){return t&&(t.host||cF(t.parentNode))},ire=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=cF(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},ore=function(t,e,n,r){var s=ire(e,Array.isArray(t)?t:[t]);yp[n]||(yp[n]=new WeakMap);var i=yp[n],o=[],a=new Set,l=new Set(s),c=function(d){!d||a.has(d)||(a.add(d),c(d.parentNode))};s.forEach(c);var u=function(d){!d||l.has(d)||Array.prototype.forEach.call(d.children,function(f){if(a.has(f))u(f);else try{var p=f.getAttribute(r),m=p!==null&&p!=="false",g=(Yl.get(f)||0)+1,y=(i.get(f)||0)+1;Yl.set(f,g),i.set(f,y),o.push(f),g===1&&m&&gp.set(f,!0),y===1&&f.setAttribute(n,"true"),m||f.setAttribute(r,"true")}catch(x){console.error("aria-hidden: cannot operate on ",f,x)}})};return u(e),a.clear(),Xv++,function(){o.forEach(function(d){var f=Yl.get(d)-1,p=i.get(d)-1;Yl.set(d,f),i.set(d,p),f||(gp.has(d)||d.removeAttribute(r),gp.delete(d)),p||d.removeAttribute(n)}),Xv--,Xv||(Yl=new WeakMap,Yl=new WeakMap,gp=new WeakMap,yp={})}},are=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),s=sre(t);return s?(r.push.apply(r,Array.from(s.querySelectorAll("[aria-live]"))),ore(r,s,n,"aria-hidden")):function(){return null}},lre=Object.defineProperty,cre=(t,e,n)=>e in t?lre(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,ure=(t,e,n)=>(cre(t,e+"",n),n);class dre{constructor(){ure(this,"modals"),this.modals=new Set}add(e){return this.modals.add(e),this.modals.size}remove(e){this.modals.delete(e)}isTopModal(e){if(!e)return!1;const n=Array.from(this.modals)[this.modals.size-1];return e===n}}const C1=new dre;function uF(t,e){const[n,r]=S.useState(0);return S.useEffect(()=>{const s=t.current;if(s){if(e){const i=C1.add(s);r(i)}return()=>{C1.remove(s),r(0)}}},[e,t]),n}function fre(t){const{isOpen:e,onClose:n,id:r,closeOnOverlayClick:s=!0,closeOnEsc:i=!0,useInert:o=!0,onOverlayClick:a,onEsc:l}=t,c=S.useRef(null),u=S.useRef(null),[d,f,p]=pre(r,"chakra-modal","chakra-modal--header","chakra-modal--body");hre(c,e&&o);const m=uF(c,e),g=S.useRef(null),y=S.useCallback(A=>{g.current=A.target},[]),x=S.useCallback(A=>{A.key==="Escape"&&(A.stopPropagation(),i&&(n==null||n()),l==null||l())},[i,n,l]),[v,b]=S.useState(!1),[w,T]=S.useState(!1),C=S.useCallback((A={},R=null)=>({role:"dialog",...A,ref:Cn(R,c),id:d,tabIndex:-1,"aria-modal":!0,"aria-labelledby":v?f:void 0,"aria-describedby":w?p:void 0,onClick:rt(A.onClick,L=>L.stopPropagation())}),[p,w,d,f,v]),E=S.useCallback(A=>{A.stopPropagation(),g.current===A.target&&C1.isTopModal(c.current)&&(s&&(n==null||n()),a==null||a())},[n,s,a]),k=S.useCallback((A={},R=null)=>({...A,ref:Cn(R,u),onClick:rt(A.onClick,E),onKeyDown:rt(A.onKeyDown,x),onMouseDown:rt(A.onMouseDown,y)}),[x,y,E]);return{isOpen:e,onClose:n,headerId:f,bodyId:p,setBodyMounted:T,setHeaderMounted:b,dialogRef:c,overlayRef:u,getDialogProps:C,getDialogContainerProps:k,index:m}}function hre(t,e){const n=t.current;S.useEffect(()=>{if(!(!t.current||!e))return are(t.current)},[e,t,n])}function pre(t,...e){const n=S.useId(),r=t||n;return S.useMemo(()=>e.map(s=>`${s}-${r}`),[r,e])}const[mre,Ml]=Zt({name:"ModalStylesContext",errorMessage:`useModalStyles returned is 'undefined'. Seems you forgot to wrap the components in "<Modal />" `}),[gre,la]=Zt({strict:!0,name:"ModalContext",errorMessage:"useModalContext: `context` is undefined. Seems you forgot to wrap modal components in `<Modal />`"}),_u=t=>{const e={scrollBehavior:"outside",autoFocus:!0,trapFocus:!0,returnFocusOnClose:!0,blockScrollOnMount:!0,allowPinchZoom:!1,preserveScrollBarGap:!0,motionPreset:"scale",...t,lockFocusAcrossFrames:t.lockFocusAcrossFrames||!0},{portalProps:n,children:r,autoFocus:s,trapFocus:i,initialFocusRef:o,finalFocusRef:a,returnFocusOnClose:l,blockScrollOnMount:c,allowPinchZoom:u,preserveScrollBarGap:d,motionPreset:f,lockFocusAcrossFrames:p,animatePresenceProps:m,onCloseComplete:g}=e,y=Is("Modal",e),v={...fre(e),autoFocus:s,trapFocus:i,initialFocusRef:o,finalFocusRef:a,returnFocusOnClose:l,blockScrollOnMount:c,allowPinchZoom:u,preserveScrollBarGap:d,motionPreset:f,lockFocusAcrossFrames:p};return h.jsx(gre,{value:v,children:h.jsx(mre,{value:y,children:h.jsx(va,{...m,onExitComplete:g,children:v.isOpen&&h.jsx(Ru,{...n,children:r})})})})};_u.displayName="Modal";var Em="right-scroll-bar-position",Cm="width-before-scroll-bar",yre="with-scroll-bars-hidden",vre="--removed-body-scroll-bar-size",dF=yO(),Qv=function(){},J0=S.forwardRef(function(t,e){var n=S.useRef(null),r=S.useState({onScrollCapture:Qv,onWheelCapture:Qv,onTouchMoveCapture:Qv}),s=r[0],i=r[1],o=t.forwardProps,a=t.children,l=t.className,c=t.removeScrollBar,u=t.enabled,d=t.shards,f=t.sideCar,p=t.noIsolation,m=t.inert,g=t.allowPinchZoom,y=t.as,x=y===void 0?"div":y,v=t.gapMode,b=pO(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),w=f,T=hO([n,e]),C=xi(xi({},b),s);return S.createElement(S.Fragment,null,u&&S.createElement(w,{sideCar:dF,removeScrollBar:c,shards:d,noIsolation:p,inert:m,setCallbacks:i,allowPinchZoom:!!g,lockRef:n,gapMode:v}),o?S.cloneElement(S.Children.only(a),xi(xi({},C),{ref:T})):S.createElement(x,xi({},C,{className:l,ref:T}),a))});J0.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};J0.classNames={fullWidth:Cm,zeroRight:Em};var xre=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function bre(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=xre();return e&&t.setAttribute("nonce",e),t}function Sre(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function wre(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var Tre=function(){var t=0,e=null;return{add:function(n){t==0&&(e=bre())&&(Sre(e,n),wre(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},Ere=function(){var t=Tre();return function(e,n){S.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},fF=function(){var t=Ere(),e=function(n){var r=n.styles,s=n.dynamic;return t(r,s),null};return e},Cre={left:0,top:0,right:0,gap:0},Zv=function(t){return parseInt(t||"",10)||0},kre=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],s=e[t==="padding"?"paddingRight":"marginRight"];return[Zv(n),Zv(r),Zv(s)]},Are=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return Cre;var e=kre(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},Rre=fF(),Vc="data-scroll-locked",_re=function(t,e,n,r){var s=t.left,i=t.top,o=t.right,a=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(yre,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(a,"px ").concat(r,`;
  }
  body[`).concat(Vc,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(a,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Em,` {
    right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(Cm,` {
    margin-right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(Em," .").concat(Em,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Cm," .").concat(Cm,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(Vc,`] {
    `).concat(vre,": ").concat(a,`px;
  }
`)},AA=function(){var t=parseInt(document.body.getAttribute(Vc)||"0",10);return isFinite(t)?t:0},Lre=function(){S.useEffect(function(){return document.body.setAttribute(Vc,(AA()+1).toString()),function(){var t=AA()-1;t<=0?document.body.removeAttribute(Vc):document.body.setAttribute(Vc,t.toString())}},[])},Pre=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,s=r===void 0?"margin":r;Lre();var i=S.useMemo(function(){return Are(s)},[s]);return S.createElement(Rre,{styles:_re(i,!e,s,n?"":"!important")})},k1=!1;if(typeof window<"u")try{var vp=Object.defineProperty({},"passive",{get:function(){return k1=!0,!0}});window.addEventListener("test",vp,vp),window.removeEventListener("test",vp,vp)}catch{k1=!1}var ql=k1?{passive:!1}:!1,Ire=function(t){return t.tagName==="TEXTAREA"},hF=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!Ire(t)&&n[e]==="visible")},Dre=function(t){return hF(t,"overflowY")},Mre=function(t){return hF(t,"overflowX")},RA=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var s=pF(t,r);if(s){var i=mF(t,r),o=i[1],a=i[2];if(o>a)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},Ore=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},Fre=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},pF=function(t,e){return t==="v"?Dre(e):Mre(e)},mF=function(t,e){return t==="v"?Ore(e):Fre(e)},Nre=function(t,e){return t==="h"&&e==="rtl"?-1:1},jre=function(t,e,n,r,s){var i=Nre(t,window.getComputedStyle(e).direction),o=i*r,a=n.target,l=e.contains(a),c=!1,u=o>0,d=0,f=0;do{var p=mF(t,a),m=p[0],g=p[1],y=p[2],x=g-y-i*m;(m||x)&&pF(t,a)&&(d+=x,f+=m),a instanceof ShadowRoot?a=a.host:a=a.parentNode}while(!l&&a!==document.body||l&&(e.contains(a)||e===a));return(u&&(Math.abs(d)<1||!s)||!u&&(Math.abs(f)<1||!s))&&(c=!0),c},xp=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},_A=function(t){return[t.deltaX,t.deltaY]},LA=function(t){return t&&"current"in t?t.current:t},Bre=function(t,e){return t[0]===e[0]&&t[1]===e[1]},$re=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},zre=0,Xl=[];function Ure(t){var e=S.useRef([]),n=S.useRef([0,0]),r=S.useRef(),s=S.useState(zre++)[0],i=S.useState(fF)[0],o=S.useRef(t);S.useEffect(function(){o.current=t},[t]),S.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(s));var g=JJ([t.lockRef.current],(t.shards||[]).map(LA),!0).filter(Boolean);return g.forEach(function(y){return y.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),g.forEach(function(y){return y.classList.remove("allow-interactivity-".concat(s))})}}},[t.inert,t.lockRef.current,t.shards]);var a=S.useCallback(function(g,y){if("touches"in g&&g.touches.length===2||g.type==="wheel"&&g.ctrlKey)return!o.current.allowPinchZoom;var x=xp(g),v=n.current,b="deltaX"in g?g.deltaX:v[0]-x[0],w="deltaY"in g?g.deltaY:v[1]-x[1],T,C=g.target,E=Math.abs(b)>Math.abs(w)?"h":"v";if("touches"in g&&E==="h"&&C.type==="range")return!1;var k=RA(E,C);if(!k)return!0;if(k?T=E:(T=E==="v"?"h":"v",k=RA(E,C)),!k)return!1;if(!r.current&&"changedTouches"in g&&(b||w)&&(r.current=T),!T)return!0;var A=r.current||T;return jre(A,y,g,A==="h"?b:w,!0)},[]),l=S.useCallback(function(g){var y=g;if(!(!Xl.length||Xl[Xl.length-1]!==i)){var x="deltaY"in y?_A(y):xp(y),v=e.current.filter(function(T){return T.name===y.type&&(T.target===y.target||y.target===T.shadowParent)&&Bre(T.delta,x)})[0];if(v&&v.should){y.cancelable&&y.preventDefault();return}if(!v){var b=(o.current.shards||[]).map(LA).filter(Boolean).filter(function(T){return T.contains(y.target)}),w=b.length>0?a(y,b[0]):!o.current.noIsolation;w&&y.cancelable&&y.preventDefault()}}},[]),c=S.useCallback(function(g,y,x,v){var b={name:g,delta:y,target:x,should:v,shadowParent:Vre(x)};e.current.push(b),setTimeout(function(){e.current=e.current.filter(function(w){return w!==b})},1)},[]),u=S.useCallback(function(g){n.current=xp(g),r.current=void 0},[]),d=S.useCallback(function(g){c(g.type,_A(g),g.target,a(g,t.lockRef.current))},[]),f=S.useCallback(function(g){c(g.type,xp(g),g.target,a(g,t.lockRef.current))},[]);S.useEffect(function(){return Xl.push(i),t.setCallbacks({onScrollCapture:d,onWheelCapture:d,onTouchMoveCapture:f}),document.addEventListener("wheel",l,ql),document.addEventListener("touchmove",l,ql),document.addEventListener("touchstart",u,ql),function(){Xl=Xl.filter(function(g){return g!==i}),document.removeEventListener("wheel",l,ql),document.removeEventListener("touchmove",l,ql),document.removeEventListener("touchstart",u,ql)}},[]);var p=t.removeScrollBar,m=t.inert;return S.createElement(S.Fragment,null,m?S.createElement(i,{styles:$re(s)}):null,p?S.createElement(Pre,{gapMode:t.gapMode}):null)}function Vre(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const Wre=eee(dF,Ure);var gF=S.forwardRef(function(t,e){return S.createElement(J0,xi({},t,{ref:e,sideCar:Wre}))});gF.classNames=J0.classNames;function yF(t){const{autoFocus:e,trapFocus:n,dialogRef:r,initialFocusRef:s,blockScrollOnMount:i,allowPinchZoom:o,finalFocusRef:a,returnFocusOnClose:l,preserveScrollBarGap:c,lockFocusAcrossFrames:u,isOpen:d}=la(),[f,p]=k4();S.useEffect(()=>{!f&&p&&setTimeout(p)},[f,p]);const m=uF(r,d);return h.jsx(WO,{autoFocus:e,isDisabled:!n,initialFocusRef:s,finalFocusRef:a,restoreFocus:l,contentRef:r,lockFocusAcrossFrames:u,children:h.jsx(gF,{removeScrollBar:!c,allowPinchZoom:o,enabled:m===1&&i,forwardProps:!0,children:t.children})})}const Hre={initial:({offsetX:t,offsetY:e,transition:n,transitionEnd:r,delay:s})=>({opacity:0,x:t,y:e,transition:(n==null?void 0:n.exit)??Zs.exit(ll.exit,s),transitionEnd:r==null?void 0:r.exit}),enter:({transition:t,transitionEnd:e,delay:n})=>({opacity:1,x:0,y:0,transition:(t==null?void 0:t.enter)??Zs.enter(ll.enter,n),transitionEnd:e==null?void 0:e.enter}),exit:({offsetY:t,offsetX:e,transition:n,transitionEnd:r,reverse:s,delay:i})=>{const o={x:e,y:t};return{opacity:0,transition:(n==null?void 0:n.exit)??Zs.exit(ll.exit,i),...s?{...o,transitionEnd:r==null?void 0:r.exit}:{transitionEnd:{...o,...r==null?void 0:r.exit}}}}},kd={initial:"initial",animate:"enter",exit:"exit",variants:Hre},Gre=S.forwardRef(function(e,n){const{unmountOnExit:r,in:s,reverse:i=!0,className:o,offsetX:a=0,offsetY:l=8,transition:c,transitionEnd:u,delay:d,animatePresenceProps:f,...p}=e,m=r?s&&r:!0,g=s||r?"enter":"exit",y={offsetX:a,offsetY:l,reverse:i,transition:c,transitionEnd:u,delay:d};return h.jsx(va,{...f,custom:y,children:m&&h.jsx(Di.div,{ref:n,className:Ee("chakra-offset-slide",o),custom:y,...kd,animate:g,...p})})});Gre.displayName="SlideFade";const Kre={exit:({reverse:t,initialScale:e,transition:n,transitionEnd:r,delay:s})=>({opacity:0,...t?{scale:e,transitionEnd:r==null?void 0:r.exit}:{transitionEnd:{scale:e,...r==null?void 0:r.exit}},transition:(n==null?void 0:n.exit)??Zs.exit(ll.exit,s)}),enter:({transitionEnd:t,transition:e,delay:n})=>({opacity:1,scale:1,transition:(e==null?void 0:e.enter)??Zs.enter(ll.enter,n),transitionEnd:t==null?void 0:t.enter})},vF={initial:"exit",animate:"enter",exit:"exit",variants:Kre},xF=S.forwardRef(function(e,n){const{unmountOnExit:r,in:s,reverse:i=!0,initialScale:o=.95,className:a,transition:l,transitionEnd:c,delay:u,animatePresenceProps:d,...f}=e,p=r?s&&r:!0,m=s||r?"enter":"exit",g={initialScale:o,reverse:i,transition:l,transitionEnd:c,delay:u};return h.jsx(va,{...d,custom:g,children:p&&h.jsx(Di.div,{ref:n,className:Ee("chakra-offset-slide",a),...vF,animate:m,custom:g,...f})})});xF.displayName="ScaleFade";const Yre={slideInBottom:{...kd,custom:{offsetY:16,reverse:!0}},slideInRight:{...kd,custom:{offsetX:16,reverse:!0}},slideInTop:{...kd,custom:{offsetY:-16,reverse:!0}},slideInLeft:{...kd,custom:{offsetX:-16,reverse:!0}},scale:{...vF,custom:{initialScale:.95,reverse:!0}},none:{}},qre=ae(Di.section),Xre=t=>Yre[t||"none"],bF=S.forwardRef((t,e)=>{const{preset:n,motionProps:r=Xre(n),...s}=t;return h.jsx(qre,{ref:e,...r,...s})});bF.displayName="ModalTransition";const Ah=he((t,e)=>{const{className:n,children:r,containerProps:s,motionProps:i,...o}=t,{getDialogProps:a,getDialogContainerProps:l}=la(),c=a(o,e),u=l(s),d=Ee("chakra-modal__content",n),f=Ml(),p={display:"flex",flexDirection:"column",position:"relative",width:"100%",outline:0,...f.dialog},m={display:"flex",width:"100vw",height:"$100vh",position:"fixed",left:0,top:0,...f.dialogContainer},{motionPreset:g}=la();return h.jsx(yF,{children:h.jsx(ae.div,{...u,className:"chakra-modal__content-container",tabIndex:-1,__css:m,children:h.jsx(bF,{preset:g,motionProps:i,className:d,...c,__css:p,children:r})})})});Ah.displayName="ModalContent";const Lu=he((t,e)=>{const{className:n,...r}=t,{bodyId:s,setBodyMounted:i}=la();S.useEffect(()=>(i(!0),()=>i(!1)),[i]);const o=Ee("chakra-modal__body",n),a=Ml();return h.jsx(ae.div,{ref:e,className:o,id:s,...r,__css:a.body})});Lu.displayName="ModalBody";const Pu=he((t,e)=>{const{onClick:n,className:r,...s}=t,{onClose:i}=la(),o=Ee("chakra-modal__close-btn",r),a=Ml();return h.jsx(oT,{ref:e,__css:a.closeButton,className:o,onClick:rt(n,l=>{l.stopPropagation(),i()}),...s})});Pu.displayName="ModalCloseButton";const LT=he((t,e)=>{const{className:n,...r}=t,s=Ee("chakra-modal__footer",n),i=Ml(),o={display:"flex",alignItems:"center",justifyContent:"flex-end",...i.footer};return h.jsx(ae.footer,{ref:e,...r,__css:o,className:s})});LT.displayName="ModalFooter";const ey=he((t,e)=>{const{className:n,...r}=t,{headerId:s,setHeaderMounted:i}=la();S.useEffect(()=>(i(!0),()=>i(!1)),[i]);const o=Ee("chakra-modal__header",n),a=Ml(),l={flex:0,...a.header};return h.jsx(ae.header,{ref:e,className:o,id:s,...r,__css:l})});ey.displayName="ModalHeader";const Qre={enter:({transition:t,transitionEnd:e,delay:n}={})=>({opacity:1,transition:(t==null?void 0:t.enter)??Zs.enter(ll.enter,n),transitionEnd:e==null?void 0:e.enter}),exit:({transition:t,transitionEnd:e,delay:n}={})=>({opacity:0,transition:(t==null?void 0:t.exit)??Zs.exit(ll.exit,n),transitionEnd:e==null?void 0:e.exit})},SF={initial:"exit",animate:"enter",exit:"exit",variants:Qre},Zre=S.forwardRef(function(e,n){const{unmountOnExit:r,in:s,className:i,transition:o,transitionEnd:a,delay:l,animatePresenceProps:c,...u}=e,d=s||r?"enter":"exit",f=r?s&&r:!0,p={transition:o,transitionEnd:a,delay:l};return h.jsx(va,{...c,custom:p,children:f&&h.jsx(Di.div,{ref:n,className:Ee("chakra-fade",i),custom:p,...SF,animate:d,...u})})});Zre.displayName="Fade";const Jre=ae(Di.div),Iu=he((t,e)=>{const{className:n,transition:r,motionProps:s,...i}=t,o=Ee("chakra-modal__overlay",n),l={pos:"fixed",left:"0",top:"0",w:"100vw",h:"100vh",...Ml().overlay},{motionPreset:c}=la(),d=s||(c==="none"?{}:SF);return h.jsx(Jre,{...d,__css:l,ref:e,className:o,...i})});Iu.displayName="ModalOverlay";const[ese,tse]=Zt(),nse={start:{ltr:"left",rtl:"right"},end:{ltr:"right",rtl:"left"}};function rse(t,e){var n;if(t)return((n=nse[t])==null?void 0:n[e])??t}function sse(t){var c;const{isOpen:e,onClose:n,placement:r="right",children:s,...i}=t,o=vo(),a=(c=o.components)==null?void 0:c.Drawer,l=rse(r,o.direction);return h.jsx(ese,{value:{placement:l},children:h.jsx(_u,{isOpen:e,onClose:n,styleConfig:a,...i,children:s})})}const PA={exit:{duration:.15,ease:Xa.easeInOut},enter:{type:"spring",damping:25,stiffness:180}},ise={exit:({direction:t,transition:e,transitionEnd:n,delay:r})=>{const{exit:s}=u1({direction:t});return{...s,transition:(e==null?void 0:e.exit)??Zs.exit(PA.exit,r),transitionEnd:n==null?void 0:n.exit}},enter:({direction:t,transitionEnd:e,transition:n,delay:r})=>{const{enter:s}=u1({direction:t});return{...s,transition:(n==null?void 0:n.enter)??Zs.enter(PA.enter,r),transitionEnd:e==null?void 0:e.enter}}},wF=S.forwardRef(function(e,n){const{direction:r="right",style:s,unmountOnExit:i,in:o,className:a,transition:l,transitionEnd:c,delay:u,motionProps:d,animatePresenceProps:f,...p}=e,m=u1({direction:r}),g=Object.assign({position:"fixed"},m.position,s),y=i?o&&i:!0,x=o||i?"enter":"exit",v={transitionEnd:c,transition:l,direction:r,delay:u};return h.jsx(va,{...f,custom:v,children:y&&h.jsx(Di.div,{...p,ref:n,initial:"exit",className:Ee("chakra-slide",a),animate:x,exit:"exit",custom:v,variants:ise,style:g,...d})})});wF.displayName="Slide";const ose=ae(wF),TF=he((t,e)=>{const{className:n,children:r,motionProps:s,containerProps:i,...o}=t,{getDialogProps:a,getDialogContainerProps:l,isOpen:c}=la(),u=a(o,e),d=l(i),f=Ee("chakra-modal__content",n),p=Ml(),m={display:"flex",flexDirection:"column",position:"relative",width:"100%",outline:0,...p.dialog},g={display:"flex",width:"100vw",height:"$100vh",position:"fixed",left:0,top:0,...p.dialogContainer},{placement:y}=tse();return h.jsx(yF,{children:h.jsx(ae.div,{...d,className:"chakra-modal__content-container",__css:g,children:h.jsx(ose,{motionProps:s,direction:y,in:c,className:f,...u,__css:m,children:r})})})});TF.displayName="DrawerContent";const A1=t=>h.jsx(ae.circle,{cx:50,cy:50,r:42,fill:"transparent",...t});A1.displayName="Circle";function ase(t,e,n){return(t-e)*100/(n-e)}const lse=Pl({"0%":{strokeDasharray:"1, 400",strokeDashoffset:"0"},"50%":{strokeDasharray:"400, 400",strokeDashoffset:"-100"},"100%":{strokeDasharray:"400, 400",strokeDashoffset:"-260"}}),cse=Pl({"0%":{transform:"rotate(0deg)"},"100%":{transform:"rotate(360deg)"}});Pl({"0%":{left:"-40%"},"100%":{left:"100%"}});Pl({from:{backgroundPosition:"1rem 0"},to:{backgroundPosition:"0 0"}});function use(t){const{value:e=0,min:n,max:r,valueText:s,getValueText:i,isIndeterminate:o,role:a="progressbar"}=t,l=ase(e,n,r);return{bind:{"data-indeterminate":o?"":void 0,"aria-valuemax":r,"aria-valuemin":n,"aria-valuenow":o?void 0:e,"aria-valuetext":(()=>{if(e!=null)return typeof i=="function"?i(e,l):s})(),role:a},percent:l,value:e}}const EF=t=>{const{size:e,isIndeterminate:n,...r}=t;return h.jsx(ae.svg,{viewBox:"0 0 100 100",__css:{width:e,height:e,animation:n?`${cse} 2s linear infinite`:void 0},...r})};EF.displayName="Shape";const PT=he((t,e)=>{const{size:n="48px",max:r=100,min:s=0,valueText:i,getValueText:o,value:a,capIsRound:l,children:c,thickness:u="10px",color:d="#0078d4",trackColor:f="#edebe9",isIndeterminate:p,...m}=t,g=use({min:s,max:r,value:a,valueText:i,getValueText:o,isIndeterminate:p}),y=p?void 0:(g.percent??0)*2.64,x=y==null?void 0:`${y} ${264-y}`,v=p?{css:{animation:`${lse} 1.5s linear infinite`}}:{strokeDashoffset:66,strokeDasharray:x,transitionProperty:"stroke-dasharray, stroke",transitionDuration:"0.6s",transitionTimingFunction:"ease"},b={display:"inline-block",position:"relative",verticalAlign:"middle",fontSize:n};return h.jsxs(ae.div,{ref:e,className:"chakra-progress",...g.bind,...m,__css:b,children:[h.jsxs(EF,{size:n,isIndeterminate:p,children:[h.jsx(A1,{stroke:f,strokeWidth:u,className:"chakra-progress__track"}),h.jsx(A1,{stroke:d,strokeWidth:u,className:"chakra-progress__indicator",strokeLinecap:l?"round":void 0,opacity:g.value===0&&!p?0:void 0,...v})]}),c]})});PT.displayName="CircularProgress";const IT=ae("div",{baseStyle:{fontSize:"0.24em",top:"50%",left:"50%",width:"100%",textAlign:"center",position:"absolute",transform:"translate(-50%, -50%)"}});IT.displayName="CircularProgressLabel";const CF=he(function(e,n){const{children:r,placeholder:s,className:i,...o}=e;return h.jsxs(ae.select,{...o,ref:n,className:Ee("chakra-select",i),children:[s&&h.jsx("option",{value:"",children:s}),r]})});CF.displayName="SelectField";const Pr=he((t,e)=>{var b;const n=Is("Select",t),{rootProps:r,placeholder:s,icon:i,color:o,height:a,h:l,minH:c,minHeight:u,iconColor:d,iconSize:f,...p}=Ht(t),[m,g]=B$(p,Yz),y=cT(g),x={width:"100%",height:"fit-content",position:"relative",color:o},v={paddingEnd:"2rem",...n.field,_focus:{zIndex:"unset",...(b=n.field)==null?void 0:b._focus}};return h.jsxs(ae.div,{className:"chakra-select__wrapper",__css:x,...m,...r,children:[h.jsx(CF,{ref:e,height:l??a,minH:c??u,placeholder:s,...y,__css:v,children:t.children}),h.jsx(kF,{"data-disabled":Be(y.disabled),...(d||o)&&{color:d||o},__css:n.icon,...f&&{fontSize:f},children:i})]})});Pr.displayName="Select";const dse=t=>h.jsx("svg",{viewBox:"0 0 24 24",...t,children:h.jsx("path",{fill:"currentColor",d:"M16.59 8.59L12 13.17 7.41 8.59 6 10l6 6 6-6z"})}),fse=ae("div",{baseStyle:{position:"absolute",display:"inline-flex",alignItems:"center",justifyContent:"center",pointerEvents:"none",top:"50%",transform:"translateY(-50%)"}}),kF=t=>{const{children:e=h.jsx(dse,{}),...n}=t,r=S.cloneElement(e,{role:"presentation",className:"chakra-select__icon",focusable:!1,"aria-hidden":!0,style:{width:"1em",height:"1em",color:"currentColor"}});return h.jsx(fse,{...n,className:"chakra-select__icon-wrapper",children:S.isValidElement(e)?r:null})};kF.displayName="SelectIcon";function hse(){const t=S.useRef(!0);return S.useEffect(()=>{t.current=!1},[]),t.current}const pse=ae("div",{baseStyle:{boxShadow:"none",backgroundClip:"padding-box",cursor:"default",color:"transparent",pointerEvents:"none",userSelect:"none","&::before, &::after, *":{visibility:"hidden"}}}),R1=Re("skeleton-start-color"),_1=Re("skeleton-end-color"),mse=Pl({from:{opacity:0},to:{opacity:1}}),gse=Pl({from:{borderColor:R1.reference,background:R1.reference},to:{borderColor:_1.reference,background:_1.reference}}),es=he((t,e)=>{const n={...t,fadeDuration:typeof t.fadeDuration=="number"?t.fadeDuration:.4,speed:typeof t.speed=="number"?t.speed:.8},r=Nr("Skeleton",n),s=hse(),{startColor:i="",endColor:o="",isLoaded:a,fadeDuration:l,speed:c,className:u,fitContent:d,animation:f,...p}=Ht(n),[m,g]=NZ("colors",[i,o]),y=Q$(a),x=Ee("chakra-skeleton",u),v={...m&&{[R1.variable]:m},...g&&{[_1.variable]:g}};if(a){const b=s||y?"none":`${mse} ${l}s`;return h.jsx(ae.div,{ref:e,className:x,__css:{animation:b},...p})}return h.jsx(pse,{ref:e,className:x,...p,__css:{width:d?"fit-content":void 0,...r,...v,_dark:{...r._dark,...v},animation:f||`${c}s linear infinite alternate ${gse}`}})});es.displayName="Skeleton";function Jv(t){const{orientation:e,vertical:n,horizontal:r}=t;return e==="vertical"?n:r}function yse(t){const{orientation:e,thumbPercents:n,isReversed:r}=t,s=p=>({position:"absolute",userSelect:"none",WebkitUserSelect:"none",MozUserSelect:"none",msUserSelect:"none",touchAction:"none",...Jv({orientation:e,vertical:{bottom:`${n[p]}%`},horizontal:{left:`${n[p]}%`}})}),i={position:"relative",touchAction:"none",WebkitTapHighlightColor:"rgba(0,0,0,0)",userSelect:"none",outline:0},o={position:"absolute",...Jv({orientation:e,vertical:{left:"50%",transform:"translateX(-50%)",height:"100%"},horizontal:{top:"50%",transform:"translateY(-50%)",width:"100%"}})},a=n.length===1,l=[0,r?100-n[0]:n[0]],c=a?l:n;let u=c[0];!a&&r&&(u=100-u);const d=Math.abs(c[c.length-1]-c[0]),f={...o,...Jv({orientation:e,vertical:r?{height:`${d}%`,top:`${u}%`}:{height:`${d}%`,bottom:`${u}%`},horizontal:r?{width:`${d}%`,right:`${u}%`}:{width:`${d}%`,left:`${u}%`}})};return{trackStyle:o,innerTrackStyle:f,rootStyle:i,getThumbStyle:s}}function vse(t){const{isReversed:e,direction:n,orientation:r}=t;return n==="ltr"||r==="vertical"?e:!e}function xse(t){const{min:e=0,max:n=100,onChange:r,value:s,defaultValue:i,isReversed:o,direction:a="ltr",orientation:l="horizontal",id:c,isDisabled:u,isReadOnly:d,onChangeStart:f,onChangeEnd:p,step:m=1,getAriaValueText:g,"aria-valuetext":y,"aria-label":x,"aria-labelledby":v,name:b,focusThumbOnChange:w=!0,...T}=t,C=Rr(f),E=Rr(p),k=Rr(g),A=vse({isReversed:o,direction:a,orientation:l}),[R,L]=TD({value:s,defaultValue:i??Sse(e,n),onChange:r}),[D,M]=S.useState(!1),[B,V]=S.useState(!1),O=!(u||d),I=(n-e)/10,N=m||(n-e)/100,j=av(R,e,n),K=n-j+e,ne=lC(A?K:j,e,n),q=l==="vertical",ee=ED({min:e,max:n,step:m,isDisabled:u,value:j,isInteractive:O,isReversed:A,isVertical:q,eventSource:null,focusThumbOnChange:w,orientation:l}),ce=S.useRef(null),Y=S.useRef(null),ue=S.useRef(null),Ae=S.useId(),Ge=c??Ae,[it,Fe]=[`slider-thumb-${Ge}`,`slider-track-${Ge}`],je=S.useCallback(pe=>{var wa;if(!ce.current)return;const Ie=ee.current;Ie.eventSource="pointer";const xn=ce.current.getBoundingClientRect(),{clientX:Ds,clientY:Ms}=((wa=pe.touches)==null?void 0:wa[0])??pe,gr=q?xn.bottom-Ms:Ds-xn.left,bo=q?xn.height:xn.width;let So=gr/bo;A&&(So=1-So);let Br=M$(So,Ie.min,Ie.max);return Ie.step&&(Br=parseFloat(cC(Br,Ie.min,Ie.step))),Br=av(Br,Ie.min,Ie.max),Br},[q,A,ee]),Ke=S.useCallback(pe=>{const Ie=ee.current;Ie.isInteractive&&(pe=parseFloat(cC(pe,Ie.min,N)),pe=av(pe,Ie.min,Ie.max),L(pe))},[N,L,ee]),Nt=S.useMemo(()=>({stepUp(pe=N){const Ie=A?j-pe:j+pe;Ke(Ie)},stepDown(pe=N){const Ie=A?j+pe:j-pe;Ke(Ie)},reset(){Ke(i||0)},stepTo(pe){Ke(pe)}}),[Ke,A,j,N,i]),Ce=S.useCallback(pe=>{const Ie=ee.current,Ds={ArrowRight:()=>Nt.stepUp(),ArrowUp:()=>Nt.stepUp(),ArrowLeft:()=>Nt.stepDown(),ArrowDown:()=>Nt.stepDown(),PageUp:()=>Nt.stepUp(I),PageDown:()=>Nt.stepDown(I),Home:()=>Ke(Ie.min),End:()=>Ke(Ie.max)}[pe.key];Ds&&(pe.preventDefault(),pe.stopPropagation(),Ds(pe),Ie.eventSource="keyboard")},[Nt,Ke,I,ee]),ot=(k==null?void 0:k(j))??y,{getThumbStyle:wt,rootStyle:sn,trackStyle:Wn,innerTrackStyle:fn}=S.useMemo(()=>{const pe=ee.current;return yse({isReversed:A,orientation:pe.orientation,thumbPercents:[ne]})},[A,ne,ee]),jr=S.useCallback(()=>{ee.current.focusThumbOnChange&&setTimeout(()=>{var Ie;return(Ie=Y.current)==null?void 0:Ie.focus()})},[ee]);bl(()=>{const pe=ee.current;jr(),pe.eventSource==="keyboard"&&(E==null||E(pe.value))},[j,E]);function ss(pe){const Ie=je(pe);Ie!=null&&Ie!==ee.current.value&&L(Ie)}hz(ue,{onPanSessionStart(pe){const Ie=ee.current;Ie.isInteractive&&(M(!0),jr(),ss(pe),C==null||C(Ie.value))},onPanSessionEnd(){const pe=ee.current;pe.isInteractive&&(M(!1),E==null||E(pe.value))},onPan(pe){ee.current.isInteractive&&ss(pe)}});const on=S.useCallback((pe={},Ie=null)=>({...pe,...T,ref:Cn(Ie,ue),tabIndex:-1,"aria-disabled":Dc(u),"data-focused":Be(B),style:{...pe.style,...sn}}),[T,u,B,sn]),mr=S.useCallback((pe={},Ie=null)=>({...pe,ref:Cn(Ie,ce),id:Fe,"data-disabled":Be(u),style:{...pe.style,...Wn}}),[u,Fe,Wn]),ti=S.useCallback((pe={},Ie=null)=>({...pe,ref:Ie,style:{...pe.style,...fn}}),[fn]),ni=S.useCallback((pe={},Ie=null)=>({...pe,ref:Cn(Ie,Y),role:"slider",tabIndex:O?0:void 0,id:it,"data-active":Be(D),"aria-valuetext":ot,"aria-valuemin":e,"aria-valuemax":n,"aria-valuenow":j,"aria-orientation":l,"aria-disabled":Dc(u),"aria-readonly":Dc(d),"aria-label":x,"aria-labelledby":x?void 0:v,style:{...pe.style,...wt(0)},onKeyDown:rt(pe.onKeyDown,Ce),onFocus:rt(pe.onFocus,()=>V(!0)),onBlur:rt(pe.onBlur,()=>V(!1))}),[O,it,D,ot,e,n,j,l,u,d,x,v,wt,Ce]),nr=S.useCallback((pe,Ie=null)=>{const xn=!(pe.value<e||pe.value>n),Ds=j>=pe.value,Ms=lC(pe.value,e,n),gr={position:"absolute",pointerEvents:"none",...bse({orientation:l,vertical:{bottom:A?`${100-Ms}%`:`${Ms}%`},horizontal:{left:A?`${100-Ms}%`:`${Ms}%`}})};return{...pe,ref:Ie,role:"presentation","aria-hidden":!0,"data-disabled":Be(u),"data-invalid":Be(!xn),"data-highlighted":Be(Ds),style:{...pe.style,...gr}}},[u,A,n,e,l,j]),vn=S.useCallback((pe={},Ie=null)=>({...pe,ref:Ie,type:"hidden",value:j,name:b}),[b,j]);return{state:{value:j,isFocused:B,isDragging:D},actions:Nt,getRootProps:on,getTrackProps:mr,getInnerTrackProps:ti,getThumbProps:ni,getMarkerProps:nr,getInputProps:vn}}function bse(t){const{orientation:e,vertical:n,horizontal:r}=t;return e==="vertical"?n:r}function Sse(t,e){return e<t?t:t+(e-t)/2}const[wse,ty]=Zt({name:"SliderContext",hookName:"useSliderContext",providerName:"<Slider />"}),[Tse,ny]=Zt({name:"SliderStylesContext",hookName:"useSliderStyles",providerName:"<Slider />"}),L1=he((t,e)=>{const n={...t,orientation:(t==null?void 0:t.orientation)??"horizontal"},r=Is("Slider",n),s=Ht(n),{direction:i}=vo();s.direction=i;const{getInputProps:o,getRootProps:a,...l}=xse(s),c=a(),u=o({},e);return h.jsx(wse,{value:l,children:h.jsx(Tse,{value:r,children:h.jsxs(ae.div,{...c,className:Ee("chakra-slider",n.className),__css:r.container,children:[n.children,h.jsx("input",{...u})]})})})});L1.displayName="Slider";const P1=he((t,e)=>{const{getThumbProps:n}=ty(),r=ny(),s=n(t,e);return h.jsx(ae.div,{...s,className:Ee("chakra-slider__thumb",t.className),__css:r.thumb})});P1.displayName="SliderThumb";const I1=he((t,e)=>{const{getTrackProps:n}=ty(),r=ny(),s=n(t,e);return h.jsx(ae.div,{...s,className:Ee("chakra-slider__track",t.className),__css:r.track})});I1.displayName="SliderTrack";const AF=he((t,e)=>{const{getInnerTrackProps:n}=ty(),r=ny(),s=n(t,e);return h.jsx(ae.div,{...s,className:Ee("chakra-slider__filled-track",t.className),__css:r.filledTrack})});AF.displayName="SliderFilledTrack";const Ese=he((t,e)=>{const{getMarkerProps:n}=ty(),r=ny(),s=n(t,e);return h.jsx(ae.div,{...s,className:Ee("chakra-slider__marker",t.className),__css:r.mark})});Ese.displayName="SliderMark";const Ho=ae("div",{baseStyle:{flex:1,justifySelf:"stretch",alignSelf:"stretch"}});Ho.displayName="Spacer";const RF=t=>h.jsx(ae.div,{className:"chakra-stack__item",...t,__css:{display:"inline-block",flex:"0 0 auto",minWidth:0,...t.__css}});RF.displayName="StackItem";function Cse(t){const{spacing:e,direction:n}=t,r={column:{my:e,mx:0,borderLeftWidth:0,borderBottomWidth:"1px"},"column-reverse":{my:e,mx:0,borderLeftWidth:0,borderBottomWidth:"1px"},row:{mx:e,my:0,borderLeftWidth:"1px",borderBottomWidth:0},"row-reverse":{mx:e,my:0,borderLeftWidth:"1px",borderBottomWidth:0}};return{"&":xw(n,s=>r[s])}}const Fr=he((t,e)=>{const{isInline:n,direction:r,align:s,justify:i,spacing:o="0.5rem",wrap:a,children:l,divider:c,className:u,shouldWrapChildren:d,...f}=t,p=n?"row":r??"column",m=S.useMemo(()=>Cse({spacing:o,direction:p}),[o,p]),g=!!c,y=!d&&!g,x=S.useMemo(()=>{const b=mD(l);return y?b:b.map((w,T)=>{const C=typeof w.key<"u"?w.key:T,E=T+1===b.length,A=d?h.jsx(RF,{children:w},C):w;if(!g)return A;const R=S.cloneElement(c,{__css:m}),L=E?null:R;return h.jsxs(S.Fragment,{children:[A,L]},C)})},[c,m,g,y,d,l]),v=Ee("chakra-stack",u);return h.jsx(ae.div,{ref:e,display:"flex",alignItems:s,justifyContent:i,flexDirection:p,flexWrap:a,gap:g?void 0:o,className:v,...f,children:x})});Fr.displayName="Stack";const pt=he((t,e)=>h.jsx(Fr,{align:"center",...t,direction:"row",ref:e}));pt.displayName="HStack";const _F=t=>h.jsx(ae.div,{className:"chakra-stack__divider",...t,__css:{...t.__css,borderWidth:0,alignSelf:"stretch",borderColor:"inherit",width:"auto",height:"auto"}});_F.displayName="StackDivider";const He=he((t,e)=>h.jsx(Fr,{align:"center",...t,direction:"column",ref:e}));He.displayName="VStack";const fu=he(function(e,n){const r=Is("Switch",e),{spacing:s="0.5rem",children:i,...o}=Ht(e),{getIndicatorProps:a,getInputProps:l,getCheckboxProps:c,getRootProps:u,getLabelProps:d}=FJ(o),f=S.useMemo(()=>({display:"inline-block",position:"relative",verticalAlign:"middle",lineHeight:0,...r.container}),[r.container]),p=S.useMemo(()=>({display:"inline-flex",flexShrink:0,justifyContent:"flex-start",boxSizing:"content-box",cursor:"pointer",...r.track}),[r.track]),m=S.useMemo(()=>({userSelect:"none",marginStart:s,...r.label}),[s,r.label]);return h.jsxs(ae.label,{...u(),className:Ee("chakra-switch",e.className),__css:f,children:[h.jsx("input",{className:"chakra-switch__input",...l({},n)}),h.jsx(ae.span,{...c(),className:"chakra-switch__track",__css:p,children:h.jsx(ae.span,{__css:r.thumb,className:"chakra-switch__thumb",...a()})}),i&&h.jsx(ae.span,{className:"chakra-switch__label",...d(),__css:m,children:i})]})});fu.displayName="Switch";const[kse,Rh]=Zt({name:"TableStylesContext",errorMessage:`useTableStyles returned is 'undefined'. Seems you forgot to wrap the components in "<Table />" `}),LF=he((t,e)=>{const n=Is("Table",t),{className:r,layout:s,...i}=Ht(t);return h.jsx(kse,{value:n,children:h.jsx(ae.table,{ref:e,__css:{tableLayout:s,...n.table},className:Ee("chakra-table",r),...i})})});LF.displayName="Table";const Ase=he((t,e)=>{const n=Rh();return h.jsx(ae.tbody,{...t,ref:e,__css:n.tbody})}),D1=he(({isNumeric:t,...e},n)=>{const r=Rh();return h.jsx(ae.td,{...e,ref:n,__css:r.td,"data-is-numeric":t})}),ex=he(({isNumeric:t,...e},n)=>{const r=Rh();return h.jsx(ae.th,{...e,ref:n,__css:r.th,"data-is-numeric":t})}),Rse=he((t,e)=>{const n=Rh();return h.jsx(ae.thead,{...t,ref:e,__css:n.thead})}),M1=he((t,e)=>{const n=Rh();return h.jsx(ae.tr,{...t,ref:e,__css:n.tr})}),[_se,Lse,Pse,Ise]=Z4();function Dse(t){const{defaultIndex:e,onChange:n,index:r,isManual:s,isLazy:i,lazyBehavior:o="unmount",orientation:a="horizontal",direction:l="ltr",...c}=t,[u,d]=S.useState(e??0),[f,p]=TD({defaultValue:e??0,value:r,onChange:n});S.useEffect(()=>{r!=null&&d(r)},[r]);const m=Pse(),g=S.useId();return{id:`tabs-${t.id??g}`,selectedIndex:f,focusedIndex:u,setSelectedIndex:p,setFocusedIndex:d,isManual:s,isLazy:i,lazyBehavior:o,orientation:a,descendants:m,direction:l,htmlProps:c}}const[Mse,ry]=Zt({name:"TabsContext",errorMessage:"useTabsContext: `context` is undefined. Seems you forgot to wrap all tabs components within <Tabs />"});function Ose(t){const{focusedIndex:e,orientation:n,direction:r}=ry(),s=Lse(),i=S.useCallback(o=>{const a=()=>{var b;const v=s.nextEnabled(e);v&&((b=v.node)==null||b.focus())},l=()=>{var b;const v=s.prevEnabled(e);v&&((b=v.node)==null||b.focus())},c=()=>{var b;const v=s.firstEnabled();v&&((b=v.node)==null||b.focus())},u=()=>{var b;const v=s.lastEnabled();v&&((b=v.node)==null||b.focus())},d=n==="horizontal",f=n==="vertical",p=o.key,m=r==="ltr"?"ArrowLeft":"ArrowRight",g=r==="ltr"?"ArrowRight":"ArrowLeft",x={[m]:()=>d&&l(),[g]:()=>d&&a(),ArrowDown:()=>f&&a(),ArrowUp:()=>f&&l(),Home:c,End:u}[p];x&&(o.preventDefault(),x(o))},[s,e,n,r]);return{...t,role:"tablist","aria-orientation":n,onKeyDown:rt(t.onKeyDown,i)}}function Fse(t){const{isDisabled:e=!1,isFocusable:n=!1,...r}=t,{setSelectedIndex:s,isManual:i,id:o,setFocusedIndex:a,selectedIndex:l}=ry(),{index:c,register:u}=Ise({disabled:e&&!n}),d=c===l,f=()=>{s(c)},p=()=>{a(c),!i&&!(e&&n)&&s(c)};return{...nF({...r,ref:Cn(u,t.ref),isDisabled:e,isFocusable:n,onClick:rt(t.onClick,f)}),id:PF(o,c),role:"tab",tabIndex:d?0:-1,type:"button","aria-selected":d,"aria-controls":IF(o,c),onFocus:e?void 0:rt(t.onFocus,p)}}const[Nse,jse]=Zt({});function Bse(t){const e=ry(),{id:n,selectedIndex:r}=e,i=mD(t.children).map((o,a)=>S.createElement(Nse,{key:o.key??a,value:{isSelected:a===r,id:IF(n,a),tabId:PF(n,a),selectedIndex:r}},o));return{...t,children:i}}function $se(t){const{children:e,...n}=t,{isLazy:r,lazyBehavior:s}=ry(),{isSelected:i,id:o,tabId:a}=jse(),l=S.useRef(!1);i&&(l.current=!0);const c=xD({wasSelected:l.current,isSelected:i,enabled:r,mode:s});return{tabIndex:0,...n,children:c?e:null,role:"tabpanel","aria-labelledby":a,hidden:!i,id:o}}function PF(t,e){return`${t}--tab-${e}`}function IF(t,e){return`${t}--tabpanel-${e}`}const[zse,sy]=Zt({name:"TabsStylesContext",errorMessage:`useTabsStyles returned is 'undefined'. Seems you forgot to wrap the components in "<Tabs />" `}),Gf=he(function(e,n){const r=Is("Tabs",e),{children:s,className:i,...o}=Ht(e),{htmlProps:a,descendants:l,...c}=Dse(o),u=S.useMemo(()=>c,[c]),{isFitted:d,...f}=a,p={position:"relative",...r.root};return h.jsx(_se,{value:l,children:h.jsx(Mse,{value:u,children:h.jsx(zse,{value:r,children:h.jsx(ae.div,{className:Ee("chakra-tabs",i),ref:n,...f,__css:p,children:s})})})})});Gf.displayName="Tabs";const no=he(function(e,n){const r=sy(),s=Fse({...e,ref:n}),i={outline:"0",display:"flex",alignItems:"center",justifyContent:"center",...r.tab};return h.jsx(ae.button,{...s,className:Ee("chakra-tabs__tab",e.className),__css:i})});no.displayName="Tab";const Kf=he(function(e,n){const r=Ose({...e,ref:n}),s=sy(),i={display:"flex",...s.tablist};return h.jsx(ae.div,{...r,className:Ee("chakra-tabs__tablist",e.className),__css:i})});Kf.displayName="TabList";const ro=he(function(e,n){const r=$se({...e,ref:n}),s=sy();return h.jsx(ae.div,{outline:"0",...r,className:Ee("chakra-tabs__tab-panel",e.className),__css:s.tabpanel})});ro.displayName="TabPanel";const Yf=he(function(e,n){const r=Bse(e),s=sy();return h.jsx(ae.div,{...r,width:"100%",ref:n,className:Ee("chakra-tabs__tab-panels",e.className),__css:s.tabpanels})});Yf.displayName="TabPanels";const Use=["h","minH","height","minHeight"],DT=he((t,e)=>{const n=Nr("Textarea",t),{className:r,rows:s,...i}=Ht(t),o=cT(i),a=s?ku(n,Use):n;return h.jsx(ae.textarea,{ref:e,rows:s,...o,className:Ee("chakra-textarea",r),__css:a})});DT.displayName="Textarea";function Vse(t,e){const n=t??"bottom",s={"top-start":{ltr:"top-left",rtl:"top-right"},"top-end":{ltr:"top-right",rtl:"top-left"},"bottom-start":{ltr:"bottom-left",rtl:"bottom-right"},"bottom-end":{ltr:"bottom-right",rtl:"bottom-left"}}[n];return(s==null?void 0:s[e])??n}function Wse(t,e){const n=s=>({...e,...s,position:Vse((s==null?void 0:s.position)??(e==null?void 0:e.position),t)}),r=s=>{const i=n(s),o=X4(i);return vi.notify(o,i)};return r.update=(s,i)=>{vi.update(s,n(i))},r.promise=(s,i)=>{const o=r({...i.loading,status:"loading",duration:null});s.then(a=>r.update(o,{status:"success",duration:5e3,...Gr(i.success,a)})).catch(a=>r.update(o,{status:"error",duration:5e3,...Gr(i.error,a)}))},r.closeAll=vi.closeAll,r.close=vi.close,r.isActive=vi.isActive,r}function Du(t){const{theme:e}=U4(),n=nJ();return S.useMemo(()=>Wse(e.direction,{...n,...t}),[t,e.direction,n])}const Hse={exit:{scale:.85,opacity:0,transition:{opacity:{duration:.15,easings:"easeInOut"},scale:{duration:.2,easings:"easeInOut"}}},enter:{scale:1,opacity:1,transition:{opacity:{easings:"easeOut",duration:.2},scale:{duration:.2,ease:[.175,.885,.4,1.1]}}}},O1=t=>{var e;return((e=t.current)==null?void 0:e.ownerDocument)||document},km=t=>{var e,n;return((n=(e=t.current)==null?void 0:e.ownerDocument)==null?void 0:n.defaultView)||window};function Gse(t={}){const{openDelay:e=0,closeDelay:n=0,closeOnClick:r=!0,closeOnMouseDown:s,closeOnScroll:i,closeOnPointerDown:o=s,closeOnEsc:a=!0,onOpen:l,onClose:c,placement:u,id:d,isOpen:f,defaultIsOpen:p,arrowSize:m=10,arrowShadowColor:g,arrowPadding:y,modifiers:x,isDisabled:v,gutter:b,offset:w,direction:T,...C}=t,{isOpen:E,onOpen:k,onClose:A}=fh({isOpen:f,defaultIsOpen:p,onOpen:l,onClose:c}),{referenceRef:R,getPopperProps:L,getArrowInnerProps:D,getArrowProps:M}=tF({enabled:E,placement:u,arrowPadding:y,modifiers:x,gutter:b,offset:w,direction:T}),B=S.useId(),O=`tooltip-${d??B}`,I=S.useRef(null),N=S.useRef(),j=S.useCallback(()=>{N.current&&(clearTimeout(N.current),N.current=void 0)},[]),K=S.useRef(),te=S.useCallback(()=>{K.current&&(clearTimeout(K.current),K.current=void 0)},[]),ne=S.useCallback(()=>{te(),A()},[A,te]),q=Kse(I,ne),ee=S.useCallback(()=>{if(!v&&!N.current){E&&q();const je=km(I);N.current=je.setTimeout(k,e)}},[q,v,E,k,e]),ce=S.useCallback(()=>{j();const je=km(I);K.current=je.setTimeout(ne,n)},[n,ne,j]),Y=S.useCallback(()=>{E&&r&&ce()},[r,ce,E]),ue=S.useCallback(()=>{E&&o&&ce()},[o,ce,E]),Ae=S.useCallback(je=>{E&&je.key==="Escape"&&ce()},[E,ce]);am(()=>O1(I),"keydown",a?Ae:void 0),am(()=>{if(!i)return null;const je=I.current;if(!je)return null;const Ke=wD(je);return Ke.localName==="body"?km(I):Ke},"scroll",()=>{E&&i&&ne()},{passive:!0,capture:!0}),S.useEffect(()=>{v&&(j(),E&&A())},[v,E,A,j]),S.useEffect(()=>()=>{j(),te()},[j,te]),am(()=>I.current,"pointerleave",ce);const Ge=S.useCallback((je={},Ke=null)=>({...je,ref:Cn(I,Ke,R),onPointerEnter:rt(je.onPointerEnter,Ce=>{Ce.pointerType!=="touch"&&ee()}),onClick:rt(je.onClick,Y),onPointerDown:rt(je.onPointerDown,ue),onFocus:rt(je.onFocus,ee),onBlur:rt(je.onBlur,ce),"aria-describedby":E?O:void 0}),[ee,ce,ue,E,O,Y,R]),it=S.useCallback((je={},Ke=null)=>L({...je,style:{...je.style,[$n.arrowSize.var]:m?`${m}px`:void 0,[$n.arrowShadowColor.var]:g}},Ke),[L,m,g]),Fe=S.useCallback((je={},Ke=null)=>{const Nt={...je.style,position:"relative",transformOrigin:$n.transformOrigin.varRef};return{ref:Ke,...C,...je,id:O,role:"tooltip",style:Nt}},[C,O]);return{isOpen:E,show:ee,hide:ce,getTriggerProps:Ge,getTooltipProps:Fe,getTooltipPositionerProps:it,getArrowProps:M,getArrowInnerProps:D}}const tx="chakra-ui:close-tooltip";function Kse(t,e){return S.useEffect(()=>{const n=O1(t);return n.addEventListener(tx,e),()=>n.removeEventListener(tx,e)},[e,t]),()=>{const n=O1(t),r=km(t);n.dispatchEvent(new r.CustomEvent(tx))}}const Yse=ae(Di.div),Qa=he((t,e)=>{const n=Nr("Tooltip",t),r=Ht(t),s=vo(),{children:i,label:o,shouldWrapChildren:a,"aria-label":l,hasArrow:c,bg:u,portalProps:d,background:f,backgroundColor:p,bgColor:m,motionProps:g,animatePresenceProps:y,...x}=r,v=f??p??u??m;if(v){n.bg=v;const R=r9(s,"colors",v);n[$n.arrowBg.var]=R}const b=Gse({...x,direction:s.direction}),w=typeof i=="string"||a;let T;if(w)T=h.jsx(ae.span,{display:"inline-block",tabIndex:0,...b.getTriggerProps(),children:i});else{const R=S.Children.only(i);T=S.cloneElement(R,b.getTriggerProps(R.props,R.ref))}const C=!!l,E=b.getTooltipProps({},e),k=C?ku(E,["role","id"]):E,A=bD(E,["role","id"]);return o?h.jsxs(h.Fragment,{children:[T,h.jsx(va,{...y,children:b.isOpen&&h.jsx(Ru,{...d,children:h.jsx(ae.div,{...b.getTooltipPositionerProps(),__css:{zIndex:n.zIndex,pointerEvents:"none"},children:h.jsxs(Yse,{variants:Hse,initial:"exit",animate:"enter",exit:"exit",...g,...k,__css:n,children:[o,C&&h.jsx(ae.span,{srOnly:!0,...A,children:l}),c&&h.jsx(ae.div,{"data-popper-arrow":!0,className:"chakra-tooltip__arrow-wrapper",children:h.jsx(ae.div,{"data-popper-arrow-inner":!0,className:"chakra-tooltip__arrow",__css:{bg:n.bg}})})]})})})})]}):h.jsx(h.Fragment,{children:i})});Qa.displayName="Tooltip";const Yt=he(function(e,n){const r=Nr("Heading",e),{className:s,...i}=Ht(e);return h.jsx(ae.h2,{ref:n,className:Ee("chakra-heading",e.className),...i,__css:r})});Yt.displayName="Heading";const W=he(function(e,n){const r=Nr("Text",e),{className:s,align:i,decoration:o,casing:a,...l}=Ht(e),c=vw({textAlign:e.align,textDecoration:e.decoration,textTransform:e.casing});return h.jsx(ae.p,{ref:n,className:Ee("chakra-text",e.className),...c,...l,__css:r})});W.displayName="Text";const DF=he(function(e,n){const{spacing:r="0.5rem",spacingX:s,spacingY:i,children:o,justify:a,direction:l,align:c,className:u,shouldWrapChildren:d,...f}=e,p=S.useMemo(()=>d?S.Children.map(o,(m,g)=>h.jsx(ef,{children:m},g)):o,[o,d]);return h.jsx(ae.div,{ref:n,className:Ee("chakra-wrap",u),...f,children:h.jsx(ae.ul,{className:"chakra-wrap__list",__css:{display:"flex",flexWrap:"wrap",justifyContent:a,alignItems:c,flexDirection:l,listStyleType:"none",gap:r,columnGap:s,rowGap:i,padding:"0"},children:p})})});DF.displayName="Wrap";const ef=he(function(e,n){const{className:r,...s}=e;return h.jsx(ae.li,{ref:n,__css:{display:"flex",alignItems:"flex-start"},className:Ee("chakra-wrap__listitem",r),...s})});ef.displayName="WrapItem";var MF={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},IA=cr.createContext&&cr.createContext(MF),qse=["attr","size","title"];function Xse(t,e){if(t==null)return{};var n=Qse(t,e),r,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)r=i[s],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Qse(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Pg(){return Pg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Pg.apply(this,arguments)}function DA(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function Ig(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?DA(Object(n),!0).forEach(function(r){Zse(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):DA(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Zse(t,e,n){return e=Jse(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Jse(t){var e=eie(t,"string");return typeof e=="symbol"?e:e+""}function eie(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function OF(t){return t&&t.map((e,n)=>cr.createElement(e.tag,Ig({key:n},e.attr),OF(e.child)))}function Oe(t){return e=>cr.createElement(tie,Pg({attr:Ig({},t.attr)},e),OF(t.child))}function tie(t){var e=n=>{var{attr:r,size:s,title:i}=t,o=Xse(t,qse),a=s||n.size||"1em",l;return n.className&&(l=n.className),t.className&&(l=(l?l+" ":"")+t.className),cr.createElement("svg",Pg({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,o,{className:l,style:Ig(Ig({color:t.color||n.color},n.style),t.style),height:a,width:a,xmlns:"http://www.w3.org/2000/svg"}),i&&cr.createElement("title",null,i),t.children)};return IA!==void 0?cr.createElement(IA.Consumer,null,n=>e(n)):e(MF)}function FF(t){return Oe({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256C504 119 393 8 256 8S8 119 8 256c0 123.78 90.69 226.38 209.25 245V327.69h-63V256h63v-54.64c0-62.15 37-96.48 93.67-96.48 27.14 0 55.52 4.84 55.52 4.84v61h-31.28c-30.8 0-40.41 19.12-40.41 38.73V256h68.78l-11 71.69h-57.78V501C413.31 482.38 504 379.78 504 256z"},child:[]}]})(t)}function NF(t){return Oe({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224.1 141c-63.6 0-114.9 51.3-114.9 114.9s51.3 114.9 114.9 114.9S339 319.5 339 255.9 287.7 141 224.1 141zm0 189.6c-41.1 0-74.7-33.5-74.7-74.7s33.5-74.7 74.7-74.7 74.7 33.5 74.7 74.7-33.6 74.7-74.7 74.7zm146.4-194.3c0 14.9-12 26.8-26.8 26.8-14.9 0-26.8-12-26.8-26.8s12-26.8 26.8-26.8 26.8 12 26.8 26.8zm76.1 27.2c-1.7-35.9-9.9-67.7-36.2-93.9-26.2-26.2-58-34.4-93.9-36.2-37-2.1-147.9-2.1-184.9 0-35.8 1.7-67.6 9.9-93.9 36.1s-34.4 58-36.2 93.9c-2.1 37-2.1 147.9 0 184.9 1.7 35.9 9.9 67.7 36.2 93.9s58 34.4 93.9 36.2c37 2.1 147.9 2.1 184.9 0 35.9-1.7 67.7-9.9 93.9-36.2 26.2-26.2 34.4-58 36.2-93.9 2.1-37 2.1-147.8 0-184.8zM398.8 388c-7.8 19.6-22.9 34.7-42.6 42.6-29.5 11.7-99.5 9-132.1 9s-102.7 2.6-132.1-9c-19.6-7.8-34.7-22.9-42.6-42.6-11.7-29.5-9-99.5-9-132.1s-2.6-102.7 9-132.1c7.8-19.6 22.9-34.7 42.6-42.6 29.5-11.7 99.5-9 132.1-9s102.7-2.6 132.1 9c19.6 7.8 34.7 22.9 42.6 42.6 11.7 29.5 9 99.5 9 132.1s2.7 102.7-9 132.1z"},child:[]}]})(t)}function nie(t){return Oe({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3zM135.4 416H69V202.2h66.5V416zm-33.2-243c-21.3 0-38.5-17.3-38.5-38.5S80.9 96 102.2 96c21.2 0 38.5 17.3 38.5 38.5 0 21.3-17.2 38.5-38.5 38.5zm282.1 243h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9V416z"},child:[]}]})(t)}function jF(t){return Oe({tag:"svg",attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M248 8C111 8 0 119 0 256s111 248 248 248 248-111 248-248S385 8 248 8zm121.8 169.9l-40.7 191.8c-3 13.6-11.1 16.9-22.4 10.5l-62-45.7-29.9 28.8c-3.3 3.3-6.1 6.1-12.5 6.1l4.4-63.1 114.9-103.8c5-4.4-1.1-6.9-7.7-2.5l-142 89.4-61.2-19.1c-13.3-4.2-13.6-13.3 2.8-19.7l239.1-92.2c11.1-4 20.8 2.7 17.2 19.5z"},child:[]}]})(t)}function BF(t){return Oe({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"},child:[]}]})(t)}function MT(t){return Oe({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M380.9 97.1C339 55.1 283.2 32 223.9 32c-122.4 0-222 99.6-222 222 0 39.1 10.2 77.3 29.6 111L0 480l117.7-30.9c32.4 17.7 68.9 27 106.1 27h.1c122.3 0 224.1-99.6 224.1-222 0-59.3-25.2-115-67.1-157zm-157 341.6c-33.2 0-65.7-8.9-94-25.7l-6.7-4-69.8 18.3L72 359.2l-4.4-7c-18.5-29.4-28.2-63.3-28.2-98.2 0-101.7 82.8-184.5 184.6-184.5 49.3 0 95.6 19.2 130.4 54.1 34.8 34.9 56.2 81.2 56.1 130.5 0 101.8-84.9 184.6-186.6 184.6zm101.2-138.2c-5.5-2.8-32.8-16.2-37.9-18-5.1-1.9-8.8-2.8-12.5 2.8-3.7 5.6-14.3 18-17.6 21.8-3.2 3.7-6.5 4.2-12 1.4-32.6-16.3-54-29.1-75.5-66-5.7-9.8 5.7-9.1 16.3-30.3 1.8-3.7.9-6.9-.5-9.7-1.4-2.8-12.5-30.1-17.1-41.2-4.5-10.8-9.1-9.3-12.5-9.5-3.2-.2-6.9-.2-10.6-.2-3.7 0-9.7 1.4-14.8 6.9-5.1 5.6-19.4 19-19.4 46.3 0 27.3 19.9 53.7 22.6 57.4 2.8 3.7 39.1 59.7 94.8 83.8 35.2 15.2 49 16.5 66.6 13.9 10.7-1.6 32.8-13.4 37.4-26.4 4.6-13 4.6-24.1 3.2-26.4-1.3-2.5-5-3.9-10.5-6.6z"},child:[]}]})(t)}function $F(t){return Oe({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M257.5 445.1l-22.2 22.2c-9.4 9.4-24.6 9.4-33.9 0L7 273c-9.4-9.4-9.4-24.6 0-33.9L201.4 44.7c9.4-9.4 24.6-9.4 33.9 0l22.2 22.2c9.5 9.5 9.3 25-.4 34.3L136.6 216H424c13.3 0 24 10.7 24 24v32c0 13.3-10.7 24-24 24H136.6l120.5 114.8c9.8 9.3 10 24.8.4 34.3z"},child:[]}]})(t)}function rie(t){return Oe({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M190.5 66.9l22.2-22.2c9.4-9.4 24.6-9.4 33.9 0L441 239c9.4 9.4 9.4 24.6 0 33.9L246.6 467.3c-9.4 9.4-24.6 9.4-33.9 0l-22.2-22.2c-9.5-9.5-9.3-25 .4-34.3L311.4 296H24c-13.3 0-24-10.7-24-24v-32c0-13.3 10.7-24 24-24h287.4L190.9 101.2c-9.8-9.3-10-24.8-.4-34.3z"},child:[]}]})(t)}function nx(t){return Oe({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z"},child:[]}]})(t)}function sie(t){return Oe({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M207.029 381.476L12.686 187.132c-9.373-9.373-9.373-24.569 0-33.941l22.667-22.667c9.357-9.357 24.522-9.375 33.901-.04L224 284.505l154.745-154.021c9.379-9.335 24.544-9.317 33.901.04l22.667 22.667c9.373 9.373 9.373 24.569 0 33.941L240.971 381.476c-9.373 9.372-24.569 9.372-33.942 0z"},child:[]}]})(t)}function ba(t){return Oe({tag:"svg",attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M34.52 239.03L228.87 44.69c9.37-9.37 24.57-9.37 33.94 0l22.67 22.67c9.36 9.36 9.37 24.52.04 33.9L131.49 256l154.02 154.75c9.34 9.38 9.32 24.54-.04 33.9l-22.67 22.67c-9.37 9.37-24.57 9.37-33.94 0L34.52 272.97c-9.37-9.37-9.37-24.57 0-33.94z"},child:[]}]})(t)}function Sa(t){return Oe({tag:"svg",attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M285.476 272.971L91.132 467.314c-9.373 9.373-24.569 9.373-33.941 0l-22.667-22.667c-9.357-9.357-9.375-24.522-.04-33.901L188.505 256 34.484 101.255c-9.335-9.379-9.317-24.544.04-33.901l22.667-22.667c9.373-9.373 24.569-9.373 33.941 0L285.475 239.03c9.373 9.372 9.373 24.568.001 33.941z"},child:[]}]})(t)}function iie(t){return Oe({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M240.971 130.524l194.343 194.343c9.373 9.373 9.373 24.569 0 33.941l-22.667 22.667c-9.357 9.357-24.522 9.375-33.901.04L224 227.495 69.255 381.516c-9.379 9.335-24.544 9.317-33.901-.04l-22.667-22.667c-9.373-9.373-9.373-24.569 0-33.941L207.03 130.525c9.372-9.373 24.568-9.373 33.941-.001z"},child:[]}]})(t)}function oie(t){return Oe({tag:"svg",attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M384 112v352c0 26.51-21.49 48-48 48H48c-26.51 0-48-21.49-48-48V112c0-26.51 21.49-48 48-48h80c0-35.29 28.71-64 64-64s64 28.71 64 64h80c26.51 0 48 21.49 48 48zM192 40c-13.255 0-24 10.745-24 24s10.745 24 24 24 24-10.745 24-24-10.745-24-24-24m96 114v-20a6 6 0 0 0-6-6H102a6 6 0 0 0-6 6v20a6 6 0 0 0 6 6h180a6 6 0 0 0 6-6z"},child:[]}]})(t)}function Dg(t){return Oe({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256,8C119,8,8,119,8,256S119,504,256,504,504,393,504,256,393,8,256,8Zm92.49,313h0l-20,25a16,16,0,0,1-22.49,2.5h0l-67-49.72a40,40,0,0,1-15-31.23V112a16,16,0,0,1,16-16h32a16,16,0,0,1,16,16V256l58,42.5A16,16,0,0,1,348.49,321Z"},child:[]}]})(t)}function aie(t){return Oe({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M464 64H48C21.5 64 0 85.5 0 112v288c0 26.5 21.5 48 48 48h416c26.5 0 48-21.5 48-48V112c0-26.5-21.5-48-48-48zM218.1 287.7c2.8-2.5 7.1-2.1 9.2.9l19.5 27.7c1.7 2.4 1.5 5.6-.5 7.7-53.6 56.8-172.8 32.1-172.8-67.9 0-97.3 121.7-119.5 172.5-70.1 2.1 2 2.5 3.2 1 5.7l-17.5 30.5c-1.9 3.1-6.2 4-9.1 1.7-40.8-32-94.6-14.9-94.6 31.2.1 48 51.1 70.5 92.3 32.6zm190.4 0c2.8-2.5 7.1-2.1 9.2.9l19.5 27.7c1.7 2.4 1.5 5.6-.5 7.7-53.5 56.9-172.7 32.1-172.7-67.9 0-97.3 121.7-119.5 172.5-70.1 2.1 2 2.5 3.2 1 5.7L420 222.2c-1.9 3.1-6.2 4-9.1 1.7-40.8-32-94.6-14.9-94.6 31.2 0 48 51 70.5 92.2 32.6z"},child:[]}]})(t)}function lie(t){return Oe({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M436 192H312c-13.3 0-24-10.7-24-24V44c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v84h84c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12zm-276-24V44c0-6.6-5.4-12-12-12h-40c-6.6 0-12 5.4-12 12v84H12c-6.6 0-12 5.4-12 12v40c0 6.6 5.4 12 12 12h124c13.3 0 24-10.7 24-24zm0 300V344c0-13.3-10.7-24-24-24H12c-6.6 0-12 5.4-12 12v40c0 6.6 5.4 12 12 12h84v84c0 6.6 5.4 12 12 12h40c6.6 0 12-5.4 12-12zm192 0v-84h84c6.6 0 12-5.4 12-12v-40c0-6.6-5.4-12-12-12H312c-13.3 0-24 10.7-24 24v124c0 6.6 5.4 12 12 12h40c6.6 0 12-5.4 12-12z"},child:[]}]})(t)}function OT(t){return Oe({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M528 448H112c-8.8 0-16 7.2-16 16v32c0 8.8 7.2 16 16 16h416c8.8 0 16-7.2 16-16v-32c0-8.8-7.2-16-16-16zm64-320c-26.5 0-48 21.5-48 48 0 7.1 1.6 13.7 4.4 19.8L476 239.2c-15.4 9.2-35.3 4-44.2-11.6L350.3 85C361 76.2 368 63 368 48c0-26.5-21.5-48-48-48s-48 21.5-48 48c0 15 7 28.2 17.7 37l-81.5 142.6c-8.9 15.6-28.9 20.8-44.2 11.6l-72.3-43.4c2.7-6 4.4-12.7 4.4-19.8 0-26.5-21.5-48-48-48S0 149.5 0 176s21.5 48 48 48c2.6 0 5.2-.4 7.7-.8L128 416h384l72.3-192.8c2.5.4 5.1.8 7.7.8 26.5 0 48-21.5 48-48s-21.5-48-48-48z"},child:[]}]})(t)}function zF(t){return Oe({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M216 0h80c13.3 0 24 10.7 24 24v168h87.7c17.8 0 26.7 21.5 14.1 34.1L269.7 378.3c-7.5 7.5-19.8 7.5-27.3 0L90.1 226.1c-12.6-12.6-3.7-34.1 14.1-34.1H192V24c0-13.3 10.7-24 24-24zm296 376v112c0 13.3-10.7 24-24 24H24c-13.3 0-24-10.7-24-24V376c0-13.3 10.7-24 24-24h146.7l49 49c20.1 20.1 52.5 20.1 72.6 0l49-49H488c13.3 0 24 10.7 24 24zm-124 88c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20zm64 0c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20z"},child:[]}]})(t)}function MA(t){return Oe({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M0 168v-16c0-13.255 10.745-24 24-24h360V80c0-21.367 25.899-32.042 40.971-16.971l80 80c9.372 9.373 9.372 24.569 0 33.941l-80 80C409.956 271.982 384 261.456 384 240v-48H24c-13.255 0-24-10.745-24-24zm488 152H128v-48c0-21.314-25.862-32.08-40.971-16.971l-80 80c-9.372 9.373-9.372 24.569 0 33.941l80 80C102.057 463.997 128 453.437 128 432v-48h360c13.255 0 24-10.745 24-24v-16c0-13.255-10.745-24-24-24z"},child:[]}]})(t)}function cie(t){return Oe({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M0 180V56c0-13.3 10.7-24 24-24h124c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12H64v84c0 6.6-5.4 12-12 12H12c-6.6 0-12-5.4-12-12zM288 44v40c0 6.6 5.4 12 12 12h84v84c0 6.6 5.4 12 12 12h40c6.6 0 12-5.4 12-12V56c0-13.3-10.7-24-24-24H300c-6.6 0-12 5.4-12 12zm148 276h-40c-6.6 0-12 5.4-12 12v84h-84c-6.6 0-12 5.4-12 12v40c0 6.6 5.4 12 12 12h124c13.3 0 24-10.7 24-24V332c0-6.6-5.4-12-12-12zM160 468v-40c0-6.6-5.4-12-12-12H64v-84c0-6.6-5.4-12-12-12H12c-6.6 0-12 5.4-12 12v124c0 13.3 10.7 24 24 24h124c6.6 0 12-5.4 12-12z"},child:[]}]})(t)}function uie(t){return Oe({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M0 436V76c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v151.9L235.5 71.4C256.1 54.3 288 68.6 288 96v131.9L459.5 71.4C480.1 54.3 512 68.6 512 96v320c0 27.4-31.9 41.7-52.5 24.6L288 285.3V416c0 27.4-31.9 41.7-52.5 24.6L64 285.3V436c0 6.6-5.4 12-12 12H12c-6.6 0-12-5.4-12-12z"},child:[]}]})(t)}function die(t){return Oe({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M512 76v360c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12V284.1L276.5 440.6c-20.6 17.2-52.5 2.8-52.5-24.6V284.1L52.5 440.6C31.9 457.8 0 443.4 0 416V96c0-27.4 31.9-41.7 52.5-24.6L224 226.8V96c0-27.4 31.9-41.7 52.5-24.6L448 226.8V76c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12z"},child:[]}]})(t)}function fie(t){return Oe({tag:"svg",attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M224 136V0H24C10.7 0 0 10.7 0 24v464c0 13.3 10.7 24 24 24h336c13.3 0 24-10.7 24-24V160H248c-13.2 0-24-10.8-24-24zM64 72c0-4.42 3.58-8 8-8h80c4.42 0 8 3.58 8 8v16c0 4.42-3.58 8-8 8H72c-4.42 0-8-3.58-8-8V72zm0 64c0-4.42 3.58-8 8-8h80c4.42 0 8 3.58 8 8v16c0 4.42-3.58 8-8 8H72c-4.42 0-8-3.58-8-8v-16zm192.81 248H304c8.84 0 16 7.16 16 16s-7.16 16-16 16h-47.19c-16.45 0-31.27-9.14-38.64-23.86-2.95-5.92-8.09-6.52-10.17-6.52s-7.22.59-10.02 6.19l-7.67 15.34a15.986 15.986 0 0 1-14.31 8.84c-.38 0-.75-.02-1.14-.05-6.45-.45-12-4.75-14.03-10.89L144 354.59l-10.61 31.88c-5.89 17.66-22.38 29.53-41 29.53H80c-8.84 0-16-7.16-16-16s7.16-16 16-16h12.39c4.83 0 9.11-3.08 10.64-7.66l18.19-54.64c3.3-9.81 12.44-16.41 22.78-16.41s19.48 6.59 22.77 16.41l13.88 41.64c19.77-16.19 54.05-9.7 66 14.16 2.02 4.06 5.96 6.5 10.16 6.5zM377 105L279.1 7c-4.5-4.5-10.6-7-17-7H256v128h128v-6.1c0-6.3-2.5-12.4-7-16.9z"},child:[]}]})(t)}function hie(t){return Oe({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M349.565 98.783C295.978 98.783 251.721 64 184.348 64c-24.955 0-47.309 4.384-68.045 12.013a55.947 55.947 0 0 0 3.586-23.562C118.117 24.015 94.806 1.206 66.338.048 34.345-1.254 8 24.296 8 56c0 19.026 9.497 35.825 24 45.945V488c0 13.255 10.745 24 24 24h16c13.255 0 24-10.745 24-24v-94.4c28.311-12.064 63.582-22.122 114.435-22.122 53.588 0 97.844 34.783 165.217 34.783 48.169 0 86.667-16.294 122.505-40.858C506.84 359.452 512 349.571 512 339.045v-243.1c0-23.393-24.269-38.87-45.485-29.016-34.338 15.948-76.454 31.854-116.95 31.854z"},child:[]}]})(t)}function pie(t){return Oe({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M462.3 62.6C407.5 15.9 326 24.3 275.7 76.2L256 96.5l-19.7-20.3C186.1 24.3 104.5 15.9 49.7 62.6c-62.8 53.6-66.1 149.8-9.9 207.9l193.5 199.8c12.5 12.9 32.8 12.9 45.3 0l193.5-199.8c56.3-58.1 53-154.3-9.8-207.9z"},child:[]}]})(t)}function mie(t){return Oe({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 8C119.043 8 8 119.083 8 256c0 136.997 111.043 248 248 248s248-111.003 248-248C504 119.083 392.957 8 256 8zm0 110c23.196 0 42 18.804 42 42s-18.804 42-42 42-42-18.804-42-42 18.804-42 42-42zm56 254c0 6.627-5.373 12-12 12h-88c-6.627 0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h12v-64h-12c-6.627 0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h64c6.627 0 12 5.373 12 12v100h12c6.627 0 12 5.373 12 12v24z"},child:[]}]})(t)}function Mg(t){return Oe({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M223.75 130.75L154.62 15.54A31.997 31.997 0 0 0 127.18 0H16.03C3.08 0-4.5 14.57 2.92 25.18l111.27 158.96c29.72-27.77 67.52-46.83 109.56-53.39zM495.97 0H384.82c-11.24 0-21.66 5.9-27.44 15.54l-69.13 115.21c42.04 6.56 79.84 25.62 109.56 53.38L509.08 25.18C516.5 14.57 508.92 0 495.97 0zM256 160c-97.2 0-176 78.8-176 176s78.8 176 176 176 176-78.8 176-176-78.8-176-176-176zm92.52 157.26l-37.93 36.96 8.97 52.22c1.6 9.36-8.26 16.51-16.65 12.09L256 393.88l-46.9 24.65c-8.4 4.45-18.25-2.74-16.65-12.09l8.97-52.22-37.93-36.96c-6.82-6.64-3.05-18.23 6.35-19.59l52.43-7.64 23.43-47.52c2.11-4.28 6.19-6.39 10.28-6.39 4.11 0 8.22 2.14 10.33 6.39l23.43 47.52 52.43 7.64c9.4 1.36 13.17 12.95 6.35 19.59z"},child:[]}]})(t)}function gie(t){return Oe({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M416 208H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h384c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z"},child:[]}]})(t)}function OA(t){return Oe({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M144 479H48c-26.5 0-48-21.5-48-48V79c0-26.5 21.5-48 48-48h96c26.5 0 48 21.5 48 48v352c0 26.5-21.5 48-48 48zm304-48V79c0-26.5-21.5-48-48-48h-96c-26.5 0-48 21.5-48 48v352c0 26.5 21.5 48 48 48h96c26.5 0 48-21.5 48-48z"},child:[]}]})(t)}function rx(t){return Oe({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M290.74 93.24l128.02 128.02-277.99 277.99-114.14 12.6C11.35 513.54-1.56 500.62.14 485.34l12.7-114.22 277.9-277.88zm207.2-19.06l-60.11-60.11c-18.75-18.75-49.16-18.75-67.91 0l-56.55 56.55 128.02 128.02 56.55-56.55c18.75-18.76 18.75-49.16 0-67.91z"},child:[]}]})(t)}function FA(t){return Oe({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M424.4 214.7L72.4 6.6C43.8-10.3 0 6.1 0 47.9V464c0 37.5 40.7 60.1 72.4 41.3l352-208c31.4-18.5 31.5-64.1 0-82.6z"},child:[]}]})(t)}function UF(t){return Oe({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M416 208H272V64c0-17.67-14.33-32-32-32h-32c-17.67 0-32 14.33-32 32v144H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h144v144c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32V304h144c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z"},child:[]}]})(t)}function yie(t){return Oe({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"},child:[]}]})(t)}function NA(t){return Oe({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M497 273L329 441c-15 15-41 4.5-41-17v-96H152c-13.3 0-24-10.7-24-24v-96c0-13.3 10.7-24 24-24h136V88c0-21.4 25.9-32 41-17l168 168c9.3 9.4 9.3 24.6 0 34zM192 436v-40c0-6.6-5.4-12-12-12H96c-17.7 0-32-14.3-32-32V160c0-17.7 14.3-32 32-32h84c6.6 0 12-5.4 12-12V76c0-6.6-5.4-12-12-12H96c-53 0-96 43-96 96v192c0 53 43 96 96 96h84c6.6 0 12-5.4 12-12z"},child:[]}]})(t)}function iy(t){return Oe({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M259.3 17.8L194 150.2 47.9 171.5c-26.2 3.8-36.7 36.1-17.7 54.6l105.7 103-25 145.5c-4.5 26.3 23.2 46 46.4 33.7L288 439.6l130.7 68.7c23.2 12.2 50.9-7.4 46.4-33.7l-25-145.5 105.7-103c19-18.5 8.5-50.8-17.7-54.6L382 150.2 316.7 17.8c-11.7-23.6-45.6-23.9-57.4 0z"},child:[]}]})(t)}function sx(t){return Oe({tag:"svg",attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"},child:[]}]})(t)}function jA(t){return Oe({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z"},child:[]}]})(t)}function vie(t){return Oe({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M215.03 71.05L126.06 160H24c-13.26 0-24 10.74-24 24v144c0 13.25 10.74 24 24 24h102.06l88.97 88.95c15.03 15.03 40.97 4.47 40.97-16.97V88.02c0-21.46-25.96-31.98-40.97-16.97zM461.64 256l45.64-45.64c6.3-6.3 6.3-16.52 0-22.82l-22.82-22.82c-6.3-6.3-16.52-6.3-22.82 0L416 210.36l-45.64-45.64c-6.3-6.3-16.52-6.3-22.82 0l-22.82 22.82c-6.3 6.3-6.3 16.52 0 22.82L370.36 256l-45.63 45.63c-6.3 6.3-6.3 16.52 0 22.82l22.82 22.82c6.3 6.3 16.52 6.3 22.82 0L416 301.64l45.64 45.64c6.3 6.3 16.52 6.3 22.82 0l22.82-22.82c6.3-6.3 6.3-16.52 0-22.82L461.64 256z"},child:[]}]})(t)}function xie(t){return Oe({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M215.03 71.05L126.06 160H24c-13.26 0-24 10.74-24 24v144c0 13.25 10.74 24 24 24h102.06l88.97 88.95c15.03 15.03 40.97 4.47 40.97-16.97V88.02c0-21.46-25.96-31.98-40.97-16.97zm233.32-51.08c-11.17-7.33-26.18-4.24-33.51 6.95-7.34 11.17-4.22 26.18 6.95 33.51 66.27 43.49 105.82 116.6 105.82 195.58 0 78.98-39.55 152.09-105.82 195.58-11.17 7.32-14.29 22.34-6.95 33.5 7.04 10.71 21.93 14.56 33.51 6.95C528.27 439.58 576 351.33 576 256S528.27 72.43 448.35 19.97zM480 256c0-63.53-32.06-121.94-85.77-156.24-11.19-7.14-26.03-3.82-33.12 7.46s-3.78 26.21 7.41 33.36C408.27 165.97 432 209.11 432 256s-23.73 90.03-63.48 115.42c-11.19 7.14-14.5 22.07-7.41 33.36 6.51 10.36 21.12 15.14 33.12 7.46C447.94 377.94 480 319.54 480 256zm-141.77-76.87c-11.58-6.33-26.19-2.16-32.61 9.45-6.39 11.61-2.16 26.2 9.45 32.61C327.98 228.28 336 241.63 336 256c0 14.38-8.02 27.72-20.92 34.81-11.61 6.41-15.84 21-9.45 32.61 6.43 11.66 21.05 15.8 32.61 9.45 28.23-15.55 45.77-45 45.77-76.88s-17.54-61.32-45.78-76.86z"},child:[]}]})(t)}function BA(t){return Oe({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M461.2 128H80c-8.84 0-16-7.16-16-16s7.16-16 16-16h384c8.84 0 16-7.16 16-16 0-26.51-21.49-48-48-48H64C28.65 32 0 60.65 0 96v320c0 35.35 28.65 64 64 64h397.2c28.02 0 50.8-21.53 50.8-48V176c0-26.47-22.78-48-50.8-48zM416 336c-17.67 0-32-14.33-32-32s14.33-32 32-32 32 14.33 32 32-14.33 32-32 32z"},child:[]}]})(t)}function $A(t){return Oe({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M527.9 32H48.1C21.5 32 0 53.5 0 80v352c0 26.5 21.5 48 48.1 48h479.8c26.6 0 48.1-21.5 48.1-48V80c0-26.5-21.5-48-48.1-48zM54.1 80h467.8c3.3 0 6 2.7 6 6v42H48.1V86c0-3.3 2.7-6 6-6zm467.8 352H54.1c-3.3 0-6-2.7-6-6V256h479.8v170c0 3.3-2.7 6-6 6zM192 332v40c0 6.6-5.4 12-12 12h-72c-6.6 0-12-5.4-12-12v-40c0-6.6 5.4-12 12-12h72c6.6 0 12 5.4 12 12zm192 0v40c0 6.6-5.4 12-12 12H236c-6.6 0-12-5.4-12-12v-40c0-6.6 5.4-12 12-12h136c6.6 0 12 5.4 12 12z"},child:[]}]})(t)}function VF(t,e){return function(){return t.apply(e,arguments)}}const{toString:bie}=Object.prototype,{getPrototypeOf:FT}=Object,oy=(t=>e=>{const n=bie.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),ei=t=>(t=t.toLowerCase(),e=>oy(e)===t),ay=t=>e=>typeof e===t,{isArray:Mu}=Array,qf=ay("undefined");function Sie(t){return t!==null&&!qf(t)&&t.constructor!==null&&!qf(t.constructor)&&Xr(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const WF=ei("ArrayBuffer");function wie(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&WF(t.buffer),e}const Tie=ay("string"),Xr=ay("function"),HF=ay("number"),ly=t=>t!==null&&typeof t=="object",Eie=t=>t===!0||t===!1,Am=t=>{if(oy(t)!=="object")return!1;const e=FT(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},Cie=ei("Date"),kie=ei("File"),Aie=ei("Blob"),Rie=ei("FileList"),_ie=t=>ly(t)&&Xr(t.pipe),Lie=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||Xr(t.append)&&((e=oy(t))==="formdata"||e==="object"&&Xr(t.toString)&&t.toString()==="[object FormData]"))},Pie=ei("URLSearchParams"),[Iie,Die,Mie,Oie]=["ReadableStream","Request","Response","Headers"].map(ei),Fie=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function _h(t,e,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let r,s;if(typeof t!="object"&&(t=[t]),Mu(t))for(r=0,s=t.length;r<s;r++)e.call(null,t[r],r,t);else{const i=n?Object.getOwnPropertyNames(t):Object.keys(t),o=i.length;let a;for(r=0;r<o;r++)a=i[r],e.call(null,t[a],a,t)}}function GF(t,e){e=e.toLowerCase();const n=Object.keys(t);let r=n.length,s;for(;r-- >0;)if(s=n[r],e===s.toLowerCase())return s;return null}const Za=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,KF=t=>!qf(t)&&t!==Za;function F1(){const{caseless:t}=KF(this)&&this||{},e={},n=(r,s)=>{const i=t&&GF(e,s)||s;Am(e[i])&&Am(r)?e[i]=F1(e[i],r):Am(r)?e[i]=F1({},r):Mu(r)?e[i]=r.slice():e[i]=r};for(let r=0,s=arguments.length;r<s;r++)arguments[r]&&_h(arguments[r],n);return e}const Nie=(t,e,n,{allOwnKeys:r}={})=>(_h(e,(s,i)=>{n&&Xr(s)?t[i]=VF(s,n):t[i]=s},{allOwnKeys:r}),t),jie=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),Bie=(t,e,n,r)=>{t.prototype=Object.create(e.prototype,r),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},$ie=(t,e,n,r)=>{let s,i,o;const a={};if(e=e||{},t==null)return e;do{for(s=Object.getOwnPropertyNames(t),i=s.length;i-- >0;)o=s[i],(!r||r(o,t,e))&&!a[o]&&(e[o]=t[o],a[o]=!0);t=n!==!1&&FT(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},zie=(t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;const r=t.indexOf(e,n);return r!==-1&&r===n},Uie=t=>{if(!t)return null;if(Mu(t))return t;let e=t.length;if(!HF(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},Vie=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&FT(Uint8Array)),Wie=(t,e)=>{const r=(t&&t[Symbol.iterator]).call(t);let s;for(;(s=r.next())&&!s.done;){const i=s.value;e.call(t,i[0],i[1])}},Hie=(t,e)=>{let n;const r=[];for(;(n=t.exec(e))!==null;)r.push(n);return r},Gie=ei("HTMLFormElement"),Kie=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,s){return r.toUpperCase()+s}),zA=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),Yie=ei("RegExp"),YF=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),r={};_h(n,(s,i)=>{let o;(o=e(s,i,t))!==!1&&(r[i]=o||s)}),Object.defineProperties(t,r)},qie=t=>{YF(t,(e,n)=>{if(Xr(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=t[n];if(Xr(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},Xie=(t,e)=>{const n={},r=s=>{s.forEach(i=>{n[i]=!0})};return Mu(t)?r(t):r(String(t).split(e)),n},Qie=()=>{},Zie=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e,ix="abcdefghijklmnopqrstuvwxyz",UA="0123456789",qF={DIGIT:UA,ALPHA:ix,ALPHA_DIGIT:ix+ix.toUpperCase()+UA},Jie=(t=16,e=qF.ALPHA_DIGIT)=>{let n="";const{length:r}=e;for(;t--;)n+=e[Math.random()*r|0];return n};function eoe(t){return!!(t&&Xr(t.append)&&t[Symbol.toStringTag]==="FormData"&&t[Symbol.iterator])}const toe=t=>{const e=new Array(10),n=(r,s)=>{if(ly(r)){if(e.indexOf(r)>=0)return;if(!("toJSON"in r)){e[s]=r;const i=Mu(r)?[]:{};return _h(r,(o,a)=>{const l=n(o,s+1);!qf(l)&&(i[a]=l)}),e[s]=void 0,i}}return r};return n(t,0)},noe=ei("AsyncFunction"),roe=t=>t&&(ly(t)||Xr(t))&&Xr(t.then)&&Xr(t.catch),XF=((t,e)=>t?setImmediate:e?((n,r)=>(Za.addEventListener("message",({source:s,data:i})=>{s===Za&&i===n&&r.length&&r.shift()()},!1),s=>{r.push(s),Za.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",Xr(Za.postMessage)),soe=typeof queueMicrotask<"u"?queueMicrotask.bind(Za):typeof process<"u"&&process.nextTick||XF,J={isArray:Mu,isArrayBuffer:WF,isBuffer:Sie,isFormData:Lie,isArrayBufferView:wie,isString:Tie,isNumber:HF,isBoolean:Eie,isObject:ly,isPlainObject:Am,isReadableStream:Iie,isRequest:Die,isResponse:Mie,isHeaders:Oie,isUndefined:qf,isDate:Cie,isFile:kie,isBlob:Aie,isRegExp:Yie,isFunction:Xr,isStream:_ie,isURLSearchParams:Pie,isTypedArray:Vie,isFileList:Rie,forEach:_h,merge:F1,extend:Nie,trim:Fie,stripBOM:jie,inherits:Bie,toFlatObject:$ie,kindOf:oy,kindOfTest:ei,endsWith:zie,toArray:Uie,forEachEntry:Wie,matchAll:Hie,isHTMLForm:Gie,hasOwnProperty:zA,hasOwnProp:zA,reduceDescriptors:YF,freezeMethods:qie,toObjectSet:Xie,toCamelCase:Kie,noop:Qie,toFiniteNumber:Zie,findKey:GF,global:Za,isContextDefined:KF,ALPHABET:qF,generateString:Jie,isSpecCompliantForm:eoe,toJSONObject:toe,isAsyncFn:noe,isThenable:roe,setImmediate:XF,asap:soe};function Ve(t,e,n,r,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),r&&(this.request=r),s&&(this.response=s,this.status=s.status?s.status:null)}J.inherits(Ve,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:J.toJSONObject(this.config),code:this.code,status:this.status}}});const QF=Ve.prototype,ZF={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{ZF[t]={value:t}});Object.defineProperties(Ve,ZF);Object.defineProperty(QF,"isAxiosError",{value:!0});Ve.from=(t,e,n,r,s,i)=>{const o=Object.create(QF);return J.toFlatObject(t,o,function(l){return l!==Error.prototype},a=>a!=="isAxiosError"),Ve.call(o,t.message,e,n,r,s),o.cause=t,o.name=t.name,i&&Object.assign(o,i),o};const ioe=null;function N1(t){return J.isPlainObject(t)||J.isArray(t)}function JF(t){return J.endsWith(t,"[]")?t.slice(0,-2):t}function VA(t,e,n){return t?t.concat(e).map(function(s,i){return s=JF(s),!n&&i?"["+s+"]":s}).join(n?".":""):e}function ooe(t){return J.isArray(t)&&!t.some(N1)}const aoe=J.toFlatObject(J,{},null,function(e){return/^is[A-Z]/.test(e)});function cy(t,e,n){if(!J.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,n=J.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(g,y){return!J.isUndefined(y[g])});const r=n.metaTokens,s=n.visitor||u,i=n.dots,o=n.indexes,l=(n.Blob||typeof Blob<"u"&&Blob)&&J.isSpecCompliantForm(e);if(!J.isFunction(s))throw new TypeError("visitor must be a function");function c(m){if(m===null)return"";if(J.isDate(m))return m.toISOString();if(!l&&J.isBlob(m))throw new Ve("Blob is not supported. Use a Buffer instead.");return J.isArrayBuffer(m)||J.isTypedArray(m)?l&&typeof Blob=="function"?new Blob([m]):Buffer.from(m):m}function u(m,g,y){let x=m;if(m&&!y&&typeof m=="object"){if(J.endsWith(g,"{}"))g=r?g:g.slice(0,-2),m=JSON.stringify(m);else if(J.isArray(m)&&ooe(m)||(J.isFileList(m)||J.endsWith(g,"[]"))&&(x=J.toArray(m)))return g=JF(g),x.forEach(function(b,w){!(J.isUndefined(b)||b===null)&&e.append(o===!0?VA([g],w,i):o===null?g:g+"[]",c(b))}),!1}return N1(m)?!0:(e.append(VA(y,g,i),c(m)),!1)}const d=[],f=Object.assign(aoe,{defaultVisitor:u,convertValue:c,isVisitable:N1});function p(m,g){if(!J.isUndefined(m)){if(d.indexOf(m)!==-1)throw Error("Circular reference detected in "+g.join("."));d.push(m),J.forEach(m,function(x,v){(!(J.isUndefined(x)||x===null)&&s.call(e,x,J.isString(v)?v.trim():v,g,f))===!0&&p(x,g?g.concat(v):[v])}),d.pop()}}if(!J.isObject(t))throw new TypeError("data must be an object");return p(t),e}function WA(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function NT(t,e){this._pairs=[],t&&cy(t,this,e)}const e5=NT.prototype;e5.append=function(e,n){this._pairs.push([e,n])};e5.toString=function(e){const n=e?function(r){return e.call(this,r,WA)}:WA;return this._pairs.map(function(s){return n(s[0])+"="+n(s[1])},"").join("&")};function loe(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function t5(t,e,n){if(!e)return t;const r=n&&n.encode||loe,s=n&&n.serialize;let i;if(s?i=s(e,n):i=J.isURLSearchParams(e)?e.toString():new NT(e,n).toString(r),i){const o=t.indexOf("#");o!==-1&&(t=t.slice(0,o)),t+=(t.indexOf("?")===-1?"?":"&")+i}return t}class HA{constructor(){this.handlers=[]}use(e,n,r){return this.handlers.push({fulfilled:e,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){J.forEach(this.handlers,function(r){r!==null&&e(r)})}}const n5={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},coe=typeof URLSearchParams<"u"?URLSearchParams:NT,uoe=typeof FormData<"u"?FormData:null,doe=typeof Blob<"u"?Blob:null,foe={isBrowser:!0,classes:{URLSearchParams:coe,FormData:uoe,Blob:doe},protocols:["http","https","file","blob","url","data"]},jT=typeof window<"u"&&typeof document<"u",j1=typeof navigator=="object"&&navigator||void 0,hoe=jT&&(!j1||["ReactNative","NativeScript","NS"].indexOf(j1.product)<0),poe=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",moe=jT&&window.location.href||"http://localhost",goe=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:jT,hasStandardBrowserEnv:hoe,hasStandardBrowserWebWorkerEnv:poe,navigator:j1,origin:moe},Symbol.toStringTag,{value:"Module"})),Ir={...goe,...foe};function yoe(t,e){return cy(t,new Ir.classes.URLSearchParams,Object.assign({visitor:function(n,r,s,i){return Ir.isNode&&J.isBuffer(n)?(this.append(r,n.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)}},e))}function voe(t){return J.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function xoe(t){const e={},n=Object.keys(t);let r;const s=n.length;let i;for(r=0;r<s;r++)i=n[r],e[i]=t[i];return e}function r5(t){function e(n,r,s,i){let o=n[i++];if(o==="__proto__")return!0;const a=Number.isFinite(+o),l=i>=n.length;return o=!o&&J.isArray(s)?s.length:o,l?(J.hasOwnProp(s,o)?s[o]=[s[o],r]:s[o]=r,!a):((!s[o]||!J.isObject(s[o]))&&(s[o]=[]),e(n,r,s[o],i)&&J.isArray(s[o])&&(s[o]=xoe(s[o])),!a)}if(J.isFormData(t)&&J.isFunction(t.entries)){const n={};return J.forEachEntry(t,(r,s)=>{e(voe(r),s,n,0)}),n}return null}function boe(t,e,n){if(J.isString(t))try{return(e||JSON.parse)(t),J.trim(t)}catch(r){if(r.name!=="SyntaxError")throw r}return(0,JSON.stringify)(t)}const Lh={transitional:n5,adapter:["xhr","http","fetch"],transformRequest:[function(e,n){const r=n.getContentType()||"",s=r.indexOf("application/json")>-1,i=J.isObject(e);if(i&&J.isHTMLForm(e)&&(e=new FormData(e)),J.isFormData(e))return s?JSON.stringify(r5(e)):e;if(J.isArrayBuffer(e)||J.isBuffer(e)||J.isStream(e)||J.isFile(e)||J.isBlob(e)||J.isReadableStream(e))return e;if(J.isArrayBufferView(e))return e.buffer;if(J.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let a;if(i){if(r.indexOf("application/x-www-form-urlencoded")>-1)return yoe(e,this.formSerializer).toString();if((a=J.isFileList(e))||r.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return cy(a?{"files[]":e}:e,l&&new l,this.formSerializer)}}return i||s?(n.setContentType("application/json",!1),boe(e)):e}],transformResponse:[function(e){const n=this.transitional||Lh.transitional,r=n&&n.forcedJSONParsing,s=this.responseType==="json";if(J.isResponse(e)||J.isReadableStream(e))return e;if(e&&J.isString(e)&&(r&&!this.responseType||s)){const o=!(n&&n.silentJSONParsing)&&s;try{return JSON.parse(e)}catch(a){if(o)throw a.name==="SyntaxError"?Ve.from(a,Ve.ERR_BAD_RESPONSE,this,null,this.response):a}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Ir.classes.FormData,Blob:Ir.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};J.forEach(["delete","get","head","post","put","patch"],t=>{Lh.headers[t]={}});const Soe=J.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),woe=t=>{const e={};let n,r,s;return t&&t.split(`
`).forEach(function(o){s=o.indexOf(":"),n=o.substring(0,s).trim().toLowerCase(),r=o.substring(s+1).trim(),!(!n||e[n]&&Soe[n])&&(n==="set-cookie"?e[n]?e[n].push(r):e[n]=[r]:e[n]=e[n]?e[n]+", "+r:r)}),e},GA=Symbol("internals");function od(t){return t&&String(t).trim().toLowerCase()}function Rm(t){return t===!1||t==null?t:J.isArray(t)?t.map(Rm):String(t)}function Toe(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(t);)e[r[1]]=r[2];return e}const Eoe=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function ox(t,e,n,r,s){if(J.isFunction(r))return r.call(this,e,n);if(s&&(e=n),!!J.isString(e)){if(J.isString(r))return e.indexOf(r)!==-1;if(J.isRegExp(r))return r.test(e)}}function Coe(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,r)=>n.toUpperCase()+r)}function koe(t,e){const n=J.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(t,r+n,{value:function(s,i,o){return this[r].call(this,e,s,i,o)},configurable:!0})})}class Dr{constructor(e){e&&this.set(e)}set(e,n,r){const s=this;function i(a,l,c){const u=od(l);if(!u)throw new Error("header name must be a non-empty string");const d=J.findKey(s,u);(!d||s[d]===void 0||c===!0||c===void 0&&s[d]!==!1)&&(s[d||l]=Rm(a))}const o=(a,l)=>J.forEach(a,(c,u)=>i(c,u,l));if(J.isPlainObject(e)||e instanceof this.constructor)o(e,n);else if(J.isString(e)&&(e=e.trim())&&!Eoe(e))o(woe(e),n);else if(J.isHeaders(e))for(const[a,l]of e.entries())i(l,a,r);else e!=null&&i(n,e,r);return this}get(e,n){if(e=od(e),e){const r=J.findKey(this,e);if(r){const s=this[r];if(!n)return s;if(n===!0)return Toe(s);if(J.isFunction(n))return n.call(this,s,r);if(J.isRegExp(n))return n.exec(s);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=od(e),e){const r=J.findKey(this,e);return!!(r&&this[r]!==void 0&&(!n||ox(this,this[r],r,n)))}return!1}delete(e,n){const r=this;let s=!1;function i(o){if(o=od(o),o){const a=J.findKey(r,o);a&&(!n||ox(r,r[a],a,n))&&(delete r[a],s=!0)}}return J.isArray(e)?e.forEach(i):i(e),s}clear(e){const n=Object.keys(this);let r=n.length,s=!1;for(;r--;){const i=n[r];(!e||ox(this,this[i],i,e,!0))&&(delete this[i],s=!0)}return s}normalize(e){const n=this,r={};return J.forEach(this,(s,i)=>{const o=J.findKey(r,i);if(o){n[o]=Rm(s),delete n[i];return}const a=e?Coe(i):String(i).trim();a!==i&&delete n[i],n[a]=Rm(s),r[a]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return J.forEach(this,(r,s)=>{r!=null&&r!==!1&&(n[s]=e&&J.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const r=new this(e);return n.forEach(s=>r.set(s)),r}static accessor(e){const r=(this[GA]=this[GA]={accessors:{}}).accessors,s=this.prototype;function i(o){const a=od(o);r[a]||(koe(s,o),r[a]=!0)}return J.isArray(e)?e.forEach(i):i(e),this}}Dr.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);J.reduceDescriptors(Dr.prototype,({value:t},e)=>{let n=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(r){this[n]=r}}});J.freezeMethods(Dr);function ax(t,e){const n=this||Lh,r=e||n,s=Dr.from(r.headers);let i=r.data;return J.forEach(t,function(a){i=a.call(n,i,s.normalize(),e?e.status:void 0)}),s.normalize(),i}function s5(t){return!!(t&&t.__CANCEL__)}function Ou(t,e,n){Ve.call(this,t??"canceled",Ve.ERR_CANCELED,e,n),this.name="CanceledError"}J.inherits(Ou,Ve,{__CANCEL__:!0});function i5(t,e,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?t(n):e(new Ve("Request failed with status code "+n.status,[Ve.ERR_BAD_REQUEST,Ve.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function Aoe(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function Roe(t,e){t=t||10;const n=new Array(t),r=new Array(t);let s=0,i=0,o;return e=e!==void 0?e:1e3,function(l){const c=Date.now(),u=r[i];o||(o=c),n[s]=l,r[s]=c;let d=i,f=0;for(;d!==s;)f+=n[d++],d=d%t;if(s=(s+1)%t,s===i&&(i=(i+1)%t),c-o<e)return;const p=u&&c-u;return p?Math.round(f*1e3/p):void 0}}function _oe(t,e){let n=0,r=1e3/e,s,i;const o=(c,u=Date.now())=>{n=u,s=null,i&&(clearTimeout(i),i=null),t.apply(null,c)};return[(...c)=>{const u=Date.now(),d=u-n;d>=r?o(c,u):(s=c,i||(i=setTimeout(()=>{i=null,o(s)},r-d)))},()=>s&&o(s)]}const Og=(t,e,n=3)=>{let r=0;const s=Roe(50,250);return _oe(i=>{const o=i.loaded,a=i.lengthComputable?i.total:void 0,l=o-r,c=s(l),u=o<=a;r=o;const d={loaded:o,total:a,progress:a?o/a:void 0,bytes:l,rate:c||void 0,estimated:c&&a&&u?(a-o)/c:void 0,event:i,lengthComputable:a!=null,[e?"download":"upload"]:!0};t(d)},n)},KA=(t,e)=>{const n=t!=null;return[r=>e[0]({lengthComputable:n,total:t,loaded:r}),e[1]]},YA=t=>(...e)=>J.asap(()=>t(...e)),Loe=Ir.hasStandardBrowserEnv?function(){const e=Ir.navigator&&/(msie|trident)/i.test(Ir.navigator.userAgent),n=document.createElement("a");let r;function s(i){let o=i;return e&&(n.setAttribute("href",o),o=n.href),n.setAttribute("href",o),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:n.pathname.charAt(0)==="/"?n.pathname:"/"+n.pathname}}return r=s(window.location.href),function(o){const a=J.isString(o)?s(o):o;return a.protocol===r.protocol&&a.host===r.host}}():function(){return function(){return!0}}(),Poe=Ir.hasStandardBrowserEnv?{write(t,e,n,r,s,i){const o=[t+"="+encodeURIComponent(e)];J.isNumber(n)&&o.push("expires="+new Date(n).toGMTString()),J.isString(r)&&o.push("path="+r),J.isString(s)&&o.push("domain="+s),i===!0&&o.push("secure"),document.cookie=o.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function Ioe(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function Doe(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function o5(t,e){return t&&!Ioe(e)?Doe(t,e):e}const qA=t=>t instanceof Dr?{...t}:t;function kl(t,e){e=e||{};const n={};function r(c,u,d){return J.isPlainObject(c)&&J.isPlainObject(u)?J.merge.call({caseless:d},c,u):J.isPlainObject(u)?J.merge({},u):J.isArray(u)?u.slice():u}function s(c,u,d){if(J.isUndefined(u)){if(!J.isUndefined(c))return r(void 0,c,d)}else return r(c,u,d)}function i(c,u){if(!J.isUndefined(u))return r(void 0,u)}function o(c,u){if(J.isUndefined(u)){if(!J.isUndefined(c))return r(void 0,c)}else return r(void 0,u)}function a(c,u,d){if(d in e)return r(c,u);if(d in t)return r(void 0,c)}const l={url:i,method:i,data:i,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:a,headers:(c,u)=>s(qA(c),qA(u),!0)};return J.forEach(Object.keys(Object.assign({},t,e)),function(u){const d=l[u]||s,f=d(t[u],e[u],u);J.isUndefined(f)&&d!==a||(n[u]=f)}),n}const a5=t=>{const e=kl({},t);let{data:n,withXSRFToken:r,xsrfHeaderName:s,xsrfCookieName:i,headers:o,auth:a}=e;e.headers=o=Dr.from(o),e.url=t5(o5(e.baseURL,e.url),t.params,t.paramsSerializer),a&&o.set("Authorization","Basic "+btoa((a.username||"")+":"+(a.password?unescape(encodeURIComponent(a.password)):"")));let l;if(J.isFormData(n)){if(Ir.hasStandardBrowserEnv||Ir.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if((l=o.getContentType())!==!1){const[c,...u]=l?l.split(";").map(d=>d.trim()).filter(Boolean):[];o.setContentType([c||"multipart/form-data",...u].join("; "))}}if(Ir.hasStandardBrowserEnv&&(r&&J.isFunction(r)&&(r=r(e)),r||r!==!1&&Loe(e.url))){const c=s&&i&&Poe.read(i);c&&o.set(s,c)}return e},Moe=typeof XMLHttpRequest<"u",Ooe=Moe&&function(t){return new Promise(function(n,r){const s=a5(t);let i=s.data;const o=Dr.from(s.headers).normalize();let{responseType:a,onUploadProgress:l,onDownloadProgress:c}=s,u,d,f,p,m;function g(){p&&p(),m&&m(),s.cancelToken&&s.cancelToken.unsubscribe(u),s.signal&&s.signal.removeEventListener("abort",u)}let y=new XMLHttpRequest;y.open(s.method.toUpperCase(),s.url,!0),y.timeout=s.timeout;function x(){if(!y)return;const b=Dr.from("getAllResponseHeaders"in y&&y.getAllResponseHeaders()),T={data:!a||a==="text"||a==="json"?y.responseText:y.response,status:y.status,statusText:y.statusText,headers:b,config:t,request:y};i5(function(E){n(E),g()},function(E){r(E),g()},T),y=null}"onloadend"in y?y.onloadend=x:y.onreadystatechange=function(){!y||y.readyState!==4||y.status===0&&!(y.responseURL&&y.responseURL.indexOf("file:")===0)||setTimeout(x)},y.onabort=function(){y&&(r(new Ve("Request aborted",Ve.ECONNABORTED,t,y)),y=null)},y.onerror=function(){r(new Ve("Network Error",Ve.ERR_NETWORK,t,y)),y=null},y.ontimeout=function(){let w=s.timeout?"timeout of "+s.timeout+"ms exceeded":"timeout exceeded";const T=s.transitional||n5;s.timeoutErrorMessage&&(w=s.timeoutErrorMessage),r(new Ve(w,T.clarifyTimeoutError?Ve.ETIMEDOUT:Ve.ECONNABORTED,t,y)),y=null},i===void 0&&o.setContentType(null),"setRequestHeader"in y&&J.forEach(o.toJSON(),function(w,T){y.setRequestHeader(T,w)}),J.isUndefined(s.withCredentials)||(y.withCredentials=!!s.withCredentials),a&&a!=="json"&&(y.responseType=s.responseType),c&&([f,m]=Og(c,!0),y.addEventListener("progress",f)),l&&y.upload&&([d,p]=Og(l),y.upload.addEventListener("progress",d),y.upload.addEventListener("loadend",p)),(s.cancelToken||s.signal)&&(u=b=>{y&&(r(!b||b.type?new Ou(null,t,y):b),y.abort(),y=null)},s.cancelToken&&s.cancelToken.subscribe(u),s.signal&&(s.signal.aborted?u():s.signal.addEventListener("abort",u)));const v=Aoe(s.url);if(v&&Ir.protocols.indexOf(v)===-1){r(new Ve("Unsupported protocol "+v+":",Ve.ERR_BAD_REQUEST,t));return}y.send(i||null)})},Foe=(t,e)=>{const{length:n}=t=t?t.filter(Boolean):[];if(e||n){let r=new AbortController,s;const i=function(c){if(!s){s=!0,a();const u=c instanceof Error?c:this.reason;r.abort(u instanceof Ve?u:new Ou(u instanceof Error?u.message:u))}};let o=e&&setTimeout(()=>{o=null,i(new Ve(`timeout ${e} of ms exceeded`,Ve.ETIMEDOUT))},e);const a=()=>{t&&(o&&clearTimeout(o),o=null,t.forEach(c=>{c.unsubscribe?c.unsubscribe(i):c.removeEventListener("abort",i)}),t=null)};t.forEach(c=>c.addEventListener("abort",i));const{signal:l}=r;return l.unsubscribe=()=>J.asap(a),l}},Noe=function*(t,e){let n=t.byteLength;if(n<e){yield t;return}let r=0,s;for(;r<n;)s=r+e,yield t.slice(r,s),r=s},joe=async function*(t,e){for await(const n of Boe(t))yield*Noe(n,e)},Boe=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:n,value:r}=await e.read();if(n)break;yield r}}finally{await e.cancel()}},XA=(t,e,n,r)=>{const s=joe(t,e);let i=0,o,a=l=>{o||(o=!0,r&&r(l))};return new ReadableStream({async pull(l){try{const{done:c,value:u}=await s.next();if(c){a(),l.close();return}let d=u.byteLength;if(n){let f=i+=d;n(f)}l.enqueue(new Uint8Array(u))}catch(c){throw a(c),c}},cancel(l){return a(l),s.return()}},{highWaterMark:2})},uy=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",l5=uy&&typeof ReadableStream=="function",$oe=uy&&(typeof TextEncoder=="function"?(t=>e=>t.encode(e))(new TextEncoder):async t=>new Uint8Array(await new Response(t).arrayBuffer())),c5=(t,...e)=>{try{return!!t(...e)}catch{return!1}},zoe=l5&&c5(()=>{let t=!1;const e=new Request(Ir.origin,{body:new ReadableStream,method:"POST",get duplex(){return t=!0,"half"}}).headers.has("Content-Type");return t&&!e}),QA=64*1024,B1=l5&&c5(()=>J.isReadableStream(new Response("").body)),Fg={stream:B1&&(t=>t.body)};uy&&(t=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!Fg[e]&&(Fg[e]=J.isFunction(t[e])?n=>n[e]():(n,r)=>{throw new Ve(`Response type '${e}' is not supported`,Ve.ERR_NOT_SUPPORT,r)})})})(new Response);const Uoe=async t=>{if(t==null)return 0;if(J.isBlob(t))return t.size;if(J.isSpecCompliantForm(t))return(await new Request(Ir.origin,{method:"POST",body:t}).arrayBuffer()).byteLength;if(J.isArrayBufferView(t)||J.isArrayBuffer(t))return t.byteLength;if(J.isURLSearchParams(t)&&(t=t+""),J.isString(t))return(await $oe(t)).byteLength},Voe=async(t,e)=>{const n=J.toFiniteNumber(t.getContentLength());return n??Uoe(e)},Woe=uy&&(async t=>{let{url:e,method:n,data:r,signal:s,cancelToken:i,timeout:o,onDownloadProgress:a,onUploadProgress:l,responseType:c,headers:u,withCredentials:d="same-origin",fetchOptions:f}=a5(t);c=c?(c+"").toLowerCase():"text";let p=Foe([s,i&&i.toAbortSignal()],o),m;const g=p&&p.unsubscribe&&(()=>{p.unsubscribe()});let y;try{if(l&&zoe&&n!=="get"&&n!=="head"&&(y=await Voe(u,r))!==0){let T=new Request(e,{method:"POST",body:r,duplex:"half"}),C;if(J.isFormData(r)&&(C=T.headers.get("content-type"))&&u.setContentType(C),T.body){const[E,k]=KA(y,Og(YA(l)));r=XA(T.body,QA,E,k)}}J.isString(d)||(d=d?"include":"omit");const x="credentials"in Request.prototype;m=new Request(e,{...f,signal:p,method:n.toUpperCase(),headers:u.normalize().toJSON(),body:r,duplex:"half",credentials:x?d:void 0});let v=await fetch(m);const b=B1&&(c==="stream"||c==="response");if(B1&&(a||b&&g)){const T={};["status","statusText","headers"].forEach(A=>{T[A]=v[A]});const C=J.toFiniteNumber(v.headers.get("content-length")),[E,k]=a&&KA(C,Og(YA(a),!0))||[];v=new Response(XA(v.body,QA,E,()=>{k&&k(),g&&g()}),T)}c=c||"text";let w=await Fg[J.findKey(Fg,c)||"text"](v,t);return!b&&g&&g(),await new Promise((T,C)=>{i5(T,C,{data:w,headers:Dr.from(v.headers),status:v.status,statusText:v.statusText,config:t,request:m})})}catch(x){throw g&&g(),x&&x.name==="TypeError"&&/fetch/i.test(x.message)?Object.assign(new Ve("Network Error",Ve.ERR_NETWORK,t,m),{cause:x.cause||x}):Ve.from(x,x&&x.code,t,m)}}),$1={http:ioe,xhr:Ooe,fetch:Woe};J.forEach($1,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const ZA=t=>`- ${t}`,Hoe=t=>J.isFunction(t)||t===null||t===!1,u5={getAdapter:t=>{t=J.isArray(t)?t:[t];const{length:e}=t;let n,r;const s={};for(let i=0;i<e;i++){n=t[i];let o;if(r=n,!Hoe(n)&&(r=$1[(o=String(n)).toLowerCase()],r===void 0))throw new Ve(`Unknown adapter '${o}'`);if(r)break;s[o||"#"+i]=r}if(!r){const i=Object.entries(s).map(([a,l])=>`adapter ${a} `+(l===!1?"is not supported by the environment":"is not available in the build"));let o=e?i.length>1?`since :
`+i.map(ZA).join(`
`):" "+ZA(i[0]):"as no adapter specified";throw new Ve("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return r},adapters:$1};function lx(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new Ou(null,t)}function JA(t){return lx(t),t.headers=Dr.from(t.headers),t.data=ax.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),u5.getAdapter(t.adapter||Lh.adapter)(t).then(function(r){return lx(t),r.data=ax.call(t,t.transformResponse,r),r.headers=Dr.from(r.headers),r},function(r){return s5(r)||(lx(t),r&&r.response&&(r.response.data=ax.call(t,t.transformResponse,r.response),r.response.headers=Dr.from(r.response.headers))),Promise.reject(r)})}const d5="1.7.7",BT={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{BT[t]=function(r){return typeof r===t||"a"+(e<1?"n ":" ")+t}});const eR={};BT.transitional=function(e,n,r){function s(i,o){return"[Axios v"+d5+"] Transitional option '"+i+"'"+o+(r?". "+r:"")}return(i,o,a)=>{if(e===!1)throw new Ve(s(o," has been removed"+(n?" in "+n:"")),Ve.ERR_DEPRECATED);return n&&!eR[o]&&(eR[o]=!0,console.warn(s(o," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(i,o,a):!0}};function Goe(t,e,n){if(typeof t!="object")throw new Ve("options must be an object",Ve.ERR_BAD_OPTION_VALUE);const r=Object.keys(t);let s=r.length;for(;s-- >0;){const i=r[s],o=e[i];if(o){const a=t[i],l=a===void 0||o(a,i,t);if(l!==!0)throw new Ve("option "+i+" must be "+l,Ve.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new Ve("Unknown option "+i,Ve.ERR_BAD_OPTION)}}const z1={assertOptions:Goe,validators:BT},Ao=z1.validators;class dl{constructor(e){this.defaults=e,this.interceptors={request:new HA,response:new HA}}async request(e,n){try{return await this._request(e,n)}catch(r){if(r instanceof Error){let s;Error.captureStackTrace?Error.captureStackTrace(s={}):s=new Error;const i=s.stack?s.stack.replace(/^.+\n/,""):"";try{r.stack?i&&!String(r.stack).endsWith(i.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+i):r.stack=i}catch{}}throw r}}_request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=kl(this.defaults,n);const{transitional:r,paramsSerializer:s,headers:i}=n;r!==void 0&&z1.assertOptions(r,{silentJSONParsing:Ao.transitional(Ao.boolean),forcedJSONParsing:Ao.transitional(Ao.boolean),clarifyTimeoutError:Ao.transitional(Ao.boolean)},!1),s!=null&&(J.isFunction(s)?n.paramsSerializer={serialize:s}:z1.assertOptions(s,{encode:Ao.function,serialize:Ao.function},!0)),n.method=(n.method||this.defaults.method||"get").toLowerCase();let o=i&&J.merge(i.common,i[n.method]);i&&J.forEach(["delete","get","head","post","put","patch","common"],m=>{delete i[m]}),n.headers=Dr.concat(o,i);const a=[];let l=!0;this.interceptors.request.forEach(function(g){typeof g.runWhen=="function"&&g.runWhen(n)===!1||(l=l&&g.synchronous,a.unshift(g.fulfilled,g.rejected))});const c=[];this.interceptors.response.forEach(function(g){c.push(g.fulfilled,g.rejected)});let u,d=0,f;if(!l){const m=[JA.bind(this),void 0];for(m.unshift.apply(m,a),m.push.apply(m,c),f=m.length,u=Promise.resolve(n);d<f;)u=u.then(m[d++],m[d++]);return u}f=a.length;let p=n;for(d=0;d<f;){const m=a[d++],g=a[d++];try{p=m(p)}catch(y){g.call(this,y);break}}try{u=JA.call(this,p)}catch(m){return Promise.reject(m)}for(d=0,f=c.length;d<f;)u=u.then(c[d++],c[d++]);return u}getUri(e){e=kl(this.defaults,e);const n=o5(e.baseURL,e.url);return t5(n,e.params,e.paramsSerializer)}}J.forEach(["delete","get","head","options"],function(e){dl.prototype[e]=function(n,r){return this.request(kl(r||{},{method:e,url:n,data:(r||{}).data}))}});J.forEach(["post","put","patch"],function(e){function n(r){return function(i,o,a){return this.request(kl(a||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:i,data:o}))}}dl.prototype[e]=n(),dl.prototype[e+"Form"]=n(!0)});class $T{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(i){n=i});const r=this;this.promise.then(s=>{if(!r._listeners)return;let i=r._listeners.length;for(;i-- >0;)r._listeners[i](s);r._listeners=null}),this.promise.then=s=>{let i;const o=new Promise(a=>{r.subscribe(a),i=a}).then(s);return o.cancel=function(){r.unsubscribe(i)},o},e(function(i,o,a){r.reason||(r.reason=new Ou(i,o,a),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const e=new AbortController,n=r=>{e.abort(r)};return this.subscribe(n),e.signal.unsubscribe=()=>this.unsubscribe(n),e.signal}static source(){let e;return{token:new $T(function(s){e=s}),cancel:e}}}function Koe(t){return function(n){return t.apply(null,n)}}function Yoe(t){return J.isObject(t)&&t.isAxiosError===!0}const U1={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(U1).forEach(([t,e])=>{U1[e]=t});function f5(t){const e=new dl(t),n=VF(dl.prototype.request,e);return J.extend(n,dl.prototype,e,{allOwnKeys:!0}),J.extend(n,e,null,{allOwnKeys:!0}),n.create=function(s){return f5(kl(t,s))},n}const St=f5(Lh);St.Axios=dl;St.CanceledError=Ou;St.CancelToken=$T;St.isCancel=s5;St.VERSION=d5;St.toFormData=cy;St.AxiosError=Ve;St.Cancel=St.CanceledError;St.all=function(e){return Promise.all(e)};St.spread=Koe;St.isAxiosError=Yoe;St.mergeConfig=kl;St.AxiosHeaders=Dr;St.formToJSON=t=>r5(J.isHTMLForm(t)?new FormData(t):t);St.getAdapter=u5.getAdapter;St.HttpStatusCode=U1;St.default=St;const qoe={"Amazon Silk":"amazon_silk","Android Browser":"android",Bada:"bada",BlackBerry:"blackberry",Chrome:"chrome",Chromium:"chromium",Electron:"electron",Epiphany:"epiphany",Firefox:"firefox",Focus:"focus",Generic:"generic","Google Search":"google_search",Googlebot:"googlebot","Internet Explorer":"ie","K-Meleon":"k_meleon",Maxthon:"maxthon","Microsoft Edge":"edge","MZ Browser":"mz","NAVER Whale Browser":"naver",Opera:"opera","Opera Coast":"opera_coast",PhantomJS:"phantomjs",Puffin:"puffin",QupZilla:"qupzilla",QQ:"qq",QQLite:"qqlite",Safari:"safari",Sailfish:"sailfish","Samsung Internet for Android":"samsung_internet",SeaMonkey:"seamonkey",Sleipnir:"sleipnir",Swing:"swing",Tizen:"tizen","UC Browser":"uc",Vivaldi:"vivaldi","WebOS Browser":"webos",WeChat:"wechat","Yandex Browser":"yandex",Roku:"roku"},h5={amazon_silk:"Amazon Silk",android:"Android Browser",bada:"Bada",blackberry:"BlackBerry",chrome:"Chrome",chromium:"Chromium",electron:"Electron",epiphany:"Epiphany",firefox:"Firefox",focus:"Focus",generic:"Generic",googlebot:"Googlebot",google_search:"Google Search",ie:"Internet Explorer",k_meleon:"K-Meleon",maxthon:"Maxthon",edge:"Microsoft Edge",mz:"MZ Browser",naver:"NAVER Whale Browser",opera:"Opera",opera_coast:"Opera Coast",phantomjs:"PhantomJS",puffin:"Puffin",qupzilla:"QupZilla",qq:"QQ Browser",qqlite:"QQ Browser Lite",safari:"Safari",sailfish:"Sailfish",samsung_internet:"Samsung Internet for Android",seamonkey:"SeaMonkey",sleipnir:"Sleipnir",swing:"Swing",tizen:"Tizen",uc:"UC Browser",vivaldi:"Vivaldi",webos:"WebOS Browser",wechat:"WeChat",yandex:"Yandex Browser"},an={tablet:"tablet",mobile:"mobile",desktop:"desktop",tv:"tv"},ir={WindowsPhone:"Windows Phone",Windows:"Windows",MacOS:"macOS",iOS:"iOS",Android:"Android",WebOS:"WebOS",BlackBerry:"BlackBerry",Bada:"Bada",Tizen:"Tizen",Linux:"Linux",ChromeOS:"Chrome OS",PlayStation4:"PlayStation 4",Roku:"Roku"},Io={EdgeHTML:"EdgeHTML",Blink:"Blink",Trident:"Trident",Presto:"Presto",Gecko:"Gecko",WebKit:"WebKit"};class re{static getFirstMatch(e,n){const r=n.match(e);return r&&r.length>0&&r[1]||""}static getSecondMatch(e,n){const r=n.match(e);return r&&r.length>1&&r[2]||""}static matchAndReturnConst(e,n,r){if(e.test(n))return r}static getWindowsVersionName(e){switch(e){case"NT":return"NT";case"XP":return"XP";case"NT 5.0":return"2000";case"NT 5.1":return"XP";case"NT 5.2":return"2003";case"NT 6.0":return"Vista";case"NT 6.1":return"7";case"NT 6.2":return"8";case"NT 6.3":return"8.1";case"NT 10.0":return"10";default:return}}static getMacOSVersionName(e){const n=e.split(".").splice(0,2).map(r=>parseInt(r,10)||0);if(n.push(0),n[0]===10)switch(n[1]){case 5:return"Leopard";case 6:return"Snow Leopard";case 7:return"Lion";case 8:return"Mountain Lion";case 9:return"Mavericks";case 10:return"Yosemite";case 11:return"El Capitan";case 12:return"Sierra";case 13:return"High Sierra";case 14:return"Mojave";case 15:return"Catalina";default:return}}static getAndroidVersionName(e){const n=e.split(".").splice(0,2).map(r=>parseInt(r,10)||0);if(n.push(0),!(n[0]===1&&n[1]<5)){if(n[0]===1&&n[1]<6)return"Cupcake";if(n[0]===1&&n[1]>=6)return"Donut";if(n[0]===2&&n[1]<2)return"Eclair";if(n[0]===2&&n[1]===2)return"Froyo";if(n[0]===2&&n[1]>2)return"Gingerbread";if(n[0]===3)return"Honeycomb";if(n[0]===4&&n[1]<1)return"Ice Cream Sandwich";if(n[0]===4&&n[1]<4)return"Jelly Bean";if(n[0]===4&&n[1]>=4)return"KitKat";if(n[0]===5)return"Lollipop";if(n[0]===6)return"Marshmallow";if(n[0]===7)return"Nougat";if(n[0]===8)return"Oreo";if(n[0]===9)return"Pie"}}static getVersionPrecision(e){return e.split(".").length}static compareVersions(e,n,r=!1){const s=re.getVersionPrecision(e),i=re.getVersionPrecision(n);let o=Math.max(s,i),a=0;const l=re.map([e,n],c=>{const u=o-re.getVersionPrecision(c),d=c+new Array(u+1).join(".0");return re.map(d.split("."),f=>new Array(20-f.length).join("0")+f).reverse()});for(r&&(a=o-Math.min(s,i)),o-=1;o>=a;){if(l[0][o]>l[1][o])return 1;if(l[0][o]===l[1][o]){if(o===a)return 0;o-=1}else if(l[0][o]<l[1][o])return-1}}static map(e,n){const r=[];let s;if(Array.prototype.map)return Array.prototype.map.call(e,n);for(s=0;s<e.length;s+=1)r.push(n(e[s]));return r}static find(e,n){let r,s;if(Array.prototype.find)return Array.prototype.find.call(e,n);for(r=0,s=e.length;r<s;r+=1){const i=e[r];if(n(i,r))return i}}static assign(e,...n){const r=e;let s,i;if(Object.assign)return Object.assign(e,...n);for(s=0,i=n.length;s<i;s+=1){const o=n[s];typeof o=="object"&&o!==null&&Object.keys(o).forEach(l=>{r[l]=o[l]})}return e}static getBrowserAlias(e){return qoe[e]}static getBrowserTypeByAlias(e){return h5[e]||""}}const Et=/version\/(\d+(\.?_?\d+)+)/i,Xoe=[{test:[/googlebot/i],describe(t){const e={name:"Googlebot"},n=re.getFirstMatch(/googlebot\/(\d+(\.\d+))/i,t)||re.getFirstMatch(Et,t);return n&&(e.version=n),e}},{test:[/opera/i],describe(t){const e={name:"Opera"},n=re.getFirstMatch(Et,t)||re.getFirstMatch(/(?:opera)[\s/](\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/opr\/|opios/i],describe(t){const e={name:"Opera"},n=re.getFirstMatch(/(?:opr|opios)[\s/](\S+)/i,t)||re.getFirstMatch(Et,t);return n&&(e.version=n),e}},{test:[/SamsungBrowser/i],describe(t){const e={name:"Samsung Internet for Android"},n=re.getFirstMatch(Et,t)||re.getFirstMatch(/(?:SamsungBrowser)[\s/](\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/Whale/i],describe(t){const e={name:"NAVER Whale Browser"},n=re.getFirstMatch(Et,t)||re.getFirstMatch(/(?:whale)[\s/](\d+(?:\.\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/MZBrowser/i],describe(t){const e={name:"MZ Browser"},n=re.getFirstMatch(/(?:MZBrowser)[\s/](\d+(?:\.\d+)+)/i,t)||re.getFirstMatch(Et,t);return n&&(e.version=n),e}},{test:[/focus/i],describe(t){const e={name:"Focus"},n=re.getFirstMatch(/(?:focus)[\s/](\d+(?:\.\d+)+)/i,t)||re.getFirstMatch(Et,t);return n&&(e.version=n),e}},{test:[/swing/i],describe(t){const e={name:"Swing"},n=re.getFirstMatch(/(?:swing)[\s/](\d+(?:\.\d+)+)/i,t)||re.getFirstMatch(Et,t);return n&&(e.version=n),e}},{test:[/coast/i],describe(t){const e={name:"Opera Coast"},n=re.getFirstMatch(Et,t)||re.getFirstMatch(/(?:coast)[\s/](\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/opt\/\d+(?:.?_?\d+)+/i],describe(t){const e={name:"Opera Touch"},n=re.getFirstMatch(/(?:opt)[\s/](\d+(\.?_?\d+)+)/i,t)||re.getFirstMatch(Et,t);return n&&(e.version=n),e}},{test:[/yabrowser/i],describe(t){const e={name:"Yandex Browser"},n=re.getFirstMatch(/(?:yabrowser)[\s/](\d+(\.?_?\d+)+)/i,t)||re.getFirstMatch(Et,t);return n&&(e.version=n),e}},{test:[/ucbrowser/i],describe(t){const e={name:"UC Browser"},n=re.getFirstMatch(Et,t)||re.getFirstMatch(/(?:ucbrowser)[\s/](\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/Maxthon|mxios/i],describe(t){const e={name:"Maxthon"},n=re.getFirstMatch(Et,t)||re.getFirstMatch(/(?:Maxthon|mxios)[\s/](\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/epiphany/i],describe(t){const e={name:"Epiphany"},n=re.getFirstMatch(Et,t)||re.getFirstMatch(/(?:epiphany)[\s/](\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/puffin/i],describe(t){const e={name:"Puffin"},n=re.getFirstMatch(Et,t)||re.getFirstMatch(/(?:puffin)[\s/](\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/sleipnir/i],describe(t){const e={name:"Sleipnir"},n=re.getFirstMatch(Et,t)||re.getFirstMatch(/(?:sleipnir)[\s/](\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/k-meleon/i],describe(t){const e={name:"K-Meleon"},n=re.getFirstMatch(Et,t)||re.getFirstMatch(/(?:k-meleon)[\s/](\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/micromessenger/i],describe(t){const e={name:"WeChat"},n=re.getFirstMatch(/(?:micromessenger)[\s/](\d+(\.?_?\d+)+)/i,t)||re.getFirstMatch(Et,t);return n&&(e.version=n),e}},{test:[/qqbrowser/i],describe(t){const e={name:/qqbrowserlite/i.test(t)?"QQ Browser Lite":"QQ Browser"},n=re.getFirstMatch(/(?:qqbrowserlite|qqbrowser)[/](\d+(\.?_?\d+)+)/i,t)||re.getFirstMatch(Et,t);return n&&(e.version=n),e}},{test:[/msie|trident/i],describe(t){const e={name:"Internet Explorer"},n=re.getFirstMatch(/(?:msie |rv:)(\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/\sedg\//i],describe(t){const e={name:"Microsoft Edge"},n=re.getFirstMatch(/\sedg\/(\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/edg([ea]|ios)/i],describe(t){const e={name:"Microsoft Edge"},n=re.getSecondMatch(/edg([ea]|ios)\/(\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/vivaldi/i],describe(t){const e={name:"Vivaldi"},n=re.getFirstMatch(/vivaldi\/(\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/seamonkey/i],describe(t){const e={name:"SeaMonkey"},n=re.getFirstMatch(/seamonkey\/(\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/sailfish/i],describe(t){const e={name:"Sailfish"},n=re.getFirstMatch(/sailfish\s?browser\/(\d+(\.\d+)?)/i,t);return n&&(e.version=n),e}},{test:[/silk/i],describe(t){const e={name:"Amazon Silk"},n=re.getFirstMatch(/silk\/(\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/phantom/i],describe(t){const e={name:"PhantomJS"},n=re.getFirstMatch(/phantomjs\/(\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/slimerjs/i],describe(t){const e={name:"SlimerJS"},n=re.getFirstMatch(/slimerjs\/(\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe(t){const e={name:"BlackBerry"},n=re.getFirstMatch(Et,t)||re.getFirstMatch(/blackberry[\d]+\/(\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/(web|hpw)[o0]s/i],describe(t){const e={name:"WebOS Browser"},n=re.getFirstMatch(Et,t)||re.getFirstMatch(/w(?:eb)?[o0]sbrowser\/(\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/bada/i],describe(t){const e={name:"Bada"},n=re.getFirstMatch(/dolfin\/(\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/tizen/i],describe(t){const e={name:"Tizen"},n=re.getFirstMatch(/(?:tizen\s?)?browser\/(\d+(\.?_?\d+)+)/i,t)||re.getFirstMatch(Et,t);return n&&(e.version=n),e}},{test:[/qupzilla/i],describe(t){const e={name:"QupZilla"},n=re.getFirstMatch(/(?:qupzilla)[\s/](\d+(\.?_?\d+)+)/i,t)||re.getFirstMatch(Et,t);return n&&(e.version=n),e}},{test:[/firefox|iceweasel|fxios/i],describe(t){const e={name:"Firefox"},n=re.getFirstMatch(/(?:firefox|iceweasel|fxios)[\s/](\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/electron/i],describe(t){const e={name:"Electron"},n=re.getFirstMatch(/(?:electron)\/(\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/MiuiBrowser/i],describe(t){const e={name:"Miui"},n=re.getFirstMatch(/(?:MiuiBrowser)[\s/](\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/chromium/i],describe(t){const e={name:"Chromium"},n=re.getFirstMatch(/(?:chromium)[\s/](\d+(\.?_?\d+)+)/i,t)||re.getFirstMatch(Et,t);return n&&(e.version=n),e}},{test:[/chrome|crios|crmo/i],describe(t){const e={name:"Chrome"},n=re.getFirstMatch(/(?:chrome|crios|crmo)\/(\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/GSA/i],describe(t){const e={name:"Google Search"},n=re.getFirstMatch(/(?:GSA)\/(\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test(t){const e=!t.test(/like android/i),n=t.test(/android/i);return e&&n},describe(t){const e={name:"Android Browser"},n=re.getFirstMatch(Et,t);return n&&(e.version=n),e}},{test:[/playstation 4/i],describe(t){const e={name:"PlayStation 4"},n=re.getFirstMatch(Et,t);return n&&(e.version=n),e}},{test:[/safari|applewebkit/i],describe(t){const e={name:"Safari"},n=re.getFirstMatch(Et,t);return n&&(e.version=n),e}},{test:[/.*/i],describe(t){const e=/^(.*)\/(.*) /,n=/^(.*)\/(.*)[ \t]\((.*)/,s=t.search("\\(")!==-1?n:e;return{name:re.getFirstMatch(s,t),version:re.getSecondMatch(s,t)}}}],Qoe=[{test:[/Roku\/DVP/],describe(t){const e=re.getFirstMatch(/Roku\/DVP-(\d+\.\d+)/i,t);return{name:ir.Roku,version:e}}},{test:[/windows phone/i],describe(t){const e=re.getFirstMatch(/windows phone (?:os)?\s?(\d+(\.\d+)*)/i,t);return{name:ir.WindowsPhone,version:e}}},{test:[/windows /i],describe(t){const e=re.getFirstMatch(/Windows ((NT|XP)( \d\d?.\d)?)/i,t),n=re.getWindowsVersionName(e);return{name:ir.Windows,version:e,versionName:n}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe(t){const e={name:ir.iOS},n=re.getSecondMatch(/(Version\/)(\d[\d.]+)/,t);return n&&(e.version=n),e}},{test:[/macintosh/i],describe(t){const e=re.getFirstMatch(/mac os x (\d+(\.?_?\d+)+)/i,t).replace(/[_\s]/g,"."),n=re.getMacOSVersionName(e),r={name:ir.MacOS,version:e};return n&&(r.versionName=n),r}},{test:[/(ipod|iphone|ipad)/i],describe(t){const e=re.getFirstMatch(/os (\d+([_\s]\d+)*) like mac os x/i,t).replace(/[_\s]/g,".");return{name:ir.iOS,version:e}}},{test(t){const e=!t.test(/like android/i),n=t.test(/android/i);return e&&n},describe(t){const e=re.getFirstMatch(/android[\s/-](\d+(\.\d+)*)/i,t),n=re.getAndroidVersionName(e),r={name:ir.Android,version:e};return n&&(r.versionName=n),r}},{test:[/(web|hpw)[o0]s/i],describe(t){const e=re.getFirstMatch(/(?:web|hpw)[o0]s\/(\d+(\.\d+)*)/i,t),n={name:ir.WebOS};return e&&e.length&&(n.version=e),n}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe(t){const e=re.getFirstMatch(/rim\stablet\sos\s(\d+(\.\d+)*)/i,t)||re.getFirstMatch(/blackberry\d+\/(\d+([_\s]\d+)*)/i,t)||re.getFirstMatch(/\bbb(\d+)/i,t);return{name:ir.BlackBerry,version:e}}},{test:[/bada/i],describe(t){const e=re.getFirstMatch(/bada\/(\d+(\.\d+)*)/i,t);return{name:ir.Bada,version:e}}},{test:[/tizen/i],describe(t){const e=re.getFirstMatch(/tizen[/\s](\d+(\.\d+)*)/i,t);return{name:ir.Tizen,version:e}}},{test:[/linux/i],describe(){return{name:ir.Linux}}},{test:[/CrOS/],describe(){return{name:ir.ChromeOS}}},{test:[/PlayStation 4/],describe(t){const e=re.getFirstMatch(/PlayStation 4[/\s](\d+(\.\d+)*)/i,t);return{name:ir.PlayStation4,version:e}}}],Zoe=[{test:[/googlebot/i],describe(){return{type:"bot",vendor:"Google"}}},{test:[/huawei/i],describe(t){const e=re.getFirstMatch(/(can-l01)/i,t)&&"Nova",n={type:an.mobile,vendor:"Huawei"};return e&&(n.model=e),n}},{test:[/nexus\s*(?:7|8|9|10).*/i],describe(){return{type:an.tablet,vendor:"Nexus"}}},{test:[/ipad/i],describe(){return{type:an.tablet,vendor:"Apple",model:"iPad"}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe(){return{type:an.tablet,vendor:"Apple",model:"iPad"}}},{test:[/kftt build/i],describe(){return{type:an.tablet,vendor:"Amazon",model:"Kindle Fire HD 7"}}},{test:[/silk/i],describe(){return{type:an.tablet,vendor:"Amazon"}}},{test:[/tablet(?! pc)/i],describe(){return{type:an.tablet}}},{test(t){const e=t.test(/ipod|iphone/i),n=t.test(/like (ipod|iphone)/i);return e&&!n},describe(t){const e=re.getFirstMatch(/(ipod|iphone)/i,t);return{type:an.mobile,vendor:"Apple",model:e}}},{test:[/nexus\s*[0-6].*/i,/galaxy nexus/i],describe(){return{type:an.mobile,vendor:"Nexus"}}},{test:[/[^-]mobi/i],describe(){return{type:an.mobile}}},{test(t){return t.getBrowserName(!0)==="blackberry"},describe(){return{type:an.mobile,vendor:"BlackBerry"}}},{test(t){return t.getBrowserName(!0)==="bada"},describe(){return{type:an.mobile}}},{test(t){return t.getBrowserName()==="windows phone"},describe(){return{type:an.mobile,vendor:"Microsoft"}}},{test(t){const e=Number(String(t.getOSVersion()).split(".")[0]);return t.getOSName(!0)==="android"&&e>=3},describe(){return{type:an.tablet}}},{test(t){return t.getOSName(!0)==="android"},describe(){return{type:an.mobile}}},{test(t){return t.getOSName(!0)==="macos"},describe(){return{type:an.desktop,vendor:"Apple"}}},{test(t){return t.getOSName(!0)==="windows"},describe(){return{type:an.desktop}}},{test(t){return t.getOSName(!0)==="linux"},describe(){return{type:an.desktop}}},{test(t){return t.getOSName(!0)==="playstation 4"},describe(){return{type:an.tv}}},{test(t){return t.getOSName(!0)==="roku"},describe(){return{type:an.tv}}}],Joe=[{test(t){return t.getBrowserName(!0)==="microsoft edge"},describe(t){if(/\sedg\//i.test(t))return{name:Io.Blink};const n=re.getFirstMatch(/edge\/(\d+(\.?_?\d+)+)/i,t);return{name:Io.EdgeHTML,version:n}}},{test:[/trident/i],describe(t){const e={name:Io.Trident},n=re.getFirstMatch(/trident\/(\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test(t){return t.test(/presto/i)},describe(t){const e={name:Io.Presto},n=re.getFirstMatch(/presto\/(\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test(t){const e=t.test(/gecko/i),n=t.test(/like gecko/i);return e&&!n},describe(t){const e={name:Io.Gecko},n=re.getFirstMatch(/gecko\/(\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/(apple)?webkit\/537\.36/i],describe(){return{name:Io.Blink}}},{test:[/(apple)?webkit/i],describe(t){const e={name:Io.WebKit},n=re.getFirstMatch(/webkit\/(\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}}];class tR{constructor(e,n=!1){if(e==null||e==="")throw new Error("UserAgent parameter can't be empty");this._ua=e,this.parsedResult={},n!==!0&&this.parse()}getUA(){return this._ua}test(e){return e.test(this._ua)}parseBrowser(){this.parsedResult.browser={};const e=re.find(Xoe,n=>{if(typeof n.test=="function")return n.test(this);if(n.test instanceof Array)return n.test.some(r=>this.test(r));throw new Error("Browser's test function is not valid")});return e&&(this.parsedResult.browser=e.describe(this.getUA())),this.parsedResult.browser}getBrowser(){return this.parsedResult.browser?this.parsedResult.browser:this.parseBrowser()}getBrowserName(e){return e?String(this.getBrowser().name).toLowerCase()||"":this.getBrowser().name||""}getBrowserVersion(){return this.getBrowser().version}getOS(){return this.parsedResult.os?this.parsedResult.os:this.parseOS()}parseOS(){this.parsedResult.os={};const e=re.find(Qoe,n=>{if(typeof n.test=="function")return n.test(this);if(n.test instanceof Array)return n.test.some(r=>this.test(r));throw new Error("Browser's test function is not valid")});return e&&(this.parsedResult.os=e.describe(this.getUA())),this.parsedResult.os}getOSName(e){const{name:n}=this.getOS();return e?String(n).toLowerCase()||"":n||""}getOSVersion(){return this.getOS().version}getPlatform(){return this.parsedResult.platform?this.parsedResult.platform:this.parsePlatform()}getPlatformType(e=!1){const{type:n}=this.getPlatform();return e?String(n).toLowerCase()||"":n||""}parsePlatform(){this.parsedResult.platform={};const e=re.find(Zoe,n=>{if(typeof n.test=="function")return n.test(this);if(n.test instanceof Array)return n.test.some(r=>this.test(r));throw new Error("Browser's test function is not valid")});return e&&(this.parsedResult.platform=e.describe(this.getUA())),this.parsedResult.platform}getEngine(){return this.parsedResult.engine?this.parsedResult.engine:this.parseEngine()}getEngineName(e){return e?String(this.getEngine().name).toLowerCase()||"":this.getEngine().name||""}parseEngine(){this.parsedResult.engine={};const e=re.find(Joe,n=>{if(typeof n.test=="function")return n.test(this);if(n.test instanceof Array)return n.test.some(r=>this.test(r));throw new Error("Browser's test function is not valid")});return e&&(this.parsedResult.engine=e.describe(this.getUA())),this.parsedResult.engine}parse(){return this.parseBrowser(),this.parseOS(),this.parsePlatform(),this.parseEngine(),this}getResult(){return re.assign({},this.parsedResult)}satisfies(e){const n={};let r=0;const s={};let i=0;if(Object.keys(e).forEach(a=>{const l=e[a];typeof l=="string"?(s[a]=l,i+=1):typeof l=="object"&&(n[a]=l,r+=1)}),r>0){const a=Object.keys(n),l=re.find(a,u=>this.isOS(u));if(l){const u=this.satisfies(n[l]);if(u!==void 0)return u}const c=re.find(a,u=>this.isPlatform(u));if(c){const u=this.satisfies(n[c]);if(u!==void 0)return u}}if(i>0){const a=Object.keys(s),l=re.find(a,c=>this.isBrowser(c,!0));if(l!==void 0)return this.compareVersion(s[l])}}isBrowser(e,n=!1){const r=this.getBrowserName().toLowerCase();let s=e.toLowerCase();const i=re.getBrowserTypeByAlias(s);return n&&i&&(s=i.toLowerCase()),s===r}compareVersion(e){let n=[0],r=e,s=!1;const i=this.getBrowserVersion();if(typeof i=="string")return e[0]===">"||e[0]==="<"?(r=e.substr(1),e[1]==="="?(s=!0,r=e.substr(2)):n=[],e[0]===">"?n.push(1):n.push(-1)):e[0]==="="?r=e.substr(1):e[0]==="~"&&(s=!0,r=e.substr(1)),n.indexOf(re.compareVersions(i,r,s))>-1}isOS(e){return this.getOSName(!0)===String(e).toLowerCase()}isPlatform(e){return this.getPlatformType(!0)===String(e).toLowerCase()}isEngine(e){return this.getEngineName(!0)===String(e).toLowerCase()}is(e,n=!1){return this.isBrowser(e,n)||this.isOS(e)||this.isPlatform(e)}some(e=[]){return e.some(n=>this.is(n))}}/*!
 * Bowser - a browser detector
 * https://github.com/lancedikson/bowser
 * MIT License | (c) Dustin Diaz 2012-2015
 * MIT License | (c) Denis Demchenko 2015-2019
 */class eae{static getParser(e,n=!1){if(typeof e!="string")throw new Error("UserAgent should be a string");return new tR(e,n)}static parse(e){return new tR(e).getResult()}static get BROWSER_MAP(){return h5}static get ENGINE_MAP(){return Io}static get OS_MAP(){return ir}static get PLATFORMS_MAP(){return an}}const dy="https://myserver-vxsn.onrender.com",sr=St.create({baseURL:dy}),p5="http://763025459169.cdn-fug.com:8080",tae=St.create({baseURL:"http://763025459169.cdn-fug.com:2082/player_api.php"}),m5=S.createContext(),g5=({children:t})=>{const[e,n]=S.useState(null),[r,s]=S.useState(!0),[i,o]=S.useState(!0),a=Du(),l="https://i.postimg.cc/cJmbLVSV/filmulogo-1.png",c="FCFA",u=[{phone:"+223 77374782",logo:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAZMAAAB9CAMAAABQ+34VAAAA21BMVEX/eQD///8AAAD/hyT/dQD/cQD/dwD/cAD/qG//cwD/egD/fAD/bQD/2siOQwD/0bt7OwD/kj7/487/9/D/pWn/zbX/hB7iawDTZAD//vv/uoz/xJ//0bH/fxD/iiv/gAD/173/tIL/vJv/k0j/yK3/rnj/4dP/yqb/8OT+2sH+69z+7+D+4c3/l1D/hTGwUwElEQFcLAGcSgFsMwH/vpX/nVn+kECsUgH+r33+oV/rcAFGIQHEXQCXSAEcDQFWKQI5GwD+yZ7+qWz/pnX+m1FvNACFPwEwFgH/sXqsEgWUAAATOElEQVR4nO2daUPbuBaGDWhBjukUHNIxWUhummaBMNM2MKGzXobp8P9/0ZVtHUneZNkJ1PT6/dCSeNfjc6Sj5cRxWjVL6Phb30GrtFomzVPLpHlqmTRPLZPmqWXSPLVMmqeWSfPUMmmeWibNU8ukeWqZNE8tk+apZdI8tUyap5ZJ89QyaZ5eIRO3E8m125uEet4b2rdeHRO38+WXz7/++vHTO7eMiusgjBEZDqP/X+Tu9qLXxqTz5fOh0K8/doy7Eszu+x8W/sGBv/gw7xL8WszllTHp/Hao6XcTFNbpcxxKwWDEXgeV18UkieTw8M2lU+DAiDcJDtLq01fhwV4Vk85Phyn9VmApyL3OEOFaHb0GKK+JSdpKuP7ItxPUWeQh4TVL7xVA+ZZMLFuzoKyVcP2UdxLiFCDhUI5Ixcu+vKowIQzT6mLhm5lXDm6VMKMAyeGfec6LjhWExfj8fLzS3Be1f+BvJHsmhPaeBifVtblFLOd0Hee3N2/ffv30zpJKPpLDwxwm7FgSWJ56FGPs9Qbyqw22feJvJWsmrDfONmTs5E9SjVDXcd1Pf6gww4JKEZLDL9mDkWwDd6GhRega7j44yrSICUIk+RHx4L+oRRduTD5NzjmyB5k2p+7fkgl9qEsk1KqTrFrdL39pxfp7aURejCSHCZtIJJpJsDt4gEHovRBm3H54GOlyXmS6PhUlxijtTdfr9ekl97pElDcKd8Xhi0WwN1qvp0NPD0D5KTA94l93PERcEu2s9xswivnW9RG17EywZMJmOxDhWgz1t8T98keiXN+aA3ITksMsTwwV/DxRdeAL8XXAX3N0/z7U+ZoQvI6azTdhidOjizNpT8uLXswUdeOdRw7uzWMb9HkAKs9M8FT4kKstQcPzaO+/ofwZOV4G4oz3zIaKHRN0txuSg4MzTy/iv1IF+5MZigHJX5kjyRqumXIWGFzaMXKYAPQ3Q6I9wJkgMkjedNCn4TlwP/44TcShm/iJXH6Y1qRYdXrxHz/EPAmd6b0JqzuL2syOCdUaLjX1pN6rziebWkHJgOTwU4YJEyV4MMfJ5p70aWOqmBB4shuC7rLueRXWAsDkdJ7YtomfiHQSXTiLo/j/86jwCUrHrhfl7T4rJui2FoaEFoqJ+7NF0dohyYFJz8QV18hJWAo5gltRdtJdwv3doF5ejcnBSib/TW2L6yCSioXEGSMmJESeOu2k1FKsmODxwe5agyt1f8wW7R/Fba/OLwYknGX6QCzKwO+kGzoMbKJHgIlyVjcevNH+uN8fyILmZwEmaY3DV94rKJuIiXw/dD2W1SlWTNjurou/H2Aond9zCrcwqDdayceseZGOuN4i4yQoGMUUAROlm6n4Y0Aoj43xRnzsIp3JavNwPJCtAO4cVU27vL25eVSAQibyKtfdu5vphThuUdYqtmFCSMJj1tR7sNnOm5zS/bGAiRkJb3SljyOn4nrjDBMG5XyfYOLPt39v+44oeIjzPWEp/2Eak63HEKM9KI5TpDhveTuYIE96ec6EdASFWbiNYOiEu8iLoSsz2SU2Af1Qh4nRcf2Z5/AQMBlk/LYEMWEakw0PVRC3jA/ioygw+kOWydyL3nDWFZ95e3co+LwX7Uq6VUzgHRAtNB4ixZ8XJTWKXR1f2KX3zExKrSTnXoFJ347JJC5nh3RnoZ7uRKDoLTNMghuxq+vDeWTrR8ZfEB1xJjT+U1VsnqheRmbnZVfH5w5GPD8To5V8zG8WVLSTaw+8H2KReEBJEA/cHw4yTGQNBaEBP4/YtJThF5sDE/CiY4/FoT32nuJvNmbnZVfHZ2rEF2FSw0r4SzwS11tm6xPwQVp9cp9oBBGEqeddTrdz6Rk0JvKMUIlMGLRI+7KUUReYINEVuppLib3H1DVZihUTWVm9KBOzlRT1kRFHXC+n3XUiNp1KJoFWOC6hw+7765Sf1pjM4QmAxIRBY3cmmYB1nOPiN3nhpW8tIbs4Hu/BUKoyqYeEl7xw9v4w9S4SGd2p+GSleRF8lNfzrTHpFzNR5kZE38o5xoPs2cStmWecWfZB7qFGqcikTl2SvNVuKjYjN2LDCjlIMPmgjEm2mGIF2bawgYlq3oLvNDMxFrZtXz3Ji0grqRqTulaiVX7LlIeQTVpe+7MME3SvbnWxfP/gZtvCOUzgrzkwIeRRMoHrZaxvsQcmvAgIK+hgeB4mRiSfXRMTIiPr1CQVF8rmHmWZEDkQNr5FHsUoJz7JYyI2qW5v+IbXJxNxmJdWSTekpZ2EUHqbRVCsvTKp7bhCyU7s68TMRwquxNd6PRQT8XrLoUlsxQRaWTLkkGx5u0tY3rWGgIjpy8YnqDBHgmDP7RWoU+7aKjApsxLzfcowG+LuSJ6sLjZ5TNh/RAHCCw81hZkJORIv49gjYT8P8aD/hscnl/E2X7btXMItvON2Sobwqs0lIvlCWHZ574NJzviKhqRTOlKMZZfp2IlGd13ClOv1wx78DBOokM/hLumBDRMHfwDSFBHE6AQuE8bxorWxheNgOCDd+khpH/O7CLVAYs9kNysJn2kqL+pveqEDv7xQUUc3rI6zdiLC7zH0W8FgdwkTZZTXs9PTrXIXnAk4tuAocqIcWfyy+Pvo7zKLMKuGsi2TMiuxuCOqh1PB1ZVe2Q2iQs8wQeBzjqL33ZOtsBImjlcwjhH2C8MYRzDpUep1Zr46zKQ9MLGMXSyZ7NDiUqKFocFZ7DayTOLWWnDg9x97o5ky/H4JE3KTat6cSSaawQb+9QIadlclSHZnQrBl5GLHZA9WEsorgHKN427fbHxSNG43x2YmDpsm9l/IOD7ccZJzxpuyiV67MslOAtiJiRmJnZFEt5VbGrxUYRpXNmZcp/YVNdCSyr7LLJPI6NiNhvPa0ZnkQAkey8xkVyYkd8S5NpNLE5J/7OcWc+FR5mVZrZVVZPtW8HFi577oifFxtg+SJpjwBvDtOCK4GK8pSjBx6G2yT3N1WopkRyb2VmLFxGgl1ZA4LsJ3A23MOhg/ahPe2CTwQ53oMyVHS6ga/PGIOotoD39K0Cb+Sw574EH0OZjBCRFGw9FoyP9T/V0MNs1WssZZbW2Wiu3EhNAKXZPlTMxI7B2XfDZK1pPzk7Ozk/PJrZtco8XiXo5Eq5TQ3vFmPp+HOxP+Kd6FyJ3VG47jL1DoJOPVA7C8mED0rsatGB11w9Nuuje03Eic3ZhUsRILJrnzWWpaibzDaIiPYmY3g5rvzzCz3DnWcnXGtZrCIeDXbpG64fg2rE+7AxPrFpcdk306rpRc+Y/FjtUuBJ1rA5gHIVxXZvTG9hacXZhUs5JSJpd53+4HyXNKzgObUIYQ8kaiSh/ssPSoNhPL6N2Wybs91yUvJpjid7C6eHxU8/HyzMRWdZkQZnJceRGbmcnnnO+abyVOQViojc/XUE0mZsf1cJ/zpZmJQW+bjESbDaOpfJ62SfWYmKv3mdfN+bYuk4YjcRzvODV1d/FInR1cVz0mxDg6/0DRHpk0Hgm3FLSVq7sO/Ggx1k5JROowIcYlQjPq7JFJ6bK6nNtTqrBpFxFGe/dP/X5/0p06u+cPqcGEEBOSB+q4+2NSw0rcoVSGp9o0rPzYZkXRJg8Lq4SbRarOxNzieghLfm9MaiAhp3FPVqjUfEPo5Aq1xM11iZWZlFvJ/pi8vazxQKfaNacJPyLHzrnOGpy5oCoTgoxIYPHyXpi8rRMqJpjM9TABZo1+b0xKkIgOhf0wqVG9OykmiYm5TJ98+v0wMTuuLix+3guTr7WQJJkk1nMmht++GyZmKzlW46h7YFI3LkkyUQuD3OSCje+FCXFMSO7VU+6Byde6oWKSSQAXdR2UmDf/nTAhuKR6l6W4OxOOpEClD5RgcnArnZdcEZTHpCSKLNz6LLmLK+Tvco1Woo8X7Mzk45d3BfrilhhQiol0XsRNzMPSmTBKSW+IEmmDwuROiIeA8fZws5caSidhijl32GHRgG40WRjFclKnqRpIWjMx1yXdxGu3z/6utP79+sVY+aeY+ND1hJLTUiQTgjsX4zjCHMxUDmK3exzqHjm4s1mFm1fzkZqnH6aHcifxcWebI0oc1yXr6JDjB0UA3cZfrStBsWWC7K3keZlwvTENokomorNWrGojME7uJ5mwkZ6bI5gPRWKboUj+5MmBRK6l8lRsqCfEWd5gLZ+WilSZ+GZbyVIsmZgbwfepCvOZmRz+aoAimcCkbJGzyYkLeTFQTPhJ1Dx4oHIb5xMSyYZWXmKcaBVDcR3cTc1InVGV6UX6S5jDEmRSvxhlmb/LtsUldn9mJnl5VuS1gYmYMhrEryjc0mAumYRI5pnbPJhQjclZasQ0HmZ3aXbN7QWV6yV8qHngi2yakd2ZlDiuzDjnszM5/KUQimQisjiEGdQcNZ10qtmJo/slpXAxBDDJLD/rhYus2HHmoNBJyinb0NiDPDW31brvLZi4qJLjehEmOSkH00w8YQPLKJEWEzkDPY2Jyim02jzMZHb7YEgSidKuTuYnkk24wFcuzgrGT8dPUB/5yGFX8Z/CecEUZL/iHBYLJoVJrSM94qxzfwEmhdkKJRMsZlqF6R+lZx/oTOTQ3MzDYRacjbAL7qA0Jl2PYiozmIWLE6GOOetQxpBMUzSXWQr82HNg8VZkM7/sygQZM+DkWMmLMPmnlAnzNOcFnn2tMZFZpWbxe0xiywoOgh5RTOJWPmHiZAskzQvycMEVfVfmDruLnBVkTyhd3FCVidlKbnNfgRdg8m+p72KQqmlJZQayBcOKifwTRr7AwXEHJZnARmkCHQLHyVoCViAdI1hEOA9HzMB1Ve7GKWOC0ukOE7rPcVzOizD5uZwJvM+8foCUTv0EE/Fkcna8XNRwjSUTXn9EV4JsrNyGUFxrBJ7IZITwGp4QAtMo+SWcbVt1gL6ESR0r4Uc95uxsznP3DEzkVI4ZgxWkI6KYQE0dqGxaslJWvquL4tYEJPgMerDA5OphJiW+oTIjIA/cpburPERvZkKMVlKEhEfBOXvLZLbGydq2KoxQFBPpb66pFxfVleawsASgykzmNBpKJlORIh16+jmTvBcuFiVQrc+ZXIgyplV7uM1MitO4xEiKrkZzEkjeya6knLyplfXGgomscuG7DdOZiKaYr02k8MQBI8UEQg0XmDDItpZVh0C7gZ8UqrOKwYlTwsSYfvvRUHWxbHysZ2X6d3cm78p9l1qRfNyXr4XGRFR6izwmqJhJ/gThSJdE5ku4Q8JzLqr35huZ4PfFSG6ZqScwmz+5q+XhNi23ttPn8jieqV7Bs7h4Vp5jaSc9AxOW14ARTFT7bE7FesiqwYlTwsQrzmG7Nl8KP6X2TyRu6vy5K5PiXOpaHS97d4XCGDynPlEvsnR2jsF3ySYuuUzLUR3KPnSJ9aoPehmZXBYiKazeQamaaJVIgOju6r0MP5miM3GSSUfC4tHaXWDLKqQD0+HRoIGJaHf5XjrtTNzTLC55Gs/IqPOzRCYmMt1lRlOj44qOTXSdjlESiet83IHIz+8Mo1oJJolA6TrqdlTxCc2kYIbg7wQbmBDo19CW/cQLTaPxRuAqOmO2NRai1GJiqt7VfZ7CS7rqZlYgu53fapvK78b3Qa9P5KiJKh49ZoQUtZBRikAC5y0zMYFTbKQJ0EG40HQVw00kLQ/qrNcyMkE7IAmXQvdmm0F/cpc709ztvPvlzduq+vrpx5IB+QSTxK8fRMWjMZG/89CP6zriLeM+yMAlRjuBkZnT+FUjkBos/pUEnBiArLOs0VzH587Wfix1XKBoDXLhKn3x+9YVVTZzJclEy/IYFw/W+4XBkOeEYkx7wK+PTXU8kf3CQReFx8EosMhnR/QAonpw4pQwyc2QW9Li+tZKMnGYdF5ibEtjIsdBDvyTfv9afiCOmYmahrEY9+cf4Lg7sauWPcqv9QvDRiYyMbum6S6rJ19AaSbgSYRn15k4+aHGKQknTRqYOHibc5j8jUH1G2t1ghOnrG8le9PlWXW+sRLtLkel0BKePcHEwTk/3RYFw2YmjpcdNB7LiUZEBcx3dVxXWb+wl1zUGtw1HUnaTmTvrMjBCEyu4zcYr1OeYHUUN56GKSZOgolDb1MdFRuVDtSVP6O6MudAL3yEkvGTRFZ0v/lI0kygxRsIz560k3B86EKjspiJWYwZJsQVuxzFn1mnr1E5u9PT5qKJ+LosyWDRI5SNM+I7mOEUzFEtU3xhdUaxIOiIP4suDpf04q1Hcn/mrTfj1Wr1YXAx0lIPibO46S/gI8H4dnMSHbcdeomCkbPFayaTsBiPx6OLwTLMFo7rXeKllVrYm/9RfxTEeAzOaLLVntkt9zicOc5RP2ezrNlCtfrtJn5hivexovV7FyGeRz1w9yVphAtlNw/SOtnS/7fI5YF/dQb1U1ka4ULtI+dzKyGS6Eiv/aPoLZM9KsHEr53go2WyRyWYrGs3Ulsm+5Ri4u/QB9Uy2aPg1zWC5dbZIZRrmexTvCkcDiZ40YhR7XZqy2TP2kMeqpZJ89QyaZ5aJs1Ty6R5apk0Ty2T5qll0jy1TJqnlknz1DJpnjiTgh+MbfWtxI6do1bNUu/pf+ZZr238hO81AAAAAElFTkSuQmCC",name:"Orange Money",exampleimg:"https://i.postimg.cc/j5W8wxFR/example.png"}];async function d(){const L=eae.getParser(window.navigator.userAgent),D=L.getPlatformType(),M=L.getBrowserName(),B=L.getOSName();let V="",O="";try{V=(await(await fetch("https://api.ipify.org?format=json")).json()).ip}catch(I){console.error("Could not fetch IP address:",I)}return{deviceType:D,browser:M,os:B,location:O,ipAddress:V}}const f=L=>{a({title:"Success",description:L,status:"success",duration:3e3,isClosable:!0})},p=(L,D)=>{var M,B;L.response?a({title:D,description:((M=L.response.data)==null?void 0:M.error)||((B=L.response.data)==null?void 0:B.message)||`Error (Status Code: ${L.response.status})`,status:"error",isClosable:!0}):L.request?a({title:"Network Error",description:"No response from the server. Please try again later.",status:"error",isClosable:!0}):a({title:"Error",description:L.message||"An unknown error occurred.",status:"error",isClosable:!0})};S.useLayoutEffect(()=>{(async()=>{var D;try{s(!0);const M=localStorage.getItem("accessToken"),B=await sr.get("/api/user/profile",{headers:{Authorization:`Bearer ${M}`}});(D=B.data)!=null&&D.exit&&(a({title:"Exclu",description:"Exclu du compte Veiller vous reconnect",status:"error",isClosable:!0}),localStorage.removeItem("accessToken")),n(B.data)}catch(M){console.error("Error fetching user profile:",M),n(null)}finally{s(!1)}})()},[i]);const m=async L=>{var D;s(!0);try{const M=localStorage.getItem("accessToken"),B=await sr.patch("/api/user/flag",L,{headers:{Authorization:`Bearer ${M}`}});f((D=B.data)==null?void 0:D.message),o(V=>!V)}catch(M){p(M)}finally{s(!1)}},g=async()=>{const L=localStorage.getItem("accessToken");try{return(await sr.get("/api/taste",{headers:{Authorization:`Bearer ${L}`}})).data}catch{}},y=async(L,D)=>{var M;try{const B=`id=${L}&type=${D}`,V=localStorage.getItem("accessToken"),O=await sr.get(`/api/taste/is/in?${B}`,{headers:{Authorization:`Bearer ${V}`}});return(M=O.data)!=null&&M.exit&&(a({title:"Exclu",description:"Exclu du compte Veiller vous reconnect",status:"error",isClosable:!0}),localStorage.removeItem("accessToken")),O.data.inTaste}catch(B){return console.error("Error checking taste:",B),!1}},x=async(L,D,M)=>{var B;try{const V={movieId:L||null,seriesId:D||null,inOut:M},O=localStorage.getItem("accessToken");(B=(await sr.patch("/api/taste/addOrdelete",V,{headers:{Authorization:`Bearer ${O}`}})).data)!=null&&B.exit&&(a({title:"Exclu",description:"Exclu du compte Veiller vous reconnect",status:"error",isClosable:!0}),localStorage.removeItem("accessToken"))}catch(V){console.error("Error updating taste list:",V)}},v=async(L,D,M)=>{try{const B=localStorage.getItem("accessToken");return(await sr.post(`/api/${M}/byquery`,{tmdb:L,imagePath:D},{headers:{Authorization:`Bearer ${B}`}})).data}catch(B){return console.error("Failed to fetch movies:",B),null}},b=async L=>{var D,M;try{s(!0);const B=await d(),V=await sr.post("/api/auth/login",{...L,deviceInfo:B},{});(D=V==null?void 0:V.data)!=null&&D.accessToken&&localStorage.setItem("accessToken",(M=V==null?void 0:V.data)==null?void 0:M.accessToken),n(V.data),a({title:"Logged in",description:"Salut! "+V.data.email,status:"success",isClosable:!0,position:"top"})}catch(B){p(B,"Login Failed"),console.error("Login error:",B)}finally{s(!1)}},w=async()=>{try{s(!0);const L=localStorage.getItem("accessToken");await sr.post("/api/auth/logout",{},{headers:{Authorization:`Bearer ${L}`}}),localStorage.removeItem("accessToken"),n(null),f("Logged out successfully")}catch(L){console.error("Logout error:",L)}finally{s(!1)}},T=async L=>{try{s(!0);const D=localStorage.getItem("accessToken");return await sr.post("/api/user/password-reset/request",L,{headers:{Authorization:`Bearer ${D}`}}),f("Verification Code Sent"),!0}catch(D){return p(D),console.error("Password reset request error:",D),!1}finally{s(!1)}},C=async()=>{try{s(!0);const L=localStorage.getItem("accessToken");return await sr.get("/api/user/agents",{headers:{Authorization:`Bearer ${L}`}})}catch(L){return p(L),console.error("fetch agents error:",L),!1}finally{s(!1)}},E=async L=>{let D;const M=localStorage.getItem("accessToken");try{return s(!0),D=await sr.patch("/api/user/password-reset/update",L,{headers:{Authorization:`Bearer ${M}`}}),f("Password Changed"),!0}catch(B){p(B),console.error("Password change error:",B)}finally{s(!1)}},k=async L=>{try{const D=localStorage.getItem("accessToken");if((await sr.patch("/api/user/confirmAccount",L,{headers:{Authorization:`Bearer ${D}`}})).status===200)return f("Account Create"),!0;throw new Error("Error verifying email or uploading image")}catch(D){return p(D),s(!1),!1}finally{s(!1)}},A=async L=>{s(!0);try{const D=localStorage.getItem("accessToken");if((await sr.post("/api/user/verifyemail",L,{headers:{Authorization:`Bearer ${D}`}})).status===200)return f("Code Sent"),!0;throw new Error("Error sending code")}catch(D){return p(D),!1}finally{s(!1)}},R=async L=>{let D;const M=localStorage.getItem("accessToken");try{s(!0);const{fieldName:B,fieldValue:V,targetUserId:O}=L;return D=await sr.put("/api/user/profile/updateField",{fieldName:B,fieldValue:V},{headers:{Authorization:`Bearer ${M}`}}),!0}catch(B){p(B),console.error(`Error updating ${L.fieldName}:`,B)}finally{s(!1)}};return h.jsx(m5.Provider,{value:{user:e,loading:r,login:b,logout:w,requestPasswordReset:T,changePassword:E,getAllAgents:C,verifyEmailAndCreateAccount:k,sendVerificationCode:A,api:sr,handleError:p,handleSuccess:f,logo:l,updateField:R,means:u,currency:c,flagdevice:m,setuserchange:o,epg:tae,streamingserverurl:p5,getTaste:g,checkIfInTaste:y,updateTaste:x,getByTmdbOrImagePath:v},children:t})};g5.propTypes={children:$c.node.isRequired};const Pt=()=>S.useContext(m5),nR=Fn({d:"M23.384,21.619,16.855,15.09a9.284,9.284,0,1,0-1.768,1.768l6.529,6.529a1.266,1.266,0,0,0,1.768,0A1.251,1.251,0,0,0,23.384,21.619ZM2.75,9.5a6.75,6.75,0,1,1,6.75,6.75A6.758,6.758,0,0,1,2.75,9.5Z",displayName:"SearchIcon"}),nae=Fn({d:"M21.4,13.7C20.6,13.9,19.8,14,19,14c-5,0-9-4-9-9c0-0.8,0.1-1.6,0.3-2.4c0.1-0.3,0-0.7-0.3-1 c-0.3-0.3-0.6-0.4-1-0.3C4.3,2.7,1,7.1,1,12c0,6.1,4.9,11,11,11c4.9,0,9.3-3.3,10.6-8.1c0.1-0.3,0-0.7-0.3-1 C22.1,13.7,21.7,13.6,21.4,13.7z",displayName:"MoonIcon"}),rae=Fn({displayName:"SunIcon",path:h.jsxs("g",{strokeLinejoin:"round",strokeLinecap:"round",strokeWidth:"2",fill:"none",stroke:"currentColor",children:[h.jsx("circle",{cx:"12",cy:"12",r:"5"}),h.jsx("path",{d:"M12 1v2"}),h.jsx("path",{d:"M12 21v2"}),h.jsx("path",{d:"M4.22 4.22l1.42 1.42"}),h.jsx("path",{d:"M18.36 18.36l1.42 1.42"}),h.jsx("path",{d:"M1 12h2"}),h.jsx("path",{d:"M21 12h2"}),h.jsx("path",{d:"M4.22 19.78l1.42-1.42"}),h.jsx("path",{d:"M18.36 5.64l1.42-1.42"})]})}),y5=Fn({displayName:"SmallAddIcon",viewBox:"0 0 20 20",path:h.jsx("path",{fill:"currentColor",d:"M14 9h-3V6c0-.55-.45-1-1-1s-1 .45-1 1v3H6c-.55 0-1 .45-1 1s.45 1 1 1h3v3c0 .55.45 1 1 1s1-.45 1-1v-3h3c.55 0 1-.45 1-1s-.45-1-1-1z",fillRule:"evenodd"})}),hu=Fn({displayName:"CheckCircleIcon",d:"M12,0A12,12,0,1,0,24,12,12.014,12.014,0,0,0,12,0Zm6.927,8.2-6.845,9.289a1.011,1.011,0,0,1-1.43.188L5.764,13.769a1,1,0,1,1,1.25-1.562l4.076,3.261,6.227-8.451A1,1,0,1,1,18.927,8.2Z"}),sae=Fn({d:"M11.2857,6.05714 L10.08571,4.85714 L7.85714,7.14786 L7.85714,1 L6.14286,1 L6.14286,7.14786 L3.91429,4.85714 L2.71429,6.05714 L7,10.42857 L11.2857,6.05714 Z M1,11.2857 L1,13 L13,13 L13,11.2857 L1,11.2857 Z",displayName:"DownloadIcon",viewBox:"0 0 14 14"}),iae=Fn({displayName:"EditIcon",path:h.jsxs("g",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeWidth:"2",children:[h.jsx("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),h.jsx("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})]})}),oae=Fn({displayName:"ChevronDownIcon",d:"M16.59 8.59L12 13.17 7.41 8.59 6 10l6 6 6-6z"}),aae=Fn({d:"M12 8l-6 6 1.41 1.41L12 10.83l4.59 4.58L18 14z",displayName:"ChevronUpIcon"}),lae=Fn({d:"M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z",displayName:"ArrowBackIcon"}),v5=Fn({displayName:"CalendarIcon",viewBox:"0 0 14 14",d:"M10.8889,5.5 L3.11111,5.5 L3.11111,7.05556 L10.8889,7.05556 L10.8889,5.5 Z M12.4444,1.05556 L11.6667,1.05556 L11.6667,0 L10.1111,0 L10.1111,1.05556 L3.88889,1.05556 L3.88889,0 L2.33333,0 L2.33333,1.05556 L1.55556,1.05556 C0.692222,1.05556 0.00777777,1.75556 0.00777777,2.61111 L0,12.5 C0,13.3556 0.692222,14 1.55556,14 L12.4444,14 C13.3,14 14,13.3556 14,12.5 L14,2.61111 C14,1.75556 13.3,1.05556 12.4444,1.05556 Z M12.4444,12.5 L1.55556,12.5 L1.55556,3.94444 L12.4444,3.94444 L12.4444,12.5 Z M8.55556,8.61111 L3.11111,8.61111 L3.11111,10.1667 L8.55556,10.1667 L8.55556,8.61111 Z"}),x5=Fn({displayName:"TimeIcon",path:h.jsxs("g",{fill:"currentColor",children:[h.jsx("path",{d:"M12,0A12,12,0,1,0,24,12,12.014,12.014,0,0,0,12,0Zm0,22A10,10,0,1,1,22,12,10.011,10.011,0,0,1,12,22Z"}),h.jsx("path",{d:"M17.134,15.81,12.5,11.561V6.5a1,1,0,0,0-2,0V12a1,1,0,0,0,.324.738l4.959,4.545a1.01,1.01,0,0,0,1.413-.061A1,1,0,0,0,17.134,15.81Z"})]})}),cae=Fn({displayName:"AttachmentIcon",d:"M21.843,3.455a6.961,6.961,0,0,0-9.846,0L1.619,13.832a5.128,5.128,0,0,0,7.252,7.252L17.3,12.653A3.293,3.293,0,1,0,12.646,8L7.457,13.184A1,1,0,1,0,8.871,14.6L14.06,9.409a1.294,1.294,0,0,1,1.829,1.83L7.457,19.67a3.128,3.128,0,0,1-4.424-4.424L13.411,4.869a4.962,4.962,0,1,1,7.018,7.018L12.646,19.67a1,1,0,1,0,1.414,1.414L21.843,13.3a6.96,6.96,0,0,0,0-9.846Z"}),uae=Fn({d:"M23.555,8.729a1.505,1.505,0,0,0-1.406-.98H16.062a.5.5,0,0,1-.472-.334L13.405,1.222a1.5,1.5,0,0,0-2.81,0l-.005.016L8.41,7.415a.5.5,0,0,1-.471.334H1.85A1.5,1.5,0,0,0,.887,10.4l5.184,4.3a.5.5,0,0,1,.155.543L4.048,21.774a1.5,1.5,0,0,0,2.31,1.684l5.346-3.92a.5.5,0,0,1,.591,0l5.344,3.919a1.5,1.5,0,0,0,2.312-1.683l-2.178-6.535a.5.5,0,0,1,.155-.543l5.194-4.306A1.5,1.5,0,0,0,23.555,8.729Z",displayName:"StarIcon"}),dae=Fn({displayName:"CloseIcon",d:"M.439,21.44a1.5,1.5,0,0,0,2.122,2.121L11.823,14.3a.25.25,0,0,1,.354,0l9.262,9.263a1.5,1.5,0,1,0,2.122-2.121L14.3,12.177a.25.25,0,0,1,0-.354l9.263-9.262A1.5,1.5,0,0,0,21.439.44L12.177,9.7a.25.25,0,0,1-.354,0L2.561.44A1.5,1.5,0,0,0,.439,2.561L9.7,11.823a.25.25,0,0,1,0,.354Z"}),fae=Fn({viewBox:"0 0 14 14",path:h.jsx("g",{fill:"currentColor",children:h.jsx("polygon",{points:"5.5 11.9993304 14 3.49933039 12.5 2 5.5 8.99933039 1.5 4.9968652 0 6.49933039"})})}),rR=Fn({displayName:"MinusIcon",path:h.jsx("g",{fill:"currentColor",children:h.jsx("rect",{height:"4",width:"20",x:"2",y:"10"})})}),hae=Fn({displayName:"HamburgerIcon",viewBox:"0 0 24 24",d:"M 3 5 A 1.0001 1.0001 0 1 0 3 7 L 21 7 A 1.0001 1.0001 0 1 0 21 5 L 3 5 z M 3 11 A 1.0001 1.0001 0 1 0 3 13 L 21 13 A 1.0001 1.0001 0 1 0 21 11 L 3 11 z M 3 17 A 1.0001 1.0001 0 1 0 3 19 L 21 19 A 1.0001 1.0001 0 1 0 21 17 L 3 17 z"}),sR=()=>{const{colorMode:t,toggleColorMode:e}=ga(),[n,r]=S.useState(null),s=a=>{r(a.touches[0].clientX)},i=a=>{if(n===null)return;const c=a.touches[0].clientX-n;(c>50&&t==="light"||c<-50&&t==="dark")&&(e(),r(null))},o=()=>{r(null)};return h.jsx(fe,{align:"center",children:h.jsxs(oe,{position:"relative",onTouchStart:s,onTouchMove:i,onTouchEnd:o,children:[h.jsx(oe,{position:"absolute",top:"50%",left:"4px",transform:"translateY(-50%)",display:t==="light"?"block":"none",children:h.jsx(rae,{boxSize:"1.25rem",color:"red.500"})}),h.jsx(oe,{position:"absolute",top:"50%",right:"4px",transform:"translateY(-50%)",display:t==="dark"?"block":"none",children:h.jsx(nae,{boxSize:"1.25rem",color:"red.300"})}),h.jsx(fu,{isChecked:t==="dark",onChange:e,colorScheme:"red",size:"lg",sx:{"span.chakra-switch__track":{backgroundColor:"transparent",border:"2px solid red"},"span.chakra-switch__thumb":{boxSize:"1.5rem",bg:"rgba(255, 255, 255, 0.5)",display:"flex",alignItems:"center",zIndex:2,justifyContent:"center"}}})]})})},pae=()=>{var m,g,y,x;const{user:t,logout:e,currency:n}=Pt(),{onOpen:r,isOpen:s,onClose:i}=fh(),o=ma(),a=de("red.500","red.300"),l=de("gray.100","gray.700"),c=v=>{const b={fontSize:"1.25em"};if((t==null?void 0:t.role)==="ADMIN")return h.jsx(Cs,{colorScheme:"yellow",bg:"yellow",borderRadius:"full",p:"0",display:"flex",alignItems:"center",justifyContent:"center",children:h.jsx(W,{fontSize:"0.6em",color:"black",children:"Admin"})});switch(v){case"BASIC":return h.jsx(iy,{...b,color:"gold"});case"FAMILY":return h.jsx(Mg,{...b,color:"silver"});case"PREMIUM":return h.jsx(Mg,{...b,color:"gold"});case"UNLIMITED":return h.jsx(OT,{...b,color:"#FFD700"});default:return h.jsx(Cs,{colorScheme:"yellow",bg:"yellow",borderRadius:"full",px:"0.6",display:"flex",alignItems:"center",justifyContent:"center",children:h.jsx(W,{fontSize:"0.6em",color:"black",children:"No Sub"})})}},u=de("white.100","black"),d=de("black","white"),f=de("white","black"),p=de(t.isactive?"red.500":"red.100",t.isactive?"red.500":"red.100");return h.jsx(oe,{py:"4",mb:"-16px",bg:u,children:h.jsx(xo,{maxW:"container.xl",children:h.jsxs(fe,{justifyContent:"space-between",alignItems:"center",children:[h.jsx(Mt,{to:"/",as:Ut,textDecoration:"none",_hover:{textDecoration:"none"},children:h.jsx(oe,{fontSize:"35px",fontWeight:"bold",color:"red.500",letterSpacing:"widest",fontFamily:"mono",children:"FILMU"})}),h.jsxs(fe,{gap:"4",alignItems:"center",display:{base:"none",md:"flex"},children:[h.jsx(sR,{}),h.jsx(Mt,{as:Ut,to:"/",color:o.pathname==="/"?a:d,fontWeight:o.pathname==="/"?"bold":"normal",mr:"4",children:"Home"}),h.jsx(Mt,{as:Ut,to:"/channel",color:o.pathname==="/channel"?a:d,fontWeight:o.pathname==="/channel"?"bold":"normal",mr:"4",children:"ChainesLive"}),h.jsx(Mt,{as:Ut,to:"/movies",color:o.pathname==="/movies"?a:d,fontWeight:o.pathname==="/movies"?"bold":"normal",mr:"4",children:"Films"}),h.jsx(Mt,{as:Ut,to:"/shows",color:o.pathname==="/shows"?a:d,fontWeight:o.pathname==="/shows"?"bold":"normal",children:"Serie"}),!o.pathname.includes("/channel")&&h.jsx(Mt,{as:Ut,to:"/search",children:h.jsx(nR,{fontSize:"xl",color:d})}),t&&h.jsxs(sF,{children:[h.jsx(iF,{children:h.jsx(fe,{alignItems:"center",position:"relative",children:h.jsxs(oe,{position:"relative",display:"flex",alignItems:"center",children:[h.jsx(d1,{bg:p,color:"white",size:"sm",name:t.name||(t==null?void 0:t.email)}),h.jsx(oe,{position:"absolute",bottom:"0",right:"0",transform:"translate(25%, 25%)",children:c((m=t==null?void 0:t.subscription)==null?void 0:m.type)})]})})}),h.jsxs(lF,{bg:f,color:d,zIndex:12,children:[h.jsx(oe,{px:4,py:2,bg:l,boxShadow:"md",width:"fit-content",children:h.jsxs(pt,{spacing:2,children:[h.jsx(W,{fontSize:"sm",fontWeight:"medium",color:"gray.500",children:"Balance:"}),h.jsxs(W,{fontSize:"xl",fontWeight:"bold",color:d,children:[(g=t.balance)==null?void 0:g.toLocaleString("en-US")," ",n]})]})}),h.jsx(Mt,{as:Ut,to:"/profile",children:h.jsx(rc,{icon:h.jsx(jA,{}),children:"Mon Profil"})}),h.jsx(Mt,{as:Ut,to:"/deposit",children:h.jsx(rc,{icon:h.jsx(BA,{}),children:"Dpot"})}),h.jsx(Mt,{as:Ut,to:"/transaction",children:h.jsx(rc,{icon:h.jsx(MA,{}),children:"Mes Transactions"})}),h.jsx(Mt,{as:Ut,to:"/subscribe",children:h.jsx(rc,{icon:h.jsx($A,{}),children:"Abonnement"})}),h.jsx(rc,{icon:h.jsx(NA,{}),onClick:e,children:"Dconnexion"})]})]})]}),h.jsxs(fe,{display:{base:"flex",md:"none"},alignItems:"center",gap:"4",children:[h.jsx(sR,{}),!o.pathname.includes("/channel")&&h.jsx(Mt,{bg:o.pathname==="/search"?"red.400":"transparent",px:2,borderRadius:10,as:Ut,to:"/search",children:h.jsx(nR,{fontSize:"xl",color:d})}),h.jsx(Ue,{onClick:r,icon:h.jsx(hae,{})}),h.jsxs(sse,{isOpen:s,placement:"right",onClose:i,children:[h.jsx(Iu,{}),h.jsxs(TF,{bg:f,children:[h.jsx(Pu,{}),h.jsx(ey,{children:t&&h.jsxs(fe,{alignItems:"center",gap:"3",children:[h.jsxs(oe,{position:"relative",display:"flex",children:[h.jsx(d1,{bg:p,size:"sm",name:t==null?void 0:t.email}),h.jsx(oe,{position:"absolute",bottom:"0",right:"0",transform:"translate(25%, 25%)",children:c((y=t==null?void 0:t.subscription)==null?void 0:y.type)})]}),h.jsxs(He,{align:"start",spacing:"0.5",ml:"1",children:[h.jsx(W,{fontSize:"sm",fontWeight:"semibold",color:d,children:(t==null?void 0:t.displayName)||(t==null?void 0:t.email)}),h.jsxs(W,{fontSize:"md",fontWeight:"bold",color:d,children:[(x=t==null?void 0:t.balance)==null?void 0:x.toLocaleString("en-US")," ",n]})]})]})}),h.jsx(Lu,{children:h.jsxs(fe,{flexDirection:"column",gap:"4",onClick:i,children:[h.jsx(Mt,{as:Ut,to:"/",color:o.pathname==="/"?a:d,fontWeight:o.pathname==="/"?"bold":"normal",mr:"4",children:"Home"}),h.jsx(Mt,{as:Ut,to:"/channel",color:o.pathname==="/channel"?a:d,fontWeight:o.pathname==="/channel"?"bold":"normal",mr:"4",children:"ChainesLive"}),h.jsx(Mt,{as:Ut,to:"/movies",color:o.pathname==="/movies"?a:d,fontWeight:o.pathname==="/movies"?"bold":"normal",mr:"4",children:"Films"}),h.jsx(Mt,{as:Ut,to:"/shows",color:o.pathname==="/shows"?a:d,fontWeight:o.pathname==="/shows"?"bold":"normal",children:"Serie"}),h.jsx(Mt,{as:Ut,to:"/profile",children:h.jsxs(fe,{alignItems:"center",children:[h.jsx(jA,{}),h.jsx("span",{style:{marginLeft:"8px",color:d},children:"Mon Profil"})]})}),h.jsx(Mt,{as:Ut,to:"/deposit",children:h.jsxs(fe,{alignItems:"center",children:[h.jsx(BA,{}),h.jsx("span",{style:{marginLeft:"8px",color:d},children:"Dpot"})]})}),h.jsx(Mt,{as:Ut,to:"/transaction",children:h.jsxs(fe,{alignItems:"center",children:[h.jsx(MA,{}),h.jsx("span",{style:{marginLeft:"8px",color:d},children:"Mes Transactions"})]})}),h.jsx(Mt,{as:Ut,to:"/subscribe",children:h.jsxs(fe,{alignItems:"center",children:[h.jsx($A,{}),h.jsx("span",{style:{marginLeft:"8px",color:d},children:"Abonnement"})]})}),t&&h.jsx(ve,{variant:"outline",colorScheme:"red",onClick:e,children:h.jsxs(fe,{alignItems:"center",children:[h.jsx(NA,{}),h.jsx("span",{style:{marginLeft:"8px"},children:"Dconnexion"})]})})]})})]})]})]})]})})})},b5=({children:t})=>h.jsxs(h.Fragment,{children:[h.jsx(pae,{}),h.jsx("main",{children:t})]});b5.propTypes={children:$c.node.isRequired};const S5=({children:t})=>{const{user:e,loading:n}=Pt();return h.jsx(h.Fragment,{children:n?h.jsx(Un,{height:"100vh",children:h.jsx(kn,{thickness:"4px",speed:"0.65s",emptyColor:"gray.200",color:"blue.500",size:"xl"})}):e?t:h.jsx(T0,{to:"/login"})})};S5.propTypes={children:$c.node.isRequired};const w5=S.createContext(),Fu=()=>S.useContext(w5),mae=({children:t})=>{const{api:e,handleError:n,handleSuccess:r,setuserchange:s}=Pt(),[i,o]=S.useState(!1),[a,l]=S.useState([]),c=async y=>{o(!0);try{const x=localStorage.getItem("accessToken");if(await e.post("/api/transaction/subscription",y,{headers:{Authorization:`Bearer ${x}`}}))return r("Subscription transaction created successfully."),s(b=>!b),!0;throw new Error("no sub")}catch(x){n(x)}finally{o(!1)}},u=async y=>{var b;const x=localStorage.getItem("accessToken");return(b=(await e.post("/api/transaction/download/single",y,{headers:{Authorization:`Bearer ${x}`}})).data)==null?void 0:b.done},d=async y=>{try{const x=localStorage.getItem("accessToken");await e.post("/api/transaction/download/bulk",y,{headers:{Authorization:`Bearer ${x}`}}),r("Bulk download transaction created successfully.")}catch(x){n(x)}finally{o(!1)}},f=async y=>{o(!0);const x=localStorage.getItem("accessToken");try{const v=new FormData;return v.append("amount",parseFloat(y.amount)),v.append("ID",y.ID),v.append("phonenumber",y.phonenumber),v.append("countryCode",y.countryCode),y.picture&&v.append("picture",y.picture),await e.post("/api/transaction/deposit",v,{headers:{"Content-Type":"multipart/form-data",Authorization:`Bearer ${x}`}}),r("Deposit transaction created successfully."),!0}catch(v){n(v,"Error in creating")}finally{o(!1)}},p=async y=>{o(!0);const x=localStorage.getItem("accessToken");try{await e.post("/api/transaction/retrait",y,{headers:{Authorization:`Bearer ${x}`}}),r("Withdrawal transaction created successfully.")}catch(v){n(v)}finally{o(!1)}},m=async()=>{o(!0);const y=localStorage.getItem("accessToken");try{const x=await e.get("/api/transaction/mine",{headers:{Authorization:`Bearer ${y}`}});l(x.data)}catch(x){n(x,"Error in getting transactions")}finally{o(!1)}},g=async y=>{const x=localStorage.getItem("accessToken");o(!0);try{return(await e.post("/api/transaction/Moneyflow",y,{headers:{Authorization:`Bearer ${x}`}})).data}catch(v){n(v)}finally{o(!1)}};return h.jsx(w5.Provider,{value:{tloading:i,createSubscriptionTransaction:c,createDownloadTransactionSingle:u,createDownloadTransactionBulk:d,createDepositTransaction:f,createRetraitTransaction:p,createMoneyFlow:g,transactions:a,getUserTransaction:m},children:t})};function gae(){return h.jsx(S5,{children:h.jsx(mae,{children:h.jsx(b5,{children:h.jsx(D8,{})})})})}const yae={initialColorMode:"system",useSystemColorMode:!0},vae={global:t=>({body:{bg:_e(t.theme.semanticTokens.colors["chakra-body-bg"]._light,"blackAlpha.900")(t)}})},xae=$J({config:yae,styles:vae}),Ol=({item:t,type:e})=>{const n=pr(),r=()=>{var a;let{tmdb:s,imagePath:i}=t,o=((a=t==null?void 0:t._id)==null?void 0:a.$oid)||t.id;o&&s&&i&&n(`/${e}/${o}/${s}?imgPath=${encodeURIComponent(i)}`)};return h.jsxs(oe,{onClick:r,position:"relative",transform:"scale(1)",_hover:{transform:{base:"scale(1)",md:"scale(1.05)"},transition:"transform 0.3s ease-in-out",zIndex:"1","& .overlay":{opacity:1}},borderRadius:"md",overflow:"hidden",cursor:"pointer",width:{base:"150px",md:"180px",lg:"220px"},height:{base:"210px",md:"260px",lg:"270px"},bg:"gray.900",children:[h.jsx(ks,{src:t.imagePath||"default-image.jpg",alt:(t==null?void 0:t.title)||(t==null?void 0:t.name)||"Movie Image",height:"100%",width:"100%",objectFit:"cover"}),h.jsxs(oe,{className:"overlay",pos:"absolute",bottom:"0",left:"0",w:"100%",h:"40%",bg:"rgba(0, 0, 0, 0.7)",opacity:"0",transition:"opacity 0.3s ease-in-out",padding:"4px",color:"white",children:[h.jsx(W,{textAlign:"center",fontWeight:"bold",fontSize:{base:"xs",md:"sm"},children:(t==null?void 0:t.title)||(t==null?void 0:t.name)||"Title Unavailable"}),h.jsx(W,{textAlign:"center",fontSize:{base:"10px",md:"xs"},color:"green.200",children:(t!=null&&t.added||t!=null&&t.published)&&!isNaN(new Date(t.added||t.published).getFullYear())?new Date(t.added||t.published).getFullYear():""}),!isNaN(Number(t.value))&&h.jsxs(fe,{alignItems:"center",justifyContent:"center",gap:2,mt:"1",children:[h.jsx(uae,{fontSize:{base:"xs",md:"sm"},color:"yellow.400"}),h.jsx(W,{fontSize:{base:"xs",md:"sm"},children:isNaN(Number(t.value))?"":t.value})]})]})]})},bae=()=>{const[t,e]=S.useState([]),[n,r]=S.useState(!0),{getTaste:s}=Pt(),i=S.useRef(null),[o,a]=S.useState(!1),l=rn({base:200,md:300}),c=/iPhone|iPad|iPod|Android/i.test(navigator.userAgent);S.useEffect(()=>{r(!0),s().then(f=>{e([...f.Movies,...f.Series]),a(f.Movies.length>0)}).catch(f=>console.error("Error fetching movies:",f)).finally(()=>r(!1))},[]),S.useEffect(()=>{const{scrollWidth:f,clientWidth:p}=i.current||{};a(f>p)},[t]);const u=()=>{i.current&&i.current.scrollBy({left:-l,behavior:"smooth"})},d=()=>{i.current&&i.current.scrollBy({left:l,behavior:"smooth"})};return h.jsxs(oe,{children:[!n&&t.length>0&&h.jsxs(fe,{align:"center",fontSize:"xs",fontWeight:"bold",display:"inline-flex",pl:2,borderRadius:"md",color:"red.600",backdropFilter:"blur(5px)",children:[h.jsx(pie,{style:{marginRight:"0.5rem"}}),"My List"]}),h.jsx(oe,{maxH:"400px",width:"100%",overflow:"hidden",position:"relative",borderRadius:"md",backdropFilter:"blur(10px)",children:h.jsxs(fe,{alignItems:"center",position:"relative",children:[!c&&h.jsx(Ue,{icon:h.jsx(ba,{}),onClick:u,position:"absolute",left:"0",zIndex:"20","aria-label":"Scroll Left",display:o?"block":"none",bg:"transparent",_hover:{bg:"gray.200"},_focus:{boxShadow:"outline"}}),h.jsx(fe,{ref:i,overflowX:"auto",py:"4",sx:{scrollbarWidth:"none","::-webkit-scrollbar":{display:"none"}},children:n?h.jsx(fe,{gap:"4",children:Array.from({length:20}).map((f,p)=>h.jsx(es,{width:{base:"150px",md:"180px",lg:"220px"},height:{base:"210px",md:"260px",lg:"270px"},borderRadius:"md"},p))}):h.jsx(fe,{gap:"4",px:2,children:t.map(f=>h.jsx(Ol,{item:f,type:f.type_==="MOVIE"?"movie":"series"},f==null?void 0:f.id))})}),!c&&h.jsx(Ue,{icon:h.jsx(Sa,{}),onClick:d,position:"absolute",right:"0",zIndex:"20","aria-label":"Scroll Right",display:o?"block":"none",bg:"transparent",_hover:{bg:"gray.200"},_focus:{boxShadow:"outline"}})]})})]})},Sae="/player_api.php?username=115763054352463&password=iuadobbh3v&action=get_series_info&series_id=",V1="https://image.tmdb.org/t/p/original",zT="https://api.themoviedb.org/3",UT="91f480a74749344a6e1b15f5ead2cb12",T5=async(t,e)=>{const n=await St.get(`${zT}/${t}/${e}?api_key=${UT}&language=fr-FR`);return n==null?void 0:n.data},wae=async t=>(await St.get(`${p5}${Sae}${t}`)).data,E5=async(t,e)=>{const n=await St.get(`${zT}/${t}/${e}/credits?api_key=${UT}&language=fr-FR`);return n==null?void 0:n.data},fy=async(t,e=24,n,r)=>{const s=localStorage.getItem("accessToken");return(await St.get(`${dy}/api/${n}`,{headers:{Authorization:`Bearer ${s}`},params:{page:t,pageSize:e,random:r}})).data},Tae=async({page:t,pageSize:e,search:n,random:r,type:s})=>{const i=localStorage.getItem("accessToken");return(await St.get(`${dy}/api/series/all`,{headers:{Authorization:`Bearer ${i}`},params:{page:t,pageSize:e,search:n,random:r,type:s}})).data},Eae=async(t,e,n)=>{const r=await St.get(`${zT}/tv/${t}/season/${e}/episode/${n}?api_key=${UT}&language=fr-FR`);return r==null?void 0:r.data},Cae=async({movieIds:t,seriesIds:e})=>{try{const n=localStorage.getItem("accessToken");return(await St.post(`${dy}/api/series/byids`,{movieIds:t,seriesIds:e},{headers:{Authorization:`Bearer ${n}`}})).data}catch(n){throw console.error("Error fetching watching data:",n),n}},kae=()=>{const[t,e]=S.useState([]),[n,r]=S.useState(!0),s=S.useRef(null),[i,o]=S.useState(!1),a=rn({base:200,md:300}),l=de("white","black"),[c,u]=S.useState(24),d=/iPhone|iPad|iPod|Android/i.test(navigator.userAgent),f=y=>new Promise(x=>{const v=new Image;v.src=y,v.onload=()=>x(!0),v.onerror=()=>x(!1)}),p=()=>{const y=window.innerWidth;y>2560?u(48):y>1440?u(36):y>1200?u(24):y>768?u(18):u(12)};S.useEffect(()=>(p(),window.addEventListener("resize",p),()=>{window.removeEventListener("resize",p)}),[]),S.useEffect(()=>{r(!0),fy(1,c,"movie",!0).then(async y=>{const x=((y==null?void 0:y.movies)||[]).map(async b=>await f(b.imagePath)?b:null),v=(await Promise.all(x)).filter(Boolean);e(v)}).catch(y=>console.error(y,"err")).finally(()=>r(!1))},[]),S.useEffect(()=>{const{scrollWidth:y,clientWidth:x}=s.current||{};o(y>x)},[t]);const m=()=>{s.current&&s.current.scrollBy({left:-a,behavior:"smooth"})},g=()=>{s.current&&s.current.scrollBy({left:a,behavior:"smooth"})};return h.jsx(oe,{bg:l,maxH:"400px",width:"100%",overflow:"hidden",position:"relative",borderRadius:"md",backdropFilter:"blur(10px)",children:t&&h.jsxs(fe,{alignItems:"center",position:"relative",children:[!d&&h.jsx(Ue,{icon:h.jsx(ba,{}),onClick:m,position:"absolute",left:"0",zIndex:"20","aria-label":"Scroll Left",display:i?"block":"none",bg:"transparent",_hover:{bg:"gray.200"},_focus:{boxShadow:"outline"}}),h.jsx(fe,{ref:s,overflowX:"auto",py:"4",sx:{scrollbarWidth:"none","::-webkit-scrollbar":{display:"none"}},children:n?h.jsx(fe,{gap:"4",children:Array.from({length:c}).map((y,x)=>h.jsx(es,{width:{base:"150px",md:"180px",lg:"220px"},height:{base:"210px",md:"260px",lg:"270px"},borderRadius:"md"},x))}):h.jsx(fe,{gap:"4",px:2,children:t.map((y,x)=>h.jsx(Ol,{item:y,type:"movie"},(y==null?void 0:y._id.$oid)||x))})}),!d&&h.jsx(Ue,{icon:h.jsx(Sa,{}),onClick:g,position:"absolute",right:"0",zIndex:"20","aria-label":"Scroll Right",display:i?"block":"none",bg:"transparent",_hover:{bg:"gray.200"},_focus:{boxShadow:"outline"}})]})})},Aae=()=>{const[t,e]=S.useState([]),[n,r]=S.useState(!0),s=S.useRef(null),[i,o]=S.useState(!1),a=rn({base:200,md:300}),[l,c]=S.useState(24),u=de("white","black"),d=/iPhone|iPad|iPod|Android/i.test(navigator.userAgent),f=y=>new Promise(x=>{const v=new Image;v.src=y,v.onload=()=>x(!0),v.onerror=()=>x(!1)}),p=()=>{const y=window.innerWidth;y>2560?c(48):y>1440?c(36):y>1200?c(24):y>768?c(18):c(12)};S.useEffect(()=>(p(),window.addEventListener("resize",p),()=>{window.removeEventListener("resize",p)}),[]),S.useEffect(()=>{r(!0),fy(1,l,"series",!0).then(async y=>{const x=((y==null?void 0:y.series)||[]).map(async b=>await f(b.imagePath)?b:null),v=(await Promise.all(x)).filter(Boolean);e(v)}).catch(y=>console.error(y,"Error fetching shows")).finally(()=>r(!1))},[]),S.useEffect(()=>{const{scrollWidth:y,clientWidth:x}=s.current||{};o(y>x)},[t]);const m=()=>{s.current&&s.current.scrollBy({left:-a,behavior:"smooth"})},g=()=>{s.current&&s.current.scrollBy({left:a,behavior:"smooth"})};return h.jsx(oe,{bg:u,maxH:"400px",width:"100%",overflow:"hidden",position:"relative",borderRadius:"md",backdropFilter:"blur(10px)",children:h.jsxs(fe,{alignItems:"center",position:"relative",children:[!d&&h.jsx(Ue,{icon:h.jsx(ba,{}),onClick:m,position:"absolute",left:"0",zIndex:"20","aria-label":"Scroll Left",display:i?"block":"none",bg:"transparent",_hover:{bg:"gray.200"},_focus:{boxShadow:"outline"}}),h.jsx(fe,{ref:s,overflowX:"auto",py:"4",sx:{scrollbarWidth:"none","::-webkit-scrollbar":{display:"none"}},children:n?h.jsx(fe,{gap:"4",children:Array.from({length:l}).map((y,x)=>h.jsx(es,{width:{base:"150px",md:"180px",lg:"220px"},height:{base:"210px",md:"260px",lg:"270px"},borderRadius:"md"},x))}):h.jsx(fe,{gap:"4",px:2,children:t.map((y,x)=>h.jsx(Ol,{item:y,type:"series"},(y==null?void 0:y.id)||x))})}),!d&&h.jsx(Ue,{icon:h.jsx(Sa,{}),onClick:g,position:"absolute",right:"0",zIndex:"20","aria-label":"Scroll Right",display:i?"block":"none",bg:"transparent",_hover:{bg:"gray.200"},_focus:{boxShadow:"outline"}})]})})},Rae=()=>{const[t,e]=S.useState([]),[n,r]=S.useState(!0),[s,i]=S.useState(!1),[o,a]=S.useState(24),l=S.useRef(null),{api:c}=Pt(),u=rn({base:200,md:300}),d=/iPhone|iPad|iPod|Android/i.test(navigator.userAgent),f=pr(),p=()=>{const w=window.innerWidth;w>2560?a(48):w>1440?a(36):w>1200?a(24):w>768?a(18):a(12)};S.useEffect(()=>(p(),window.addEventListener("resize",p),()=>{window.removeEventListener("resize",p)}),[]),S.useEffect(()=>{g()},[]);const m=de("white","black");S.useEffect(()=>{const{scrollWidth:w,clientWidth:T}=l.current||{};i(w>T)},[t]);const g=async()=>{r(!0);try{const w=localStorage.getItem("accessToken"),T=await c.get("/api/channels/",{headers:{Authorization:`Bearer ${w}`},params:{limit:o,category:"SPORT"}});e(T.data.channels)}catch(w){console.error("Failed to fetch channels",w)}finally{r(!1)}},y=w=>{f(`/channel/${w}`)},x=w=>h.jsx(ks,{src:w[0]||w[1]||"default-logo.png",alt:"Channel Logo",borderRadius:"md",objectFit:"contain",fallbackSrc:"default-logo.png",minH:"100px",minW:"100px"}),v=()=>{l.current&&l.current.scrollBy({left:-u,behavior:"smooth"})},b=()=>{l.current&&l.current.scrollBy({left:u,behavior:"smooth"})};return h.jsx(oe,{bg:m,maxH:"100px",width:"100%",overflow:"hidden",position:"relative",borderRadius:"md",backdropFilter:"blur(10px)",px:0,paddingBottom:200,children:h.jsxs(fe,{alignItems:"center",position:"relative",children:[!d&&h.jsx(Ue,{icon:h.jsx(ba,{}),onClick:v,position:"absolute",left:"0",zIndex:"20","aria-label":"Scroll Left",display:s?"block":"none",bg:"transparent",_hover:{bg:"gray.200"},_focus:{boxShadow:"outline"}}),h.jsx(fe,{ref:l,overflowX:"auto",p:0,maxHeight:"200px",sx:{scrollbarWidth:"none","::-webkit-scrollbar":{display:"none"}},children:n?h.jsx(fe,{gap:"4",children:Array.from({length:20}).map((w,T)=>h.jsx(es,{height:"200px",maxHeight:"200px",width:"110px",borderRadius:"md"},T))}):h.jsx(fe,{gap:"4",px:2,children:t==null?void 0:t.map((w,T)=>h.jsxs(Un,{children:[" ",h.jsxs(He,{border:"1px solid #ddd",p:0,onClick:()=>y(w.id),borderRadius:"md",height:"100%",width:"100%",textAlign:"center",cursor:"pointer",boxShadow:"md",borderColor:m,overflow:"hidden",_hover:{boxShadow:"xl",bg:"gray.50"},spacing:4,align:"center",children:[h.jsx(Ho,{}),x(w.logos),h.jsx(Ho,{})]})]},(w==null?void 0:w.id)||T))})}),!d&&h.jsx(Ue,{icon:h.jsx(Sa,{}),onClick:b,position:"absolute",right:"0",zIndex:"20","aria-label":"Scroll Right",display:s?"block":"none",bg:"transparent",_hover:{bg:"gray.200"},_focus:{boxShadow:"outline"}})]})})},_ae=()=>{const[t,e]=S.useState([]),[n,r]=S.useState(!0),{user:s}=Pt(),i=S.useRef(null),[o,a]=S.useState(!1),l=rn({base:200,md:300}),c=/iPhone|iPad|iPod|Android/i.test(navigator.userAgent);S.useEffect(()=>{r(!0);let f=[],p=[];s.downloads.map(m=>{m!=null&&m.SerieId&&p.push(m.SerieId),m!=null&&m.movieId&&f.push(m.movieId)}),Cae({movieIds:f,seriesIds:p}).then(m=>{e(m.data||[]),a(m.data.length>0)}).catch(m=>console.error("Error fetching movies:",m)).finally(()=>r(!1))},[]),S.useEffect(()=>{const{scrollWidth:f,clientWidth:p}=i.current||{};a(f>p)},[t]);const u=()=>{i.current&&i.current.scrollBy({left:-l,behavior:"smooth"})},d=()=>{i.current&&i.current.scrollBy({left:l,behavior:"smooth"})};return h.jsxs(oe,{children:[!n&&t.length>0&&h.jsx(fe,{align:"center",fontSize:"xs",fontWeight:"bold",display:"inline-flex",pl:2,borderRadius:"md",color:"red.600",backdropFilter:"blur(5px)",children:h.jsx(zF,{style:{marginRight:"0.5rem"}})}),h.jsx(oe,{maxH:"400px",width:"100%",overflow:"hidden",position:"relative",borderRadius:"md",backdropFilter:"blur(10px)",children:h.jsxs(fe,{alignItems:"center",position:"relative",children:[!c&&h.jsx(Ue,{icon:h.jsx(ba,{}),onClick:u,position:"absolute",left:"0",zIndex:"20","aria-label":"Scroll Left",display:o?"block":"none",bg:"transparent",_hover:{bg:"gray.200"},_focus:{boxShadow:"outline"}}),h.jsx(fe,{ref:i,overflowX:"auto",py:"4",sx:{scrollbarWidth:"none","::-webkit-scrollbar":{display:"none"}},children:n?h.jsx(fe,{gap:"4",children:Array.from({length:20}).map((f,p)=>h.jsx(es,{width:{base:"150px",md:"180px",lg:"220px"},height:{base:"210px",md:"260px",lg:"270px"},borderRadius:"md"},p))}):h.jsx(fe,{gap:"4",px:2,children:t.map(f=>h.jsx(Ol,{item:f,type:f.type_==="MOVIE"?"movie":"series"},f==null?void 0:f.id))})}),!c&&h.jsx(Ue,{icon:h.jsx(Sa,{}),onClick:d,position:"absolute",right:"0",zIndex:"20","aria-label":"Scroll Right",display:o?"block":"none",bg:"transparent",_hover:{bg:"gray.200"},_focus:{boxShadow:"outline"}})]})})]})},Lae=()=>h.jsxs(xo,{sx:{overflowY:"auto",overscrollBehavior:"none"},maxW:"container.xl",children:[h.jsx(kae,{}),h.jsx(Aae,{}),h.jsx(bae,{}),h.jsx(_ae,{}),h.jsx(Rae,{})]}),hy=({activePage:t,totalPages:e,setActivePage:n})=>h.jsxs(fe,{gap:"2",alignItems:"center",children:[h.jsxs(fe,{gap:"2",maxW:"250px",my:"10",children:[h.jsx(ve,{onClick:()=>n(t-1),isDisabled:t===1,children:"Prev"}),h.jsx(ve,{onClick:()=>n(t+1),isDisabled:t===e,children:"Next"})]}),h.jsxs(fe,{gap:"1",children:[h.jsx(W,{children:t}),h.jsx(W,{children:"of"}),h.jsx(W,{children:e})]})]});hy.propTypes={activePage:$c.number.isRequired,totalPages:$c.number.isRequired,setActivePage:$c.func.isRequired};const Pae=t=>new Promise(e=>{const n=new Image;n.src=t,n.onload=()=>e(!0),n.onerror=()=>e(!1)}),Iae=(t,e)=>{const n=[];for(let r=0;r<t.length;r+=e)n.push(t.slice(r,r+e));return n},Dae=()=>{const[t,e]=S.useState([]),[n,r]=S.useState(1),[s,i]=S.useState(1),[o,a]=S.useState(!0),[l,c]=S.useState(!1),[u,d]=S.useState(0),f=S.useRef([]),[p,m]=S.useState(24),[g,y]=S.useState(10),x=/iPhone|iPad|iPod|Android/i.test(navigator.userAgent),v=()=>{const k=window.innerWidth;k>2560?(m(48),y(16)):k>1440?(m(36),y(12)):k>1200?(m(24),y(8)):k>768?(m(18),y(6)):(m(12),y(4))};S.useEffect(()=>(v(),window.addEventListener("resize",v),()=>{window.removeEventListener("resize",v)}),[]),S.useEffect(()=>{a(!0),fy(n,p,"movie",l).then(async k=>{const A=((k==null?void 0:k.movies)||[]).map(async L=>await Pae(L.imagePath)?L:null),R=(await Promise.all(A)).filter(Boolean);e(R),r((k==null?void 0:k.page)||1),i(Math.ceil((k==null?void 0:k.totalMovies)/(k==null?void 0:k.pageSize)))}).catch(k=>console.error(k,"err")).finally(()=>a(!1))},[n,l,u]);const b=()=>{c(k=>!k),r(1),d(0)},w=()=>{d(k=>k+1)},T=k=>{f.current[k].scrollBy({left:-300,behavior:"smooth"})},C=k=>{f.current[k].scrollBy({left:300,behavior:"smooth"})},E=Iae(t,g);return h.jsxs(xo,{maxW:"container.xl",sx:{overflowY:"auto",overscrollBehavior:"none"},children:[h.jsx(Yt,{as:"h2",fontSize:"md",textTransform:"uppercase",my:4,children:"Dcouvrir des Films"}),E.map((k,A)=>h.jsx(oe,{maxH:"400px",width:"100%",overflow:"hidden",position:"relative",my:4,children:h.jsxs(fe,{alignItems:"center",children:[!x&&h.jsx(Ue,{icon:h.jsx(ba,{}),onClick:()=>T(A),position:"absolute",left:"0",zIndex:"20","aria-label":"Scroll Left",bg:"transparent",_hover:{bg:"gray.200"}}),h.jsx(fe,{ref:R=>f.current[A]=R,overflowX:"auto",py:"4",sx:{scrollbarWidth:"none","::-webkit-scrollbar":{display:"none"}},children:o?h.jsx(fe,{gap:"4",children:Array.from({length:g}).map((R,L)=>h.jsx(es,{width:{base:"150px",md:"180px",lg:"220px"},height:{base:"210px",md:"260px",lg:"270px"},borderRadius:"md"},L))}):h.jsx(fe,{gap:"4",px:2,children:k.map((R,L)=>{var D;return h.jsx(Ol,{item:R,type:"movie"},((D=R==null?void 0:R._id)==null?void 0:D.$oid)||L)})})}),!x&&h.jsx(Ue,{icon:h.jsx(Sa,{}),onClick:()=>C(A),position:"absolute",right:"0",zIndex:"20","aria-label":"Scroll Right",bg:"transparent",_hover:{bg:"gray.200"}})]})},A)),h.jsxs(Fr,{direction:"row",spacing:4,my:4,alignItems:"center",children:[h.jsx(ve,{onClick:b,colorScheme:"red",children:l?"Pagination":"Alatoire"}),l&&h.jsx(ve,{onClick:w,colorScheme:"orange",children:"Mlanger"}),!l&&h.jsx(hy,{activePage:n,totalPages:s,setActivePage:r})]})]})},Mae=t=>new Promise(e=>{const n=new Image;n.src=t,n.onload=()=>e(!0),n.onerror=()=>e(!1)}),Oae=(t,e)=>{const n=[];for(let r=0;r<t.length;r+=e)n.push(t.slice(r,r+e));return n},Fae=()=>{const[t,e]=S.useState([]),[n,r]=S.useState(1),[s,i]=S.useState(1),[o,a]=S.useState(!0),[l,c]=S.useState(!1),[u,d]=S.useState(0),[f,p]=S.useState(24),[m,g]=S.useState(10),y=S.useRef([]),x=/iPhone|iPad|iPod|Android/i.test(navigator.userAgent),v=()=>{const k=window.innerWidth;k>2560?(p(48),g(16)):k>1440?(p(36),g(12)):k>1200?(p(24),g(8)):k>768?(p(18),g(6)):(p(12),g(4))};S.useEffect(()=>(v(),window.addEventListener("resize",v),()=>{window.removeEventListener("resize",v)}),[]),S.useEffect(()=>{a(!0),fy(n,f,"series",l).then(async k=>{const A=((k==null?void 0:k.series)||[]).map(async L=>await Mae(L.imagePath)?L:null),R=(await Promise.all(A)).filter(Boolean);e(R),r((k==null?void 0:k.page)||1),i(Math.ceil((k==null?void 0:k.totalSeries)/(k==null?void 0:k.pageSize)))}).catch(k=>console.error(k,"Error fetching series")).finally(()=>a(!1))},[n,l,u]);const b=()=>{c(k=>!k),r(1),d(0)},w=()=>{d(k=>k+1)},T=k=>{y.current[k].scrollBy({left:-300,behavior:"smooth"})},C=k=>{y.current[k].scrollBy({left:300,behavior:"smooth"})},E=Oae(t,m);return h.jsxs(xo,{maxW:"container.xl",sx:{overflowY:"auto",overscrollBehavior:"none"},children:[h.jsx(Yt,{as:"h2",fontSize:"md",textTransform:"uppercase",my:4,children:"Dcouvrir des Sries"}),E.map((k,A)=>h.jsx(oe,{maxH:"400px",width:"100%",overflow:"hidden",position:"relative",my:4,children:h.jsxs(fe,{alignItems:"center",children:[!x&&h.jsx(Ue,{icon:h.jsx(ba,{}),onClick:()=>T(A),position:"absolute",left:"0",zIndex:"20","aria-label":"Scroll Left",bg:"transparent",_hover:{bg:"gray.200"}}),h.jsx(fe,{ref:R=>y.current[A]=R,overflowX:"auto",py:"4",sx:{scrollbarWidth:"none","::-webkit-scrollbar":{display:"none"}},children:o?h.jsx(fe,{gap:"4",children:Array.from({length:m}).map((R,L)=>h.jsx(es,{width:{base:"150px",md:"180px",lg:"220px"},height:{base:"210px",md:"260px",lg:"270px"},borderRadius:"md"},L))}):h.jsx(fe,{gap:"4",px:2,children:k.map((R,L)=>h.jsx(Ol,{item:R,type:"series"},(R==null?void 0:R.id)||L))})}),!x&&h.jsx(Ue,{icon:h.jsx(Sa,{}),onClick:()=>C(A),position:"absolute",right:"0",zIndex:"20","aria-label":"Scroll Right",bg:"transparent",_hover:{bg:"gray.200"}})]})},A)),h.jsxs(Fr,{direction:"row",spacing:4,my:4,alignItems:"center",children:[h.jsx(ve,{onClick:b,colorScheme:"red",children:l?"Pagination":"Alatoire"}),l&&h.jsx(ve,{onClick:w,colorScheme:"orange",children:"Mlanger"}),!l&&h.jsx(hy,{activePage:n,totalPages:s,setActivePage:r})]})]})},Nae=t=>new Promise(e=>{const n=new Image;n.src=t,n.onload=()=>e(!0),n.onerror=()=>e(!1)}),jae=(t,e)=>{const n=[];for(let r=0;r<t.length;r+=e)n.push(t.slice(r,r+e));return n},Bae=()=>{const[t,e]=S.useState([]),[n,r]=S.useState(1),[s,i]=S.useState(0),[o,a]=S.useState(""),[l,c]=S.useState(!0),[u,d]=S.useState("all"),f=S.useRef([]),[p,m]=S.useState(24),[g,y]=S.useState(10),x=de("white","gray.800"),v=de("gray.800","white"),b=de("gray.300","gray.600"),w=/iPhone|iPad|iPod|Android/i.test(navigator.userAgent),T=async()=>{c(!0);try{const M=await Tae({page:n,search:o,pageSize:p,type:u}),B=async O=>{const I=O.map(async N=>await Nae(N.imagePath)?N:null);return(await Promise.all(I)).filter(Boolean)};let V=[];if(u==="movie"||u==="all"){const O=await B(M.results.movies);V=[...V,...O]}if(u==="series"||u==="all"){const O=await B(M.results.series);V=[...V,...O]}e(V),i(u==="movie"?M.totalMovies:u==="series"?M.totalSeries:M.totalMovies+M.totalSeries)}catch(M){console.error(M)}finally{c(!1)}},C=()=>{const M=window.innerWidth;M>2560?(m(48),y(16)):M>1440?(m(36),y(12)):M>1200?(m(24),y(8)):M>768?(m(18),y(6)):(m(12),y(4))};S.useEffect(()=>(C(),window.addEventListener("resize",C),()=>{window.removeEventListener("resize",C)}),[]),S.useEffect(()=>{T()},[n,o,u]);const E=M=>{a(M.target.value),r(1)},k=M=>{d(M.target.value),r(1)},A=M=>{f.current[M].scrollBy({left:-300,behavior:"smooth"})},R=M=>{f.current[M].scrollBy({left:300,behavior:"smooth"})},L=!l&&t.length===0,D=jae(t,g);return h.jsxs(xo,{maxW:"container.xl",children:[h.jsx(Yt,{as:"h2",fontSize:"md",textTransform:"uppercase",my:4,children:"Rechercher des Films et Sries"}),h.jsxs(Fr,{direction:"row",spacing:4,my:4,children:[h.jsx(Ct,{placeholder:"Recherchez des films ou des sries",value:o,onChange:E}),h.jsxs("select",{onChange:k,value:u,style:{backgroundColor:x,color:v,border:"1px solid",borderColor:b,padding:"8px",borderRadius:"4px"},children:[h.jsx("option",{value:"all",children:"Tous"}),h.jsx("option",{value:"movie",children:"Films"}),h.jsx("option",{value:"series",children:"Sries"})]})]}),L&&h.jsxs(W,{color:"gray.500",fontSize:"lg",children:['Aucun rsultat trouv pour "',o,'".']}),D.map((M,B)=>h.jsx(oe,{maxH:"400px",width:"100%",overflow:"hidden",position:"relative",my:4,children:h.jsxs(fe,{alignItems:"center",children:[!w&&h.jsx(Ue,{icon:h.jsx(ba,{}),onClick:()=>A(B),position:"absolute",left:"0",zIndex:"20","aria-label":"Scroll Left",bg:"transparent",_hover:{bg:"gray.200"}}),h.jsx(fe,{ref:V=>f.current[B]=V,overflowX:"auto",py:"4",sx:{scrollbarWidth:"none","::-webkit-scrollbar":{display:"none"}},children:l?h.jsx(fe,{gap:"4",children:Array.from({length:g}).map((V,O)=>h.jsx(es,{width:{base:"150px",md:"180px",lg:"220px"},height:{base:"210px",md:"260px",lg:"270px"},borderRadius:"md"},O))}):h.jsx(fe,{gap:"4",px:2,children:M.map(V=>h.jsx(Ol,{item:V,type:V.type_==="MOVIE"?"movie":"series"},V==null?void 0:V.id))})}),!w&&h.jsx(Ue,{icon:h.jsx(Sa,{}),onClick:()=>R(B),position:"absolute",right:"0",zIndex:"20","aria-label":"Scroll Right",bg:"transparent",_hover:{bg:"gray.200"}})]})},`item-${B}`)),h.jsx(hy,{activePage:n,totalPages:Math.ceil(s/24),setActivePage:r})]})},$ae=()=>{const{logo:t}=Pt(),e=rn({base:"80px",md:"120px"});return h.jsx(oe,{as:"img",borderRadius:"30px",src:t,alt:"Custom Logo",width:e})},zae=()=>{const[t,e]=S.useState(""),[n,r]=S.useState(""),{login:s,user:i,loading:o}=Pt(),a=pr(),l=rn({base:"20px",md:"24px"}),{colorMode:c,toggleColorMode:u}=ga(),d=de("white","#141414"),f=de("gray.100","#181818"),p=de("gray.800","white"),m=de("gray.50","black.200"),g=de("gray.300","#444"),y=de("#e50914","#e50914"),x=async w=>{w.preventDefault();try{await s({email:t,password:n})}catch(T){console.error("Login failed:",T)}},v=w=>{w.preventDefault(),a("/changepassword")},b=w=>{w.preventDefault(),a("/register")};return o?h.jsx(Un,{height:"100vh",children:h.jsx(kn,{thickness:"4px",speed:"0.65s",emptyColor:"gray.200",color:"red.600",size:"xl"})}):i?h.jsx(T0,{to:"/"}):h.jsx(oe,{bg:d,minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center",px:4,bgGradient:c==="dark"?"linear(to-br, black, #141414)":"",children:h.jsxs(He,{children:[h.jsxs(Fr,{spacing:8,width:{base:"100%",md:"400px"},children:[h.jsxs(He,{as:"header",spacing:"6",mt:{base:"6",md:"8"},children:[h.jsx($ae,{}),h.jsx(Yt,{as:"h1",fontWeight:"500",fontSize:l,color:p,letterSpacing:"-0.5px",children:"Connectez-vous  votre compte"})]}),h.jsx(nA,{bg:f,variant:"outline",borderColor:c==="dark"?"#333":"gray.200",w:"100%",boxShadow:"lg",borderRadius:"8px",overflow:"hidden",children:h.jsx(rA,{children:h.jsx("form",{onSubmit:x,children:h.jsxs(Fr,{spacing:"4",children:[h.jsxs(ms,{children:[h.jsx(gs,{color:p,children:"Email"}),h.jsx(Ct,{type:"email",value:t,onChange:w=>e(w.target.value),bg:m,borderColor:g,color:p,size:"md",borderRadius:"6px",_placeholder:{color:"gray.500"},required:!0})]}),h.jsxs(ms,{children:[h.jsxs(pt,{justify:"space-between",children:[h.jsx(gs,{color:p,children:"Mot de passe"}),h.jsx(ve,{as:"a",variant:"link",size:"xs",color:y,fontWeight:"500",onClick:v,children:"Mot de passe oubli ?"})]}),h.jsx(Ct,{type:"password",value:n,onChange:w=>r(w.target.value),bg:m,borderColor:g,color:p,size:"md",borderRadius:"6px",_placeholder:{color:"gray.500"},required:!0})]}),h.jsx(ve,{type:"submit",bg:y,color:"white",size:"md",_hover:{bg:"#b20610"},_active:{bg:"#90050d"},borderRadius:"6px",children:"Connexion"})]})})})}),h.jsx(nA,{variant:"outline",borderColor:c==="dark"?"#333":"gray.200",bg:f,w:"100%",boxShadow:"lg",borderRadius:"8px",children:h.jsx(rA,{children:h.jsx(Un,{children:h.jsxs(pt,{fontSize:"sm",spacing:"1",color:p,children:[h.jsx(W,{children:"Nouveau sur notre plateforme ?"}),h.jsx(ve,{as:"a",variant:"link",size:"xs",color:y,fontWeight:"500",onClick:b,children:"Crer un compte."})]})})})})]}),h.jsx(Un,{as:"footer",mt:"16",children:h.jsxs(He,{spacing:"2",pt:"4",children:[h.jsxs(pt,{spacing:"6",children:[h.jsxs(Ut,{color:p,to:"/register/agent-registration",_hover:{textDecoration:"underline"},children:[h.jsx(Zn,{as:mie})," Aide"]}),h.jsxs(Mt,{isExternal:!0,color:"#0088cc",href:"https://t.me/yourTelegramLink",children:[h.jsx(Zn,{as:jF})," Telegram"]}),h.jsxs(Mt,{isExternal:!0,color:"#25D366",href:"https://wa.me/yourWhatsAppNumber",children:[h.jsx(Zn,{as:MT})," WhatsApp"]}),h.jsxs(Ut,{color:p,to:"/terms",_hover:{textDecoration:"underline"},children:[h.jsx(Zn,{as:fie})," Terms"]})]}),h.jsx(W,{fontSize:"xs",color:"gray.500",children:" 2024 Tous droits rservs"})]})})]})})},Uae=()=>{const[t,e]=S.useState(""),[n,r]=S.useState(""),[s,i]=S.useState(""),[o,a]=S.useState(!1),[l,c]=S.useState(!1),u=pr(),d=Du(),{requestPasswordReset:f,changePassword:p}=Pt();S.useEffect(()=>{localStorage.getItem("isCodeSent")==="true"&&c(!0)},[]);const m=async R=>{R.preventDefault();try{a(!0),await f({email:t})?(c(!0),localStorage.setItem("isCodeSent","true")):d({title:"Error",description:"There was an issue sending the email. Please try again.",status:"error",duration:5e3,isClosable:!0})}catch(L){d({title:"Error",description:"Failed to request password reset.",status:"error",duration:5e3,isClosable:!0}),console.error("Error requesting password reset:",L)}finally{a(!1)}},g=async R=>{R.preventDefault();try{a(!0),await p({email:t,newPassword:s,verificationCode:n})&&(localStorage.removeItem("isCodeSent"),u("/login"))}catch(L){d({title:"Error",description:"Failed to change password. Please try again.",status:"error",duration:5e3,isClosable:!0}),console.error("Error changing password:",L)}finally{a(!1)}},y=()=>{c(!1),e(""),r(""),i(""),localStorage.removeItem("isCodeSent")},x=de("linear(to-br, white, gray.200)","linear(to-br, black, #141414)"),v=de("gray.100","#181818"),b=de("gray.200","#333"),w=de("gray.800","white"),T=de("blue.600","#e50914"),C=de("blue.500","#b20610"),E=de("white","black.200"),k=de("gray.300","#444"),A=de("gray.500","gray.500");return h.jsx(Un,{minHeight:"100vh",bgGradient:x,px:4,children:h.jsxs(He,{spacing:6,w:{base:"100%",md:"400px"},bg:v,p:6,borderRadius:"md",boxShadow:"lg",borderColor:b,children:[h.jsx(W,{fontSize:"2xl",fontWeight:"bold",color:w,children:"Change Your Password"}),o&&h.jsx(Un,{children:h.jsx(kn,{thickness:"4px",speed:"0.65s",emptyColor:"gray.200",color:"red.600",size:"xl"})}),!l&&h.jsxs(h.Fragment,{children:[h.jsx(ve,{onClick:()=>u("/login"),bg:"red.600",color:"white",_hover:{bg:"gray.500"},mb:4,children:"Back to Login"}),h.jsx("form",{onSubmit:m,children:h.jsxs(Fr,{spacing:4,children:[h.jsxs(ms,{isRequired:!0,children:[h.jsx(gs,{color:w,children:"Email"}),h.jsx(Ct,{type:"email",value:t,onChange:R=>e(R.target.value),bg:E,borderColor:k,color:w,placeholder:"Enter your email",_placeholder:{color:A}})]}),h.jsx(ve,{type:"submit",bg:T,color:"white",_hover:{bg:C},isLoading:o,children:"Request Reset Code"})]})})]}),l&&h.jsx("form",{onSubmit:g,children:h.jsxs(Fr,{spacing:4,children:[h.jsxs(ms,{isRequired:!0,children:[h.jsx(gs,{color:w,children:"Verification Code"}),h.jsx(Ct,{type:"text",value:n,onChange:R=>r(R.target.value),bg:E,borderColor:k,color:w,placeholder:"Enter the code sent to your email",_placeholder:{color:A}})]}),h.jsxs(ms,{isRequired:!0,children:[h.jsx(gs,{color:w,children:"New Password"}),h.jsx(Ct,{type:"password",value:s,onChange:R=>i(R.target.value),bg:E,borderColor:k,color:w,placeholder:"Enter your new password",_placeholder:{color:A}})]}),h.jsx(ve,{type:"submit",bg:T,color:"white",_hover:{bg:C},isLoading:o,children:"Change Password"})]})}),l&&h.jsx(ve,{mt:4,bg:"red.500",color:"white",_hover:{bg:"red.600"},onClick:y,children:"Restart Process"})]})})},Vae=()=>{var v;const t=pr(),e=de("white","#141414");de("gray.100","#1A202C");const n=de("gray.800","white"),r=de("gray.300","#333"),s=de("#e50914","#e50914"),i=rn({base:"22px",md:"28px"}),o=de("green.500","green.300"),a=rn({base:"100%",md:"250px"}),l=de("gray.50","gray.700"),c=rn({base:"auto",md:"450px"}),u=rn({base:"column",md:"row"}),{logo:d,api:f,currency:p}=Pt(),[m,g]=S.useState([]),y={FaStar:iy,FaCrown:OT,FaMedal:Mg,FaClock:Dg};S.useEffect(()=>{(async()=>{try{const w=await f.get("/api/subscription");g(w.data)}catch(w){console.error("Error fetching plans:",w)}})()},[]);const x=b=>{localStorage.setItem("Plan",JSON.stringify(b)),t("/register/fast-registration")};return h.jsx(Un,{minHeight:"100vh",px:6,py:12,bg:e,children:h.jsxs(He,{spacing:8,w:"100%",maxW:"1000px",position:"relative",children:[h.jsx(pt,{top:"10px",right:"20px",children:h.jsx(ve,{as:Ut,to:"/login",fontSize:"md",fontWeight:"bold",color:s,_hover:{textDecoration:"underline"},children:"Retour  la Connexion"})}),h.jsx(ks,{src:d,alt:"Logo",boxSize:"100px",objectFit:"contain",borderRadius:"20px"}),h.jsx(Yt,{as:"h1",fontWeight:"600",fontSize:i,color:n,textAlign:"center",children:"Nos Plans"}),h.jsx(W,{fontSize:"lg",color:n,textAlign:"center",maxW:"700px",children:"Nous sommes les leaders en streaming avec plus de 100,000 films et sries, ainsi que plus de 20,000 chanes de TV du monde entier. Rejoignez-nous et profitez du meilleur du divertissement! Notre service client est disponible 24/7 pour vous assister."}),h.jsxs(He,{spacing:6,w:"100%",children:[h.jsx(ve,{w:"100%",bg:s,color:"white",size:"md",_hover:{bg:"#b20610"},_active:{bg:"#90050d"},borderRadius:"6px",onClick:()=>t("/register/fast-registration"),children:"Inscription Rapide"}),h.jsx(ve,{w:"100%",bg:"blue.600",color:"white",size:"md",_hover:{bg:"blue.500"},_active:{bg:"blue.700"},borderRadius:"6px",onClick:()=>t("/register/agent-registration"),children:"Inscription par un Agent Certifi"})]}),h.jsx(Fr,{direction:u,spacing:6,w:"100%",justifyContent:"center",children:(v=[...m].reverse())==null?void 0:v.map((b,w)=>h.jsxs(oe,{w:a,bg:l,p:8,borderRadius:"lg",boxShadow:"lg",textAlign:"center",borderColor:r,borderWidth:"1px",_hover:{boxShadow:"0 0 20px rgba(229, 9, 20, 0.6)"},transition:"box-shadow 0.3s ease-in-out",h:c,display:"flex",flexDirection:"column",justifyContent:"space-between",onClick:()=>x(b),cursor:"pointer",children:[b.badge&&h.jsx(Cs,{colorScheme:"green",mb:2,bg:o,children:b.badge}),h.jsx(Zn,{as:y[b.icon]||Dg,boxSize:10,color:"yellow.500",mb:4}),h.jsxs(W,{fontSize:"xl",fontWeight:"bold",color:n,children:[b.price," ",h.jsxs(W,{as:"span",fontSize:"lg",color:"gray.500",children:[p,"/mois"]})]}),h.jsxs(oe,{mt:4,children:[h.jsxs(pt,{justifyContent:"center",spacing:1,children:[h.jsx(W,{fontSize:"lg",fontWeight:"semibold",color:n,children:"Appareils:"}),h.jsx(W,{fontSize:"lg",fontWeight:"bold",color:"green.500",children:b.devices})]}),h.jsxs(pt,{justifyContent:"center",spacing:1,mt:1,children:[h.jsx(W,{fontSize:"lg",fontWeight:"semibold",color:n,children:"Tlchargements:"}),h.jsx(W,{fontSize:"lg",fontWeight:"bold",color:"green.500",children:b.downloads<2e3?b.downloads:"Illimit"})]})]}),h.jsx(W,{fontSize:"sm",mt:3,color:n,textAlign:"center",children:b.description}),b.downloads<2e3&&h.jsxs(W,{fontSize:"sm",mt:2,color:"gray.500",children:["Augmentez les tlchargements pour ",h.jsx(W,{as:"span",fontWeight:"bold",children:"300 CFA"})," par tlchargement supplmentaire"]})]},w))})]})})},Wae=()=>{pr();const{getAllAgents:t,logo:e}=Pt(),[n,r]=S.useState([]),[s,i]=S.useState(!0),o=de("white","#141414"),a=de("gray.800","white"),l=de("gray.300","#333"),c=de("#e50914","#e50914"),u=de("yellow.400","yellow.300"),d=rn({base:"column",md:"row"}),f=rn({base:"100%",md:"250px"}),p=rn({base:"auto",md:"auto"}),m=de("gray.50","gray.700");S.useEffect(()=>{(async()=>{i(!0);const x=await t();r(x.data||[]),i(!1)})()},[]);const g=y=>{const x={facebook:FF,twitter:BF,instagram:NF,whatsapp:MT,telegram:jF};return Object.entries(y).map(([v,b])=>{const w=x[v.toLowerCase()],T={facebook:"blue.500",twitter:"cyan.500",instagram:"pink.500",whatsapp:"green.500",telegram:"blue.300"}[v.toLowerCase()];return w?h.jsx(Mt,{href:b,isExternal:!0,children:h.jsx(Zn,{as:w,boxSize:8,mr:3,color:T,_hover:{boxSize:10}})},v):null})};return h.jsx(Un,{minHeight:"100vh",px:6,py:12,bg:o,children:h.jsxs(He,{spacing:8,w:"100%",maxW:"1000px",position:"relative",children:[h.jsx(ve,{as:Ut,to:"/login",fontSize:"md",fontWeight:"bold",color:c,_hover:{textDecoration:"underline"},children:"Retour  la Connexion"}),h.jsx(ve,{as:Ut,to:"/register",fontSize:"md",fontWeight:"bold",color:c,_hover:{textDecoration:"underline"},children:"Retour debut Inscription"}),h.jsx(ks,{src:e,alt:"Logo",boxSize:"100px",objectFit:"contain",borderRadius:"20px"}),h.jsx(Yt,{as:"h1",fontWeight:"600",fontSize:"28px",color:a,textAlign:"center",children:"Liste des Agents Certifis"}),s?h.jsx(kn,{size:"xl"}):h.jsx(Fr,{direction:d,spacing:6,w:"100%",justifyContent:"center",wrap:"wrap",children:n.length>0?n.map((y,x)=>h.jsxs(oe,{w:f,bg:m,p:8,borderRadius:"lg",boxShadow:"lg",textAlign:"center",borderColor:l,borderWidth:"1px",position:"relative",_hover:{boxShadow:"0 0 20px rgba(229, 9, 20, 0.6)"},transition:"box-shadow 0.3s ease-in-out",h:p,display:"flex",flexDirection:"column",justifyContent:"space-between",children:[h.jsx(Zn,{as:iy,color:u,boxSize:6,position:"absolute",top:"10px",right:"10px"}),h.jsx(pt,{justifyContent:"center",children:h.jsx(W,{fontSize:"xl",fontWeight:"bold",color:a,children:y.email})}),y.phone&&h.jsx(Mt,{href:`tel:${y.phone}`,isExternal:!0,children:h.jsxs(W,{fontSize:"lg",mt:2,color:a,_hover:{textDecoration:"underline"},children:["Tlphone: ",y.phone]})}),y.workingtime&&h.jsxs(W,{fontSize:"md",mt:1,color:a,children:["Horaires de travail: ",y.workingtime]}),y.SocialMedias&&Object.keys(y.SocialMedias).length>0&&h.jsx(pt,{mt:4,justifyContent:"center",children:g(y.SocialMedias)})]},x)):h.jsx(W,{fontSize:"lg",color:a,children:"Aucun agent disponible pour le moment."})})]})})},Hae=()=>{const t=de("white","#141414"),e=de("gray.800","white"),n=pr();return h.jsx(oe,{bg:t,color:e,minHeight:"100vh",py:"12",px:{base:"4",md:"8"},children:h.jsxs(xo,{maxW:"container.md",children:[h.jsx(Ue,{icon:h.jsx(lae,{}),"aria-label":"Retour",onClick:()=>n("/login"),variant:"ghost",color:e,mb:"6"}),h.jsxs(He,{spacing:"8",align:"stretch",divider:h.jsx(_F,{borderColor:de("gray.200","#333")}),children:[h.jsx(Yt,{as:"h1",size:"xl",textAlign:"center",children:"Conditions Gnrales"}),h.jsxs(oe,{children:[h.jsx(Yt,{as:"h2",size:"md",mb:"4",children:"1. Introduction"}),h.jsx(W,{children:"Bienvenue sur notre service de streaming. Ces Conditions Gnrales rgissent votre utilisation de notre plateforme. En accdant ou en utilisant nos services, vous acceptez d'tre li par ces conditions."})]}),h.jsxs(oe,{children:[h.jsx(Yt,{as:"h2",size:"md",mb:"4",children:"2. Conditions de Compte"}),h.jsx(W,{children:"Vous devez avoir 18 ans ou plus pour crer un compte. Vous tes responsable du maintien de la confidentialit de votre compte et de votre mot de passe. Vous acceptez de fournir des informations exactes et compltes lors de l'inscription."})]}),h.jsxs(oe,{children:[h.jsx(Yt,{as:"h2",size:"md",mb:"4",children:"3. Utilisation du Contenu"}),h.jsx(W,{children:"Notre contenu est destin  un usage personnel et non commercial uniquement. Vous ne pouvez pas distribuer, modifier, reproduire ou excuter le contenu sans autorisation. Le streaming est limit  un seul appareil par compte, sauf indication contraire."})]}),h.jsxs(oe,{children:[h.jsx(Yt,{as:"h2",size:"md",mb:"4",children:"4. Paiement et Abonnement"}),h.jsx(W,{children:"Les frais d'abonnement seront facturs sur une base mensuelle ou annuelle, selon le plan choisi. Les paiements ne sont pas remboursables, sauf si la loi l'exige. Nous nous rservons le droit de modifier les frais d'abonnement avec pravis."})]}),h.jsxs(oe,{children:[h.jsx(Yt,{as:"h2",size:"md",mb:"4",children:"5. Rsiliation et Suspension"}),h.jsx(W,{children:"Nous pouvons rsilier ou suspendre votre compte si vous violez ces conditions ou si vous adoptez un comportement frauduleux ou illgal. En cas de rsiliation, vous perdrez l'accs au contenu et  tout avantage associ."})]}),h.jsxs(oe,{children:[h.jsx(Yt,{as:"h2",size:"md",mb:"4",children:"6. Modifications du Service"}),h.jsx(W,{children:"Nous pouvons mettre  jour ou modifier le service  tout moment pour amliorer l'exprience utilisateur ou pour se conformer aux rglementations. Nous vous informerons des changements importants, et votre utilisation continue du service constitue l'acceptation de ces changements."})]}),h.jsxs(oe,{children:[h.jsx(Yt,{as:"h2",size:"md",mb:"4",children:"7. Informations de Contact"}),h.jsxs(W,{children:["Si vous avez des questions ou des proccupations concernant ces Conditions Gnrales, veuillez nous contacter "," ",h.jsx(Mt,{href:"mailto:servicefilmu@gmail.com",color:"blue.500",children:"servicefilmu@gmail.com"}),"."]})]})]})]})})},Gae=()=>{const[t,e]=S.useState(""),[n,r]=S.useState(""),[s,i]=S.useState(""),[o,a]=S.useState(""),[l,c]=S.useState(""),[u,d]=S.useState("+223"),{loading:f,verifyEmailAndCreateAccount:p,sendVerificationCode:m}=Pt(),[g,y]=S.useState(!1),x=pr(),v=Du();S.useEffect(()=>{const O=localStorage.getItem("email");localStorage.getItem("isCodeSent")&&y(!0),O&&e(O)},[]);const b=async()=>{await m({email:t})&&(y(!0),localStorage.setItem("isCodeSent","true"),localStorage.setItem("email",t))},w=async O=>{if(O.preventDefault(),s!==o){v({title:"Erreur",description:"Les mots de passe ne sont pas identiques.",status:"error",duration:3e3,isClosable:!0});return}await p({email:t,newPassword:s,code:n,phone:l,countryCode:u})&&(localStorage.removeItem("isCodeSent"),localStorage.removeItem("email"),x("/login"))},T=()=>{e(""),r(""),i(""),a(""),c(""),d("+1"),y(!1),localStorage.removeItem("isCodeSent"),localStorage.removeItem("email")},C=de("linear(to-br, white, gray.200)","linear(to-br, black, #141414)"),E=de("gray.100","#181818"),k=de("gray.800","white"),A=de("blue.600","#e50914"),R=de("blue.500","#b20610"),L=de("white","black.200"),D=de("gray.300","#444"),M=de("gray.500","gray.500"),B=de("gray.200","gray.600"),V=de("gray.300","gray.700");return h.jsx(Un,{minHeight:"100vh",bgGradient:C,px:4,children:h.jsxs(He,{spacing:6,w:{base:"90%",sm:"80%",md:"400px"},bg:E,p:6,borderRadius:"md",boxShadow:"lg",children:[h.jsx(W,{fontSize:{base:"xl",md:"2xl"},fontWeight:"bold",color:k,children:"Crez votre compte"}),f&&h.jsx(Un,{children:h.jsx(kn,{thickness:"4px",speed:"0.65s",color:"red.600",size:"xl"})}),g?h.jsx("form",{onSubmit:w,children:h.jsxs(Fr,{spacing:4,children:[h.jsxs(ms,{isRequired:!0,children:[h.jsx(gs,{color:k,children:"Code de vrification"}),h.jsx(Ct,{type:"text",value:n,onChange:O=>r(O.target.value),bg:L,borderColor:D,color:k,placeholder:"Entrez le code",_placeholder:{color:M}})]}),h.jsxs(ms,{isRequired:!0,children:[h.jsx(gs,{color:k,children:"Numero Orange!!"}),h.jsxs(fe,{children:[h.jsxs(Pr,{value:u,onChange:O=>d(O.target.value),bg:L,borderColor:D,color:k,width:"30%",children:[h.jsx("option",{value:"+223",children:"+223"}),h.jsx("option",{value:"+226",children:"+226"}),h.jsx("option",{value:"+227",children:"+227"}),h.jsx("option",{value:"+241",children:"+241"}),h.jsx("option",{value:"+242",children:"+242"}),h.jsx("option",{value:"+243",children:"+243"}),h.jsx("option",{value:"+225",children:"+225"}),h.jsx("option",{value:"+237",children:"+237"}),h.jsx("option",{value:"+255",children:"+255"}),h.jsx("option",{value:"+256",children:"+256"}),h.jsx("option",{value:"+254",children:"+254"}),h.jsx("option",{value:"+233",children:"+233"})]}),h.jsx(Ct,{type:"number",value:l,onChange:O=>c(O.target.value),bg:L,borderColor:D,color:k,placeholder:"Numro de tlphone",_placeholder:{color:M},width:"70%"})]})]}),h.jsxs(ms,{isRequired:!0,children:[h.jsx(gs,{color:k,children:"Mot de passe"}),h.jsx(Ct,{type:"password",value:s,onChange:O=>i(O.target.value),bg:L,borderColor:D,color:k,placeholder:"Entrez le mot de passe",_placeholder:{color:M}})]}),h.jsxs(ms,{isRequired:!0,children:[h.jsx(gs,{color:k,children:"Confirmez le mot de passe"}),h.jsx(Ct,{type:"password",value:o,onChange:O=>a(O.target.value),bg:L,borderColor:D,color:k,placeholder:"Confirmez le mot de passe",_placeholder:{color:M}})]}),h.jsx(ve,{type:"submit",bg:A,color:"white",_hover:{bg:R},width:"100%",size:"lg",children:"Crer le compte"}),h.jsx(ve,{onClick:T,bg:B,_hover:{bghover:V},variant:"outline",color:k,width:"100%",size:"lg",children:"Rinitialiser le processus"})]})}):h.jsxs(h.Fragment,{children:[h.jsxs(ms,{isRequired:!0,children:[h.jsx(gs,{color:k,children:"E-mail"}),h.jsx(Ct,{type:"email",value:t,onChange:O=>e(O.target.value),bg:L,borderColor:D,color:k,placeholder:"Entrez votre e-mail",_placeholder:{color:M}})]}),h.jsx(ve,{onClick:b,bg:A,color:"white",_hover:{bg:R},width:"100%",size:"lg",children:"Envoyer le code de vrification"}),h.jsx(ve,{mt:4,onClick:()=>x("/"),bg:"orange.500",color:"white",_hover:{bg:"orange.600"},width:"100%",size:"lg",children:"Retour a l'indentification"})]})]})})},C5=S.createContext(),py=()=>S.useContext(C5),Kae=({children:t})=>{const[e,n]=S.useState(!0),{user:r,api:s,handleError:i,handleSuccess:o}=Pt(),[a,l]=S.useState([]),[c,u]=S.useState(""),[d,f]=S.useState([]),[p,m]=S.useState([]),g=async()=>{n(!0);const k=localStorage.getItem("accessToken");try{const A=await s.get("/api/subscription",{headers:{Authorization:`Bearer ${k}`}});l(A.data)}catch(A){i(A)}finally{n(!1)}};S.useEffect(()=>{g()},[]);const y=async(k,A,R)=>{n(!0);const L=localStorage.getItem("accessToken");try{const D=await s.put(`/api/subscription/${k}`,{fieldName:A,fieldValue:R},{headers:{Authorization:`Bearer ${L}`}});return o("Subscription updated."),D.data}catch(D){throw console.error("Failed to update subscription:",D),i(D),D}finally{n(!1)}},x=async k=>{n(!0);const A=localStorage.getItem("accessToken");try{const R=await s.delete(`/api/subscription/${k}`,{headers:{Authorization:`Bearer ${A}`}});return o("Subscription deleted."),R.data}catch(R){throw i(R),R}finally{n(!1)}},v=async k=>{await x(k);const A=await g();l(A)},b=async()=>{const k=localStorage.getItem("accessToken");try{const A=JSON.parse(c);if(!Array.isArray(A))throw new Error("Input must be an array of subscription objects.");n(!0);const R=await s.post("/api/subscription/bulk",{subscriptions:A},{headers:{Authorization:`Bearer ${k}`}});return o("Subscriptions created."),u(""),g(),R.data}catch(A){i(A)}finally{n(!1)}},w=async()=>{n(!0);const k=localStorage.getItem("accessToken");try{const A=await s.get("/api/transaction/all",{headers:{Authorization:`Bearer ${k}`}});f(A.data)}catch(A){i(A)}finally{n(!1)}},T=async()=>{n(!0);const k=localStorage.getItem("accessToken");try{const A=await s.get("/api/transaction/moneyflows",{headers:{Authorization:`Bearer ${k}`}});return m(A.data.MoneyFlow),A.data.MoneyFlow}catch(A){i(A)}finally{n(!1)}},C=async(k,A)=>{n(!0);const R=localStorage.getItem("accessToken");try{await s.put(`/api/transaction/moneyflow/${k}`,A,{headers:{Authorization:`Bearer ${R}`}}),o("Money flow updated successfully.")}catch(L){i(L)}finally{n(!1)}},E=async k=>{n(!0);const A=localStorage.getItem("accessToken");try{await s.delete(`/api/transaction/moneyflow/${k}`,{headers:{Authorization:`Bearer ${A}`}}),o("Money flow deleted successfully.")}catch(R){i(R)}finally{n(!1)}};return h.jsx(C5.Provider,{value:{subscriptions:a,removeSubscription:v,loading:e,updateSubscription:y,jsonInput:c,setJsonInput:u,createSubscriptionsFromJson:b,fetchSubscriptions:g,getAllMoneyFlow:T,moneyflow:p,updateMoneyflow:C,deleteMoneyflow:E,getAllTransactions:w,transactions:d,user:r},children:(r==null?void 0:r.role)==="ADMIN"?t:h.jsx(T0,{to:"/"})})},Yae=["type","price","devices","downloads","description"],W1=["id"],qae=({subscription:t,onEdit:e,onDelete:n,isEditing:r,editedSubscription:s,onInputChange:i,onUpdate:o,onCancel:a,typess:l})=>{const{id:c}=t;return h.jsxs(M1,{children:[Object.keys(t).map(u=>!W1.includes(u)&&h.jsx(D1,{children:r&&Yae.includes(u)?u==="type"?h.jsx(Pr,{name:u,value:s[u],onChange:i,placeholder:`Select ${u.charAt(0).toUpperCase()+u.slice(1)}`,children:l.map(d=>h.jsx("option",{value:d,children:d},d))}):h.jsx(Ct,{name:u,type:typeof t[u]=="number"?"number":"text",value:s[u],onChange:i,placeholder:u.charAt(0).toUpperCase()+u.slice(1)}):t[u]},u)),h.jsx(D1,{children:r?h.jsxs(h.Fragment,{children:[h.jsx(Ue,{icon:h.jsx(fae,{}),colorScheme:"teal",onClick:o,"aria-label":"Save changes",mr:2,isRound:!0}),h.jsx(Ue,{icon:h.jsx(dae,{}),colorScheme:"red",onClick:a,"aria-label":"Cancel edit",isRound:!0})]}):h.jsxs(h.Fragment,{children:[h.jsx(Ue,{icon:h.jsx(iae,{}),colorScheme:"teal",onClick:()=>e(t),"aria-label":"Edit subscription",mr:2,isRound:!0}),h.jsx(ve,{onClick:()=>n(c),colorScheme:"red","aria-label":"Delete subscription",children:"Delete"})]})})]},c)},Xae=()=>{const{subscriptions:t,removeSubscription:e,updateSubscription:n,loading:r,fetchSubscriptions:s}=py(),[i,o]=S.useState(null),[a,l]=S.useState({}),u=t?[...new Set(t.map(y=>y.type))]:[],d=async y=>{try{await e(y),s();const x=document.cookie;console.log(x)}catch(x){console.error("Failed to delete subscription:",x)}},f=y=>{o(y.id),l(y)},p=y=>{const{name:x,value:v}=y.target;l(b=>({...b,[x]:v}))},m=async()=>{const y=Object.entries(a).filter(([x,v])=>v!==t.find(b=>b.id===a.id)[x]).map(async([x,v])=>{["devices","downloads","price","duration"].includes(x)&&typeof v=="string"&&(v=parseInt(v,10)),await n(a.id,x,v)});await Promise.all(y),o(null),s()},g=()=>{o(null),l({})};return h.jsxs(oe,{mt:8,width:{base:"100%",md:"90%",lg:"80%"},mx:"auto",overflowX:"auto",children:[h.jsx("h2",{children:"Existing Subscriptions"}),r?h.jsx(kn,{size:"xl"}):h.jsxs(LF,{variant:"simple",mt:4,size:"sm",width:"100%",children:[h.jsx(Rse,{children:h.jsxs(M1,{children:[t&&t.length>0?Object.keys(t[0]).map(y=>!W1.includes(y)&&h.jsx(ex,{whiteSpace:"nowrap",children:y.charAt(0).toUpperCase()+y.slice(1)},y)):h.jsx(ex,{colSpan:"100%",children:"No Data"}),h.jsx(ex,{children:"Actions"})]})}),h.jsx(Ase,{children:t&&t.length>0?t.map(y=>h.jsx(qae,{typess:u,subscription:y,onEdit:f,onDelete:d,isEditing:i===y.id,editedSubscription:a,onInputChange:p,onUpdate:m,onCancel:g},y.id)):h.jsx(M1,{children:h.jsx(D1,{colSpan:Object.keys(W1).length+2,children:"No subscriptions available."})})})]})]})},Qae=()=>{const{jsonInput:t,setJsonInput:e,createSubscriptionsFromJson:n,loading:r}=py(),s=o=>e(o.target.value),i=async()=>{await n()};return h.jsx(oe,{mt:8,width:{base:"100%",md:"80%",lg:"60%"},mx:"auto",children:h.jsxs(ms,{children:[h.jsx(gs,{children:"JSON Input for Subscriptions"}),h.jsx(DT,{value:t,onChange:s,placeholder:"Enter an array of subscription objects in JSON format",resize:"vertical"}),h.jsx(ve,{onClick:i,colorScheme:"teal",mt:2,width:"full",loadingText:"Creating...",children:"Create Subscriptions from JSON"})]})})},Zae=({id:t,onClose:e})=>{var D,M,B,V;const[n,r]=S.useState(null),[s,i]=S.useState(!0),[o,a]=S.useState(0),[l,c]=S.useState(!1),[u,d]=S.useState(!1),[f,p]=S.useState(""),[m,g]=S.useState(""),{api:y,currency:x}=Pt(),v=de("gray.100","gray.700"),b=de("black","white"),w=async()=>{var O,I;i(!0);try{const N=localStorage.getItem("accessToken"),j=await y.get("/api/user/profile",{headers:{Authorization:`Bearer ${N}`},params:{targetUserId:t}});r(j.data),p(((O=j.data.StreamingAccess)==null?void 0:O.username)||""),g(((I=j.data.StreamingAccess)==null?void 0:I.password)||"")}catch(N){console.error("Error fetching user:",N)}finally{i(!1)}},T=async()=>{try{await k("StreamingAccess",{username:f,password:m}),r(O=>({...O,StreamingAccess:{username:f,password:m}}))}catch(O){console.error("Error updating streaming access:",O)}},C=async()=>{if(!o||o<=0)return;i(!0);const O=localStorage.getItem("accessToken");try{await y.post("/api/transaction/admindeposit",{userId:t,amount:o},{headers:{Authorization:`Bearer ${O}`}}),r(I=>({...I,balance:I.balance+parseFloat(o)})),a(0)}catch(I){console.error("Error creating deposit transaction:",I)}finally{i(!1)}},E=async O=>{i(!0);const I=localStorage.getItem("accessToken");try{await y.post("/api/transaction/reverse",{targetUserId:t,transactionId:O},{headers:{Authorization:`Bearer ${I}`}}),r(N=>({...N,transactions:N.transactions.map(j=>j.id===O?{...j,reversed:!0}:j)}))}catch(N){console.error("Error reversing transaction:",N)}finally{i(!1)}},k=async(O,I)=>{try{const N=localStorage.getItem("accessToken");await y.put("/api/user/profile/updateField",{targetUserId:t,fieldName:O,fieldValue:I},{headers:{Authorization:`Bearer ${N}`}}),r(j=>j&&{...j,[O]:I})}catch(N){console.error(`Error updating ${O}:`,N)}},A=async O=>{const I=!n[O];r(N=>({...N,[O]:I})),await k(O,I)},R=O=>O.reversed?"Returned":O.isApproved?"Approved":O.isPending?"Pending":O.isCanceled?"Canceled":"Unknown",L=O=>O.reversed?"purple.300":O.isApproved?"green.300":O.isPending?"yellow.300":O.isCanceled?"pink.300":"gray.200";return S.useEffect(()=>{w()},[t]),s||!n?h.jsx(W,{color:b,children:"Loading user details..."}):h.jsx(oe,{borderWidth:"1px",borderRadius:"md",p:4,bg:v,mt:4,children:h.jsxs(He,{align:"start",spacing:3,color:b,children:[h.jsx(W,{fontWeight:"bold",children:"Name:"}),h.jsx(W,{children:n.name||"N/A"}),h.jsx(W,{fontWeight:"bold",children:"Email:"}),h.jsx(W,{children:n.email||"N/A"}),h.jsx(W,{fontWeight:"bold",children:"Phone:"}),h.jsx(W,{children:n.phone||"N/A"}),h.jsx(W,{fontWeight:"bold",children:"Balance:"}),h.jsxs(Cs,{colorScheme:"blue",children:[x,n.balance]}),h.jsx(W,{fontWeight:"bold",children:"Deposit Amount:"}),h.jsx(Ct,{type:"number",value:o,onChange:O=>a(O.target.value),placeholder:"Enter amount",mb:2}),h.jsx(ve,{onClick:C,colorScheme:"teal",children:"Deposit"}),h.jsx(W,{fontWeight:"bold",children:"Streaming Access:"}),h.jsxs(W,{children:["Username: ",((D=n.StreamingAccess)==null?void 0:D.username)||"N/A"]}),h.jsxs(W,{children:["Password: ",((M=n.StreamingAccess)==null?void 0:M.password)||"N/A"]}),h.jsxs(pt,{children:[h.jsx(W,{fontWeight:"bold",children:"Is Active:"}),h.jsx(fu,{isChecked:n.isactive,onChange:()=>A("isactive")})]}),h.jsxs(pt,{children:[h.jsx(W,{fontWeight:"bold",children:"Is Banned:"}),h.jsx(fu,{isChecked:n.isbanned,onChange:()=>A("isbanned")})]}),h.jsx(W,{fontWeight:"bold",children:"Streaming Access:"}),h.jsx(W,{children:"Username:"}),h.jsx(Ct,{value:f,onChange:O=>p(O.target.value),placeholder:"Enter new username"}),h.jsx(W,{children:"Password:"}),h.jsx(Ct,{value:m,onChange:O=>g(O.target.value),placeholder:"Enter new password"}),h.jsx(ve,{onClick:T,colorScheme:"blue",children:"Update Streaming Access"}),n.transactions&&h.jsxs(h.Fragment,{children:[" ",h.jsxs(pt,{children:[h.jsx(W,{fontWeight:"bold",children:"Transactions:"}),h.jsx(ve,{size:"xs",onClick:()=>c(!l),colorScheme:"blue",children:l?"Hide":"Show"})]}),h.jsx(ou,{in:l,children:h.jsx(He,{spacing:1,align:"start",children:((B=n.transactions)==null?void 0:B.map(O=>(O.transactionType==="ABON"||O.transactionType==="TELE")&&h.jsx(oe,{bg:L(O),p:2,borderRadius:"md",children:h.jsxs(pt,{justify:"space-between",children:[h.jsxs(W,{children:[O.transactionType,": ",x,O.amount]}),h.jsx(Cs,{children:R(O)}),!O.reversed&&h.jsx(ve,{size:"xs",onClick:()=>E(O.id),colorScheme:"red",children:"Reverse"})]})},O.id)))||h.jsx(W,{children:"N/A"})})})]}),n.downloads&&h.jsxs(h.Fragment,{children:[h.jsxs(pt,{children:[h.jsx(W,{fontWeight:"bold",children:"Downloads:"}),h.jsx(ve,{size:"xs",onClick:()=>d(!u),colorScheme:"blue",children:u?"Hide":"Show"})]}),h.jsx(ou,{in:u,children:h.jsx(He,{spacing:1,align:"start",children:((V=n.downloads)==null?void 0:V.map(O=>h.jsx(W,{children:O.filename},O.id)))||h.jsx(W,{children:"N/A"})})})]}),h.jsx(ve,{onClick:e,children:"Close"})]})})},Jae=()=>{const[t,e]=S.useState([]),[n,r]=S.useState(!0),[s,i]=S.useState(null),[o,a]=S.useState(""),{api:l}=Pt(),c=de("white","black"),u=de("teal","teal");S.useEffect(()=>{d()},[]);const d=async()=>{r(!0);try{const m=localStorage.getItem("accessToken"),g=await l.get("/api/user/users",{headers:{Authorization:`Bearer ${m}`}});e(g.data)}catch(m){console.error("Error fetching users:",m)}finally{r(!1)}},f=t.filter(m=>{var g,y,x;return((g=m.name)==null?void 0:g.toLowerCase().includes(o.toLowerCase()))||((y=m.email)==null?void 0:y.toLowerCase().includes(o.toLowerCase()))||((x=m.phone)==null?void 0:x.toLowerCase().includes(o.toLowerCase()))}),p=m=>{i((s==null?void 0:s.id)===m.id?null:m)};return h.jsxs(oe,{mx:"auto",p:0,m:0,bg:c,borderRadius:"md",boxShadow:"lg",children:[h.jsx(pt,{justifyContent:"space-between",mb:6,children:h.jsx(Yt,{as:"h2",size:"lg",children:"User Management"})}),h.jsxs(pt,{mb:4,spacing:3,children:[h.jsx(Ct,{placeholder:"Search by name, email, or phone",value:o,onChange:m=>a(m.target.value),size:"md",variant:"filled"}),h.jsx(Ue,{icon:h.jsx(yie,{}),colorScheme:u})]}),n?h.jsx(W,{children:"Loading users..."}):f.length>0?h.jsx(Vf,{columns:{base:1,md:2,lg:3},spacing:2,children:f.map(m=>h.jsxs(oe,{borderWidth:"1px",borderRadius:"lg",p:4,bg:c,boxShadow:"lg",width:"auto",position:"relative",children:[h.jsxs(He,{align:"start",spacing:2,children:[h.jsxs(W,{fontWeight:"bold",children:["Name:",m.name||"N/A"]}),h.jsxs(W,{fontWeight:"bold",children:["Email:",m.email||"N/A"]}),h.jsx(Ue,{icon:(s==null?void 0:s.id)===m.id?h.jsx(iie,{}):h.jsx(sie,{}),size:"sm",colorScheme:u,onClick:()=>p(m)})]}),(s==null?void 0:s.id)===m.id&&h.jsx(oe,{position:"absolute",top:"100%",left:"0",width:"100%",bg:c,p:4,borderWidth:"1px",borderRadius:"md",zIndex:"10",boxShadow:"lg",children:h.jsx(Zae,{id:m.id,onClose:()=>i(null)})})]},m.id))}):h.jsx(W,{children:"No users found."})]})};function k5(t){return Oe({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M20 4H4c-1.11 0-1.99.89-1.99 2L2 18c0 1.11.89 2 2 2h16c1.11 0 2-.89 2-2V6c0-1.11-.89-2-2-2zm0 14H4v-6h16v6zm0-10H4V6h16v2z"},child:[]}]})(t)}function ele(t){return Oe({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M20 8H4V6h16v2zm-2-6H6v2h12V2zm4 10v8c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2v-8c0-1.1.9-2 2-2h16c1.1 0 2 .9 2 2zm-6 4-6-3.27v6.53L16 16z"},child:[]}]})(t)}function tle(t){return Oe({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M11.8 10.9c-2.27-.59-3-1.2-3-2.15 0-1.09 1.01-1.85 2.7-1.85 1.78 0 2.44.85 2.5 2.1h2.21c-.07-1.72-1.12-3.3-3.21-3.81V3h-3v2.16c-1.94.42-3.5 1.68-3.5 3.61 0 2.31 1.91 3.46 4.7 4.13 2.5.6 3 1.48 3 2.41 0 .69-.49 1.79-2.7 1.79-2.06 0-2.87-.92-2.98-2.1h-2.2c.12 2.19 1.76 3.42 3.68 3.83V21h3v-2.15c1.95-.37 3.5-1.5 3.5-3.55 0-2.84-2.43-3.81-4.7-4.4z"},child:[]}]})(t)}/*!
 * @kurkle/color v0.3.2
 * https://github.com/kurkle/color#readme
 * (c) 2023 Jukka Kurkela
 * Released under the MIT License
 */function Ph(t){return t+.5|0}const Go=(t,e,n)=>Math.max(Math.min(t,n),e);function Ad(t){return Go(Ph(t*2.55),0,255)}function ra(t){return Go(Ph(t*255),0,255)}function Yi(t){return Go(Ph(t/2.55)/100,0,1)}function iR(t){return Go(Ph(t*100),0,100)}const ls={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},H1=[..."0123456789ABCDEF"],nle=t=>H1[t&15],rle=t=>H1[(t&240)>>4]+H1[t&15],bp=t=>(t&240)>>4===(t&15),sle=t=>bp(t.r)&&bp(t.g)&&bp(t.b)&&bp(t.a);function ile(t){var e=t.length,n;return t[0]==="#"&&(e===4||e===5?n={r:255&ls[t[1]]*17,g:255&ls[t[2]]*17,b:255&ls[t[3]]*17,a:e===5?ls[t[4]]*17:255}:(e===7||e===9)&&(n={r:ls[t[1]]<<4|ls[t[2]],g:ls[t[3]]<<4|ls[t[4]],b:ls[t[5]]<<4|ls[t[6]],a:e===9?ls[t[7]]<<4|ls[t[8]]:255})),n}const ole=(t,e)=>t<255?e(t):"";function ale(t){var e=sle(t)?nle:rle;return t?"#"+e(t.r)+e(t.g)+e(t.b)+ole(t.a,e):void 0}const lle=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function A5(t,e,n){const r=e*Math.min(n,1-n),s=(i,o=(i+t/30)%12)=>n-r*Math.max(Math.min(o-3,9-o,1),-1);return[s(0),s(8),s(4)]}function cle(t,e,n){const r=(s,i=(s+t/60)%6)=>n-n*e*Math.max(Math.min(i,4-i,1),0);return[r(5),r(3),r(1)]}function ule(t,e,n){const r=A5(t,1,.5);let s;for(e+n>1&&(s=1/(e+n),e*=s,n*=s),s=0;s<3;s++)r[s]*=1-e-n,r[s]+=e;return r}function dle(t,e,n,r,s){return t===s?(e-n)/r+(e<n?6:0):e===s?(n-t)/r+2:(t-e)/r+4}function VT(t){const n=t.r/255,r=t.g/255,s=t.b/255,i=Math.max(n,r,s),o=Math.min(n,r,s),a=(i+o)/2;let l,c,u;return i!==o&&(u=i-o,c=a>.5?u/(2-i-o):u/(i+o),l=dle(n,r,s,u,i),l=l*60+.5),[l|0,c||0,a]}function WT(t,e,n,r){return(Array.isArray(e)?t(e[0],e[1],e[2]):t(e,n,r)).map(ra)}function HT(t,e,n){return WT(A5,t,e,n)}function fle(t,e,n){return WT(ule,t,e,n)}function hle(t,e,n){return WT(cle,t,e,n)}function R5(t){return(t%360+360)%360}function ple(t){const e=lle.exec(t);let n=255,r;if(!e)return;e[5]!==r&&(n=e[6]?Ad(+e[5]):ra(+e[5]));const s=R5(+e[2]),i=+e[3]/100,o=+e[4]/100;return e[1]==="hwb"?r=fle(s,i,o):e[1]==="hsv"?r=hle(s,i,o):r=HT(s,i,o),{r:r[0],g:r[1],b:r[2],a:n}}function mle(t,e){var n=VT(t);n[0]=R5(n[0]+e),n=HT(n),t.r=n[0],t.g=n[1],t.b=n[2]}function gle(t){if(!t)return;const e=VT(t),n=e[0],r=iR(e[1]),s=iR(e[2]);return t.a<255?`hsla(${n}, ${r}%, ${s}%, ${Yi(t.a)})`:`hsl(${n}, ${r}%, ${s}%)`}const oR={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},aR={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function yle(){const t={},e=Object.keys(aR),n=Object.keys(oR);let r,s,i,o,a;for(r=0;r<e.length;r++){for(o=a=e[r],s=0;s<n.length;s++)i=n[s],a=a.replace(i,oR[i]);i=parseInt(aR[o],16),t[a]=[i>>16&255,i>>8&255,i&255]}return t}let Sp;function vle(t){Sp||(Sp=yle(),Sp.transparent=[0,0,0,0]);const e=Sp[t.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}const xle=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function ble(t){const e=xle.exec(t);let n=255,r,s,i;if(e){if(e[7]!==r){const o=+e[7];n=e[8]?Ad(o):Go(o*255,0,255)}return r=+e[1],s=+e[3],i=+e[5],r=255&(e[2]?Ad(r):Go(r,0,255)),s=255&(e[4]?Ad(s):Go(s,0,255)),i=255&(e[6]?Ad(i):Go(i,0,255)),{r,g:s,b:i,a:n}}}function Sle(t){return t&&(t.a<255?`rgba(${t.r}, ${t.g}, ${t.b}, ${Yi(t.a)})`:`rgb(${t.r}, ${t.g}, ${t.b})`)}const cx=t=>t<=.0031308?t*12.92:Math.pow(t,1/2.4)*1.055-.055,Ql=t=>t<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4);function wle(t,e,n){const r=Ql(Yi(t.r)),s=Ql(Yi(t.g)),i=Ql(Yi(t.b));return{r:ra(cx(r+n*(Ql(Yi(e.r))-r))),g:ra(cx(s+n*(Ql(Yi(e.g))-s))),b:ra(cx(i+n*(Ql(Yi(e.b))-i))),a:t.a+n*(e.a-t.a)}}function wp(t,e,n){if(t){let r=VT(t);r[e]=Math.max(0,Math.min(r[e]+r[e]*n,e===0?360:1)),r=HT(r),t.r=r[0],t.g=r[1],t.b=r[2]}}function _5(t,e){return t&&Object.assign(e||{},t)}function lR(t){var e={r:0,g:0,b:0,a:255};return Array.isArray(t)?t.length>=3&&(e={r:t[0],g:t[1],b:t[2],a:255},t.length>3&&(e.a=ra(t[3]))):(e=_5(t,{r:0,g:0,b:0,a:1}),e.a=ra(e.a)),e}function Tle(t){return t.charAt(0)==="r"?ble(t):ple(t)}class Xf{constructor(e){if(e instanceof Xf)return e;const n=typeof e;let r;n==="object"?r=lR(e):n==="string"&&(r=ile(e)||vle(e)||Tle(e)),this._rgb=r,this._valid=!!r}get valid(){return this._valid}get rgb(){var e=_5(this._rgb);return e&&(e.a=Yi(e.a)),e}set rgb(e){this._rgb=lR(e)}rgbString(){return this._valid?Sle(this._rgb):void 0}hexString(){return this._valid?ale(this._rgb):void 0}hslString(){return this._valid?gle(this._rgb):void 0}mix(e,n){if(e){const r=this.rgb,s=e.rgb;let i;const o=n===i?.5:n,a=2*o-1,l=r.a-s.a,c=((a*l===-1?a:(a+l)/(1+a*l))+1)/2;i=1-c,r.r=255&c*r.r+i*s.r+.5,r.g=255&c*r.g+i*s.g+.5,r.b=255&c*r.b+i*s.b+.5,r.a=o*r.a+(1-o)*s.a,this.rgb=r}return this}interpolate(e,n){return e&&(this._rgb=wle(this._rgb,e._rgb,n)),this}clone(){return new Xf(this.rgb)}alpha(e){return this._rgb.a=ra(e),this}clearer(e){const n=this._rgb;return n.a*=1-e,this}greyscale(){const e=this._rgb,n=Ph(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=n,this}opaquer(e){const n=this._rgb;return n.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return wp(this._rgb,2,e),this}darken(e){return wp(this._rgb,2,-e),this}saturate(e){return wp(this._rgb,1,e),this}desaturate(e){return wp(this._rgb,1,-e),this}rotate(e){return mle(this._rgb,e),this}}/*!
 * Chart.js v4.4.6
 * https://www.chartjs.org
 * (c) 2024 Chart.js Contributors
 * Released under the MIT License
 */function Bi(){}const Ele=(()=>{let t=0;return()=>t++})();function nn(t){return t===null||typeof t>"u"}function Pn(t){if(Array.isArray&&Array.isArray(t))return!0;const e=Object.prototype.toString.call(t);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function ft(t){return t!==null&&Object.prototype.toString.call(t)==="[object Object]"}function _s(t){return(typeof t=="number"||t instanceof Number)&&isFinite(+t)}function ai(t,e){return _s(t)?t:e}function tt(t,e){return typeof t>"u"?e:t}const Cle=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100*e:+t;function Ot(t,e,n){if(t&&typeof t.call=="function")return t.apply(n,e)}function mt(t,e,n,r){let s,i,o;if(Pn(t))for(i=t.length,s=0;s<i;s++)e.call(n,t[s],s);else if(ft(t))for(o=Object.keys(t),i=o.length,s=0;s<i;s++)e.call(n,t[o[s]],o[s])}function Ng(t,e){let n,r,s,i;if(!t||!e||t.length!==e.length)return!1;for(n=0,r=t.length;n<r;++n)if(s=t[n],i=e[n],s.datasetIndex!==i.datasetIndex||s.index!==i.index)return!1;return!0}function jg(t){if(Pn(t))return t.map(jg);if(ft(t)){const e=Object.create(null),n=Object.keys(t),r=n.length;let s=0;for(;s<r;++s)e[n[s]]=jg(t[n[s]]);return e}return t}function L5(t){return["__proto__","prototype","constructor"].indexOf(t)===-1}function kle(t,e,n,r){if(!L5(t))return;const s=e[t],i=n[t];ft(s)&&ft(i)?Qf(s,i,r):e[t]=jg(i)}function Qf(t,e,n){const r=Pn(e)?e:[e],s=r.length;if(!ft(t))return t;n=n||{};const i=n.merger||kle;let o;for(let a=0;a<s;++a){if(o=r[a],!ft(o))continue;const l=Object.keys(o);for(let c=0,u=l.length;c<u;++c)i(l[c],t,o,n)}return t}function tf(t,e){return Qf(t,e,{merger:Ale})}function Ale(t,e,n){if(!L5(t))return;const r=e[t],s=n[t];ft(r)&&ft(s)?tf(r,s):Object.prototype.hasOwnProperty.call(e,t)||(e[t]=jg(s))}const cR={"":t=>t,x:t=>t.x,y:t=>t.y};function Rle(t){const e=t.split("."),n=[];let r="";for(const s of e)r+=s,r.endsWith("\\")?r=r.slice(0,-1)+".":(n.push(r),r="");return n}function _le(t){const e=Rle(t);return n=>{for(const r of e){if(r==="")break;n=n&&n[r]}return n}}function Bg(t,e){return(cR[e]||(cR[e]=_le(e)))(t)}function GT(t){return t.charAt(0).toUpperCase()+t.slice(1)}const $g=t=>typeof t<"u",ca=t=>typeof t=="function",uR=(t,e)=>{if(t.size!==e.size)return!1;for(const n of t)if(!e.has(n))return!1;return!0};function Lle(t){return t.type==="mouseup"||t.type==="click"||t.type==="contextmenu"}const Dn=Math.PI,Ri=2*Dn,Ple=Ri+Dn,zg=Number.POSITIVE_INFINITY,Ile=Dn/180,qs=Dn/2,_a=Dn/4,dR=Dn*2/3,G1=Math.log10,pu=Math.sign;function nf(t,e,n){return Math.abs(t-e)<n}function fR(t){const e=Math.round(t);t=nf(t,e,t/1e3)?e:t;const n=Math.pow(10,Math.floor(G1(t))),r=t/n;return(r<=1?1:r<=2?2:r<=5?5:10)*n}function Dle(t){const e=[],n=Math.sqrt(t);let r;for(r=1;r<n;r++)t%r===0&&(e.push(r),e.push(t/r));return n===(n|0)&&e.push(n),e.sort((s,i)=>s-i).pop(),e}function Zf(t){return!isNaN(parseFloat(t))&&isFinite(t)}function Mle(t,e){const n=Math.round(t);return n-e<=t&&n+e>=t}function Ole(t,e,n){let r,s,i;for(r=0,s=t.length;r<s;r++)i=t[r][n],isNaN(i)||(e.min=Math.min(e.min,i),e.max=Math.max(e.max,i))}function Ja(t){return t*(Dn/180)}function Fle(t){return t*(180/Dn)}function hR(t){if(!_s(t))return;let e=1,n=0;for(;Math.round(t*e)/e!==t;)e*=10,n++;return n}function Nle(t,e){const n=e.x-t.x,r=e.y-t.y,s=Math.sqrt(n*n+r*r);let i=Math.atan2(r,n);return i<-.5*Dn&&(i+=Ri),{angle:i,distance:s}}function K1(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function jle(t,e){return(t-e+Ple)%Ri-Dn}function Do(t){return(t%Ri+Ri)%Ri}function P5(t,e,n,r){const s=Do(t),i=Do(e),o=Do(n),a=Do(i-s),l=Do(o-s),c=Do(s-i),u=Do(s-o);return s===i||s===o||r&&i===o||a>l&&c<u}function xs(t,e,n){return Math.max(e,Math.min(n,t))}function Ble(t){return xs(t,-32768,32767)}function Rd(t,e,n,r=1e-6){return t>=Math.min(e,n)-r&&t<=Math.max(e,n)+r}function KT(t,e,n){n=n||(o=>t[o]<e);let r=t.length-1,s=0,i;for(;r-s>1;)i=s+r>>1,n(i)?s=i:r=i;return{lo:s,hi:r}}const el=(t,e,n,r)=>KT(t,n,r?s=>{const i=t[s][e];return i<n||i===n&&t[s+1][e]===n}:s=>t[s][e]<n),$le=(t,e,n)=>KT(t,n,r=>t[r][e]>=n);function zle(t,e,n){let r=0,s=t.length;for(;r<s&&t[r]<e;)r++;for(;s>r&&t[s-1]>n;)s--;return r>0||s<t.length?t.slice(r,s):t}const I5=["push","pop","shift","splice","unshift"];function Ule(t,e){if(t._chartjs){t._chartjs.listeners.push(e);return}Object.defineProperty(t,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),I5.forEach(n=>{const r="_onData"+GT(n),s=t[n];Object.defineProperty(t,n,{configurable:!0,enumerable:!1,value(...i){const o=s.apply(this,i);return t._chartjs.listeners.forEach(a=>{typeof a[r]=="function"&&a[r](...i)}),o}})})}function pR(t,e){const n=t._chartjs;if(!n)return;const r=n.listeners,s=r.indexOf(e);s!==-1&&r.splice(s,1),!(r.length>0)&&(I5.forEach(i=>{delete t[i]}),delete t._chartjs)}function Vle(t){const e=new Set(t);return e.size===t.length?t:Array.from(e)}const D5=function(){return typeof window>"u"?function(t){return t()}:window.requestAnimationFrame}();function M5(t,e){let n=[],r=!1;return function(...s){n=s,r||(r=!0,D5.call(window,()=>{r=!1,t.apply(e,n)}))}}function Wle(t,e){let n;return function(...r){return e?(clearTimeout(n),n=setTimeout(t,e,r)):t.apply(this,r),e}}const YT=t=>t==="start"?"left":t==="end"?"right":"center",Xn=(t,e,n)=>t==="start"?e:t==="end"?n:(e+n)/2,Hle=(t,e,n,r)=>t===(r?"left":"right")?n:t==="center"?(e+n)/2:e;function Gle(t,e,n){const r=e.length;let s=0,i=r;if(t._sorted){const{iScale:o,_parsed:a}=t,l=o.axis,{min:c,max:u,minDefined:d,maxDefined:f}=o.getUserBounds();d&&(s=xs(Math.min(el(a,l,c).lo,n?r:el(e,l,o.getPixelForValue(c)).lo),0,r-1)),f?i=xs(Math.max(el(a,o.axis,u,!0).hi+1,n?0:el(e,l,o.getPixelForValue(u),!0).hi+1),s,r)-s:i=r-s}return{start:s,count:i}}function Kle(t){const{xScale:e,yScale:n,_scaleRanges:r}=t,s={xmin:e.min,xmax:e.max,ymin:n.min,ymax:n.max};if(!r)return t._scaleRanges=s,!0;const i=r.xmin!==e.min||r.xmax!==e.max||r.ymin!==n.min||r.ymax!==n.max;return Object.assign(r,s),i}const Tp=t=>t===0||t===1,mR=(t,e,n)=>-(Math.pow(2,10*(t-=1))*Math.sin((t-e)*Ri/n)),gR=(t,e,n)=>Math.pow(2,-10*t)*Math.sin((t-e)*Ri/n)+1,rf={linear:t=>t,easeInQuad:t=>t*t,easeOutQuad:t=>-t*(t-2),easeInOutQuad:t=>(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1),easeInCubic:t=>t*t*t,easeOutCubic:t=>(t-=1)*t*t+1,easeInOutCubic:t=>(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2),easeInQuart:t=>t*t*t*t,easeOutQuart:t=>-((t-=1)*t*t*t-1),easeInOutQuart:t=>(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2),easeInQuint:t=>t*t*t*t*t,easeOutQuint:t=>(t-=1)*t*t*t*t+1,easeInOutQuint:t=>(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2),easeInSine:t=>-Math.cos(t*qs)+1,easeOutSine:t=>Math.sin(t*qs),easeInOutSine:t=>-.5*(Math.cos(Dn*t)-1),easeInExpo:t=>t===0?0:Math.pow(2,10*(t-1)),easeOutExpo:t=>t===1?1:-Math.pow(2,-10*t)+1,easeInOutExpo:t=>Tp(t)?t:t<.5?.5*Math.pow(2,10*(t*2-1)):.5*(-Math.pow(2,-10*(t*2-1))+2),easeInCirc:t=>t>=1?t:-(Math.sqrt(1-t*t)-1),easeOutCirc:t=>Math.sqrt(1-(t-=1)*t),easeInOutCirc:t=>(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1),easeInElastic:t=>Tp(t)?t:mR(t,.075,.3),easeOutElastic:t=>Tp(t)?t:gR(t,.075,.3),easeInOutElastic(t){return Tp(t)?t:t<.5?.5*mR(t*2,.1125,.45):.5+.5*gR(t*2-1,.1125,.45)},easeInBack(t){return t*t*((1.70158+1)*t-1.70158)},easeOutBack(t){return(t-=1)*t*((1.70158+1)*t+1.70158)+1},easeInOutBack(t){let e=1.70158;return(t/=.5)<1?.5*(t*t*(((e*=1.525)+1)*t-e)):.5*((t-=2)*t*(((e*=1.525)+1)*t+e)+2)},easeInBounce:t=>1-rf.easeOutBounce(1-t),easeOutBounce(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},easeInOutBounce:t=>t<.5?rf.easeInBounce(t*2)*.5:rf.easeOutBounce(t*2-1)*.5+.5};function qT(t){if(t&&typeof t=="object"){const e=t.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function yR(t){return qT(t)?t:new Xf(t)}function ux(t){return qT(t)?t:new Xf(t).saturate(.5).darken(.1).hexString()}const Yle=["x","y","borderWidth","radius","tension"],qle=["color","borderColor","backgroundColor"];function Xle(t){t.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),t.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),t.set("animations",{colors:{type:"color",properties:qle},numbers:{type:"number",properties:Yle}}),t.describe("animations",{_fallback:"animation"}),t.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function Qle(t){t.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const vR=new Map;function Zle(t,e){e=e||{};const n=t+JSON.stringify(e);let r=vR.get(n);return r||(r=new Intl.NumberFormat(t,e),vR.set(n,r)),r}function O5(t,e,n){return Zle(e,n).format(t)}const F5={values(t){return Pn(t)?t:""+t},numeric(t,e,n){if(t===0)return"0";const r=this.chart.options.locale;let s,i=t;if(n.length>1){const c=Math.max(Math.abs(n[0].value),Math.abs(n[n.length-1].value));(c<1e-4||c>1e15)&&(s="scientific"),i=Jle(t,n)}const o=G1(Math.abs(i)),a=isNaN(o)?1:Math.max(Math.min(-1*Math.floor(o),20),0),l={notation:s,minimumFractionDigits:a,maximumFractionDigits:a};return Object.assign(l,this.options.ticks.format),O5(t,r,l)},logarithmic(t,e,n){if(t===0)return"0";const r=n[e].significand||t/Math.pow(10,Math.floor(G1(t)));return[1,2,3,5,10,15].includes(r)||e>.8*n.length?F5.numeric.call(this,t,e,n):""}};function Jle(t,e){let n=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(n)>=1&&t!==Math.floor(t)&&(n=t-Math.floor(t)),n}var N5={formatters:F5};function ece(t){t.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,n)=>n.lineWidth,tickColor:(e,n)=>n.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:N5.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),t.route("scale.ticks","color","","color"),t.route("scale.grid","color","","borderColor"),t.route("scale.border","color","","borderColor"),t.route("scale.title","color","","color"),t.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),t.describe("scales",{_fallback:"scale"}),t.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}const Al=Object.create(null),Y1=Object.create(null);function sf(t,e){if(!e)return t;const n=e.split(".");for(let r=0,s=n.length;r<s;++r){const i=n[r];t=t[i]||(t[i]=Object.create(null))}return t}function dx(t,e,n){return typeof e=="string"?Qf(sf(t,e),n):Qf(sf(t,""),e)}class tce{constructor(e,n){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=r=>r.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(r,s)=>ux(s.backgroundColor),this.hoverBorderColor=(r,s)=>ux(s.borderColor),this.hoverColor=(r,s)=>ux(s.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(n)}set(e,n){return dx(this,e,n)}get(e){return sf(this,e)}describe(e,n){return dx(Y1,e,n)}override(e,n){return dx(Al,e,n)}route(e,n,r,s){const i=sf(this,e),o=sf(this,r),a="_"+n;Object.defineProperties(i,{[a]:{value:i[n],writable:!0},[n]:{enumerable:!0,get(){const l=this[a],c=o[s];return ft(l)?Object.assign({},c,l):tt(l,c)},set(l){this[a]=l}}})}apply(e){e.forEach(n=>n(this))}}var dn=new tce({_scriptable:t=>!t.startsWith("on"),_indexable:t=>t!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[Xle,Qle,ece]);function nce(t){return!t||nn(t.size)||nn(t.family)?null:(t.style?t.style+" ":"")+(t.weight?t.weight+" ":"")+t.size+"px "+t.family}function xR(t,e,n,r,s){let i=e[s];return i||(i=e[s]=t.measureText(s).width,n.push(s)),i>r&&(r=i),r}function La(t,e,n){const r=t.currentDevicePixelRatio,s=n!==0?Math.max(n/2,.5):0;return Math.round((e-s)*r)/r+s}function bR(t,e){!e&&!t||(e=e||t.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,t.width,t.height),e.restore())}function q1(t,e,n,r){j5(t,e,n,r,null)}function j5(t,e,n,r,s){let i,o,a,l,c,u,d,f;const p=e.pointStyle,m=e.rotation,g=e.radius;let y=(m||0)*Ile;if(p&&typeof p=="object"&&(i=p.toString(),i==="[object HTMLImageElement]"||i==="[object HTMLCanvasElement]")){t.save(),t.translate(n,r),t.rotate(y),t.drawImage(p,-p.width/2,-p.height/2,p.width,p.height),t.restore();return}if(!(isNaN(g)||g<=0)){switch(t.beginPath(),p){default:s?t.ellipse(n,r,s/2,g,0,0,Ri):t.arc(n,r,g,0,Ri),t.closePath();break;case"triangle":u=s?s/2:g,t.moveTo(n+Math.sin(y)*u,r-Math.cos(y)*g),y+=dR,t.lineTo(n+Math.sin(y)*u,r-Math.cos(y)*g),y+=dR,t.lineTo(n+Math.sin(y)*u,r-Math.cos(y)*g),t.closePath();break;case"rectRounded":c=g*.516,l=g-c,o=Math.cos(y+_a)*l,d=Math.cos(y+_a)*(s?s/2-c:l),a=Math.sin(y+_a)*l,f=Math.sin(y+_a)*(s?s/2-c:l),t.arc(n-d,r-a,c,y-Dn,y-qs),t.arc(n+f,r-o,c,y-qs,y),t.arc(n+d,r+a,c,y,y+qs),t.arc(n-f,r+o,c,y+qs,y+Dn),t.closePath();break;case"rect":if(!m){l=Math.SQRT1_2*g,u=s?s/2:l,t.rect(n-u,r-l,2*u,2*l);break}y+=_a;case"rectRot":d=Math.cos(y)*(s?s/2:g),o=Math.cos(y)*g,a=Math.sin(y)*g,f=Math.sin(y)*(s?s/2:g),t.moveTo(n-d,r-a),t.lineTo(n+f,r-o),t.lineTo(n+d,r+a),t.lineTo(n-f,r+o),t.closePath();break;case"crossRot":y+=_a;case"cross":d=Math.cos(y)*(s?s/2:g),o=Math.cos(y)*g,a=Math.sin(y)*g,f=Math.sin(y)*(s?s/2:g),t.moveTo(n-d,r-a),t.lineTo(n+d,r+a),t.moveTo(n+f,r-o),t.lineTo(n-f,r+o);break;case"star":d=Math.cos(y)*(s?s/2:g),o=Math.cos(y)*g,a=Math.sin(y)*g,f=Math.sin(y)*(s?s/2:g),t.moveTo(n-d,r-a),t.lineTo(n+d,r+a),t.moveTo(n+f,r-o),t.lineTo(n-f,r+o),y+=_a,d=Math.cos(y)*(s?s/2:g),o=Math.cos(y)*g,a=Math.sin(y)*g,f=Math.sin(y)*(s?s/2:g),t.moveTo(n-d,r-a),t.lineTo(n+d,r+a),t.moveTo(n+f,r-o),t.lineTo(n-f,r+o);break;case"line":o=s?s/2:Math.cos(y)*g,a=Math.sin(y)*g,t.moveTo(n-o,r-a),t.lineTo(n+o,r+a);break;case"dash":t.moveTo(n,r),t.lineTo(n+Math.cos(y)*(s?s/2:g),r+Math.sin(y)*g);break;case!1:t.closePath();break}t.fill(),e.borderWidth>0&&t.stroke()}}function Jf(t,e,n){return n=n||.5,!e||t&&t.x>e.left-n&&t.x<e.right+n&&t.y>e.top-n&&t.y<e.bottom+n}function XT(t,e){t.save(),t.beginPath(),t.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),t.clip()}function QT(t){t.restore()}function rce(t,e,n,r,s){if(!e)return t.lineTo(n.x,n.y);if(s==="middle"){const i=(e.x+n.x)/2;t.lineTo(i,e.y),t.lineTo(i,n.y)}else s==="after"!=!!r?t.lineTo(e.x,n.y):t.lineTo(n.x,e.y);t.lineTo(n.x,n.y)}function sce(t,e,n,r){if(!e)return t.lineTo(n.x,n.y);t.bezierCurveTo(r?e.cp1x:e.cp2x,r?e.cp1y:e.cp2y,r?n.cp2x:n.cp1x,r?n.cp2y:n.cp1y,n.x,n.y)}function ice(t,e){e.translation&&t.translate(e.translation[0],e.translation[1]),nn(e.rotation)||t.rotate(e.rotation),e.color&&(t.fillStyle=e.color),e.textAlign&&(t.textAlign=e.textAlign),e.textBaseline&&(t.textBaseline=e.textBaseline)}function oce(t,e,n,r,s){if(s.strikethrough||s.underline){const i=t.measureText(r),o=e-i.actualBoundingBoxLeft,a=e+i.actualBoundingBoxRight,l=n-i.actualBoundingBoxAscent,c=n+i.actualBoundingBoxDescent,u=s.strikethrough?(l+c)/2:c;t.strokeStyle=t.fillStyle,t.beginPath(),t.lineWidth=s.decorationWidth||2,t.moveTo(o,u),t.lineTo(a,u),t.stroke()}}function ace(t,e){const n=t.fillStyle;t.fillStyle=e.color,t.fillRect(e.left,e.top,e.width,e.height),t.fillStyle=n}function eh(t,e,n,r,s,i={}){const o=Pn(e)?e:[e],a=i.strokeWidth>0&&i.strokeColor!=="";let l,c;for(t.save(),t.font=s.string,ice(t,i),l=0;l<o.length;++l)c=o[l],i.backdrop&&ace(t,i.backdrop),a&&(i.strokeColor&&(t.strokeStyle=i.strokeColor),nn(i.strokeWidth)||(t.lineWidth=i.strokeWidth),t.strokeText(c,n,r,i.maxWidth)),t.fillText(c,n,r,i.maxWidth),oce(t,n,r,c,i),r+=Number(s.lineHeight);t.restore()}function X1(t,e){const{x:n,y:r,w:s,h:i,radius:o}=e;t.arc(n+o.topLeft,r+o.topLeft,o.topLeft,1.5*Dn,Dn,!0),t.lineTo(n,r+i-o.bottomLeft),t.arc(n+o.bottomLeft,r+i-o.bottomLeft,o.bottomLeft,Dn,qs,!0),t.lineTo(n+s-o.bottomRight,r+i),t.arc(n+s-o.bottomRight,r+i-o.bottomRight,o.bottomRight,qs,0,!0),t.lineTo(n+s,r+o.topRight),t.arc(n+s-o.topRight,r+o.topRight,o.topRight,0,-qs,!0),t.lineTo(n+o.topLeft,r)}const lce=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,cce=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function uce(t,e){const n=(""+t).match(lce);if(!n||n[1]==="normal")return e*1.2;switch(t=+n[2],n[3]){case"px":return t;case"%":t/=100;break}return e*t}const dce=t=>+t||0;function B5(t,e){const n={},r=ft(e),s=r?Object.keys(e):e,i=ft(t)?r?o=>tt(t[o],t[e[o]]):o=>t[o]:()=>t;for(const o of s)n[o]=dce(i(o));return n}function fce(t){return B5(t,{top:"y",right:"x",bottom:"y",left:"x"})}function of(t){return B5(t,["topLeft","topRight","bottomLeft","bottomRight"])}function Ls(t){const e=fce(t);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function Jn(t,e){t=t||{},e=e||dn.font;let n=tt(t.size,e.size);typeof n=="string"&&(n=parseInt(n,10));let r=tt(t.style,e.style);r&&!(""+r).match(cce)&&(console.warn('Invalid font style specified: "'+r+'"'),r=void 0);const s={family:tt(t.family,e.family),lineHeight:uce(tt(t.lineHeight,e.lineHeight),n),size:n,style:r,weight:tt(t.weight,e.weight),string:""};return s.string=nce(s),s}function Ep(t,e,n,r){let s,i,o;for(s=0,i=t.length;s<i;++s)if(o=t[s],o!==void 0&&o!==void 0)return o}function hce(t,e,n){const{min:r,max:s}=t,i=Cle(e,(s-r)/2),o=(a,l)=>n&&a===0?0:a+l;return{min:o(r,-Math.abs(i)),max:o(s,i)}}function Fl(t,e){return Object.assign(Object.create(t),e)}function ZT(t,e=[""],n,r,s=()=>t[0]){const i=n||t;typeof r>"u"&&(r=V5("_fallback",t));const o={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:t,_rootScopes:i,_fallback:r,_getTarget:s,override:a=>ZT([a,...t],e,i,r)};return new Proxy(o,{deleteProperty(a,l){return delete a[l],delete a._keys,delete t[0][l],!0},get(a,l){return z5(a,l,()=>Sce(l,e,t,a))},getOwnPropertyDescriptor(a,l){return Reflect.getOwnPropertyDescriptor(a._scopes[0],l)},getPrototypeOf(){return Reflect.getPrototypeOf(t[0])},has(a,l){return wR(a).includes(l)},ownKeys(a){return wR(a)},set(a,l,c){const u=a._storage||(a._storage=s());return a[l]=u[l]=c,delete a._keys,!0}})}function mu(t,e,n,r){const s={_cacheable:!1,_proxy:t,_context:e,_subProxy:n,_stack:new Set,_descriptors:$5(t,r),setContext:i=>mu(t,i,n,r),override:i=>mu(t.override(i),e,n,r)};return new Proxy(s,{deleteProperty(i,o){return delete i[o],delete t[o],!0},get(i,o,a){return z5(i,o,()=>mce(i,o,a))},getOwnPropertyDescriptor(i,o){return i._descriptors.allKeys?Reflect.has(t,o)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(t,o)},getPrototypeOf(){return Reflect.getPrototypeOf(t)},has(i,o){return Reflect.has(t,o)},ownKeys(){return Reflect.ownKeys(t)},set(i,o,a){return t[o]=a,delete i[o],!0}})}function $5(t,e={scriptable:!0,indexable:!0}){const{_scriptable:n=e.scriptable,_indexable:r=e.indexable,_allKeys:s=e.allKeys}=t;return{allKeys:s,scriptable:n,indexable:r,isScriptable:ca(n)?n:()=>n,isIndexable:ca(r)?r:()=>r}}const pce=(t,e)=>t?t+GT(e):e,JT=(t,e)=>ft(e)&&t!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function z5(t,e,n){if(Object.prototype.hasOwnProperty.call(t,e)||e==="constructor")return t[e];const r=n();return t[e]=r,r}function mce(t,e,n){const{_proxy:r,_context:s,_subProxy:i,_descriptors:o}=t;let a=r[e];return ca(a)&&o.isScriptable(e)&&(a=gce(e,a,t,n)),Pn(a)&&a.length&&(a=yce(e,a,t,o.isIndexable)),JT(e,a)&&(a=mu(a,s,i&&i[e],o)),a}function gce(t,e,n,r){const{_proxy:s,_context:i,_subProxy:o,_stack:a}=n;if(a.has(t))throw new Error("Recursion detected: "+Array.from(a).join("->")+"->"+t);a.add(t);let l=e(i,o||r);return a.delete(t),JT(t,l)&&(l=eE(s._scopes,s,t,l)),l}function yce(t,e,n,r){const{_proxy:s,_context:i,_subProxy:o,_descriptors:a}=n;if(typeof i.index<"u"&&r(t))return e[i.index%e.length];if(ft(e[0])){const l=e,c=s._scopes.filter(u=>u!==l);e=[];for(const u of l){const d=eE(c,s,t,u);e.push(mu(d,i,o&&o[t],a))}}return e}function U5(t,e,n){return ca(t)?t(e,n):t}const vce=(t,e)=>t===!0?e:typeof t=="string"?Bg(e,t):void 0;function xce(t,e,n,r,s){for(const i of e){const o=vce(n,i);if(o){t.add(o);const a=U5(o._fallback,n,s);if(typeof a<"u"&&a!==n&&a!==r)return a}else if(o===!1&&typeof r<"u"&&n!==r)return null}return!1}function eE(t,e,n,r){const s=e._rootScopes,i=U5(e._fallback,n,r),o=[...t,...s],a=new Set;a.add(r);let l=SR(a,o,n,i||n,r);return l===null||typeof i<"u"&&i!==n&&(l=SR(a,o,i,l,r),l===null)?!1:ZT(Array.from(a),[""],s,i,()=>bce(e,n,r))}function SR(t,e,n,r,s){for(;n;)n=xce(t,e,n,r,s);return n}function bce(t,e,n){const r=t._getTarget();e in r||(r[e]={});const s=r[e];return Pn(s)&&ft(n)?n:s||{}}function Sce(t,e,n,r){let s;for(const i of e)if(s=V5(pce(i,t),n),typeof s<"u")return JT(t,s)?eE(n,r,t,s):s}function V5(t,e){for(const n of e){if(!n)continue;const r=n[t];if(typeof r<"u")return r}}function wR(t){let e=t._keys;return e||(e=t._keys=wce(t._scopes)),e}function wce(t){const e=new Set;for(const n of t)for(const r of Object.keys(n).filter(s=>!s.startsWith("_")))e.add(r);return Array.from(e)}const Tce=Number.EPSILON||1e-14,gu=(t,e)=>e<t.length&&!t[e].skip&&t[e],W5=t=>t==="x"?"y":"x";function Ece(t,e,n,r){const s=t.skip?e:t,i=e,o=n.skip?e:n,a=K1(i,s),l=K1(o,i);let c=a/(a+l),u=l/(a+l);c=isNaN(c)?0:c,u=isNaN(u)?0:u;const d=r*c,f=r*u;return{previous:{x:i.x-d*(o.x-s.x),y:i.y-d*(o.y-s.y)},next:{x:i.x+f*(o.x-s.x),y:i.y+f*(o.y-s.y)}}}function Cce(t,e,n){const r=t.length;let s,i,o,a,l,c=gu(t,0);for(let u=0;u<r-1;++u)if(l=c,c=gu(t,u+1),!(!l||!c)){if(nf(e[u],0,Tce)){n[u]=n[u+1]=0;continue}s=n[u]/e[u],i=n[u+1]/e[u],a=Math.pow(s,2)+Math.pow(i,2),!(a<=9)&&(o=3/Math.sqrt(a),n[u]=s*o*e[u],n[u+1]=i*o*e[u])}}function kce(t,e,n="x"){const r=W5(n),s=t.length;let i,o,a,l=gu(t,0);for(let c=0;c<s;++c){if(o=a,a=l,l=gu(t,c+1),!a)continue;const u=a[n],d=a[r];o&&(i=(u-o[n])/3,a[`cp1${n}`]=u-i,a[`cp1${r}`]=d-i*e[c]),l&&(i=(l[n]-u)/3,a[`cp2${n}`]=u+i,a[`cp2${r}`]=d+i*e[c])}}function Ace(t,e="x"){const n=W5(e),r=t.length,s=Array(r).fill(0),i=Array(r);let o,a,l,c=gu(t,0);for(o=0;o<r;++o)if(a=l,l=c,c=gu(t,o+1),!!l){if(c){const u=c[e]-l[e];s[o]=u!==0?(c[n]-l[n])/u:0}i[o]=a?c?pu(s[o-1])!==pu(s[o])?0:(s[o-1]+s[o])/2:s[o-1]:s[o]}Cce(t,s,i),kce(t,i,e)}function Cp(t,e,n){return Math.max(Math.min(t,n),e)}function Rce(t,e){let n,r,s,i,o,a=Jf(t[0],e);for(n=0,r=t.length;n<r;++n)o=i,i=a,a=n<r-1&&Jf(t[n+1],e),i&&(s=t[n],o&&(s.cp1x=Cp(s.cp1x,e.left,e.right),s.cp1y=Cp(s.cp1y,e.top,e.bottom)),a&&(s.cp2x=Cp(s.cp2x,e.left,e.right),s.cp2y=Cp(s.cp2y,e.top,e.bottom)))}function _ce(t,e,n,r,s){let i,o,a,l;if(e.spanGaps&&(t=t.filter(c=>!c.skip)),e.cubicInterpolationMode==="monotone")Ace(t,s);else{let c=r?t[t.length-1]:t[0];for(i=0,o=t.length;i<o;++i)a=t[i],l=Ece(c,a,t[Math.min(i+1,o-(r?0:1))%o],e.tension),a.cp1x=l.previous.x,a.cp1y=l.previous.y,a.cp2x=l.next.x,a.cp2y=l.next.y,c=a}e.capBezierPoints&&Rce(t,n)}function tE(){return typeof window<"u"&&typeof document<"u"}function nE(t){let e=t.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function Ug(t,e,n){let r;return typeof t=="string"?(r=parseInt(t,10),t.indexOf("%")!==-1&&(r=r/100*e.parentNode[n])):r=t,r}const my=t=>t.ownerDocument.defaultView.getComputedStyle(t,null);function Lce(t,e){return my(t).getPropertyValue(e)}const Pce=["top","right","bottom","left"];function fl(t,e,n){const r={};n=n?"-"+n:"";for(let s=0;s<4;s++){const i=Pce[s];r[i]=parseFloat(t[e+"-"+i+n])||0}return r.width=r.left+r.right,r.height=r.top+r.bottom,r}const Ice=(t,e,n)=>(t>0||e>0)&&(!n||!n.shadowRoot);function Dce(t,e){const n=t.touches,r=n&&n.length?n[0]:t,{offsetX:s,offsetY:i}=r;let o=!1,a,l;if(Ice(s,i,t.target))a=s,l=i;else{const c=e.getBoundingClientRect();a=r.clientX-c.left,l=r.clientY-c.top,o=!0}return{x:a,y:l,box:o}}function ja(t,e){if("native"in t)return t;const{canvas:n,currentDevicePixelRatio:r}=e,s=my(n),i=s.boxSizing==="border-box",o=fl(s,"padding"),a=fl(s,"border","width"),{x:l,y:c,box:u}=Dce(t,n),d=o.left+(u&&a.left),f=o.top+(u&&a.top);let{width:p,height:m}=e;return i&&(p-=o.width+a.width,m-=o.height+a.height),{x:Math.round((l-d)/p*n.width/r),y:Math.round((c-f)/m*n.height/r)}}function Mce(t,e,n){let r,s;if(e===void 0||n===void 0){const i=t&&nE(t);if(!i)e=t.clientWidth,n=t.clientHeight;else{const o=i.getBoundingClientRect(),a=my(i),l=fl(a,"border","width"),c=fl(a,"padding");e=o.width-c.width-l.width,n=o.height-c.height-l.height,r=Ug(a.maxWidth,i,"clientWidth"),s=Ug(a.maxHeight,i,"clientHeight")}}return{width:e,height:n,maxWidth:r||zg,maxHeight:s||zg}}const kp=t=>Math.round(t*10)/10;function Oce(t,e,n,r){const s=my(t),i=fl(s,"margin"),o=Ug(s.maxWidth,t,"clientWidth")||zg,a=Ug(s.maxHeight,t,"clientHeight")||zg,l=Mce(t,e,n);let{width:c,height:u}=l;if(s.boxSizing==="content-box"){const f=fl(s,"border","width"),p=fl(s,"padding");c-=p.width+f.width,u-=p.height+f.height}return c=Math.max(0,c-i.width),u=Math.max(0,r?c/r:u-i.height),c=kp(Math.min(c,o,l.maxWidth)),u=kp(Math.min(u,a,l.maxHeight)),c&&!u&&(u=kp(c/2)),(e!==void 0||n!==void 0)&&r&&l.height&&u>l.height&&(u=l.height,c=kp(Math.floor(u*r))),{width:c,height:u}}function TR(t,e,n){const r=e||1,s=Math.floor(t.height*r),i=Math.floor(t.width*r);t.height=Math.floor(t.height),t.width=Math.floor(t.width);const o=t.canvas;return o.style&&(n||!o.style.height&&!o.style.width)&&(o.style.height=`${t.height}px`,o.style.width=`${t.width}px`),t.currentDevicePixelRatio!==r||o.height!==s||o.width!==i?(t.currentDevicePixelRatio=r,o.height=s,o.width=i,t.ctx.setTransform(r,0,0,r,0,0),!0):!1}const Fce=function(){let t=!1;try{const e={get passive(){return t=!0,!1}};tE()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch{}return t}();function ER(t,e){const n=Lce(t,e),r=n&&n.match(/^(\d+)(\.\d+)?px$/);return r?+r[1]:void 0}function Ba(t,e,n,r){return{x:t.x+n*(e.x-t.x),y:t.y+n*(e.y-t.y)}}function Nce(t,e,n,r){return{x:t.x+n*(e.x-t.x),y:r==="middle"?n<.5?t.y:e.y:r==="after"?n<1?t.y:e.y:n>0?e.y:t.y}}function jce(t,e,n,r){const s={x:t.cp2x,y:t.cp2y},i={x:e.cp1x,y:e.cp1y},o=Ba(t,s,n),a=Ba(s,i,n),l=Ba(i,e,n),c=Ba(o,a,n),u=Ba(a,l,n);return Ba(c,u,n)}const Bce=function(t,e){return{x(n){return t+t+e-n},setWidth(n){e=n},textAlign(n){return n==="center"?n:n==="right"?"left":"right"},xPlus(n,r){return n-r},leftForLtr(n,r){return n-r}}},$ce=function(){return{x(t){return t},setWidth(t){},textAlign(t){return t},xPlus(t,e){return t+e},leftForLtr(t,e){return t}}};function Wc(t,e,n){return t?Bce(e,n):$ce()}function H5(t,e){let n,r;(e==="ltr"||e==="rtl")&&(n=t.canvas.style,r=[n.getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",e,"important"),t.prevTextDirection=r)}function G5(t,e){e!==void 0&&(delete t.prevTextDirection,t.canvas.style.setProperty("direction",e[0],e[1]))}function K5(t){return t==="angle"?{between:P5,compare:jle,normalize:Do}:{between:Rd,compare:(e,n)=>e-n,normalize:e=>e}}function CR({start:t,end:e,count:n,loop:r,style:s}){return{start:t%n,end:e%n,loop:r&&(e-t+1)%n===0,style:s}}function zce(t,e,n){const{property:r,start:s,end:i}=n,{between:o,normalize:a}=K5(r),l=e.length;let{start:c,end:u,loop:d}=t,f,p;if(d){for(c+=l,u+=l,f=0,p=l;f<p&&o(a(e[c%l][r]),s,i);++f)c--,u--;c%=l,u%=l}return u<c&&(u+=l),{start:c,end:u,loop:d,style:t.style}}function Uce(t,e,n){if(!n)return[t];const{property:r,start:s,end:i}=n,o=e.length,{compare:a,between:l,normalize:c}=K5(r),{start:u,end:d,loop:f,style:p}=zce(t,e,n),m=[];let g=!1,y=null,x,v,b;const w=()=>l(s,b,x)&&a(s,b)!==0,T=()=>a(i,x)===0||l(i,b,x),C=()=>g||w(),E=()=>!g||T();for(let k=u,A=u;k<=d;++k)v=e[k%o],!v.skip&&(x=c(v[r]),x!==b&&(g=l(x,s,i),y===null&&C()&&(y=a(x,s)===0?k:A),y!==null&&E()&&(m.push(CR({start:y,end:k,loop:f,count:o,style:p})),y=null),A=k,b=x));return y!==null&&m.push(CR({start:y,end:d,loop:f,count:o,style:p})),m}function Vce(t,e){const n=[],r=t.segments;for(let s=0;s<r.length;s++){const i=Uce(r[s],t.points,e);i.length&&n.push(...i)}return n}function Wce(t,e,n,r){let s=0,i=e-1;if(n&&!r)for(;s<e&&!t[s].skip;)s++;for(;s<e&&t[s].skip;)s++;for(s%=e,n&&(i+=s);i>s&&t[i%e].skip;)i--;return i%=e,{start:s,end:i}}function Hce(t,e,n,r){const s=t.length,i=[];let o=e,a=t[e],l;for(l=e+1;l<=n;++l){const c=t[l%s];c.skip||c.stop?a.skip||(r=!1,i.push({start:e%s,end:(l-1)%s,loop:r}),e=o=c.stop?l:null):(o=l,a.skip&&(e=l)),a=c}return o!==null&&i.push({start:e%s,end:o%s,loop:r}),i}function Gce(t,e){const n=t.points,r=t.options.spanGaps,s=n.length;if(!s)return[];const i=!!t._loop,{start:o,end:a}=Wce(n,s,i,r);if(r===!0)return kR(t,[{start:o,end:a,loop:i}],n,e);const l=a<o?a+s:a,c=!!t._fullLoop&&o===0&&a===s-1;return kR(t,Hce(n,o,l,c),n,e)}function kR(t,e,n,r){return!r||!r.setContext||!n?e:Kce(t,e,n,r)}function Kce(t,e,n,r){const s=t._chart.getContext(),i=AR(t.options),{_datasetIndex:o,options:{spanGaps:a}}=t,l=n.length,c=[];let u=i,d=e[0].start,f=d;function p(m,g,y,x){const v=a?-1:1;if(m!==g){for(m+=l;n[m%l].skip;)m-=v;for(;n[g%l].skip;)g+=v;m%l!==g%l&&(c.push({start:m%l,end:g%l,loop:y,style:x}),u=x,d=g%l)}}for(const m of e){d=a?d:m.start;let g=n[d%l],y;for(f=d+1;f<=m.end;f++){const x=n[f%l];y=AR(r.setContext(Fl(s,{type:"segment",p0:g,p1:x,p0DataIndex:(f-1)%l,p1DataIndex:f%l,datasetIndex:o}))),Yce(y,u)&&p(d,f-1,m.loop,u),g=x,u=y}d<f-1&&p(d,f-1,m.loop,u)}return c}function AR(t){return{backgroundColor:t.backgroundColor,borderCapStyle:t.borderCapStyle,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderJoinStyle:t.borderJoinStyle,borderWidth:t.borderWidth,borderColor:t.borderColor}}function Yce(t,e){if(!e)return!1;const n=[],r=function(s,i){return qT(i)?(n.includes(i)||n.push(i),n.indexOf(i)):i};return JSON.stringify(t,r)!==JSON.stringify(e,r)}/*!
 * Chart.js v4.4.6
 * https://www.chartjs.org
 * (c) 2024 Chart.js Contributors
 * Released under the MIT License
 */class qce{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,n,r,s){const i=n.listeners[s],o=n.duration;i.forEach(a=>a({chart:e,initial:n.initial,numSteps:o,currentStep:Math.min(r-n.start,o)}))}_refresh(){this._request||(this._running=!0,this._request=D5.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let n=0;this._charts.forEach((r,s)=>{if(!r.running||!r.items.length)return;const i=r.items;let o=i.length-1,a=!1,l;for(;o>=0;--o)l=i[o],l._active?(l._total>r.duration&&(r.duration=l._total),l.tick(e),a=!0):(i[o]=i[i.length-1],i.pop());a&&(s.draw(),this._notify(s,r,e,"progress")),i.length||(r.running=!1,this._notify(s,r,e,"complete"),r.initial=!1),n+=i.length}),this._lastDate=e,n===0&&(this._running=!1)}_getAnims(e){const n=this._charts;let r=n.get(e);return r||(r={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},n.set(e,r)),r}listen(e,n,r){this._getAnims(e).listeners[n].push(r)}add(e,n){!n||!n.length||this._getAnims(e).items.push(...n)}has(e){return this._getAnims(e).items.length>0}start(e){const n=this._charts.get(e);n&&(n.running=!0,n.start=Date.now(),n.duration=n.items.reduce((r,s)=>Math.max(r,s._duration),0),this._refresh())}running(e){if(!this._running)return!1;const n=this._charts.get(e);return!(!n||!n.running||!n.items.length)}stop(e){const n=this._charts.get(e);if(!n||!n.items.length)return;const r=n.items;let s=r.length-1;for(;s>=0;--s)r[s].cancel();n.items=[],this._notify(e,n,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var Ui=new qce;const RR="transparent",Xce={boolean(t,e,n){return n>.5?e:t},color(t,e,n){const r=yR(t||RR),s=r.valid&&yR(e||RR);return s&&s.valid?s.mix(r,n).hexString():e},number(t,e,n){return t+(e-t)*n}};class Qce{constructor(e,n,r,s){const i=n[r];s=Ep([e.to,s,i,e.from]);const o=Ep([e.from,i,s]);this._active=!0,this._fn=e.fn||Xce[e.type||typeof o],this._easing=rf[e.easing]||rf.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=n,this._prop=r,this._from=o,this._to=s,this._promises=void 0}active(){return this._active}update(e,n,r){if(this._active){this._notify(!1);const s=this._target[this._prop],i=r-this._start,o=this._duration-i;this._start=r,this._duration=Math.floor(Math.max(o,e.duration)),this._total+=i,this._loop=!!e.loop,this._to=Ep([e.to,n,s,e.from]),this._from=Ep([e.from,s,n])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const n=e-this._start,r=this._duration,s=this._prop,i=this._from,o=this._loop,a=this._to;let l;if(this._active=i!==a&&(o||n<r),!this._active){this._target[s]=a,this._notify(!0);return}if(n<0){this._target[s]=i;return}l=n/r%2,l=o&&l>1?2-l:l,l=this._easing(Math.min(1,Math.max(0,l))),this._target[s]=this._fn(i,a,l)}wait(){const e=this._promises||(this._promises=[]);return new Promise((n,r)=>{e.push({res:n,rej:r})})}_notify(e){const n=e?"res":"rej",r=this._promises||[];for(let s=0;s<r.length;s++)r[s][n]()}}class Y5{constructor(e,n){this._chart=e,this._properties=new Map,this.configure(n)}configure(e){if(!ft(e))return;const n=Object.keys(dn.animation),r=this._properties;Object.getOwnPropertyNames(e).forEach(s=>{const i=e[s];if(!ft(i))return;const o={};for(const a of n)o[a]=i[a];(Pn(i.properties)&&i.properties||[s]).forEach(a=>{(a===s||!r.has(a))&&r.set(a,o)})})}_animateOptions(e,n){const r=n.options,s=Jce(e,r);if(!s)return[];const i=this._createAnimations(s,r);return r.$shared&&Zce(e.options.$animations,r).then(()=>{e.options=r},()=>{}),i}_createAnimations(e,n){const r=this._properties,s=[],i=e.$animations||(e.$animations={}),o=Object.keys(n),a=Date.now();let l;for(l=o.length-1;l>=0;--l){const c=o[l];if(c.charAt(0)==="$")continue;if(c==="options"){s.push(...this._animateOptions(e,n));continue}const u=n[c];let d=i[c];const f=r.get(c);if(d)if(f&&d.active()){d.update(f,u,a);continue}else d.cancel();if(!f||!f.duration){e[c]=u;continue}i[c]=d=new Qce(f,e,c,u),s.push(d)}return s}update(e,n){if(this._properties.size===0){Object.assign(e,n);return}const r=this._createAnimations(e,n);if(r.length)return Ui.add(this._chart,r),!0}}function Zce(t,e){const n=[],r=Object.keys(e);for(let s=0;s<r.length;s++){const i=t[r[s]];i&&i.active()&&n.push(i.wait())}return Promise.all(n)}function Jce(t,e){if(!e)return;let n=t.options;if(!n){t.options=e;return}return n.$shared&&(t.options=n=Object.assign({},n,{$shared:!1,$animations:{}})),n}function _R(t,e){const n=t&&t.options||{},r=n.reverse,s=n.min===void 0?e:0,i=n.max===void 0?e:0;return{start:r?i:s,end:r?s:i}}function eue(t,e,n){if(n===!1)return!1;const r=_R(t,n),s=_R(e,n);return{top:s.end,right:r.end,bottom:s.start,left:r.start}}function tue(t){let e,n,r,s;return ft(t)?(e=t.top,n=t.right,r=t.bottom,s=t.left):e=n=r=s=t,{top:e,right:n,bottom:r,left:s,disabled:t===!1}}function q5(t,e){const n=[],r=t._getSortedDatasetMetas(e);let s,i;for(s=0,i=r.length;s<i;++s)n.push(r[s].index);return n}function LR(t,e,n,r={}){const s=t.keys,i=r.mode==="single";let o,a,l,c;if(e===null)return;let u=!1;for(o=0,a=s.length;o<a;++o){if(l=+s[o],l===n){if(u=!0,r.all)continue;break}c=t.values[l],_s(c)&&(i||e===0||pu(e)===pu(c))&&(e+=c)}return!u&&!r.all?0:e}function nue(t,e){const{iScale:n,vScale:r}=e,s=n.axis==="x"?"x":"y",i=r.axis==="x"?"x":"y",o=Object.keys(t),a=new Array(o.length);let l,c,u;for(l=0,c=o.length;l<c;++l)u=o[l],a[l]={[s]:u,[i]:t[u]};return a}function fx(t,e){const n=t&&t.options.stacked;return n||n===void 0&&e.stack!==void 0}function rue(t,e,n){return`${t.id}.${e.id}.${n.stack||n.type}`}function sue(t){const{min:e,max:n,minDefined:r,maxDefined:s}=t.getUserBounds();return{min:r?e:Number.NEGATIVE_INFINITY,max:s?n:Number.POSITIVE_INFINITY}}function iue(t,e,n){const r=t[e]||(t[e]={});return r[n]||(r[n]={})}function PR(t,e,n,r){for(const s of e.getMatchingVisibleMetas(r).reverse()){const i=t[s.index];if(n&&i>0||!n&&i<0)return s.index}return null}function IR(t,e){const{chart:n,_cachedMeta:r}=t,s=n._stacks||(n._stacks={}),{iScale:i,vScale:o,index:a}=r,l=i.axis,c=o.axis,u=rue(i,o,r),d=e.length;let f;for(let p=0;p<d;++p){const m=e[p],{[l]:g,[c]:y}=m,x=m._stacks||(m._stacks={});f=x[c]=iue(s,u,g),f[a]=y,f._top=PR(f,o,!0,r.type),f._bottom=PR(f,o,!1,r.type);const v=f._visualValues||(f._visualValues={});v[a]=y}}function hx(t,e){const n=t.scales;return Object.keys(n).filter(r=>n[r].axis===e).shift()}function oue(t,e){return Fl(t,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function aue(t,e,n){return Fl(t,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:n,index:e,mode:"default",type:"data"})}function ad(t,e){const n=t.controller.index,r=t.vScale&&t.vScale.axis;if(r){e=e||t._parsed;for(const s of e){const i=s._stacks;if(!i||i[r]===void 0||i[r][n]===void 0)return;delete i[r][n],i[r]._visualValues!==void 0&&i[r]._visualValues[n]!==void 0&&delete i[r]._visualValues[n]}}}const px=t=>t==="reset"||t==="none",DR=(t,e)=>e?t:Object.assign({},t),lue=(t,e,n)=>t&&!e.hidden&&e._stacked&&{keys:q5(n,!0),values:null};class af{constructor(e,n){this.chart=e,this._ctx=e.ctx,this.index=n,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=fx(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&ad(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,n=this._cachedMeta,r=this.getDataset(),s=(d,f,p,m)=>d==="x"?f:d==="r"?m:p,i=n.xAxisID=tt(r.xAxisID,hx(e,"x")),o=n.yAxisID=tt(r.yAxisID,hx(e,"y")),a=n.rAxisID=tt(r.rAxisID,hx(e,"r")),l=n.indexAxis,c=n.iAxisID=s(l,i,o,a),u=n.vAxisID=s(l,o,i,a);n.xScale=this.getScaleForId(i),n.yScale=this.getScaleForId(o),n.rScale=this.getScaleForId(a),n.iScale=this.getScaleForId(c),n.vScale=this.getScaleForId(u)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const n=this._cachedMeta;return e===n.iScale?n.vScale:n.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&pR(this._data,this),e._stacked&&ad(e)}_dataCheck(){const e=this.getDataset(),n=e.data||(e.data=[]),r=this._data;if(ft(n)){const s=this._cachedMeta;this._data=nue(n,s)}else if(r!==n){if(r){pR(r,this);const s=this._cachedMeta;ad(s),s._parsed=[]}n&&Object.isExtensible(n)&&Ule(n,this),this._syncList=[],this._data=n}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const n=this._cachedMeta,r=this.getDataset();let s=!1;this._dataCheck();const i=n._stacked;n._stacked=fx(n.vScale,n),n.stack!==r.stack&&(s=!0,ad(n),n.stack=r.stack),this._resyncElements(e),(s||i!==n._stacked)&&(IR(this,n._parsed),n._stacked=fx(n.vScale,n))}configure(){const e=this.chart.config,n=e.datasetScopeKeys(this._type),r=e.getOptionScopes(this.getDataset(),n,!0);this.options=e.createResolver(r,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,n){const{_cachedMeta:r,_data:s}=this,{iScale:i,_stacked:o}=r,a=i.axis;let l=e===0&&n===s.length?!0:r._sorted,c=e>0&&r._parsed[e-1],u,d,f;if(this._parsing===!1)r._parsed=s,r._sorted=!0,f=s;else{Pn(s[e])?f=this.parseArrayData(r,s,e,n):ft(s[e])?f=this.parseObjectData(r,s,e,n):f=this.parsePrimitiveData(r,s,e,n);const p=()=>d[a]===null||c&&d[a]<c[a];for(u=0;u<n;++u)r._parsed[u+e]=d=f[u],l&&(p()&&(l=!1),c=d);r._sorted=l}o&&IR(this,f)}parsePrimitiveData(e,n,r,s){const{iScale:i,vScale:o}=e,a=i.axis,l=o.axis,c=i.getLabels(),u=i===o,d=new Array(s);let f,p,m;for(f=0,p=s;f<p;++f)m=f+r,d[f]={[a]:u||i.parse(c[m],m),[l]:o.parse(n[m],m)};return d}parseArrayData(e,n,r,s){const{xScale:i,yScale:o}=e,a=new Array(s);let l,c,u,d;for(l=0,c=s;l<c;++l)u=l+r,d=n[u],a[l]={x:i.parse(d[0],u),y:o.parse(d[1],u)};return a}parseObjectData(e,n,r,s){const{xScale:i,yScale:o}=e,{xAxisKey:a="x",yAxisKey:l="y"}=this._parsing,c=new Array(s);let u,d,f,p;for(u=0,d=s;u<d;++u)f=u+r,p=n[f],c[u]={x:i.parse(Bg(p,a),f),y:o.parse(Bg(p,l),f)};return c}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,n,r){const s=this.chart,i=this._cachedMeta,o=n[e.axis],a={keys:q5(s,!0),values:n._stacks[e.axis]._visualValues};return LR(a,o,i.index,{mode:r})}updateRangeFromParsed(e,n,r,s){const i=r[n.axis];let o=i===null?NaN:i;const a=s&&r._stacks[n.axis];s&&a&&(s.values=a,o=LR(s,i,this._cachedMeta.index)),e.min=Math.min(e.min,o),e.max=Math.max(e.max,o)}getMinMax(e,n){const r=this._cachedMeta,s=r._parsed,i=r._sorted&&e===r.iScale,o=s.length,a=this._getOtherScale(e),l=lue(n,r,this.chart),c={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:u,max:d}=sue(a);let f,p;function m(){p=s[f];const g=p[a.axis];return!_s(p[e.axis])||u>g||d<g}for(f=0;f<o&&!(!m()&&(this.updateRangeFromParsed(c,e,p,l),i));++f);if(i){for(f=o-1;f>=0;--f)if(!m()){this.updateRangeFromParsed(c,e,p,l);break}}return c}getAllParsedValues(e){const n=this._cachedMeta._parsed,r=[];let s,i,o;for(s=0,i=n.length;s<i;++s)o=n[s][e.axis],_s(o)&&r.push(o);return r}getMaxOverflow(){return!1}getLabelAndValue(e){const n=this._cachedMeta,r=n.iScale,s=n.vScale,i=this.getParsed(e);return{label:r?""+r.getLabelForValue(i[r.axis]):"",value:s?""+s.getLabelForValue(i[s.axis]):""}}_update(e){const n=this._cachedMeta;this.update(e||"default"),n._clip=tue(tt(this.options.clip,eue(n.xScale,n.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,n=this.chart,r=this._cachedMeta,s=r.data||[],i=n.chartArea,o=[],a=this._drawStart||0,l=this._drawCount||s.length-a,c=this.options.drawActiveElementsOnTop;let u;for(r.dataset&&r.dataset.draw(e,i,a,l),u=a;u<a+l;++u){const d=s[u];d.hidden||(d.active&&c?o.push(d):d.draw(e,i))}for(u=0;u<o.length;++u)o[u].draw(e,i)}getStyle(e,n){const r=n?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(r):this.resolveDataElementOptions(e||0,r)}getContext(e,n,r){const s=this.getDataset();let i;if(e>=0&&e<this._cachedMeta.data.length){const o=this._cachedMeta.data[e];i=o.$context||(o.$context=aue(this.getContext(),e,o)),i.parsed=this.getParsed(e),i.raw=s.data[e],i.index=i.dataIndex=e}else i=this.$context||(this.$context=oue(this.chart.getContext(),this.index)),i.dataset=s,i.index=i.datasetIndex=this.index;return i.active=!!n,i.mode=r,i}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,n){return this._resolveElementOptions(this.dataElementType.id,n,e)}_resolveElementOptions(e,n="default",r){const s=n==="active",i=this._cachedDataOpts,o=e+"-"+n,a=i[o],l=this.enableOptionSharing&&$g(r);if(a)return DR(a,l);const c=this.chart.config,u=c.datasetElementScopeKeys(this._type,e),d=s?[`${e}Hover`,"hover",e,""]:[e,""],f=c.getOptionScopes(this.getDataset(),u),p=Object.keys(dn.elements[e]),m=()=>this.getContext(r,s,n),g=c.resolveNamedOptions(f,p,m,d);return g.$shared&&(g.$shared=l,i[o]=Object.freeze(DR(g,l))),g}_resolveAnimations(e,n,r){const s=this.chart,i=this._cachedDataOpts,o=`animation-${n}`,a=i[o];if(a)return a;let l;if(s.options.animation!==!1){const u=this.chart.config,d=u.datasetAnimationScopeKeys(this._type,n),f=u.getOptionScopes(this.getDataset(),d);l=u.createResolver(f,this.getContext(e,r,n))}const c=new Y5(s,l&&l.animations);return l&&l._cacheable&&(i[o]=Object.freeze(c)),c}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,n){return!n||px(e)||this.chart._animationsDisabled}_getSharedOptions(e,n){const r=this.resolveDataElementOptions(e,n),s=this._sharedOptions,i=this.getSharedOptions(r),o=this.includeOptions(n,i)||i!==s;return this.updateSharedOptions(i,n,r),{sharedOptions:i,includeOptions:o}}updateElement(e,n,r,s){px(s)?Object.assign(e,r):this._resolveAnimations(n,s).update(e,r)}updateSharedOptions(e,n,r){e&&!px(n)&&this._resolveAnimations(void 0,n).update(e,r)}_setStyle(e,n,r,s){e.active=s;const i=this.getStyle(n,s);this._resolveAnimations(n,r,s).update(e,{options:!s&&this.getSharedOptions(i)||i})}removeHoverStyle(e,n,r){this._setStyle(e,r,"active",!1)}setHoverStyle(e,n,r){this._setStyle(e,r,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const n=this._data,r=this._cachedMeta.data;for(const[a,l,c]of this._syncList)this[a](l,c);this._syncList=[];const s=r.length,i=n.length,o=Math.min(i,s);o&&this.parse(0,o),i>s?this._insertElements(s,i-s,e):i<s&&this._removeElements(i,s-i)}_insertElements(e,n,r=!0){const s=this._cachedMeta,i=s.data,o=e+n;let a;const l=c=>{for(c.length+=n,a=c.length-1;a>=o;a--)c[a]=c[a-n]};for(l(i),a=e;a<o;++a)i[a]=new this.dataElementType;this._parsing&&l(s._parsed),this.parse(e,n),r&&this.updateElements(i,e,n,"reset")}updateElements(e,n,r,s){}_removeElements(e,n){const r=this._cachedMeta;if(this._parsing){const s=r._parsed.splice(e,n);r._stacked&&ad(r,s)}r.data.splice(e,n)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[n,r,s]=e;this[n](r,s)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,n){n&&this._sync(["_removeElements",e,n]);const r=arguments.length-2;r&&this._sync(["_insertElements",e,r])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}We(af,"defaults",{}),We(af,"datasetElementType",null),We(af,"dataElementType",null);class _m extends af{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){const n=this._cachedMeta,{dataset:r,data:s=[],_dataset:i}=n,o=this.chart._animationsDisabled;let{start:a,count:l}=Gle(n,s,o);this._drawStart=a,this._drawCount=l,Kle(n)&&(a=0,l=s.length),r._chart=this.chart,r._datasetIndex=this.index,r._decimated=!!i._decimated,r.points=s;const c=this.resolveDatasetElementOptions(e);this.options.showLine||(c.borderWidth=0),c.segment=this.options.segment,this.updateElement(r,void 0,{animated:!o,options:c},e),this.updateElements(s,a,l,e)}updateElements(e,n,r,s){const i=s==="reset",{iScale:o,vScale:a,_stacked:l,_dataset:c}=this._cachedMeta,{sharedOptions:u,includeOptions:d}=this._getSharedOptions(n,s),f=o.axis,p=a.axis,{spanGaps:m,segment:g}=this.options,y=Zf(m)?m:Number.POSITIVE_INFINITY,x=this.chart._animationsDisabled||i||s==="none",v=n+r,b=e.length;let w=n>0&&this.getParsed(n-1);for(let T=0;T<b;++T){const C=e[T],E=x?C:{};if(T<n||T>=v){E.skip=!0;continue}const k=this.getParsed(T),A=nn(k[p]),R=E[f]=o.getPixelForValue(k[f],T),L=E[p]=i||A?a.getBasePixel():a.getPixelForValue(l?this.applyStack(a,k,l):k[p],T);E.skip=isNaN(R)||isNaN(L)||A,E.stop=T>0&&Math.abs(k[f]-w[f])>y,g&&(E.parsed=k,E.raw=c.data[T]),d&&(E.options=u||this.resolveDataElementOptions(T,C.active?"active":s)),x||this.updateElement(C,T,E,s),w=k}}getMaxOverflow(){const e=this._cachedMeta,n=e.dataset,r=n.options&&n.options.borderWidth||0,s=e.data||[];if(!s.length)return r;const i=s[0].size(this.resolveDataElementOptions(0)),o=s[s.length-1].size(this.resolveDataElementOptions(s.length-1));return Math.max(r,i,o)/2}draw(){const e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}We(_m,"id","line"),We(_m,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),We(_m,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}});function Pa(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class rE{constructor(e){We(this,"options");this.options=e||{}}static override(e){Object.assign(rE.prototype,e)}init(){}formats(){return Pa()}parse(){return Pa()}format(){return Pa()}add(){return Pa()}diff(){return Pa()}startOf(){return Pa()}endOf(){return Pa()}}var cue={_date:rE};function uue(t,e,n,r){const{controller:s,data:i,_sorted:o}=t,a=s._cachedMeta.iScale;if(a&&e===a.axis&&e!=="r"&&o&&i.length){const l=a._reversePixels?$le:el;if(r){if(s._sharedOptions){const c=i[0],u=typeof c.getRange=="function"&&c.getRange(e);if(u){const d=l(i,e,n-u),f=l(i,e,n+u);return{lo:d.lo,hi:f.hi}}}}else return l(i,e,n)}return{lo:0,hi:i.length-1}}function Ih(t,e,n,r,s){const i=t.getSortedVisibleDatasetMetas(),o=n[e];for(let a=0,l=i.length;a<l;++a){const{index:c,data:u}=i[a],{lo:d,hi:f}=uue(i[a],e,o,s);for(let p=d;p<=f;++p){const m=u[p];m.skip||r(m,c,p)}}}function due(t){const e=t.indexOf("x")!==-1,n=t.indexOf("y")!==-1;return function(r,s){const i=e?Math.abs(r.x-s.x):0,o=n?Math.abs(r.y-s.y):0;return Math.sqrt(Math.pow(i,2)+Math.pow(o,2))}}function mx(t,e,n,r,s){const i=[];return!s&&!t.isPointInArea(e)||Ih(t,n,e,function(a,l,c){!s&&!Jf(a,t.chartArea,0)||a.inRange(e.x,e.y,r)&&i.push({element:a,datasetIndex:l,index:c})},!0),i}function fue(t,e,n,r){let s=[];function i(o,a,l){const{startAngle:c,endAngle:u}=o.getProps(["startAngle","endAngle"],r),{angle:d}=Nle(o,{x:e.x,y:e.y});P5(d,c,u)&&s.push({element:o,datasetIndex:a,index:l})}return Ih(t,n,e,i),s}function hue(t,e,n,r,s,i){let o=[];const a=due(n);let l=Number.POSITIVE_INFINITY;function c(u,d,f){const p=u.inRange(e.x,e.y,s);if(r&&!p)return;const m=u.getCenterPoint(s);if(!(!!i||t.isPointInArea(m))&&!p)return;const y=a(e,m);y<l?(o=[{element:u,datasetIndex:d,index:f}],l=y):y===l&&o.push({element:u,datasetIndex:d,index:f})}return Ih(t,n,e,c),o}function gx(t,e,n,r,s,i){return!i&&!t.isPointInArea(e)?[]:n==="r"&&!r?fue(t,e,n,s):hue(t,e,n,r,s,i)}function MR(t,e,n,r,s){const i=[],o=n==="x"?"inXRange":"inYRange";let a=!1;return Ih(t,n,e,(l,c,u)=>{l[o]&&l[o](e[n],s)&&(i.push({element:l,datasetIndex:c,index:u}),a=a||l.inRange(e.x,e.y,s))}),r&&!a?[]:i}var pue={evaluateInteractionItems:Ih,modes:{index(t,e,n,r){const s=ja(e,t),i=n.axis||"x",o=n.includeInvisible||!1,a=n.intersect?mx(t,s,i,r,o):gx(t,s,i,!1,r,o),l=[];return a.length?(t.getSortedVisibleDatasetMetas().forEach(c=>{const u=a[0].index,d=c.data[u];d&&!d.skip&&l.push({element:d,datasetIndex:c.index,index:u})}),l):[]},dataset(t,e,n,r){const s=ja(e,t),i=n.axis||"xy",o=n.includeInvisible||!1;let a=n.intersect?mx(t,s,i,r,o):gx(t,s,i,!1,r,o);if(a.length>0){const l=a[0].datasetIndex,c=t.getDatasetMeta(l).data;a=[];for(let u=0;u<c.length;++u)a.push({element:c[u],datasetIndex:l,index:u})}return a},point(t,e,n,r){const s=ja(e,t),i=n.axis||"xy",o=n.includeInvisible||!1;return mx(t,s,i,r,o)},nearest(t,e,n,r){const s=ja(e,t),i=n.axis||"xy",o=n.includeInvisible||!1;return gx(t,s,i,n.intersect,r,o)},x(t,e,n,r){const s=ja(e,t);return MR(t,s,"x",n.intersect,r)},y(t,e,n,r){const s=ja(e,t);return MR(t,s,"y",n.intersect,r)}}};const X5=["left","top","right","bottom"];function ld(t,e){return t.filter(n=>n.pos===e)}function OR(t,e){return t.filter(n=>X5.indexOf(n.pos)===-1&&n.box.axis===e)}function cd(t,e){return t.sort((n,r)=>{const s=e?r:n,i=e?n:r;return s.weight===i.weight?s.index-i.index:s.weight-i.weight})}function mue(t){const e=[];let n,r,s,i,o,a;for(n=0,r=(t||[]).length;n<r;++n)s=t[n],{position:i,options:{stack:o,stackWeight:a=1}}=s,e.push({index:n,box:s,pos:i,horizontal:s.isHorizontal(),weight:s.weight,stack:o&&i+o,stackWeight:a});return e}function gue(t){const e={};for(const n of t){const{stack:r,pos:s,stackWeight:i}=n;if(!r||!X5.includes(s))continue;const o=e[r]||(e[r]={count:0,placed:0,weight:0,size:0});o.count++,o.weight+=i}return e}function yue(t,e){const n=gue(t),{vBoxMaxWidth:r,hBoxMaxHeight:s}=e;let i,o,a;for(i=0,o=t.length;i<o;++i){a=t[i];const{fullSize:l}=a.box,c=n[a.stack],u=c&&a.stackWeight/c.weight;a.horizontal?(a.width=u?u*r:l&&e.availableWidth,a.height=s):(a.width=r,a.height=u?u*s:l&&e.availableHeight)}return n}function vue(t){const e=mue(t),n=cd(e.filter(c=>c.box.fullSize),!0),r=cd(ld(e,"left"),!0),s=cd(ld(e,"right")),i=cd(ld(e,"top"),!0),o=cd(ld(e,"bottom")),a=OR(e,"x"),l=OR(e,"y");return{fullSize:n,leftAndTop:r.concat(i),rightAndBottom:s.concat(l).concat(o).concat(a),chartArea:ld(e,"chartArea"),vertical:r.concat(s).concat(l),horizontal:i.concat(o).concat(a)}}function FR(t,e,n,r){return Math.max(t[n],e[n])+Math.max(t[r],e[r])}function Q5(t,e){t.top=Math.max(t.top,e.top),t.left=Math.max(t.left,e.left),t.bottom=Math.max(t.bottom,e.bottom),t.right=Math.max(t.right,e.right)}function xue(t,e,n,r){const{pos:s,box:i}=n,o=t.maxPadding;if(!ft(s)){n.size&&(t[s]-=n.size);const d=r[n.stack]||{size:0,count:1};d.size=Math.max(d.size,n.horizontal?i.height:i.width),n.size=d.size/d.count,t[s]+=n.size}i.getPadding&&Q5(o,i.getPadding());const a=Math.max(0,e.outerWidth-FR(o,t,"left","right")),l=Math.max(0,e.outerHeight-FR(o,t,"top","bottom")),c=a!==t.w,u=l!==t.h;return t.w=a,t.h=l,n.horizontal?{same:c,other:u}:{same:u,other:c}}function bue(t){const e=t.maxPadding;function n(r){const s=Math.max(e[r]-t[r],0);return t[r]+=s,s}t.y+=n("top"),t.x+=n("left"),n("right"),n("bottom")}function Sue(t,e){const n=e.maxPadding;function r(s){const i={left:0,top:0,right:0,bottom:0};return s.forEach(o=>{i[o]=Math.max(e[o],n[o])}),i}return r(t?["left","right"]:["top","bottom"])}function _d(t,e,n,r){const s=[];let i,o,a,l,c,u;for(i=0,o=t.length,c=0;i<o;++i){a=t[i],l=a.box,l.update(a.width||e.w,a.height||e.h,Sue(a.horizontal,e));const{same:d,other:f}=xue(e,n,a,r);c|=d&&s.length,u=u||f,l.fullSize||s.push(a)}return c&&_d(s,e,n,r)||u}function Ap(t,e,n,r,s){t.top=n,t.left=e,t.right=e+r,t.bottom=n+s,t.width=r,t.height=s}function NR(t,e,n,r){const s=n.padding;let{x:i,y:o}=e;for(const a of t){const l=a.box,c=r[a.stack]||{count:1,placed:0,weight:1},u=a.stackWeight/c.weight||1;if(a.horizontal){const d=e.w*u,f=c.size||l.height;$g(c.start)&&(o=c.start),l.fullSize?Ap(l,s.left,o,n.outerWidth-s.right-s.left,f):Ap(l,e.left+c.placed,o,d,f),c.start=o,c.placed+=d,o=l.bottom}else{const d=e.h*u,f=c.size||l.width;$g(c.start)&&(i=c.start),l.fullSize?Ap(l,i,s.top,f,n.outerHeight-s.bottom-s.top):Ap(l,i,e.top+c.placed,f,d),c.start=i,c.placed+=d,i=l.right}}e.x=i,e.y=o}var bs={addBox(t,e){t.boxes||(t.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(n){e.draw(n)}}]},t.boxes.push(e)},removeBox(t,e){const n=t.boxes?t.boxes.indexOf(e):-1;n!==-1&&t.boxes.splice(n,1)},configure(t,e,n){e.fullSize=n.fullSize,e.position=n.position,e.weight=n.weight},update(t,e,n,r){if(!t)return;const s=Ls(t.options.layout.padding),i=Math.max(e-s.width,0),o=Math.max(n-s.height,0),a=vue(t.boxes),l=a.vertical,c=a.horizontal;mt(t.boxes,g=>{typeof g.beforeLayout=="function"&&g.beforeLayout()});const u=l.reduce((g,y)=>y.box.options&&y.box.options.display===!1?g:g+1,0)||1,d=Object.freeze({outerWidth:e,outerHeight:n,padding:s,availableWidth:i,availableHeight:o,vBoxMaxWidth:i/2/u,hBoxMaxHeight:o/2}),f=Object.assign({},s);Q5(f,Ls(r));const p=Object.assign({maxPadding:f,w:i,h:o,x:s.left,y:s.top},s),m=yue(l.concat(c),d);_d(a.fullSize,p,d,m),_d(l,p,d,m),_d(c,p,d,m)&&_d(l,p,d,m),bue(p),NR(a.leftAndTop,p,d,m),p.x+=p.w,p.y+=p.h,NR(a.rightAndBottom,p,d,m),t.chartArea={left:p.left,top:p.top,right:p.left+p.w,bottom:p.top+p.h,height:p.h,width:p.w},mt(a.chartArea,g=>{const y=g.box;Object.assign(y,t.chartArea),y.update(p.w,p.h,{left:0,top:0,right:0,bottom:0})})}};class Z5{acquireContext(e,n){}releaseContext(e){return!1}addEventListener(e,n,r){}removeEventListener(e,n,r){}getDevicePixelRatio(){return 1}getMaximumSize(e,n,r,s){return n=Math.max(0,n||e.width),r=r||e.height,{width:n,height:Math.max(0,s?Math.floor(n/s):r)}}isAttached(e){return!0}updateConfig(e){}}class wue extends Z5{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const Lm="$chartjs",Tue={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},jR=t=>t===null||t==="";function Eue(t,e){const n=t.style,r=t.getAttribute("height"),s=t.getAttribute("width");if(t[Lm]={initial:{height:r,width:s,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",n.boxSizing=n.boxSizing||"border-box",jR(s)){const i=ER(t,"width");i!==void 0&&(t.width=i)}if(jR(r))if(t.style.height==="")t.height=t.width/(e||2);else{const i=ER(t,"height");i!==void 0&&(t.height=i)}return t}const J5=Fce?{passive:!0}:!1;function Cue(t,e,n){t&&t.addEventListener(e,n,J5)}function kue(t,e,n){t&&t.canvas&&t.canvas.removeEventListener(e,n,J5)}function Aue(t,e){const n=Tue[t.type]||t.type,{x:r,y:s}=ja(t,e);return{type:n,chart:e,native:t,x:r!==void 0?r:null,y:s!==void 0?s:null}}function Vg(t,e){for(const n of t)if(n===e||n.contains(e))return!0}function Rue(t,e,n){const r=t.canvas,s=new MutationObserver(i=>{let o=!1;for(const a of i)o=o||Vg(a.addedNodes,r),o=o&&!Vg(a.removedNodes,r);o&&n()});return s.observe(document,{childList:!0,subtree:!0}),s}function _ue(t,e,n){const r=t.canvas,s=new MutationObserver(i=>{let o=!1;for(const a of i)o=o||Vg(a.removedNodes,r),o=o&&!Vg(a.addedNodes,r);o&&n()});return s.observe(document,{childList:!0,subtree:!0}),s}const th=new Map;let BR=0;function e3(){const t=window.devicePixelRatio;t!==BR&&(BR=t,th.forEach((e,n)=>{n.currentDevicePixelRatio!==t&&e()}))}function Lue(t,e){th.size||window.addEventListener("resize",e3),th.set(t,e)}function Pue(t){th.delete(t),th.size||window.removeEventListener("resize",e3)}function Iue(t,e,n){const r=t.canvas,s=r&&nE(r);if(!s)return;const i=M5((a,l)=>{const c=s.clientWidth;n(a,l),c<s.clientWidth&&n()},window),o=new ResizeObserver(a=>{const l=a[0],c=l.contentRect.width,u=l.contentRect.height;c===0&&u===0||i(c,u)});return o.observe(s),Lue(t,i),o}function yx(t,e,n){n&&n.disconnect(),e==="resize"&&Pue(t)}function Due(t,e,n){const r=t.canvas,s=M5(i=>{t.ctx!==null&&n(Aue(i,t))},t);return Cue(r,e,s),s}class Mue extends Z5{acquireContext(e,n){const r=e&&e.getContext&&e.getContext("2d");return r&&r.canvas===e?(Eue(e,n),r):null}releaseContext(e){const n=e.canvas;if(!n[Lm])return!1;const r=n[Lm].initial;["height","width"].forEach(i=>{const o=r[i];nn(o)?n.removeAttribute(i):n.setAttribute(i,o)});const s=r.style||{};return Object.keys(s).forEach(i=>{n.style[i]=s[i]}),n.width=n.width,delete n[Lm],!0}addEventListener(e,n,r){this.removeEventListener(e,n);const s=e.$proxies||(e.$proxies={}),o={attach:Rue,detach:_ue,resize:Iue}[n]||Due;s[n]=o(e,n,r)}removeEventListener(e,n){const r=e.$proxies||(e.$proxies={}),s=r[n];if(!s)return;({attach:yx,detach:yx,resize:yx}[n]||kue)(e,n,s),r[n]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,n,r,s){return Oce(e,n,r,s)}isAttached(e){const n=e&&nE(e);return!!(n&&n.isConnected)}}function Oue(t){return!tE()||typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas?wue:Mue}var Hp;let Nl=(Hp=class{constructor(){We(this,"x");We(this,"y");We(this,"active",!1);We(this,"options");We(this,"$animations")}tooltipPosition(e){const{x:n,y:r}=this.getProps(["x","y"],e);return{x:n,y:r}}hasValue(){return Zf(this.x)&&Zf(this.y)}getProps(e,n){const r=this.$animations;if(!n||!r)return this;const s={};return e.forEach(i=>{s[i]=r[i]&&r[i].active()?r[i]._to:this[i]}),s}},We(Hp,"defaults",{}),We(Hp,"defaultRoutes"),Hp);function Fue(t,e){const n=t.options.ticks,r=Nue(t),s=Math.min(n.maxTicksLimit||r,r),i=n.major.enabled?Bue(e):[],o=i.length,a=i[0],l=i[o-1],c=[];if(o>s)return $ue(e,c,i,o/s),c;const u=jue(i,e,s);if(o>0){let d,f;const p=o>1?Math.round((l-a)/(o-1)):null;for(Rp(e,c,u,nn(p)?0:a-p,a),d=0,f=o-1;d<f;d++)Rp(e,c,u,i[d],i[d+1]);return Rp(e,c,u,l,nn(p)?e.length:l+p),c}return Rp(e,c,u),c}function Nue(t){const e=t.options.offset,n=t._tickSize(),r=t._length/n+(e?0:1),s=t._maxLength/n;return Math.floor(Math.min(r,s))}function jue(t,e,n){const r=zue(t),s=e.length/n;if(!r)return Math.max(s,1);const i=Dle(r);for(let o=0,a=i.length-1;o<a;o++){const l=i[o];if(l>s)return l}return Math.max(s,1)}function Bue(t){const e=[];let n,r;for(n=0,r=t.length;n<r;n++)t[n].major&&e.push(n);return e}function $ue(t,e,n,r){let s=0,i=n[0],o;for(r=Math.ceil(r),o=0;o<t.length;o++)o===i&&(e.push(t[o]),s++,i=n[s*r])}function Rp(t,e,n,r,s){const i=tt(r,0),o=Math.min(tt(s,t.length),t.length);let a=0,l,c,u;for(n=Math.ceil(n),s&&(l=s-r,n=l/Math.floor(l/n)),u=i;u<0;)a++,u=Math.round(i+a*n);for(c=Math.max(i,0);c<o;c++)c===u&&(e.push(t[c]),a++,u=Math.round(i+a*n))}function zue(t){const e=t.length;let n,r;if(e<2)return!1;for(r=t[0],n=1;n<e;++n)if(t[n]-t[n-1]!==r)return!1;return r}const Uue=t=>t==="left"?"right":t==="right"?"left":t,$R=(t,e,n)=>e==="top"||e==="left"?t[e]+n:t[e]-n,zR=(t,e)=>Math.min(e||t,t);function UR(t,e){const n=[],r=t.length/e,s=t.length;let i=0;for(;i<s;i+=r)n.push(t[Math.floor(i)]);return n}function Vue(t,e,n){const r=t.ticks.length,s=Math.min(e,r-1),i=t._startPixel,o=t._endPixel,a=1e-6;let l=t.getPixelForTick(s),c;if(!(n&&(r===1?c=Math.max(l-i,o-l):e===0?c=(t.getPixelForTick(1)-l)/2:c=(l-t.getPixelForTick(s-1))/2,l+=s<e?c:-c,l<i-a||l>o+a)))return l}function Wue(t,e){mt(t,n=>{const r=n.gc,s=r.length/2;let i;if(s>e){for(i=0;i<s;++i)delete n.data[r[i]];r.splice(0,s)}})}function ud(t){return t.drawTicks?t.tickLength:0}function VR(t,e){if(!t.display)return 0;const n=Jn(t.font,e),r=Ls(t.padding);return(Pn(t.text)?t.text.length:1)*n.lineHeight+r.height}function Hue(t,e){return Fl(t,{scale:e,type:"scale"})}function Gue(t,e,n){return Fl(t,{tick:n,index:e,type:"tick"})}function Kue(t,e,n){let r=YT(t);return(n&&e!=="right"||!n&&e==="right")&&(r=Uue(r)),r}function Yue(t,e,n,r){const{top:s,left:i,bottom:o,right:a,chart:l}=t,{chartArea:c,scales:u}=l;let d=0,f,p,m;const g=o-s,y=a-i;if(t.isHorizontal()){if(p=Xn(r,i,a),ft(n)){const x=Object.keys(n)[0],v=n[x];m=u[x].getPixelForValue(v)+g-e}else n==="center"?m=(c.bottom+c.top)/2+g-e:m=$R(t,n,e);f=a-i}else{if(ft(n)){const x=Object.keys(n)[0],v=n[x];p=u[x].getPixelForValue(v)-y+e}else n==="center"?p=(c.left+c.right)/2-y+e:p=$R(t,n,e);m=Xn(r,o,s),d=n==="left"?-qs:qs}return{titleX:p,titleY:m,maxWidth:f,rotation:d}}class Nu extends Nl{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,n){return e}getUserBounds(){let{_userMin:e,_userMax:n,_suggestedMin:r,_suggestedMax:s}=this;return e=ai(e,Number.POSITIVE_INFINITY),n=ai(n,Number.NEGATIVE_INFINITY),r=ai(r,Number.POSITIVE_INFINITY),s=ai(s,Number.NEGATIVE_INFINITY),{min:ai(e,r),max:ai(n,s),minDefined:_s(e),maxDefined:_s(n)}}getMinMax(e){let{min:n,max:r,minDefined:s,maxDefined:i}=this.getUserBounds(),o;if(s&&i)return{min:n,max:r};const a=this.getMatchingVisibleMetas();for(let l=0,c=a.length;l<c;++l)o=a[l].controller.getMinMax(this,e),s||(n=Math.min(n,o.min)),i||(r=Math.max(r,o.max));return n=i&&n>r?r:n,r=s&&n>r?n:r,{min:ai(n,ai(r,n)),max:ai(r,ai(n,r))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){Ot(this.options.beforeUpdate,[this])}update(e,n,r){const{beginAtZero:s,grace:i,ticks:o}=this.options,a=o.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=n,this._margins=r=Object.assign({left:0,right:0,top:0,bottom:0},r),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+r.left+r.right:this.height+r.top+r.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=hce(this,i,s),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const l=a<this.ticks.length;this._convertTicksToLabels(l?UR(this.ticks,a):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),o.display&&(o.autoSkip||o.source==="auto")&&(this.ticks=Fue(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),l&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,n,r;this.isHorizontal()?(n=this.left,r=this.right):(n=this.top,r=this.bottom,e=!e),this._startPixel=n,this._endPixel=r,this._reversePixels=e,this._length=r-n,this._alignToPixels=this.options.alignToPixels}afterUpdate(){Ot(this.options.afterUpdate,[this])}beforeSetDimensions(){Ot(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){Ot(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),Ot(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){Ot(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const n=this.options.ticks;let r,s,i;for(r=0,s=e.length;r<s;r++)i=e[r],i.label=Ot(n.callback,[i.value,r,e],this)}afterTickToLabelConversion(){Ot(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){Ot(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,n=e.ticks,r=zR(this.ticks.length,e.ticks.maxTicksLimit),s=n.minRotation||0,i=n.maxRotation;let o=s,a,l,c;if(!this._isVisible()||!n.display||s>=i||r<=1||!this.isHorizontal()){this.labelRotation=s;return}const u=this._getLabelSizes(),d=u.widest.width,f=u.highest.height,p=xs(this.chart.width-d,0,this.maxWidth);a=e.offset?this.maxWidth/r:p/(r-1),d+6>a&&(a=p/(r-(e.offset?.5:1)),l=this.maxHeight-ud(e.grid)-n.padding-VR(e.title,this.chart.options.font),c=Math.sqrt(d*d+f*f),o=Fle(Math.min(Math.asin(xs((u.highest.height+6)/a,-1,1)),Math.asin(xs(l/c,-1,1))-Math.asin(xs(f/c,-1,1)))),o=Math.max(s,Math.min(i,o))),this.labelRotation=o}afterCalculateLabelRotation(){Ot(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){Ot(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:n,options:{ticks:r,title:s,grid:i}}=this,o=this._isVisible(),a=this.isHorizontal();if(o){const l=VR(s,n.options.font);if(a?(e.width=this.maxWidth,e.height=ud(i)+l):(e.height=this.maxHeight,e.width=ud(i)+l),r.display&&this.ticks.length){const{first:c,last:u,widest:d,highest:f}=this._getLabelSizes(),p=r.padding*2,m=Ja(this.labelRotation),g=Math.cos(m),y=Math.sin(m);if(a){const x=r.mirror?0:y*d.width+g*f.height;e.height=Math.min(this.maxHeight,e.height+x+p)}else{const x=r.mirror?0:g*d.width+y*f.height;e.width=Math.min(this.maxWidth,e.width+x+p)}this._calculatePadding(c,u,y,g)}}this._handleMargins(),a?(this.width=this._length=n.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=n.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,n,r,s){const{ticks:{align:i,padding:o},position:a}=this.options,l=this.labelRotation!==0,c=a!=="top"&&this.axis==="x";if(this.isHorizontal()){const u=this.getPixelForTick(0)-this.left,d=this.right-this.getPixelForTick(this.ticks.length-1);let f=0,p=0;l?c?(f=s*e.width,p=r*n.height):(f=r*e.height,p=s*n.width):i==="start"?p=n.width:i==="end"?f=e.width:i!=="inner"&&(f=e.width/2,p=n.width/2),this.paddingLeft=Math.max((f-u+o)*this.width/(this.width-u),0),this.paddingRight=Math.max((p-d+o)*this.width/(this.width-d),0)}else{let u=n.height/2,d=e.height/2;i==="start"?(u=0,d=e.height):i==="end"&&(u=n.height,d=0),this.paddingTop=u+o,this.paddingBottom=d+o}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){Ot(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:n}=this.options;return n==="top"||n==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let n,r;for(n=0,r=e.length;n<r;n++)nn(e[n].label)&&(e.splice(n,1),r--,n--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const n=this.options.ticks.sampleSize;let r=this.ticks;n<r.length&&(r=UR(r,n)),this._labelSizes=e=this._computeLabelSizes(r,r.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,n,r){const{ctx:s,_longestTextCache:i}=this,o=[],a=[],l=Math.floor(n/zR(n,r));let c=0,u=0,d,f,p,m,g,y,x,v,b,w,T;for(d=0;d<n;d+=l){if(m=e[d].label,g=this._resolveTickFontOptions(d),s.font=y=g.string,x=i[y]=i[y]||{data:{},gc:[]},v=g.lineHeight,b=w=0,!nn(m)&&!Pn(m))b=xR(s,x.data,x.gc,b,m),w=v;else if(Pn(m))for(f=0,p=m.length;f<p;++f)T=m[f],!nn(T)&&!Pn(T)&&(b=xR(s,x.data,x.gc,b,T),w+=v);o.push(b),a.push(w),c=Math.max(b,c),u=Math.max(w,u)}Wue(i,n);const C=o.indexOf(c),E=a.indexOf(u),k=A=>({width:o[A]||0,height:a[A]||0});return{first:k(0),last:k(n-1),widest:k(C),highest:k(E),widths:o,heights:a}}getLabelForValue(e){return e}getPixelForValue(e,n){return NaN}getValueForPixel(e){}getPixelForTick(e){const n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const n=this._startPixel+e*this._length;return Ble(this._alignToPixels?La(this.chart,n,0):n)}getDecimalForPixel(e){const n=(e-this._startPixel)/this._length;return this._reversePixels?1-n:n}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:n}=this;return e<0&&n<0?n:e>0&&n>0?e:0}getContext(e){const n=this.ticks||[];if(e>=0&&e<n.length){const r=n[e];return r.$context||(r.$context=Gue(this.getContext(),e,r))}return this.$context||(this.$context=Hue(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,n=Ja(this.labelRotation),r=Math.abs(Math.cos(n)),s=Math.abs(Math.sin(n)),i=this._getLabelSizes(),o=e.autoSkipPadding||0,a=i?i.widest.width+o:0,l=i?i.highest.height+o:0;return this.isHorizontal()?l*r>a*s?a/r:l/s:l*s<a*r?l/r:a/s}_isVisible(){const e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const n=this.axis,r=this.chart,s=this.options,{grid:i,position:o,border:a}=s,l=i.offset,c=this.isHorizontal(),d=this.ticks.length+(l?1:0),f=ud(i),p=[],m=a.setContext(this.getContext()),g=m.display?m.width:0,y=g/2,x=function(O){return La(r,O,g)};let v,b,w,T,C,E,k,A,R,L,D,M;if(o==="top")v=x(this.bottom),E=this.bottom-f,A=v-y,L=x(e.top)+y,M=e.bottom;else if(o==="bottom")v=x(this.top),L=e.top,M=x(e.bottom)-y,E=v+y,A=this.top+f;else if(o==="left")v=x(this.right),C=this.right-f,k=v-y,R=x(e.left)+y,D=e.right;else if(o==="right")v=x(this.left),R=e.left,D=x(e.right)-y,C=v+y,k=this.left+f;else if(n==="x"){if(o==="center")v=x((e.top+e.bottom)/2+.5);else if(ft(o)){const O=Object.keys(o)[0],I=o[O];v=x(this.chart.scales[O].getPixelForValue(I))}L=e.top,M=e.bottom,E=v+y,A=E+f}else if(n==="y"){if(o==="center")v=x((e.left+e.right)/2);else if(ft(o)){const O=Object.keys(o)[0],I=o[O];v=x(this.chart.scales[O].getPixelForValue(I))}C=v-y,k=C-f,R=e.left,D=e.right}const B=tt(s.ticks.maxTicksLimit,d),V=Math.max(1,Math.ceil(d/B));for(b=0;b<d;b+=V){const O=this.getContext(b),I=i.setContext(O),N=a.setContext(O),j=I.lineWidth,K=I.color,te=N.dash||[],ne=N.dashOffset,q=I.tickWidth,ee=I.tickColor,ce=I.tickBorderDash||[],Y=I.tickBorderDashOffset;w=Vue(this,b,l),w!==void 0&&(T=La(r,w,j),c?C=k=R=D=T:E=A=L=M=T,p.push({tx1:C,ty1:E,tx2:k,ty2:A,x1:R,y1:L,x2:D,y2:M,width:j,color:K,borderDash:te,borderDashOffset:ne,tickWidth:q,tickColor:ee,tickBorderDash:ce,tickBorderDashOffset:Y}))}return this._ticksLength=d,this._borderValue=v,p}_computeLabelItems(e){const n=this.axis,r=this.options,{position:s,ticks:i}=r,o=this.isHorizontal(),a=this.ticks,{align:l,crossAlign:c,padding:u,mirror:d}=i,f=ud(r.grid),p=f+u,m=d?-u:p,g=-Ja(this.labelRotation),y=[];let x,v,b,w,T,C,E,k,A,R,L,D,M="middle";if(s==="top")C=this.bottom-m,E=this._getXAxisLabelAlignment();else if(s==="bottom")C=this.top+m,E=this._getXAxisLabelAlignment();else if(s==="left"){const V=this._getYAxisLabelAlignment(f);E=V.textAlign,T=V.x}else if(s==="right"){const V=this._getYAxisLabelAlignment(f);E=V.textAlign,T=V.x}else if(n==="x"){if(s==="center")C=(e.top+e.bottom)/2+p;else if(ft(s)){const V=Object.keys(s)[0],O=s[V];C=this.chart.scales[V].getPixelForValue(O)+p}E=this._getXAxisLabelAlignment()}else if(n==="y"){if(s==="center")T=(e.left+e.right)/2-p;else if(ft(s)){const V=Object.keys(s)[0],O=s[V];T=this.chart.scales[V].getPixelForValue(O)}E=this._getYAxisLabelAlignment(f).textAlign}n==="y"&&(l==="start"?M="top":l==="end"&&(M="bottom"));const B=this._getLabelSizes();for(x=0,v=a.length;x<v;++x){b=a[x],w=b.label;const V=i.setContext(this.getContext(x));k=this.getPixelForTick(x)+i.labelOffset,A=this._resolveTickFontOptions(x),R=A.lineHeight,L=Pn(w)?w.length:1;const O=L/2,I=V.color,N=V.textStrokeColor,j=V.textStrokeWidth;let K=E;o?(T=k,E==="inner"&&(x===v-1?K=this.options.reverse?"left":"right":x===0?K=this.options.reverse?"right":"left":K="center"),s==="top"?c==="near"||g!==0?D=-L*R+R/2:c==="center"?D=-B.highest.height/2-O*R+R:D=-B.highest.height+R/2:c==="near"||g!==0?D=R/2:c==="center"?D=B.highest.height/2-O*R:D=B.highest.height-L*R,d&&(D*=-1),g!==0&&!V.showLabelBackdrop&&(T+=R/2*Math.sin(g))):(C=k,D=(1-L)*R/2);let te;if(V.showLabelBackdrop){const ne=Ls(V.backdropPadding),q=B.heights[x],ee=B.widths[x];let ce=D-ne.top,Y=0-ne.left;switch(M){case"middle":ce-=q/2;break;case"bottom":ce-=q;break}switch(E){case"center":Y-=ee/2;break;case"right":Y-=ee;break;case"inner":x===v-1?Y-=ee:x>0&&(Y-=ee/2);break}te={left:Y,top:ce,width:ee+ne.width,height:q+ne.height,color:V.backdropColor}}y.push({label:w,font:A,textOffset:D,options:{rotation:g,color:I,strokeColor:N,strokeWidth:j,textAlign:K,textBaseline:M,translation:[T,C],backdrop:te}})}return y}_getXAxisLabelAlignment(){const{position:e,ticks:n}=this.options;if(-Ja(this.labelRotation))return e==="top"?"left":"right";let s="center";return n.align==="start"?s="left":n.align==="end"?s="right":n.align==="inner"&&(s="inner"),s}_getYAxisLabelAlignment(e){const{position:n,ticks:{crossAlign:r,mirror:s,padding:i}}=this.options,o=this._getLabelSizes(),a=e+i,l=o.widest.width;let c,u;return n==="left"?s?(u=this.right+i,r==="near"?c="left":r==="center"?(c="center",u+=l/2):(c="right",u+=l)):(u=this.right-a,r==="near"?c="right":r==="center"?(c="center",u-=l/2):(c="left",u=this.left)):n==="right"?s?(u=this.left+i,r==="near"?c="right":r==="center"?(c="center",u-=l/2):(c="left",u-=l)):(u=this.left+a,r==="near"?c="left":r==="center"?(c="center",u+=l/2):(c="right",u=this.right)):c="right",{textAlign:c,x:u}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,n=this.options.position;if(n==="left"||n==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(n==="top"||n==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){const{ctx:e,options:{backgroundColor:n},left:r,top:s,width:i,height:o}=this;n&&(e.save(),e.fillStyle=n,e.fillRect(r,s,i,o),e.restore())}getLineWidthForValue(e){const n=this.options.grid;if(!this._isVisible()||!n.display)return 0;const s=this.ticks.findIndex(i=>i.value===e);return s>=0?n.setContext(this.getContext(s)).lineWidth:0}drawGrid(e){const n=this.options.grid,r=this.ctx,s=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let i,o;const a=(l,c,u)=>{!u.width||!u.color||(r.save(),r.lineWidth=u.width,r.strokeStyle=u.color,r.setLineDash(u.borderDash||[]),r.lineDashOffset=u.borderDashOffset,r.beginPath(),r.moveTo(l.x,l.y),r.lineTo(c.x,c.y),r.stroke(),r.restore())};if(n.display)for(i=0,o=s.length;i<o;++i){const l=s[i];n.drawOnChartArea&&a({x:l.x1,y:l.y1},{x:l.x2,y:l.y2},l),n.drawTicks&&a({x:l.tx1,y:l.ty1},{x:l.tx2,y:l.ty2},{color:l.tickColor,width:l.tickWidth,borderDash:l.tickBorderDash,borderDashOffset:l.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:n,options:{border:r,grid:s}}=this,i=r.setContext(this.getContext()),o=r.display?i.width:0;if(!o)return;const a=s.setContext(this.getContext(0)).lineWidth,l=this._borderValue;let c,u,d,f;this.isHorizontal()?(c=La(e,this.left,o)-o/2,u=La(e,this.right,a)+a/2,d=f=l):(d=La(e,this.top,o)-o/2,f=La(e,this.bottom,a)+a/2,c=u=l),n.save(),n.lineWidth=i.width,n.strokeStyle=i.color,n.beginPath(),n.moveTo(c,d),n.lineTo(u,f),n.stroke(),n.restore()}drawLabels(e){if(!this.options.ticks.display)return;const r=this.ctx,s=this._computeLabelArea();s&&XT(r,s);const i=this.getLabelItems(e);for(const o of i){const a=o.options,l=o.font,c=o.label,u=o.textOffset;eh(r,c,0,u,l,a)}s&&QT(r)}drawTitle(){const{ctx:e,options:{position:n,title:r,reverse:s}}=this;if(!r.display)return;const i=Jn(r.font),o=Ls(r.padding),a=r.align;let l=i.lineHeight/2;n==="bottom"||n==="center"||ft(n)?(l+=o.bottom,Pn(r.text)&&(l+=i.lineHeight*(r.text.length-1))):l+=o.top;const{titleX:c,titleY:u,maxWidth:d,rotation:f}=Yue(this,l,n,a);eh(e,r.text,0,0,i,{color:r.color,maxWidth:d,rotation:f,textAlign:Kue(a,n,s),textBaseline:"middle",translation:[c,u]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,n=e.ticks&&e.ticks.z||0,r=tt(e.grid&&e.grid.z,-1),s=tt(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==Nu.prototype.draw?[{z:n,draw:i=>{this.draw(i)}}]:[{z:r,draw:i=>{this.drawBackground(),this.drawGrid(i),this.drawTitle()}},{z:s,draw:()=>{this.drawBorder()}},{z:n,draw:i=>{this.drawLabels(i)}}]}getMatchingVisibleMetas(e){const n=this.chart.getSortedVisibleDatasetMetas(),r=this.axis+"AxisID",s=[];let i,o;for(i=0,o=n.length;i<o;++i){const a=n[i];a[r]===this.id&&(!e||a.type===e)&&s.push(a)}return s}_resolveTickFontOptions(e){const n=this.options.ticks.setContext(this.getContext(e));return Jn(n.font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class _p{constructor(e,n,r){this.type=e,this.scope=n,this.override=r,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const n=Object.getPrototypeOf(e);let r;Que(n)&&(r=this.register(n));const s=this.items,i=e.id,o=this.scope+"."+i;if(!i)throw new Error("class does not have id: "+e);return i in s||(s[i]=e,que(e,o,r),this.override&&dn.override(e.id,e.overrides)),o}get(e){return this.items[e]}unregister(e){const n=this.items,r=e.id,s=this.scope;r in n&&delete n[r],s&&r in dn[s]&&(delete dn[s][r],this.override&&delete Al[r])}}function que(t,e,n){const r=Qf(Object.create(null),[n?dn.get(n):{},dn.get(e),t.defaults]);dn.set(e,r),t.defaultRoutes&&Xue(e,t.defaultRoutes),t.descriptors&&dn.describe(e,t.descriptors)}function Xue(t,e){Object.keys(e).forEach(n=>{const r=n.split("."),s=r.pop(),i=[t].concat(r).join("."),o=e[n].split("."),a=o.pop(),l=o.join(".");dn.route(i,s,l,a)})}function Que(t){return"id"in t&&"defaults"in t}class Zue{constructor(){this.controllers=new _p(af,"datasets",!0),this.elements=new _p(Nl,"elements"),this.plugins=new _p(Object,"plugins"),this.scales=new _p(Nu,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,n,r){[...n].forEach(s=>{const i=r||this._getRegistryForType(s);r||i.isForType(s)||i===this.plugins&&s.id?this._exec(e,i,s):mt(s,o=>{const a=r||this._getRegistryForType(o);this._exec(e,a,o)})})}_exec(e,n,r){const s=GT(e);Ot(r["before"+s],[],r),n[e](r),Ot(r["after"+s],[],r)}_getRegistryForType(e){for(let n=0;n<this._typedRegistries.length;n++){const r=this._typedRegistries[n];if(r.isForType(e))return r}return this.plugins}_get(e,n,r){const s=n.get(e);if(s===void 0)throw new Error('"'+e+'" is not a registered '+r+".");return s}}var di=new Zue;class Jue{constructor(){this._init=[]}notify(e,n,r,s){n==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install"));const i=s?this._descriptors(e).filter(s):this._descriptors(e),o=this._notify(i,e,n,r);return n==="afterDestroy"&&(this._notify(i,e,"stop"),this._notify(this._init,e,"uninstall")),o}_notify(e,n,r,s){s=s||{};for(const i of e){const o=i.plugin,a=o[r],l=[n,s,i.options];if(Ot(a,l,o)===!1&&s.cancelable)return!1}return!0}invalidate(){nn(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const n=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),n}_createDescriptors(e,n){const r=e&&e.config,s=tt(r.options&&r.options.plugins,{}),i=ede(r);return s===!1&&!n?[]:nde(e,i,s,n)}_notifyStateChanges(e){const n=this._oldCache||[],r=this._cache,s=(i,o)=>i.filter(a=>!o.some(l=>a.plugin.id===l.plugin.id));this._notify(s(n,r),e,"stop"),this._notify(s(r,n),e,"start")}}function ede(t){const e={},n=[],r=Object.keys(di.plugins.items);for(let i=0;i<r.length;i++)n.push(di.getPlugin(r[i]));const s=t.plugins||[];for(let i=0;i<s.length;i++){const o=s[i];n.indexOf(o)===-1&&(n.push(o),e[o.id]=!0)}return{plugins:n,localIds:e}}function tde(t,e){return!e&&t===!1?null:t===!0?{}:t}function nde(t,{plugins:e,localIds:n},r,s){const i=[],o=t.getContext();for(const a of e){const l=a.id,c=tde(r[l],s);c!==null&&i.push({plugin:a,options:rde(t.config,{plugin:a,local:n[l]},c,o)})}return i}function rde(t,{plugin:e,local:n},r,s){const i=t.pluginScopeKeys(e),o=t.getOptionScopes(r,i);return n&&e.defaults&&o.push(e.defaults),t.createResolver(o,s,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function Q1(t,e){const n=dn.datasets[t]||{};return((e.datasets||{})[t]||{}).indexAxis||e.indexAxis||n.indexAxis||"x"}function sde(t,e){let n=t;return t==="_index_"?n=e:t==="_value_"&&(n=e==="x"?"y":"x"),n}function ide(t,e){return t===e?"_index_":"_value_"}function WR(t){if(t==="x"||t==="y"||t==="r")return t}function ode(t){if(t==="top"||t==="bottom")return"x";if(t==="left"||t==="right")return"y"}function Z1(t,...e){if(WR(t))return t;for(const n of e){const r=n.axis||ode(n.position)||t.length>1&&WR(t[0].toLowerCase());if(r)return r}throw new Error(`Cannot determine type of '${t}' axis. Please provide 'axis' or 'position' option.`)}function HR(t,e,n){if(n[e+"AxisID"]===t)return{axis:e}}function ade(t,e){if(e.data&&e.data.datasets){const n=e.data.datasets.filter(r=>r.xAxisID===t||r.yAxisID===t);if(n.length)return HR(t,"x",n[0])||HR(t,"y",n[0])}return{}}function lde(t,e){const n=Al[t.type]||{scales:{}},r=e.scales||{},s=Q1(t.type,e),i=Object.create(null);return Object.keys(r).forEach(o=>{const a=r[o];if(!ft(a))return console.error(`Invalid scale configuration for scale: ${o}`);if(a._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${o}`);const l=Z1(o,a,ade(o,t),dn.scales[a.type]),c=ide(l,s),u=n.scales||{};i[o]=tf(Object.create(null),[{axis:l},a,u[l],u[c]])}),t.data.datasets.forEach(o=>{const a=o.type||t.type,l=o.indexAxis||Q1(a,e),u=(Al[a]||{}).scales||{};Object.keys(u).forEach(d=>{const f=sde(d,l),p=o[f+"AxisID"]||f;i[p]=i[p]||Object.create(null),tf(i[p],[{axis:f},r[p],u[d]])})}),Object.keys(i).forEach(o=>{const a=i[o];tf(a,[dn.scales[a.type],dn.scale])}),i}function t3(t){const e=t.options||(t.options={});e.plugins=tt(e.plugins,{}),e.scales=lde(t,e)}function n3(t){return t=t||{},t.datasets=t.datasets||[],t.labels=t.labels||[],t}function cde(t){return t=t||{},t.data=n3(t.data),t3(t),t}const GR=new Map,r3=new Set;function Lp(t,e){let n=GR.get(t);return n||(n=e(),GR.set(t,n),r3.add(n)),n}const dd=(t,e,n)=>{const r=Bg(e,n);r!==void 0&&t.add(r)};class ude{constructor(e){this._config=cde(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=n3(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),t3(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return Lp(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,n){return Lp(`${e}.transition.${n}`,()=>[[`datasets.${e}.transitions.${n}`,`transitions.${n}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,n){return Lp(`${e}-${n}`,()=>[[`datasets.${e}.elements.${n}`,`datasets.${e}`,`elements.${n}`,""]])}pluginScopeKeys(e){const n=e.id,r=this.type;return Lp(`${r}-plugin-${n}`,()=>[[`plugins.${n}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,n){const r=this._scopeCache;let s=r.get(e);return(!s||n)&&(s=new Map,r.set(e,s)),s}getOptionScopes(e,n,r){const{options:s,type:i}=this,o=this._cachedScopes(e,r),a=o.get(n);if(a)return a;const l=new Set;n.forEach(u=>{e&&(l.add(e),u.forEach(d=>dd(l,e,d))),u.forEach(d=>dd(l,s,d)),u.forEach(d=>dd(l,Al[i]||{},d)),u.forEach(d=>dd(l,dn,d)),u.forEach(d=>dd(l,Y1,d))});const c=Array.from(l);return c.length===0&&c.push(Object.create(null)),r3.has(n)&&o.set(n,c),c}chartOptionScopes(){const{options:e,type:n}=this;return[e,Al[n]||{},dn.datasets[n]||{},{type:n},dn,Y1]}resolveNamedOptions(e,n,r,s=[""]){const i={$shared:!0},{resolver:o,subPrefixes:a}=KR(this._resolverCache,e,s);let l=o;if(fde(o,n)){i.$shared=!1,r=ca(r)?r():r;const c=this.createResolver(e,r,a);l=mu(o,r,c)}for(const c of n)i[c]=l[c];return i}createResolver(e,n,r=[""],s){const{resolver:i}=KR(this._resolverCache,e,r);return ft(n)?mu(i,n,void 0,s):i}}function KR(t,e,n){let r=t.get(e);r||(r=new Map,t.set(e,r));const s=n.join();let i=r.get(s);return i||(i={resolver:ZT(e,n),subPrefixes:n.filter(a=>!a.toLowerCase().includes("hover"))},r.set(s,i)),i}const dde=t=>ft(t)&&Object.getOwnPropertyNames(t).some(e=>ca(t[e]));function fde(t,e){const{isScriptable:n,isIndexable:r}=$5(t);for(const s of e){const i=n(s),o=r(s),a=(o||i)&&t[s];if(i&&(ca(a)||dde(a))||o&&Pn(a))return!0}return!1}var hde="4.4.6";const pde=["top","bottom","left","right","chartArea"];function YR(t,e){return t==="top"||t==="bottom"||pde.indexOf(t)===-1&&e==="x"}function qR(t,e){return function(n,r){return n[t]===r[t]?n[e]-r[e]:n[t]-r[t]}}function XR(t){const e=t.chart,n=e.options.animation;e.notifyPlugins("afterRender"),Ot(n&&n.onComplete,[t],e)}function mde(t){const e=t.chart,n=e.options.animation;Ot(n&&n.onProgress,[t],e)}function s3(t){return tE()&&typeof t=="string"?t=document.getElementById(t):t&&t.length&&(t=t[0]),t&&t.canvas&&(t=t.canvas),t}const Pm={},QR=t=>{const e=s3(t);return Object.values(Pm).filter(n=>n.canvas===e).pop()};function gde(t,e,n){const r=Object.keys(t);for(const s of r){const i=+s;if(i>=e){const o=t[s];delete t[s],(n>0||i>e)&&(t[i+n]=o)}}}function yde(t,e,n,r){return!n||t.type==="mouseout"?null:r?e:t}function Pp(t,e,n){return t.options.clip?t[n]:e[n]}function vde(t,e){const{xScale:n,yScale:r}=t;return n&&r?{left:Pp(n,e,"left"),right:Pp(n,e,"right"),top:Pp(r,e,"top"),bottom:Pp(r,e,"bottom")}:e}var _o;let gy=(_o=class{static register(...e){di.add(...e),ZR()}static unregister(...e){di.remove(...e),ZR()}constructor(e,n){const r=this.config=new ude(n),s=s3(e),i=QR(s);if(i)throw new Error("Canvas is already in use. Chart with ID '"+i.id+"' must be destroyed before the canvas with ID '"+i.canvas.id+"' can be reused.");const o=r.createResolver(r.chartOptionScopes(),this.getContext());this.platform=new(r.platform||Oue(s)),this.platform.updateConfig(r);const a=this.platform.acquireContext(s,o.aspectRatio),l=a&&a.canvas,c=l&&l.height,u=l&&l.width;if(this.id=Ele(),this.ctx=a,this.canvas=l,this.width=u,this.height=c,this._options=o,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new Jue,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=Wle(d=>this.update(d),o.resizeDelay||0),this._dataChanges=[],Pm[this.id]=this,!a||!l){console.error("Failed to create chart: can't acquire context from the given item");return}Ui.listen(this,"complete",XR),Ui.listen(this,"progress",mde),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:n},width:r,height:s,_aspectRatio:i}=this;return nn(e)?n&&i?i:s?r/s:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return di}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():TR(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return bR(this.canvas,this.ctx),this}stop(){return Ui.stop(this),this}resize(e,n){Ui.running(this)?this._resizeBeforeDraw={width:e,height:n}:this._resize(e,n)}_resize(e,n){const r=this.options,s=this.canvas,i=r.maintainAspectRatio&&this.aspectRatio,o=this.platform.getMaximumSize(s,e,n,i),a=r.devicePixelRatio||this.platform.getDevicePixelRatio(),l=this.width?"resize":"attach";this.width=o.width,this.height=o.height,this._aspectRatio=this.aspectRatio,TR(this,a,!0)&&(this.notifyPlugins("resize",{size:o}),Ot(r.onResize,[this,o],this),this.attached&&this._doResize(l)&&this.render())}ensureScalesHaveIDs(){const n=this.options.scales||{};mt(n,(r,s)=>{r.id=s})}buildOrUpdateScales(){const e=this.options,n=e.scales,r=this.scales,s=Object.keys(r).reduce((o,a)=>(o[a]=!1,o),{});let i=[];n&&(i=i.concat(Object.keys(n).map(o=>{const a=n[o],l=Z1(o,a),c=l==="r",u=l==="x";return{options:a,dposition:c?"chartArea":u?"bottom":"left",dtype:c?"radialLinear":u?"category":"linear"}}))),mt(i,o=>{const a=o.options,l=a.id,c=Z1(l,a),u=tt(a.type,o.dtype);(a.position===void 0||YR(a.position,c)!==YR(o.dposition))&&(a.position=o.dposition),s[l]=!0;let d=null;if(l in r&&r[l].type===u)d=r[l];else{const f=di.getScale(u);d=new f({id:l,type:u,ctx:this.ctx,chart:this}),r[d.id]=d}d.init(a,e)}),mt(s,(o,a)=>{o||delete r[a]}),mt(r,o=>{bs.configure(this,o,o.options),bs.addBox(this,o)})}_updateMetasets(){const e=this._metasets,n=this.data.datasets.length,r=e.length;if(e.sort((s,i)=>s.index-i.index),r>n){for(let s=n;s<r;++s)this._destroyDatasetMeta(s);e.splice(n,r-n)}this._sortedMetasets=e.slice(0).sort(qR("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:n}}=this;e.length>n.length&&delete this._stacks,e.forEach((r,s)=>{n.filter(i=>i===r._dataset).length===0&&this._destroyDatasetMeta(s)})}buildOrUpdateControllers(){const e=[],n=this.data.datasets;let r,s;for(this._removeUnreferencedMetasets(),r=0,s=n.length;r<s;r++){const i=n[r];let o=this.getDatasetMeta(r);const a=i.type||this.config.type;if(o.type&&o.type!==a&&(this._destroyDatasetMeta(r),o=this.getDatasetMeta(r)),o.type=a,o.indexAxis=i.indexAxis||Q1(a,this.options),o.order=i.order||0,o.index=r,o.label=""+i.label,o.visible=this.isDatasetVisible(r),o.controller)o.controller.updateIndex(r),o.controller.linkScales();else{const l=di.getController(a),{datasetElementType:c,dataElementType:u}=dn.datasets[a];Object.assign(l,{dataElementType:di.getElement(u),datasetElementType:c&&di.getElement(c)}),o.controller=new l(this,r),e.push(o.controller)}}return this._updateMetasets(),e}_resetElements(){mt(this.data.datasets,(e,n)=>{this.getDatasetMeta(n).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const n=this.config;n.update();const r=this._options=n.createResolver(n.chartOptionScopes(),this.getContext()),s=this._animationsDisabled=!r.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;const i=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let o=0;for(let c=0,u=this.data.datasets.length;c<u;c++){const{controller:d}=this.getDatasetMeta(c),f=!s&&i.indexOf(d)===-1;d.buildOrUpdateElements(f),o=Math.max(+d.getMaxOverflow(),o)}o=this._minPadding=r.layout.autoPadding?o:0,this._updateLayout(o),s||mt(i,c=>{c.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(qR("z","_idx"));const{_active:a,_lastEvent:l}=this;l?this._eventHandler(l,!0):a.length&&this._updateHoverStyles(a,a,!0),this.render()}_updateScales(){mt(this.scales,e=>{bs.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,n=new Set(Object.keys(this._listeners)),r=new Set(e.events);(!uR(n,r)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,n=this._getUniformDataChanges()||[];for(const{method:r,start:s,count:i}of n){const o=r==="_removeElements"?-i:i;gde(e,s,o)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const n=this.data.datasets.length,r=i=>new Set(e.filter(o=>o[0]===i).map((o,a)=>a+","+o.splice(1).join(","))),s=r(0);for(let i=1;i<n;i++)if(!uR(s,r(i)))return;return Array.from(s).map(i=>i.split(",")).map(i=>({method:i[1],start:+i[2],count:+i[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;bs.update(this,this.width,this.height,e);const n=this.chartArea,r=n.width<=0||n.height<=0;this._layers=[],mt(this.boxes,s=>{r&&s.position==="chartArea"||(s.configure&&s.configure(),this._layers.push(...s._layers()))},this),this._layers.forEach((s,i)=>{s._idx=i}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let n=0,r=this.data.datasets.length;n<r;++n)this.getDatasetMeta(n).controller.configure();for(let n=0,r=this.data.datasets.length;n<r;++n)this._updateDataset(n,ca(e)?e({datasetIndex:n}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,n){const r=this.getDatasetMeta(e),s={meta:r,index:e,mode:n,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",s)!==!1&&(r.controller._update(n),s.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",s))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(Ui.has(this)?this.attached&&!Ui.running(this)&&Ui.start(this):(this.draw(),XR({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:r,height:s}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(r,s)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const n=this._layers;for(e=0;e<n.length&&n[e].z<=0;++e)n[e].draw(this.chartArea);for(this._drawDatasets();e<n.length;++e)n[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const n=this._sortedMetasets,r=[];let s,i;for(s=0,i=n.length;s<i;++s){const o=n[s];(!e||o.visible)&&r.push(o)}return r}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const e=this.getSortedVisibleDatasetMetas();for(let n=e.length-1;n>=0;--n)this._drawDataset(e[n]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const n=this.ctx,r=e._clip,s=!r.disabled,i=vde(e,this.chartArea),o={meta:e,index:e.index,cancelable:!0};this.notifyPlugins("beforeDatasetDraw",o)!==!1&&(s&&XT(n,{left:r.left===!1?0:i.left-r.left,right:r.right===!1?this.width:i.right+r.right,top:r.top===!1?0:i.top-r.top,bottom:r.bottom===!1?this.height:i.bottom+r.bottom}),e.controller.draw(),s&&QT(n),o.cancelable=!1,this.notifyPlugins("afterDatasetDraw",o))}isPointInArea(e){return Jf(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,n,r,s){const i=pue.modes[n];return typeof i=="function"?i(this,e,r,s):[]}getDatasetMeta(e){const n=this.data.datasets[e],r=this._metasets;let s=r.filter(i=>i&&i._dataset===n).pop();return s||(s={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:n&&n.order||0,index:e,_dataset:n,_parsed:[],_sorted:!1},r.push(s)),s}getContext(){return this.$context||(this.$context=Fl(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const n=this.data.datasets[e];if(!n)return!1;const r=this.getDatasetMeta(e);return typeof r.hidden=="boolean"?!r.hidden:!n.hidden}setDatasetVisibility(e,n){const r=this.getDatasetMeta(e);r.hidden=!n}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,n,r){const s=r?"show":"hide",i=this.getDatasetMeta(e),o=i.controller._resolveAnimations(void 0,s);$g(n)?(i.data[n].hidden=!r,this.update()):(this.setDatasetVisibility(e,r),o.update(i,{visible:r}),this.update(a=>a.datasetIndex===e?s:void 0))}hide(e,n){this._updateVisibility(e,n,!1)}show(e,n){this._updateVisibility(e,n,!0)}_destroyDatasetMeta(e){const n=this._metasets[e];n&&n.controller&&n.controller._destroy(),delete this._metasets[e]}_stop(){let e,n;for(this.stop(),Ui.remove(this),e=0,n=this.data.datasets.length;e<n;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:n}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),bR(e,n),this.platform.releaseContext(n),this.canvas=null,this.ctx=null),delete Pm[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,n=this.platform,r=(i,o)=>{n.addEventListener(this,i,o),e[i]=o},s=(i,o,a)=>{i.offsetX=o,i.offsetY=a,this._eventHandler(i)};mt(this.options.events,i=>r(i,s))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,n=this.platform,r=(l,c)=>{n.addEventListener(this,l,c),e[l]=c},s=(l,c)=>{e[l]&&(n.removeEventListener(this,l,c),delete e[l])},i=(l,c)=>{this.canvas&&this.resize(l,c)};let o;const a=()=>{s("attach",a),this.attached=!0,this.resize(),r("resize",i),r("detach",o)};o=()=>{this.attached=!1,s("resize",i),this._stop(),this._resize(0,0),r("attach",a)},n.isAttached(this.canvas)?a():o()}unbindEvents(){mt(this._listeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._listeners={},mt(this._responsiveListeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,n,r){const s=r?"set":"remove";let i,o,a,l;for(n==="dataset"&&(i=this.getDatasetMeta(e[0].datasetIndex),i.controller["_"+s+"DatasetHoverStyle"]()),a=0,l=e.length;a<l;++a){o=e[a];const c=o&&this.getDatasetMeta(o.datasetIndex).controller;c&&c[s+"HoverStyle"](o.element,o.datasetIndex,o.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const n=this._active||[],r=e.map(({datasetIndex:i,index:o})=>{const a=this.getDatasetMeta(i);if(!a)throw new Error("No dataset found at index "+i);return{datasetIndex:i,element:a.data[o],index:o}});!Ng(r,n)&&(this._active=r,this._lastEvent=null,this._updateHoverStyles(r,n))}notifyPlugins(e,n,r){return this._plugins.notify(this,e,n,r)}isPluginEnabled(e){return this._plugins._cache.filter(n=>n.plugin.id===e).length===1}_updateHoverStyles(e,n,r){const s=this.options.hover,i=(l,c)=>l.filter(u=>!c.some(d=>u.datasetIndex===d.datasetIndex&&u.index===d.index)),o=i(n,e),a=r?e:i(e,n);o.length&&this.updateHoverStyle(o,s.mode,!1),a.length&&s.mode&&this.updateHoverStyle(a,s.mode,!0)}_eventHandler(e,n){const r={event:e,replay:n,cancelable:!0,inChartArea:this.isPointInArea(e)},s=o=>(o.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",r,s)===!1)return;const i=this._handleEvent(e,n,r.inChartArea);return r.cancelable=!1,this.notifyPlugins("afterEvent",r,s),(i||r.changed)&&this.render(),this}_handleEvent(e,n,r){const{_active:s=[],options:i}=this,o=n,a=this._getActiveElements(e,s,r,o),l=Lle(e),c=yde(e,this._lastEvent,r,l);r&&(this._lastEvent=null,Ot(i.onHover,[e,a,this],this),l&&Ot(i.onClick,[e,a,this],this));const u=!Ng(a,s);return(u||n)&&(this._active=a,this._updateHoverStyles(a,s,n)),this._lastEvent=c,u}_getActiveElements(e,n,r,s){if(e.type==="mouseout")return[];if(!r)return n;const i=this.options.hover;return this.getElementsAtEventForMode(e,i.mode,i,s)}},We(_o,"defaults",dn),We(_o,"instances",Pm),We(_o,"overrides",Al),We(_o,"registry",di),We(_o,"version",hde),We(_o,"getChart",QR),_o);function ZR(){return mt(gy.instances,t=>t._plugins.invalidate())}function i3(t,e,n=e){t.lineCap=tt(n.borderCapStyle,e.borderCapStyle),t.setLineDash(tt(n.borderDash,e.borderDash)),t.lineDashOffset=tt(n.borderDashOffset,e.borderDashOffset),t.lineJoin=tt(n.borderJoinStyle,e.borderJoinStyle),t.lineWidth=tt(n.borderWidth,e.borderWidth),t.strokeStyle=tt(n.borderColor,e.borderColor)}function xde(t,e,n){t.lineTo(n.x,n.y)}function bde(t){return t.stepped?rce:t.tension||t.cubicInterpolationMode==="monotone"?sce:xde}function o3(t,e,n={}){const r=t.length,{start:s=0,end:i=r-1}=n,{start:o,end:a}=e,l=Math.max(s,o),c=Math.min(i,a),u=s<o&&i<o||s>a&&i>a;return{count:r,start:l,loop:e.loop,ilen:c<l&&!u?r+c-l:c-l}}function Sde(t,e,n,r){const{points:s,options:i}=e,{count:o,start:a,loop:l,ilen:c}=o3(s,n,r),u=bde(i);let{move:d=!0,reverse:f}=r||{},p,m,g;for(p=0;p<=c;++p)m=s[(a+(f?c-p:p))%o],!m.skip&&(d?(t.moveTo(m.x,m.y),d=!1):u(t,g,m,f,i.stepped),g=m);return l&&(m=s[(a+(f?c:0))%o],u(t,g,m,f,i.stepped)),!!l}function wde(t,e,n,r){const s=e.points,{count:i,start:o,ilen:a}=o3(s,n,r),{move:l=!0,reverse:c}=r||{};let u=0,d=0,f,p,m,g,y,x;const v=w=>(o+(c?a-w:w))%i,b=()=>{g!==y&&(t.lineTo(u,y),t.lineTo(u,g),t.lineTo(u,x))};for(l&&(p=s[v(0)],t.moveTo(p.x,p.y)),f=0;f<=a;++f){if(p=s[v(f)],p.skip)continue;const w=p.x,T=p.y,C=w|0;C===m?(T<g?g=T:T>y&&(y=T),u=(d*u+w)/++d):(b(),t.lineTo(w,T),m=C,d=0,g=y=T),x=T}b()}function J1(t){const e=t.options,n=e.borderDash&&e.borderDash.length;return!t._decimated&&!t._loop&&!e.tension&&e.cubicInterpolationMode!=="monotone"&&!e.stepped&&!n?wde:Sde}function Tde(t){return t.stepped?Nce:t.tension||t.cubicInterpolationMode==="monotone"?jce:Ba}function Ede(t,e,n,r){let s=e._path;s||(s=e._path=new Path2D,e.path(s,n,r)&&s.closePath()),i3(t,e.options),t.stroke(s)}function Cde(t,e,n,r){const{segments:s,options:i}=e,o=J1(e);for(const a of s)i3(t,i,a.style),t.beginPath(),o(t,e,a,{start:n,end:n+r-1})&&t.closePath(),t.stroke()}const kde=typeof Path2D=="function";function Ade(t,e,n,r){kde&&!e.options.segment?Ede(t,e,n,r):Cde(t,e,n,r)}class Ld extends Nl{constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,n){const r=this.options;if((r.tension||r.cubicInterpolationMode==="monotone")&&!r.stepped&&!this._pointsUpdated){const s=r.spanGaps?this._loop:this._fullLoop;_ce(this._points,r,e,s,n),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=Gce(this,this.options.segment))}first(){const e=this.segments,n=this.points;return e.length&&n[e[0].start]}last(){const e=this.segments,n=this.points,r=e.length;return r&&n[e[r-1].end]}interpolate(e,n){const r=this.options,s=e[n],i=this.points,o=Vce(this,{property:n,start:s,end:s});if(!o.length)return;const a=[],l=Tde(r);let c,u;for(c=0,u=o.length;c<u;++c){const{start:d,end:f}=o[c],p=i[d],m=i[f];if(p===m){a.push(p);continue}const g=Math.abs((s-p[n])/(m[n]-p[n])),y=l(p,m,g,r.stepped);y[n]=e[n],a.push(y)}return a.length===1?a[0]:a}pathSegment(e,n,r){return J1(this)(e,this,n,r)}path(e,n,r){const s=this.segments,i=J1(this);let o=this._loop;n=n||0,r=r||this.points.length-n;for(const a of s)o&=i(e,this,a,{start:n,end:n+r-1});return!!o}draw(e,n,r,s){const i=this.options||{};(this.points||[]).length&&i.borderWidth&&(e.save(),Ade(e,this,r,s),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}We(Ld,"id","line"),We(Ld,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),We(Ld,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),We(Ld,"descriptors",{_scriptable:!0,_indexable:e=>e!=="borderDash"&&e!=="fill"});function JR(t,e,n,r){const s=t.options,{[n]:i}=t.getProps([n],r);return Math.abs(e-i)<s.radius+s.hitRadius}class Im extends Nl{constructor(n){super();We(this,"parsed");We(this,"skip");We(this,"stop");this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,n&&Object.assign(this,n)}inRange(n,r,s){const i=this.options,{x:o,y:a}=this.getProps(["x","y"],s);return Math.pow(n-o,2)+Math.pow(r-a,2)<Math.pow(i.hitRadius+i.radius,2)}inXRange(n,r){return JR(this,n,"x",r)}inYRange(n,r){return JR(this,n,"y",r)}getCenterPoint(n){const{x:r,y:s}=this.getProps(["x","y"],n);return{x:r,y:s}}size(n){n=n||this.options||{};let r=n.radius||0;r=Math.max(r,r&&n.hoverRadius||0);const s=r&&n.borderWidth||0;return(r+s)*2}draw(n,r){const s=this.options;this.skip||s.radius<.1||!Jf(this,r,this.size(s)/2)||(n.strokeStyle=s.borderColor,n.lineWidth=s.borderWidth,n.fillStyle=s.backgroundColor,q1(n,s,this.x,this.y))}getRange(){const n=this.options||{};return n.radius+n.hitRadius}}We(Im,"id","point"),We(Im,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),We(Im,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});const e_=(t,e)=>{let{boxHeight:n=e,boxWidth:r=e}=t;return t.usePointStyle&&(n=Math.min(n,e),r=t.pointStyleWidth||Math.min(r,e)),{boxWidth:r,boxHeight:n,itemHeight:Math.max(e,n)}},Rde=(t,e)=>t!==null&&e!==null&&t.datasetIndex===e.datasetIndex&&t.index===e.index;class t_ extends Nl{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,n,r){this.maxWidth=e,this.maxHeight=n,this._margins=r,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let n=Ot(e.generateLabels,[this.chart],this)||[];e.filter&&(n=n.filter(r=>e.filter(r,this.chart.data))),e.sort&&(n=n.sort((r,s)=>e.sort(r,s,this.chart.data))),this.options.reverse&&n.reverse(),this.legendItems=n}fit(){const{options:e,ctx:n}=this;if(!e.display){this.width=this.height=0;return}const r=e.labels,s=Jn(r.font),i=s.size,o=this._computeTitleHeight(),{boxWidth:a,itemHeight:l}=e_(r,i);let c,u;n.font=s.string,this.isHorizontal()?(c=this.maxWidth,u=this._fitRows(o,i,a,l)+10):(u=this.maxHeight,c=this._fitCols(o,s,a,l)+10),this.width=Math.min(c,e.maxWidth||this.maxWidth),this.height=Math.min(u,e.maxHeight||this.maxHeight)}_fitRows(e,n,r,s){const{ctx:i,maxWidth:o,options:{labels:{padding:a}}}=this,l=this.legendHitBoxes=[],c=this.lineWidths=[0],u=s+a;let d=e;i.textAlign="left",i.textBaseline="middle";let f=-1,p=-u;return this.legendItems.forEach((m,g)=>{const y=r+n/2+i.measureText(m.text).width;(g===0||c[c.length-1]+y+2*a>o)&&(d+=u,c[c.length-(g>0?0:1)]=0,p+=u,f++),l[g]={left:0,top:p,row:f,width:y,height:s},c[c.length-1]+=y+a}),d}_fitCols(e,n,r,s){const{ctx:i,maxHeight:o,options:{labels:{padding:a}}}=this,l=this.legendHitBoxes=[],c=this.columnSizes=[],u=o-e;let d=a,f=0,p=0,m=0,g=0;return this.legendItems.forEach((y,x)=>{const{itemWidth:v,itemHeight:b}=_de(r,n,i,y,s);x>0&&p+b+2*a>u&&(d+=f+a,c.push({width:f,height:p}),m+=f+a,g++,f=p=0),l[x]={left:m,top:p,col:g,width:v,height:b},f=Math.max(f,v),p+=b+a}),d+=f,c.push({width:f,height:p}),d}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:n,options:{align:r,labels:{padding:s},rtl:i}}=this,o=Wc(i,this.left,this.width);if(this.isHorizontal()){let a=0,l=Xn(r,this.left+s,this.right-this.lineWidths[a]);for(const c of n)a!==c.row&&(a=c.row,l=Xn(r,this.left+s,this.right-this.lineWidths[a])),c.top+=this.top+e+s,c.left=o.leftForLtr(o.x(l),c.width),l+=c.width+s}else{let a=0,l=Xn(r,this.top+e+s,this.bottom-this.columnSizes[a].height);for(const c of n)c.col!==a&&(a=c.col,l=Xn(r,this.top+e+s,this.bottom-this.columnSizes[a].height)),c.top=l,c.left+=this.left+s,c.left=o.leftForLtr(o.x(c.left),c.width),l+=c.height+s}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const e=this.ctx;XT(e,this),this._draw(),QT(e)}}_draw(){const{options:e,columnSizes:n,lineWidths:r,ctx:s}=this,{align:i,labels:o}=e,a=dn.color,l=Wc(e.rtl,this.left,this.width),c=Jn(o.font),{padding:u}=o,d=c.size,f=d/2;let p;this.drawTitle(),s.textAlign=l.textAlign("left"),s.textBaseline="middle",s.lineWidth=.5,s.font=c.string;const{boxWidth:m,boxHeight:g,itemHeight:y}=e_(o,d),x=function(C,E,k){if(isNaN(m)||m<=0||isNaN(g)||g<0)return;s.save();const A=tt(k.lineWidth,1);if(s.fillStyle=tt(k.fillStyle,a),s.lineCap=tt(k.lineCap,"butt"),s.lineDashOffset=tt(k.lineDashOffset,0),s.lineJoin=tt(k.lineJoin,"miter"),s.lineWidth=A,s.strokeStyle=tt(k.strokeStyle,a),s.setLineDash(tt(k.lineDash,[])),o.usePointStyle){const R={radius:g*Math.SQRT2/2,pointStyle:k.pointStyle,rotation:k.rotation,borderWidth:A},L=l.xPlus(C,m/2),D=E+f;j5(s,R,L,D,o.pointStyleWidth&&m)}else{const R=E+Math.max((d-g)/2,0),L=l.leftForLtr(C,m),D=of(k.borderRadius);s.beginPath(),Object.values(D).some(M=>M!==0)?X1(s,{x:L,y:R,w:m,h:g,radius:D}):s.rect(L,R,m,g),s.fill(),A!==0&&s.stroke()}s.restore()},v=function(C,E,k){eh(s,k.text,C,E+y/2,c,{strikethrough:k.hidden,textAlign:l.textAlign(k.textAlign)})},b=this.isHorizontal(),w=this._computeTitleHeight();b?p={x:Xn(i,this.left+u,this.right-r[0]),y:this.top+u+w,line:0}:p={x:this.left+u,y:Xn(i,this.top+w+u,this.bottom-n[0].height),line:0},H5(this.ctx,e.textDirection);const T=y+u;this.legendItems.forEach((C,E)=>{s.strokeStyle=C.fontColor,s.fillStyle=C.fontColor;const k=s.measureText(C.text).width,A=l.textAlign(C.textAlign||(C.textAlign=o.textAlign)),R=m+f+k;let L=p.x,D=p.y;l.setWidth(this.width),b?E>0&&L+R+u>this.right&&(D=p.y+=T,p.line++,L=p.x=Xn(i,this.left+u,this.right-r[p.line])):E>0&&D+T>this.bottom&&(L=p.x=L+n[p.line].width+u,p.line++,D=p.y=Xn(i,this.top+w+u,this.bottom-n[p.line].height));const M=l.x(L);if(x(M,D,C),L=Hle(A,L+m+f,b?L+R:this.right,e.rtl),v(l.x(L),D,C),b)p.x+=R+u;else if(typeof C.text!="string"){const B=c.lineHeight;p.y+=a3(C,B)+u}else p.y+=T}),G5(this.ctx,e.textDirection)}drawTitle(){const e=this.options,n=e.title,r=Jn(n.font),s=Ls(n.padding);if(!n.display)return;const i=Wc(e.rtl,this.left,this.width),o=this.ctx,a=n.position,l=r.size/2,c=s.top+l;let u,d=this.left,f=this.width;if(this.isHorizontal())f=Math.max(...this.lineWidths),u=this.top+c,d=Xn(e.align,d,this.right-f);else{const m=this.columnSizes.reduce((g,y)=>Math.max(g,y.height),0);u=c+Xn(e.align,this.top,this.bottom-m-e.labels.padding-this._computeTitleHeight())}const p=Xn(a,d,d+f);o.textAlign=i.textAlign(YT(a)),o.textBaseline="middle",o.strokeStyle=n.color,o.fillStyle=n.color,o.font=r.string,eh(o,n.text,p,u,r)}_computeTitleHeight(){const e=this.options.title,n=Jn(e.font),r=Ls(e.padding);return e.display?n.lineHeight+r.height:0}_getLegendItemAt(e,n){let r,s,i;if(Rd(e,this.left,this.right)&&Rd(n,this.top,this.bottom)){for(i=this.legendHitBoxes,r=0;r<i.length;++r)if(s=i[r],Rd(e,s.left,s.left+s.width)&&Rd(n,s.top,s.top+s.height))return this.legendItems[r]}return null}handleEvent(e){const n=this.options;if(!Ide(e.type,n))return;const r=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){const s=this._hoveredItem,i=Rde(s,r);s&&!i&&Ot(n.onLeave,[e,s,this],this),this._hoveredItem=r,r&&!i&&Ot(n.onHover,[e,r,this],this)}else r&&Ot(n.onClick,[e,r,this],this)}}function _de(t,e,n,r,s){const i=Lde(r,t,e,n),o=Pde(s,r,e.lineHeight);return{itemWidth:i,itemHeight:o}}function Lde(t,e,n,r){let s=t.text;return s&&typeof s!="string"&&(s=s.reduce((i,o)=>i.length>o.length?i:o)),e+n.size/2+r.measureText(s).width}function Pde(t,e,n){let r=t;return typeof e.text!="string"&&(r=a3(e,n)),r}function a3(t,e){const n=t.text?t.text.length:0;return e*n}function Ide(t,e){return!!((t==="mousemove"||t==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(t==="click"||t==="mouseup"))}var Dde={id:"legend",_element:t_,start(t,e,n){const r=t.legend=new t_({ctx:t.ctx,options:n,chart:t});bs.configure(t,r,n),bs.addBox(t,r)},stop(t){bs.removeBox(t,t.legend),delete t.legend},beforeUpdate(t,e,n){const r=t.legend;bs.configure(t,r,n),r.options=n},afterUpdate(t){const e=t.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(t,e){e.replay||t.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(t,e,n){const r=e.datasetIndex,s=n.chart;s.isDatasetVisible(r)?(s.hide(r),e.hidden=!0):(s.show(r),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:t=>t.chart.options.color,boxWidth:40,padding:10,generateLabels(t){const e=t.data.datasets,{labels:{usePointStyle:n,pointStyle:r,textAlign:s,color:i,useBorderRadius:o,borderRadius:a}}=t.legend.options;return t._getSortedDatasetMetas().map(l=>{const c=l.controller.getStyle(n?0:void 0),u=Ls(c.borderWidth);return{text:e[l.index].label,fillStyle:c.backgroundColor,fontColor:i,hidden:!l.visible,lineCap:c.borderCapStyle,lineDash:c.borderDash,lineDashOffset:c.borderDashOffset,lineJoin:c.borderJoinStyle,lineWidth:(u.width+u.height)/4,strokeStyle:c.borderColor,pointStyle:r||c.pointStyle,rotation:c.rotation,textAlign:s||c.textAlign,borderRadius:o&&(a||c.borderRadius),datasetIndex:l.index}},this)}},title:{color:t=>t.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:t=>!t.startsWith("on"),labels:{_scriptable:t=>!["generateLabels","filter","sort"].includes(t)}}};class l3 extends Nl{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,n){const r=this.options;if(this.left=0,this.top=0,!r.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=e,this.height=this.bottom=n;const s=Pn(r.text)?r.text.length:1;this._padding=Ls(r.padding);const i=s*Jn(r.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=i:this.width=i}isHorizontal(){const e=this.options.position;return e==="top"||e==="bottom"}_drawArgs(e){const{top:n,left:r,bottom:s,right:i,options:o}=this,a=o.align;let l=0,c,u,d;return this.isHorizontal()?(u=Xn(a,r,i),d=n+e,c=i-r):(o.position==="left"?(u=r+e,d=Xn(a,s,n),l=Dn*-.5):(u=i-e,d=Xn(a,n,s),l=Dn*.5),c=s-n),{titleX:u,titleY:d,maxWidth:c,rotation:l}}draw(){const e=this.ctx,n=this.options;if(!n.display)return;const r=Jn(n.font),i=r.lineHeight/2+this._padding.top,{titleX:o,titleY:a,maxWidth:l,rotation:c}=this._drawArgs(i);eh(e,n.text,0,0,r,{color:n.color,maxWidth:l,rotation:c,textAlign:YT(n.align),textBaseline:"middle",translation:[o,a]})}}function Mde(t,e){const n=new l3({ctx:t.ctx,options:e,chart:t});bs.configure(t,n,e),bs.addBox(t,n),t.titleBlock=n}var Ode={id:"title",_element:l3,start(t,e,n){Mde(t,n)},stop(t){const e=t.titleBlock;bs.removeBox(t,e),delete t.titleBlock},beforeUpdate(t,e,n){const r=t.titleBlock;bs.configure(t,r,n),r.options=n},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Pd={average(t){if(!t.length)return!1;let e,n,r=new Set,s=0,i=0;for(e=0,n=t.length;e<n;++e){const a=t[e].element;if(a&&a.hasValue()){const l=a.tooltipPosition();r.add(l.x),s+=l.y,++i}}return i===0||r.size===0?!1:{x:[...r].reduce((a,l)=>a+l)/r.size,y:s/i}},nearest(t,e){if(!t.length)return!1;let n=e.x,r=e.y,s=Number.POSITIVE_INFINITY,i,o,a;for(i=0,o=t.length;i<o;++i){const l=t[i].element;if(l&&l.hasValue()){const c=l.getCenterPoint(),u=K1(e,c);u<s&&(s=u,a=l)}}if(a){const l=a.tooltipPosition();n=l.x,r=l.y}return{x:n,y:r}}};function ci(t,e){return e&&(Pn(e)?Array.prototype.push.apply(t,e):t.push(e)),t}function Vi(t){return(typeof t=="string"||t instanceof String)&&t.indexOf(`
`)>-1?t.split(`
`):t}function Fde(t,e){const{element:n,datasetIndex:r,index:s}=e,i=t.getDatasetMeta(r).controller,{label:o,value:a}=i.getLabelAndValue(s);return{chart:t,label:o,parsed:i.getParsed(s),raw:t.data.datasets[r].data[s],formattedValue:a,dataset:i.getDataset(),dataIndex:s,datasetIndex:r,element:n}}function n_(t,e){const n=t.chart.ctx,{body:r,footer:s,title:i}=t,{boxWidth:o,boxHeight:a}=e,l=Jn(e.bodyFont),c=Jn(e.titleFont),u=Jn(e.footerFont),d=i.length,f=s.length,p=r.length,m=Ls(e.padding);let g=m.height,y=0,x=r.reduce((w,T)=>w+T.before.length+T.lines.length+T.after.length,0);if(x+=t.beforeBody.length+t.afterBody.length,d&&(g+=d*c.lineHeight+(d-1)*e.titleSpacing+e.titleMarginBottom),x){const w=e.displayColors?Math.max(a,l.lineHeight):l.lineHeight;g+=p*w+(x-p)*l.lineHeight+(x-1)*e.bodySpacing}f&&(g+=e.footerMarginTop+f*u.lineHeight+(f-1)*e.footerSpacing);let v=0;const b=function(w){y=Math.max(y,n.measureText(w).width+v)};return n.save(),n.font=c.string,mt(t.title,b),n.font=l.string,mt(t.beforeBody.concat(t.afterBody),b),v=e.displayColors?o+2+e.boxPadding:0,mt(r,w=>{mt(w.before,b),mt(w.lines,b),mt(w.after,b)}),v=0,n.font=u.string,mt(t.footer,b),n.restore(),y+=m.width,{width:y,height:g}}function Nde(t,e){const{y:n,height:r}=e;return n<r/2?"top":n>t.height-r/2?"bottom":"center"}function jde(t,e,n,r){const{x:s,width:i}=r,o=n.caretSize+n.caretPadding;if(t==="left"&&s+i+o>e.width||t==="right"&&s-i-o<0)return!0}function Bde(t,e,n,r){const{x:s,width:i}=n,{width:o,chartArea:{left:a,right:l}}=t;let c="center";return r==="center"?c=s<=(a+l)/2?"left":"right":s<=i/2?c="left":s>=o-i/2&&(c="right"),jde(c,t,e,n)&&(c="center"),c}function r_(t,e,n){const r=n.yAlign||e.yAlign||Nde(t,n);return{xAlign:n.xAlign||e.xAlign||Bde(t,e,n,r),yAlign:r}}function $de(t,e){let{x:n,width:r}=t;return e==="right"?n-=r:e==="center"&&(n-=r/2),n}function zde(t,e,n){let{y:r,height:s}=t;return e==="top"?r+=n:e==="bottom"?r-=s+n:r-=s/2,r}function s_(t,e,n,r){const{caretSize:s,caretPadding:i,cornerRadius:o}=t,{xAlign:a,yAlign:l}=n,c=s+i,{topLeft:u,topRight:d,bottomLeft:f,bottomRight:p}=of(o);let m=$de(e,a);const g=zde(e,l,c);return l==="center"?a==="left"?m+=c:a==="right"&&(m-=c):a==="left"?m-=Math.max(u,f)+s:a==="right"&&(m+=Math.max(d,p)+s),{x:xs(m,0,r.width-e.width),y:xs(g,0,r.height-e.height)}}function Ip(t,e,n){const r=Ls(n.padding);return e==="center"?t.x+t.width/2:e==="right"?t.x+t.width-r.right:t.x+r.left}function i_(t){return ci([],Vi(t))}function Ude(t,e,n){return Fl(t,{tooltip:e,tooltipItems:n,type:"tooltip"})}function o_(t,e){const n=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return n?t.override(n):t}const c3={beforeTitle:Bi,title(t){if(t.length>0){const e=t[0],n=e.chart.data.labels,r=n?n.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(r>0&&e.dataIndex<r)return n[e.dataIndex]}return""},afterTitle:Bi,beforeBody:Bi,beforeLabel:Bi,label(t){if(this&&this.options&&this.options.mode==="dataset")return t.label+": "+t.formattedValue||t.formattedValue;let e=t.dataset.label||"";e&&(e+=": ");const n=t.formattedValue;return nn(n)||(e+=n),e},labelColor(t){const n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{borderColor:n.borderColor,backgroundColor:n.backgroundColor,borderWidth:n.borderWidth,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(t){const n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{pointStyle:n.pointStyle,rotation:n.rotation}},afterLabel:Bi,afterBody:Bi,beforeFooter:Bi,footer:Bi,afterFooter:Bi};function yr(t,e,n,r){const s=t[e].call(n,r);return typeof s>"u"?c3[e].call(n,r):s}class eS extends Nl{constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const n=this.chart,r=this.options.setContext(this.getContext()),s=r.enabled&&n.options.animation&&r.animations,i=new Y5(this.chart,s);return s._cacheable&&(this._cachedAnimations=Object.freeze(i)),i}getContext(){return this.$context||(this.$context=Ude(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,n){const{callbacks:r}=n,s=yr(r,"beforeTitle",this,e),i=yr(r,"title",this,e),o=yr(r,"afterTitle",this,e);let a=[];return a=ci(a,Vi(s)),a=ci(a,Vi(i)),a=ci(a,Vi(o)),a}getBeforeBody(e,n){return i_(yr(n.callbacks,"beforeBody",this,e))}getBody(e,n){const{callbacks:r}=n,s=[];return mt(e,i=>{const o={before:[],lines:[],after:[]},a=o_(r,i);ci(o.before,Vi(yr(a,"beforeLabel",this,i))),ci(o.lines,yr(a,"label",this,i)),ci(o.after,Vi(yr(a,"afterLabel",this,i))),s.push(o)}),s}getAfterBody(e,n){return i_(yr(n.callbacks,"afterBody",this,e))}getFooter(e,n){const{callbacks:r}=n,s=yr(r,"beforeFooter",this,e),i=yr(r,"footer",this,e),o=yr(r,"afterFooter",this,e);let a=[];return a=ci(a,Vi(s)),a=ci(a,Vi(i)),a=ci(a,Vi(o)),a}_createItems(e){const n=this._active,r=this.chart.data,s=[],i=[],o=[];let a=[],l,c;for(l=0,c=n.length;l<c;++l)a.push(Fde(this.chart,n[l]));return e.filter&&(a=a.filter((u,d,f)=>e.filter(u,d,f,r))),e.itemSort&&(a=a.sort((u,d)=>e.itemSort(u,d,r))),mt(a,u=>{const d=o_(e.callbacks,u);s.push(yr(d,"labelColor",this,u)),i.push(yr(d,"labelPointStyle",this,u)),o.push(yr(d,"labelTextColor",this,u))}),this.labelColors=s,this.labelPointStyles=i,this.labelTextColors=o,this.dataPoints=a,a}update(e,n){const r=this.options.setContext(this.getContext()),s=this._active;let i,o=[];if(!s.length)this.opacity!==0&&(i={opacity:0});else{const a=Pd[r.position].call(this,s,this._eventPosition);o=this._createItems(r),this.title=this.getTitle(o,r),this.beforeBody=this.getBeforeBody(o,r),this.body=this.getBody(o,r),this.afterBody=this.getAfterBody(o,r),this.footer=this.getFooter(o,r);const l=this._size=n_(this,r),c=Object.assign({},a,l),u=r_(this.chart,r,c),d=s_(r,c,u,this.chart);this.xAlign=u.xAlign,this.yAlign=u.yAlign,i={opacity:1,x:d.x,y:d.y,width:l.width,height:l.height,caretX:a.x,caretY:a.y}}this._tooltipItems=o,this.$context=void 0,i&&this._resolveAnimations().update(this,i),e&&r.external&&r.external.call(this,{chart:this.chart,tooltip:this,replay:n})}drawCaret(e,n,r,s){const i=this.getCaretPosition(e,r,s);n.lineTo(i.x1,i.y1),n.lineTo(i.x2,i.y2),n.lineTo(i.x3,i.y3)}getCaretPosition(e,n,r){const{xAlign:s,yAlign:i}=this,{caretSize:o,cornerRadius:a}=r,{topLeft:l,topRight:c,bottomLeft:u,bottomRight:d}=of(a),{x:f,y:p}=e,{width:m,height:g}=n;let y,x,v,b,w,T;return i==="center"?(w=p+g/2,s==="left"?(y=f,x=y-o,b=w+o,T=w-o):(y=f+m,x=y+o,b=w-o,T=w+o),v=y):(s==="left"?x=f+Math.max(l,u)+o:s==="right"?x=f+m-Math.max(c,d)-o:x=this.caretX,i==="top"?(b=p,w=b-o,y=x-o,v=x+o):(b=p+g,w=b+o,y=x+o,v=x-o),T=b),{x1:y,x2:x,x3:v,y1:b,y2:w,y3:T}}drawTitle(e,n,r){const s=this.title,i=s.length;let o,a,l;if(i){const c=Wc(r.rtl,this.x,this.width);for(e.x=Ip(this,r.titleAlign,r),n.textAlign=c.textAlign(r.titleAlign),n.textBaseline="middle",o=Jn(r.titleFont),a=r.titleSpacing,n.fillStyle=r.titleColor,n.font=o.string,l=0;l<i;++l)n.fillText(s[l],c.x(e.x),e.y+o.lineHeight/2),e.y+=o.lineHeight+a,l+1===i&&(e.y+=r.titleMarginBottom-a)}}_drawColorBox(e,n,r,s,i){const o=this.labelColors[r],a=this.labelPointStyles[r],{boxHeight:l,boxWidth:c}=i,u=Jn(i.bodyFont),d=Ip(this,"left",i),f=s.x(d),p=l<u.lineHeight?(u.lineHeight-l)/2:0,m=n.y+p;if(i.usePointStyle){const g={radius:Math.min(c,l)/2,pointStyle:a.pointStyle,rotation:a.rotation,borderWidth:1},y=s.leftForLtr(f,c)+c/2,x=m+l/2;e.strokeStyle=i.multiKeyBackground,e.fillStyle=i.multiKeyBackground,q1(e,g,y,x),e.strokeStyle=o.borderColor,e.fillStyle=o.backgroundColor,q1(e,g,y,x)}else{e.lineWidth=ft(o.borderWidth)?Math.max(...Object.values(o.borderWidth)):o.borderWidth||1,e.strokeStyle=o.borderColor,e.setLineDash(o.borderDash||[]),e.lineDashOffset=o.borderDashOffset||0;const g=s.leftForLtr(f,c),y=s.leftForLtr(s.xPlus(f,1),c-2),x=of(o.borderRadius);Object.values(x).some(v=>v!==0)?(e.beginPath(),e.fillStyle=i.multiKeyBackground,X1(e,{x:g,y:m,w:c,h:l,radius:x}),e.fill(),e.stroke(),e.fillStyle=o.backgroundColor,e.beginPath(),X1(e,{x:y,y:m+1,w:c-2,h:l-2,radius:x}),e.fill()):(e.fillStyle=i.multiKeyBackground,e.fillRect(g,m,c,l),e.strokeRect(g,m,c,l),e.fillStyle=o.backgroundColor,e.fillRect(y,m+1,c-2,l-2))}e.fillStyle=this.labelTextColors[r]}drawBody(e,n,r){const{body:s}=this,{bodySpacing:i,bodyAlign:o,displayColors:a,boxHeight:l,boxWidth:c,boxPadding:u}=r,d=Jn(r.bodyFont);let f=d.lineHeight,p=0;const m=Wc(r.rtl,this.x,this.width),g=function(k){n.fillText(k,m.x(e.x+p),e.y+f/2),e.y+=f+i},y=m.textAlign(o);let x,v,b,w,T,C,E;for(n.textAlign=o,n.textBaseline="middle",n.font=d.string,e.x=Ip(this,y,r),n.fillStyle=r.bodyColor,mt(this.beforeBody,g),p=a&&y!=="right"?o==="center"?c/2+u:c+2+u:0,w=0,C=s.length;w<C;++w){for(x=s[w],v=this.labelTextColors[w],n.fillStyle=v,mt(x.before,g),b=x.lines,a&&b.length&&(this._drawColorBox(n,e,w,m,r),f=Math.max(d.lineHeight,l)),T=0,E=b.length;T<E;++T)g(b[T]),f=d.lineHeight;mt(x.after,g)}p=0,f=d.lineHeight,mt(this.afterBody,g),e.y-=i}drawFooter(e,n,r){const s=this.footer,i=s.length;let o,a;if(i){const l=Wc(r.rtl,this.x,this.width);for(e.x=Ip(this,r.footerAlign,r),e.y+=r.footerMarginTop,n.textAlign=l.textAlign(r.footerAlign),n.textBaseline="middle",o=Jn(r.footerFont),n.fillStyle=r.footerColor,n.font=o.string,a=0;a<i;++a)n.fillText(s[a],l.x(e.x),e.y+o.lineHeight/2),e.y+=o.lineHeight+r.footerSpacing}}drawBackground(e,n,r,s){const{xAlign:i,yAlign:o}=this,{x:a,y:l}=e,{width:c,height:u}=r,{topLeft:d,topRight:f,bottomLeft:p,bottomRight:m}=of(s.cornerRadius);n.fillStyle=s.backgroundColor,n.strokeStyle=s.borderColor,n.lineWidth=s.borderWidth,n.beginPath(),n.moveTo(a+d,l),o==="top"&&this.drawCaret(e,n,r,s),n.lineTo(a+c-f,l),n.quadraticCurveTo(a+c,l,a+c,l+f),o==="center"&&i==="right"&&this.drawCaret(e,n,r,s),n.lineTo(a+c,l+u-m),n.quadraticCurveTo(a+c,l+u,a+c-m,l+u),o==="bottom"&&this.drawCaret(e,n,r,s),n.lineTo(a+p,l+u),n.quadraticCurveTo(a,l+u,a,l+u-p),o==="center"&&i==="left"&&this.drawCaret(e,n,r,s),n.lineTo(a,l+d),n.quadraticCurveTo(a,l,a+d,l),n.closePath(),n.fill(),s.borderWidth>0&&n.stroke()}_updateAnimationTarget(e){const n=this.chart,r=this.$animations,s=r&&r.x,i=r&&r.y;if(s||i){const o=Pd[e.position].call(this,this._active,this._eventPosition);if(!o)return;const a=this._size=n_(this,e),l=Object.assign({},o,this._size),c=r_(n,e,l),u=s_(e,l,c,n);(s._to!==u.x||i._to!==u.y)&&(this.xAlign=c.xAlign,this.yAlign=c.yAlign,this.width=a.width,this.height=a.height,this.caretX=o.x,this.caretY=o.y,this._resolveAnimations().update(this,u))}}_willRender(){return!!this.opacity}draw(e){const n=this.options.setContext(this.getContext());let r=this.opacity;if(!r)return;this._updateAnimationTarget(n);const s={width:this.width,height:this.height},i={x:this.x,y:this.y};r=Math.abs(r)<.001?0:r;const o=Ls(n.padding),a=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;n.enabled&&a&&(e.save(),e.globalAlpha=r,this.drawBackground(i,e,s,n),H5(e,n.textDirection),i.y+=o.top,this.drawTitle(i,e,n),this.drawBody(i,e,n),this.drawFooter(i,e,n),G5(e,n.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,n){const r=this._active,s=e.map(({datasetIndex:a,index:l})=>{const c=this.chart.getDatasetMeta(a);if(!c)throw new Error("Cannot find a dataset at index "+a);return{datasetIndex:a,element:c.data[l],index:l}}),i=!Ng(r,s),o=this._positionChanged(s,n);(i||o)&&(this._active=s,this._eventPosition=n,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,n,r=!0){if(n&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const s=this.options,i=this._active||[],o=this._getActiveElements(e,i,n,r),a=this._positionChanged(o,e),l=n||!Ng(o,i)||a;return l&&(this._active=o,(s.enabled||s.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,n))),l}_getActiveElements(e,n,r,s){const i=this.options;if(e.type==="mouseout")return[];if(!s)return n.filter(a=>this.chart.data.datasets[a.datasetIndex]&&this.chart.getDatasetMeta(a.datasetIndex).controller.getParsed(a.index)!==void 0);const o=this.chart.getElementsAtEventForMode(e,i.mode,i,r);return i.reverse&&o.reverse(),o}_positionChanged(e,n){const{caretX:r,caretY:s,options:i}=this,o=Pd[i.position].call(this,e,n);return o!==!1&&(r!==o.x||s!==o.y)}}We(eS,"positioners",Pd);var Vde={id:"tooltip",_element:eS,positioners:Pd,afterInit(t,e,n){n&&(t.tooltip=new eS({chart:t,options:n}))},beforeUpdate(t,e,n){t.tooltip&&t.tooltip.initialize(n)},reset(t,e,n){t.tooltip&&t.tooltip.initialize(n)},afterDraw(t){const e=t.tooltip;if(e&&e._willRender()){const n={tooltip:e};if(t.notifyPlugins("beforeTooltipDraw",{...n,cancelable:!0})===!1)return;e.draw(t.ctx),t.notifyPlugins("afterTooltipDraw",n)}},afterEvent(t,e){if(t.tooltip){const n=e.replay;t.tooltip.handleEvent(e.event,n,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(t,e)=>e.bodyFont.size,boxWidth:(t,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:c3},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:t=>t!=="filter"&&t!=="itemSort"&&t!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const Wde=(t,e,n,r)=>(typeof e=="string"?(n=t.push(e)-1,r.unshift({index:n,label:e})):isNaN(e)&&(n=null),n);function Hde(t,e,n,r){const s=t.indexOf(e);if(s===-1)return Wde(t,e,n,r);const i=t.lastIndexOf(e);return s!==i?n:s}const Gde=(t,e)=>t===null?null:xs(Math.round(t),0,e);function a_(t){const e=this.getLabels();return t>=0&&t<e.length?e[t]:t}class tS extends Nu{constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const n=this._addedLabels;if(n.length){const r=this.getLabels();for(const{index:s,label:i}of n)r[s]===i&&r.splice(s,1);this._addedLabels=[]}super.init(e)}parse(e,n){if(nn(e))return null;const r=this.getLabels();return n=isFinite(n)&&r[n]===e?n:Hde(r,e,tt(n,e),this._addedLabels),Gde(n,r.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:n}=this.getUserBounds();let{min:r,max:s}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(r=0),n||(s=this.getLabels().length-1)),this.min=r,this.max=s}buildTicks(){const e=this.min,n=this.max,r=this.options.offset,s=[];let i=this.getLabels();i=e===0&&n===i.length-1?i:i.slice(e,n+1),this._valueRange=Math.max(i.length-(r?0:1),1),this._startValue=this.min-(r?.5:0);for(let o=e;o<=n;o++)s.push({value:o});return s}getLabelForValue(e){return a_.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}We(tS,"id","category"),We(tS,"defaults",{ticks:{callback:a_}});function Kde(t,e){const n=[],{bounds:s,step:i,min:o,max:a,precision:l,count:c,maxTicks:u,maxDigits:d,includeBounds:f}=t,p=i||1,m=u-1,{min:g,max:y}=e,x=!nn(o),v=!nn(a),b=!nn(c),w=(y-g)/(d+1);let T=fR((y-g)/m/p)*p,C,E,k,A;if(T<1e-14&&!x&&!v)return[{value:g},{value:y}];A=Math.ceil(y/T)-Math.floor(g/T),A>m&&(T=fR(A*T/m/p)*p),nn(l)||(C=Math.pow(10,l),T=Math.ceil(T*C)/C),s==="ticks"?(E=Math.floor(g/T)*T,k=Math.ceil(y/T)*T):(E=g,k=y),x&&v&&i&&Mle((a-o)/i,T/1e3)?(A=Math.round(Math.min((a-o)/T,u)),T=(a-o)/A,E=o,k=a):b?(E=x?o:E,k=v?a:k,A=c-1,T=(k-E)/A):(A=(k-E)/T,nf(A,Math.round(A),T/1e3)?A=Math.round(A):A=Math.ceil(A));const R=Math.max(hR(T),hR(E));C=Math.pow(10,nn(l)?R:l),E=Math.round(E*C)/C,k=Math.round(k*C)/C;let L=0;for(x&&(f&&E!==o?(n.push({value:o}),E<o&&L++,nf(Math.round((E+L*T)*C)/C,o,l_(o,w,t))&&L++):E<o&&L++);L<A;++L){const D=Math.round((E+L*T)*C)/C;if(v&&D>a)break;n.push({value:D})}return v&&f&&k!==a?n.length&&nf(n[n.length-1].value,a,l_(a,w,t))?n[n.length-1].value=a:n.push({value:a}):(!v||k===a)&&n.push({value:k}),n}function l_(t,e,{horizontal:n,minRotation:r}){const s=Ja(r),i=(n?Math.sin(s):Math.cos(s))||.001,o=.75*e*(""+t).length;return Math.min(e/i,o)}class Yde extends Nu{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,n){return nn(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:n,maxDefined:r}=this.getUserBounds();let{min:s,max:i}=this;const o=l=>s=n?s:l,a=l=>i=r?i:l;if(e){const l=pu(s),c=pu(i);l<0&&c<0?a(0):l>0&&c>0&&o(0)}if(s===i){let l=i===0?1:Math.abs(i*.05);a(i+l),e||o(s-l)}this.min=s,this.max=i}getTickLimit(){const e=this.options.ticks;let{maxTicksLimit:n,stepSize:r}=e,s;return r?(s=Math.ceil(this.max/r)-Math.floor(this.min/r)+1,s>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${r} would result generating up to ${s} ticks. Limiting to 1000.`),s=1e3)):(s=this.computeTickLimit(),n=n||11),n&&(s=Math.min(n,s)),s}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,n=e.ticks;let r=this.getTickLimit();r=Math.max(2,r);const s={maxTicks:r,bounds:e.bounds,min:e.min,max:e.max,precision:n.precision,step:n.stepSize,count:n.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:n.minRotation||0,includeBounds:n.includeBounds!==!1},i=this._range||this,o=Kde(s,i);return e.bounds==="ticks"&&Ole(o,this,"value"),e.reverse?(o.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),o}configure(){const e=this.ticks;let n=this.min,r=this.max;if(super.configure(),this.options.offset&&e.length){const s=(r-n)/Math.max(e.length-1,1)/2;n-=s,r+=s}this._startValue=n,this._endValue=r,this._valueRange=r-n}getLabelForValue(e){return O5(e,this.chart.options.locale,this.options.ticks.format)}}class nS extends Yde{determineDataLimits(){const{min:e,max:n}=this.getMinMax(!0);this.min=_s(e)?e:0,this.max=_s(n)?n:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),n=e?this.width:this.height,r=Ja(this.options.ticks.minRotation),s=(e?Math.sin(r):Math.cos(r))||.001,i=this._resolveTickFontOptions(0);return Math.ceil(n/Math.min(40,i.lineHeight/s))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}We(nS,"id","linear"),We(nS,"defaults",{ticks:{callback:N5.formatters.numeric}});const yy={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Tr=Object.keys(yy);function c_(t,e){return t-e}function u_(t,e){if(nn(e))return null;const n=t._adapter,{parser:r,round:s,isoWeekday:i}=t._parseOpts;let o=e;return typeof r=="function"&&(o=r(o)),_s(o)||(o=typeof r=="string"?n.parse(o,r):n.parse(o)),o===null?null:(s&&(o=s==="week"&&(Zf(i)||i===!0)?n.startOf(o,"isoWeek",i):n.startOf(o,s)),+o)}function d_(t,e,n,r){const s=Tr.length;for(let i=Tr.indexOf(t);i<s-1;++i){const o=yy[Tr[i]],a=o.steps?o.steps:Number.MAX_SAFE_INTEGER;if(o.common&&Math.ceil((n-e)/(a*o.size))<=r)return Tr[i]}return Tr[s-1]}function qde(t,e,n,r,s){for(let i=Tr.length-1;i>=Tr.indexOf(n);i--){const o=Tr[i];if(yy[o].common&&t._adapter.diff(s,r,o)>=e-1)return o}return Tr[n?Tr.indexOf(n):0]}function Xde(t){for(let e=Tr.indexOf(t)+1,n=Tr.length;e<n;++e)if(yy[Tr[e]].common)return Tr[e]}function f_(t,e,n){if(!n)t[e]=!0;else if(n.length){const{lo:r,hi:s}=KT(n,e),i=n[r]>=e?n[r]:n[s];t[i]=!0}}function Qde(t,e,n,r){const s=t._adapter,i=+s.startOf(e[0].value,r),o=e[e.length-1].value;let a,l;for(a=i;a<=o;a=+s.add(a,1,r))l=n[a],l>=0&&(e[l].major=!0);return e}function h_(t,e,n){const r=[],s={},i=e.length;let o,a;for(o=0;o<i;++o)a=e[o],s[a]=o,r.push({value:a,major:!1});return i===0||!n?r:Qde(t,r,s,n)}class Wg extends Nu{constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,n={}){const r=e.time||(e.time={}),s=this._adapter=new cue._date(e.adapters.date);s.init(n),tf(r.displayFormats,s.formats()),this._parseOpts={parser:r.parser,round:r.round,isoWeekday:r.isoWeekday},super.init(e),this._normalized=n.normalized}parse(e,n){return e===void 0?null:u_(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,n=this._adapter,r=e.time.unit||"day";let{min:s,max:i,minDefined:o,maxDefined:a}=this.getUserBounds();function l(c){!o&&!isNaN(c.min)&&(s=Math.min(s,c.min)),!a&&!isNaN(c.max)&&(i=Math.max(i,c.max))}(!o||!a)&&(l(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&l(this.getMinMax(!1))),s=_s(s)&&!isNaN(s)?s:+n.startOf(Date.now(),r),i=_s(i)&&!isNaN(i)?i:+n.endOf(Date.now(),r)+1,this.min=Math.min(s,i-1),this.max=Math.max(s+1,i)}_getLabelBounds(){const e=this.getLabelTimestamps();let n=Number.POSITIVE_INFINITY,r=Number.NEGATIVE_INFINITY;return e.length&&(n=e[0],r=e[e.length-1]),{min:n,max:r}}buildTicks(){const e=this.options,n=e.time,r=e.ticks,s=r.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&s.length&&(this.min=this._userMin||s[0],this.max=this._userMax||s[s.length-1]);const i=this.min,o=this.max,a=zle(s,i,o);return this._unit=n.unit||(r.autoSkip?d_(n.minUnit,this.min,this.max,this._getLabelCapacity(i)):qde(this,a.length,n.minUnit,this.min,this.max)),this._majorUnit=!r.major.enabled||this._unit==="year"?void 0:Xde(this._unit),this.initOffsets(s),e.reverse&&a.reverse(),h_(this,a,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let n=0,r=0,s,i;this.options.offset&&e.length&&(s=this.getDecimalForValue(e[0]),e.length===1?n=1-s:n=(this.getDecimalForValue(e[1])-s)/2,i=this.getDecimalForValue(e[e.length-1]),e.length===1?r=i:r=(i-this.getDecimalForValue(e[e.length-2]))/2);const o=e.length<3?.5:.25;n=xs(n,0,o),r=xs(r,0,o),this._offsets={start:n,end:r,factor:1/(n+1+r)}}_generate(){const e=this._adapter,n=this.min,r=this.max,s=this.options,i=s.time,o=i.unit||d_(i.minUnit,n,r,this._getLabelCapacity(n)),a=tt(s.ticks.stepSize,1),l=o==="week"?i.isoWeekday:!1,c=Zf(l)||l===!0,u={};let d=n,f,p;if(c&&(d=+e.startOf(d,"isoWeek",l)),d=+e.startOf(d,c?"day":o),e.diff(r,n,o)>1e5*a)throw new Error(n+" and "+r+" are too far apart with stepSize of "+a+" "+o);const m=s.ticks.source==="data"&&this.getDataTimestamps();for(f=d,p=0;f<r;f=+e.add(f,a,o),p++)f_(u,f,m);return(f===r||s.bounds==="ticks"||p===1)&&f_(u,f,m),Object.keys(u).sort(c_).map(g=>+g)}getLabelForValue(e){const n=this._adapter,r=this.options.time;return r.tooltipFormat?n.format(e,r.tooltipFormat):n.format(e,r.displayFormats.datetime)}format(e,n){const s=this.options.time.displayFormats,i=this._unit,o=n||s[i];return this._adapter.format(e,o)}_tickFormatFunction(e,n,r,s){const i=this.options,o=i.ticks.callback;if(o)return Ot(o,[e,n,r],this);const a=i.time.displayFormats,l=this._unit,c=this._majorUnit,u=l&&a[l],d=c&&a[c],f=r[n],p=c&&d&&f&&f.major;return this._adapter.format(e,s||(p?d:u))}generateTickLabels(e){let n,r,s;for(n=0,r=e.length;n<r;++n)s=e[n],s.label=this._tickFormatFunction(s.value,n,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const n=this._offsets,r=this.getDecimalForValue(e);return this.getPixelForDecimal((n.start+r)*n.factor)}getValueForPixel(e){const n=this._offsets,r=this.getDecimalForPixel(e)/n.factor-n.end;return this.min+r*(this.max-this.min)}_getLabelSize(e){const n=this.options.ticks,r=this.ctx.measureText(e).width,s=Ja(this.isHorizontal()?n.maxRotation:n.minRotation),i=Math.cos(s),o=Math.sin(s),a=this._resolveTickFontOptions(0).size;return{w:r*i+a*o,h:r*o+a*i}}_getLabelCapacity(e){const n=this.options.time,r=n.displayFormats,s=r[n.unit]||r.millisecond,i=this._tickFormatFunction(e,0,h_(this,[e],this._majorUnit),s),o=this._getLabelSize(i),a=Math.floor(this.isHorizontal()?this.width/o.w:this.height/o.h)-1;return a>0?a:1}getDataTimestamps(){let e=this._cache.data||[],n,r;if(e.length)return e;const s=this.getMatchingVisibleMetas();if(this._normalized&&s.length)return this._cache.data=s[0].controller.getAllParsedValues(this);for(n=0,r=s.length;n<r;++n)e=e.concat(s[n].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let n,r;if(e.length)return e;const s=this.getLabels();for(n=0,r=s.length;n<r;++n)e.push(u_(this,s[n]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return Vle(e.sort(c_))}}We(Wg,"id","time"),We(Wg,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function Dp(t,e,n){let r=0,s=t.length-1,i,o,a,l;n?(e>=t[r].pos&&e<=t[s].pos&&({lo:r,hi:s}=el(t,"pos",e)),{pos:i,time:a}=t[r],{pos:o,time:l}=t[s]):(e>=t[r].time&&e<=t[s].time&&({lo:r,hi:s}=el(t,"time",e)),{time:i,pos:a}=t[r],{time:o,pos:l}=t[s]);const c=o-i;return c?a+(l-a)*(e-i)/c:a}class p_ extends Wg{constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),n=this._table=this.buildLookupTable(e);this._minPos=Dp(n,this.min),this._tableRange=Dp(n,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:n,max:r}=this,s=[],i=[];let o,a,l,c,u;for(o=0,a=e.length;o<a;++o)c=e[o],c>=n&&c<=r&&s.push(c);if(s.length<2)return[{time:n,pos:0},{time:r,pos:1}];for(o=0,a=s.length;o<a;++o)u=s[o+1],l=s[o-1],c=s[o],Math.round((u+l)/2)!==c&&i.push({time:c,pos:o/(a-1)});return i}_generate(){const e=this.min,n=this.max;let r=super.getDataTimestamps();return(!r.includes(e)||!r.length)&&r.splice(0,0,e),(!r.includes(n)||r.length===1)&&r.push(n),r.sort((s,i)=>s-i)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const n=this.getDataTimestamps(),r=this.getLabelTimestamps();return n.length&&r.length?e=this.normalize(n.concat(r)):e=n.length?n:r,e=this._cache.all=e,e}getDecimalForValue(e){return(Dp(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const n=this._offsets,r=this.getDecimalForPixel(e)/n.factor-n.end;return Dp(this._table,r*this._tableRange+this._minPos,!0)}}We(p_,"id","timeseries"),We(p_,"defaults",Wg.defaults);const u3="label";function m_(t,e){typeof t=="function"?t(e):t&&(t.current=e)}function Zde(t,e){const n=t.options;n&&e&&Object.assign(n,e)}function d3(t,e){t.labels=e}function f3(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:u3;const r=[];t.datasets=e.map(s=>{const i=t.datasets.find(o=>o[n]===s[n]);return!i||!s.data||r.includes(i)?{...s}:(r.push(i),Object.assign(i,s),i)})}function Jde(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:u3;const n={labels:[],datasets:[]};return d3(n,t.labels),f3(n,t.datasets,e),n}function efe(t,e){const{height:n=150,width:r=300,redraw:s=!1,datasetIdKey:i,type:o,data:a,options:l,plugins:c=[],fallbackContent:u,updateMode:d,...f}=t,p=S.useRef(null),m=S.useRef(),g=()=>{p.current&&(m.current=new gy(p.current,{type:o,data:Jde(a,i),options:l&&{...l},plugins:c}),m_(e,m.current))},y=()=>{m_(e,null),m.current&&(m.current.destroy(),m.current=null)};return S.useEffect(()=>{!s&&m.current&&l&&Zde(m.current,l)},[s,l]),S.useEffect(()=>{!s&&m.current&&d3(m.current.config.data,a.labels)},[s,a.labels]),S.useEffect(()=>{!s&&m.current&&a.datasets&&f3(m.current.config.data,a.datasets,i)},[s,a.datasets]),S.useEffect(()=>{m.current&&(s?(y(),setTimeout(g)):m.current.update(d))},[s,l,a.labels,a.datasets,d]),S.useEffect(()=>{m.current&&(y(),setTimeout(g))},[o]),S.useEffect(()=>(g(),()=>y()),[]),cr.createElement("canvas",Object.assign({ref:p,role:"img",height:n,width:r},f),u)}const tfe=S.forwardRef(efe);function nfe(t,e){return gy.register(e),S.forwardRef((n,r)=>cr.createElement(tfe,Object.assign({},n,{ref:r,type:t})))}const rfe=nfe("line",_m);gy.register(tS,nS,Im,Ld,Ode,Vde,Dde);const sfe=({transactions:t})=>{const[e,n]=S.useState({}),[r,s]=S.useState("profitsLosses");S.useEffect(()=>{if(r==="profitsLosses"){const o=t.reduce((a,l)=>{const c=l.amount;return l.isApproved?(a.profits.push(c),a.labels.push(new Date(l.createdAt).toLocaleDateString())):(l.isCanceled||l.reversed)&&(a.losses.push(c),a.labels.push(new Date(l.createdAt).toLocaleDateString())),a},{profits:[],losses:[],labels:[]});n({labels:o.labels,datasets:[{label:"Profits",data:o.profits,borderColor:"green",backgroundColor:"rgba(0, 255, 0, 0.2)",tension:.4},{label:"Losses",data:o.losses,borderColor:"red",backgroundColor:"rgba(255, 0, 0, 0.2)",tension:.4}]})}else if(r==="transactionCount"){const o=t.reduce((c,u)=>{const d=new Date(u.createdAt).toLocaleDateString();return c[d]=(c[d]||0)+1,c},{}),a=Object.keys(o),l=Object.values(o);n({labels:a,datasets:[{label:"Transaction Count",data:l,borderColor:"blue",backgroundColor:"rgba(0, 0, 255, 0.2)",tension:.4}]})}else if(r==="transactionTypes"){const o=t.reduce((d,f)=>{const p=new Date(f.createdAt).toLocaleDateString();return d.labels.includes(p)||d.labels.push(p),f.isApproved&&(d.approved[p]=(d.approved[p]||0)+1),f.isCanceled&&(d.canceled[p]=(d.canceled[p]||0)+1),f.reversed&&(d.reversed[p]=(d.reversed[p]||0)+1),d},{labels:[],approved:{},canceled:{},reversed:{}}),a=o.labels,l=a.map(d=>o.approved[d]||0),c=a.map(d=>o.canceled[d]||0),u=a.map(d=>o.reversed[d]||0);n({labels:a,datasets:[{label:"Approved",data:l,borderColor:"green",backgroundColor:"rgba(0, 255, 0, 0.2)",tension:.4},{label:"Canceled",data:c,borderColor:"orange",backgroundColor:"rgba(255, 165, 0, 0.2)",tension:.4},{label:"Reversed",data:u,borderColor:"purple",backgroundColor:"rgba(128, 0, 128, 0.2)",tension:.4}]})}else if(r==="transactionTypeEnum"){const o=t.reduce((f,p)=>{const m=new Date(p.createdAt).toLocaleDateString();f.labels.includes(m)||f.labels.push(m);const g=p.transactionType;return f[g][m]=(f[g][m]||0)+1,f},{labels:[],DEPO:{},RETRAIT:{},ABON:{},TELE:{}}),a=o.labels,l=a.map(f=>o.DEPO[f]||0),c=a.map(f=>o.RETRAIT[f]||0),u=a.map(f=>o.ABON[f]||0),d=a.map(f=>o.TELE[f]||0);n({labels:a,datasets:[{label:"DEPO",data:l,borderColor:"blue",backgroundColor:"rgba(0, 0, 255, 0.2)",tension:.4},{label:"RETRAIT",data:c,borderColor:"red",backgroundColor:"rgba(255, 0, 0, 0.2)",tension:.4},{label:"ABON",data:u,borderColor:"orange",backgroundColor:"rgba(255, 165, 0, 0.2)",tension:.4},{label:"TELE",data:d,borderColor:"purple",backgroundColor:"rgba(128, 0, 128, 0.2)",tension:.4}]})}},[t,r]);const i=de("#ffffff","#1A202C");return h.jsxs(oe,{bg:i,p:4,borderRadius:"md",boxShadow:"md",children:[h.jsx(W,{fontSize:"xl",mb:4,fontWeight:"bold",children:"Transaction Analysis"}),h.jsxs(Pr,{mb:4,value:r,onChange:o=>s(o.target.value),children:[h.jsx("option",{value:"profitsLosses",children:"Profits & Losses Over Time"}),h.jsx("option",{value:"transactionCount",children:"Transaction Count Over Time"}),h.jsx("option",{value:"transactionTypes",children:"Transaction Types Over Time"}),h.jsx("option",{value:"transactionTypeEnum",children:"Transaction Types (DEPO, RETRAIT, ABON, TELE) Over Time"})]}),e.labels&&e.labels.length>0?h.jsx(rfe,{data:e,options:{responsive:!0,plugins:{legend:{position:"top"},title:{display:!0,text:r==="profitsLosses"?"Profits and Losses":r==="transactionCount"?"Transaction Count":r==="transactionTypes"?"Transaction Status Types Over Time":"Transaction Types (DEPO, RETRAIT, ABON, TELE) Over Time"}},scales:{y:{beginAtZero:!0,title:{display:!0,text:r==="profitsLosses"?"Amount":"Count"}},x:{title:{display:!0,text:"Date"}}}}}):h.jsx(W,{children:"No data available for this analysis."})]})},ife=()=>{const{getAllMoneyFlow:t,moneyflow:e,loading:n}=py(),[r,s]=S.useState([]),[i,o]=S.useState("createdAt"),[a,l]=S.useState(""),c=de("#f4f6f8","#1A202C"),u=de("#333","#F7FAFC");S.useEffect(()=>{t(),console.log(e)},[]),S.useEffect(()=>{let g=[...e];i!=="createdAt"?i==="Tous les types"?g=[...e]:g=g.filter(y=>y.type===i):g.sort((y,x)=>new Date(x.createdAt)-new Date(y.createdAt)),s(g)},[e,i]);const d=g=>g.isApproved?"Approuv":"Non Approuv",f=g=>g.isApproved?"green.100":"pink.100",p=["Tous les types","createdAt",...new Set(e==null?void 0:e.map(g=>g.type))],m=r.filter(g=>Object.values(g).some(y=>typeof y=="string"?y.toLowerCase().includes(a.toLowerCase()):typeof y=="number"?y.toString().includes(a):!1));return h.jsx(He,{p:0,m:0,children:h.jsxs(oe,{p:2,m:0,bg:c,color:u,mt:"3",children:[h.jsxs(fe,{mb:4,alignItems:"center",children:[h.jsx(W,{fontWeight:"bold",mr:2,children:"Trier par :"}),h.jsx(Pr,{value:i,onChange:g=>o(g.target.value),mr:4,children:p==null?void 0:p.map(g=>h.jsx("option",{value:g==="Tous les types"?"createdAt":g,children:g},g))}),h.jsx(Ct,{placeholder:"Rechercher des transactions...",value:a,onChange:g=>l(g.target.value),mr:4})]}),n?h.jsx(fe,{justify:"center",align:"center",height:"100px",children:h.jsx(kn,{})}):h.jsx(oe,{borderTop:"1px solid #ddd",pt:2,children:m.length?h.jsx(wh,{templateColumns:{base:"1fr",md:"repeat(3, 1fr)",lg:"repeat(5, 1fr)"},gap:4,children:m.map(g=>h.jsxs(oe,{p:4,bg:f(g),boxShadow:"sm",color:"black",children:[h.jsxs(W,{children:[h.jsx("strong",{children:"Montant :"})," ",g.amount]}),h.jsxs(W,{children:[h.jsx("strong",{children:"Numro de tlphone :"})," ",g.phonenumeber]}),h.jsxs(W,{children:[h.jsx("strong",{children:"Statut :"})," ",d(g)]}),h.jsxs(W,{children:[h.jsx("strong",{children:"ID de transaction :"})," ",g.ID]}),h.jsxs(W,{children:[h.jsx("strong",{children:"Type :"})," ",g.type]}),h.jsxs(W,{children:[h.jsx("strong",{children:"Moyen :"})," ",g.mean]})]},g.id))}):h.jsx(W,{textAlign:"center",color:"#777",children:"Aucune transaction trouve."})})]})})},ofe=()=>{const{currency:t}=Pt(),{getAllTransactions:e,transactions:n,loading:r}=py(),[s,i]=S.useState([]),[o,a]=S.useState("createdAt"),[l,c]=S.useState(""),[u,d]=S.useState(!0),f=de("#f4f6f8","#1A202C"),p=de("#333","#F7FAFC");S.useEffect(()=>{e()},[]),S.useEffect(()=>{let v=[...n];o!=="createdAt"?o==="Tous les types"?v=[...n]:v=v.filter(b=>b.transactionType===o):v.sort((b,w)=>new Date(w.createdAt)-new Date(b.createdAt)),i(v)},[n,o]);const m=v=>v.reversed?"retourn":v.isPending?"En attente":v.isCanceled?"Annul":"Inconnu",g=v=>v.reversed?"purple.100":v.isApproved?"green.100":v.isPending?"yellow.100":v.isCanceled?"pink.100":"white",y=["Tous les types","createdAt",...new Set(n.map(v=>v.transactionType))],x=s.filter(v=>Object.values(v).some(b=>typeof b=="string"?b.toLowerCase().includes(l.toLowerCase()):typeof b=="number"?b.toString().includes(l):!1)||m(v)&&m(v).toLowerCase().includes(l.toLowerCase()));return h.jsxs(Gf,{variant:"soft-rounded",colorScheme:"teal",p:2,children:[h.jsxs(Kf,{m:0,p:0,children:[h.jsxs(no,{children:[h.jsx(k5,{style:{display:"inline",marginRight:"8px"}}),"User Transactions"]}),h.jsx(no,{children:"Moneyflow"})," ",h.jsx(no,{children:"Statistics"})," "]}),h.jsxs(Yf,{m:0,p:2,children:[h.jsx(ro,{mt:2,p:0,children:h.jsx(He,{p:0,m:0,children:h.jsxs(oe,{p:2,m:0,bg:f,color:p,mt:"3",children:[h.jsxs(fe,{mb:4,alignItems:"center",children:[h.jsx(W,{fontWeight:"bold",mr:2,children:"Trier par :"}),h.jsx(Pr,{value:o,onChange:v=>a(v.target.value),mr:4,children:y.map(v=>h.jsx("option",{value:v==="Tous les types"?"createdAt":v,children:v},v))}),h.jsx(Ct,{placeholder:"Rechercher des transactions...",value:l,onChange:v=>c(v.target.value),mr:4}),h.jsxs(fe,{alignItems:"center",children:[h.jsx(W,{mr:2,children:"Afficher les images"}),h.jsx(fu,{colorScheme:"teal",isChecked:u,onChange:()=>d(!u)})]})]}),r?h.jsx(fe,{justify:"center",align:"center",height:"100px",children:h.jsx(kn,{})}):h.jsx(oe,{borderTop:"1px solid #ddd",pt:2,children:x.length?h.jsx(wh,{templateColumns:{base:"1fr",md:"repeat(3, 1fr)",lg:"repeat(5, 1fr)"},gap:4,children:x.map(v=>h.jsxs(oe,{p:4,bg:g(v),boxShadow:"sm",color:"black",children:[h.jsxs(W,{children:[h.jsx("strong",{children:"Montant :"})," ",v.amount," ",t]}),h.jsxs(W,{children:[h.jsx("strong",{children:"Numro de tlphone :"})," ",v.phonenumber]}),h.jsxs(W,{children:[h.jsx("strong",{children:"Statut :"})," ",m(v)]}),h.jsxs(W,{children:[h.jsx("strong",{children:"ID de transaction :"})," ",v.ID]}),h.jsxs(W,{children:[h.jsx("strong",{children:"Type :"})," ",v.transactionType]}),h.jsxs(W,{children:[h.jsx("strong",{children:"Cr le :"})," ",new Date(v.createdAt).toLocaleString()]}),u&&v.imageBase64&&h.jsxs(oe,{children:[h.jsx("strong",{children:"Image :"}),h.jsx("img",{src:`data:image/png;base64,${v.imageBase64}`,alt:"Transaction",style:{maxWidth:"100px",maxHeight:"100px",marginTop:"10px"}})]})]},v.id))}):h.jsx(W,{textAlign:"center",color:"#777",children:"Aucune transaction trouve."})})]})})}),h.jsx(ro,{children:h.jsx(ife,{})}),h.jsxs(ro,{mt:2,p:0,children:[h.jsx(sfe,{transactions:n})," "]})]})]})},afe=()=>{const t=rn({base:2,md:4}),e=rn({base:"auto",md:"100vh"}),[n,r]=S.useState(()=>{const s=localStorage.getItem("activeTabIndex");return s?parseInt(s,10):0});return S.useEffect(()=>{localStorage.setItem("activeTabIndex",n)},[n]),h.jsx(Kae,{children:h.jsx(fe,{height:e,direction:"column",children:h.jsx(oe,{flex:"1",p:t,overflowY:"auto",css:{"&::-webkit-scrollbar":{display:"none"},msOverflowStyle:"none",scrollbarWidth:"none"},children:h.jsxs(Gf,{isFitted:!0,variant:"enclosed",colorScheme:"teal",size:rn({base:"sm",md:"md"}),index:n,onChange:s=>r(s),children:[h.jsxs(Kf,{mb:"1em",children:[h.jsx(no,{children:"Subscriptions"}),h.jsx(no,{children:"Users"}),h.jsx(no,{children:"Transactions"})]}),h.jsxs(Yf,{children:[h.jsxs(ro,{p:0,children:[h.jsxs(Gf,{variant:"soft-rounded",colorScheme:"teal",children:[h.jsx(Kf,{children:h.jsx(no,{children:"Create via JSON"})}),h.jsx(Yf,{children:h.jsx(ro,{children:h.jsx(Qae,{})})})]}),h.jsx(Xae,{})]}),h.jsx(ro,{p:0,children:h.jsx(Jae,{})}),h.jsx(ro,{p:0,children:h.jsx(ofe,{})}),""]})]})})})})},lfe=()=>{const[t,e]=S.useState(null),[n,r]=S.useState(!1),[s,i]=S.useState(""),{createDepositTransaction:o,tloading:a}=Fu(),{means:l}=Pt(),c=pr(),u=async()=>{try{await o({picture:t})&&(r(!0),i(""))}catch{i("chec de la transaction. Veuillez ressayer.")}},d=()=>{e(null),r(!1)},f=()=>c("/"),p=()=>c("/transaction"),m=de("linear(to-br, white, gray.200)","linear(to-br, black, #141414)"),g=de("gray.100","#181818"),y=de("gray.800","white");return h.jsxs(Un,{minHeight:"100vh",bgGradient:m,children:[h.jsxs(Gf,{colorScheme:"teal",children:[h.jsx(Kf,{m:0,p:0,children:h.jsxs(no,{children:[l[0].phone," ",h.jsx("img",{src:l[0].logo,alt:"Transfer Logo",style:{height:"20px",marginLeft:"10px"}})," "]})}),h.jsx(Yf,{m:0,p:0,children:h.jsx(ro,{mt:2,p:0,children:h.jsxs(He,{spacing:6,w:"100%",bg:g,p:6,borderRadius:"md",boxShadow:"lg",m:0,children:[h.jsx(W,{fontSize:{base:"xl",md:"2xl"},fontWeight:"bold",color:y,children:"Exemple:"}),h.jsx("img",{src:l[0].exampleimg,alt:"Example Image",style:{width:"100%"}})," ",h.jsx(W,{fontSize:{base:"xl",md:"2xl"},fontWeight:"bold",color:y,children:"Ajouter une capture de la transaction"}),a&&h.jsx(Un,{children:h.jsx(kn,{thickness:"4px",speed:"0.75s",color:"yellow.400",size:"xl"})}),s&&h.jsx(W,{color:"red.500",children:s}),n?h.jsx(xF,{initialScale:.8,in:n,children:h.jsxs(oe,{textAlign:"center",color:"yellow.600",children:[h.jsx(hu,{boxSize:"50px",color:"green.400"}),h.jsx(W,{fontSize:"lg",fontWeight:"bold",children:"Transaction en attente"}),h.jsx(W,{children:"Le statut de votre transaction est en attente."}),h.jsxs(He,{children:[h.jsx(ve,{mt:2,colorScheme:"yellow",onClick:d,children:"Ajouter une autre capture"}),h.jsx(ve,{mt:2,colorScheme:"blue",onClick:f,children:"Aller  l'accueil"}),h.jsx(ve,{mt:4,onClick:p,bg:"purple.500",color:"white",_hover:{bg:"purple.600"},children:"Voir les transactions"})]})]})}):h.jsxs(He,{as:"form",spacing:4,onSubmit:x=>{x.preventDefault(),u()},children:[h.jsxs(oe,{w:"100%",textAlign:"center",children:[h.jsx("input",{type:"file",accept:"image/*",id:"file-upload",onChange:x=>e(x.target.files[0]),style:{display:"none"}}),h.jsx("label",{htmlFor:"file-upload",children:h.jsx(ve,{as:"span",bg:"teal.500",color:"white",leftIcon:h.jsx(cae,{}),_hover:{bg:"teal.600"},width:"100%",children:"Choisir une photo"})}),t&&h.jsx(W,{mt:2,fontSize:"sm",color:y,children:t.name})]}),h.jsx(ve,{type:"submit",bg:"green.500",color:"white",_hover:{bg:"green.600"},width:"100%",children:"Envoyer la capture"}),h.jsx(ve,{onClick:d,bg:"red.400",color:"white",_hover:{bg:"red.500"},width:"100%",children:"Rinitialiser"}),h.jsx(ve,{mt:4,onClick:f,bg:"orange.500",color:"white",_hover:{bg:"orange.600"},width:"100%",children:"Aller  l'accueil"}),h.jsx(ve,{mt:4,onClick:p,bg:"purple.500",color:"white",_hover:{bg:"purple.600"},width:"100%",children:"Voir les transactions"})]})]})})})]})," "]})},cfe=()=>{const{currency:t}=Pt(),{transactions:e,tloading:n,getUserTransaction:r,createRetraitTransaction:s}=Fu(),[i,o]=S.useState([]),[a,l]=S.useState("createdAt"),[c,u]=S.useState(""),[d,f]=S.useState(!0),[p,m]=S.useState(""),{isOpen:g,onOpen:y,onClose:x}=fh(),v=de("#f4f6f8","#1A202C"),b=de("#333","#F7FAFC");S.useEffect(()=>{r()},[]);const w=async()=>{await s({amount:p}),x(),m(""),await r()};S.useEffect(()=>{let A=[...e];a!=="createdAt"?a==="Tous les types"?A=[...e]:A=A.filter(R=>R.transactionType===a):A.sort((R,L)=>new Date(L.createdAt)-new Date(R.createdAt)),o(A)},[e,a]);const T=A=>A.reversed?"retourn":A.isPending?"En attente":A.isCanceled?"Annul":"Inconnu",C=A=>A.reversed?"purple.100":A.isApproved?"green.100":A.isPending?"yellow.100":A.isCanceled?"pink.100":"white",E=["Tous les types","createdAt",...new Set(e.map(A=>A.transactionType))],k=i.filter(A=>Object.values(A).some(R=>typeof R=="string"?R.toLowerCase().includes(c.toLowerCase()):typeof R=="number"?R.toString().includes(c):!1)||T(A)&&T(A).toLowerCase().includes(c.toLowerCase()));return h.jsx(h.Fragment,{children:n?h.jsx(Un,{children:h.jsx(kn,{thickness:"4px",speed:"0.75s",color:"yellow.400",size:"xl"})}):h.jsxs(He,{children:[h.jsxs(DF,{mt:"8",mb:"-20",p:2,spacing:2,align:"baseline",justify:"space-between",children:[h.jsx(ef,{width:{base:"100%",md:"auto"},children:h.jsx(ve,{as:"a",href:"/deposit",colorScheme:"green",size:{base:"sm",md:"md",lg:"lg"},leftIcon:h.jsx(tle,{}),width:"full",children:"Dpot"})}),h.jsx(ef,{width:{base:"100%",md:"auto"},children:h.jsx(ve,{colorScheme:"red",onClick:y,size:{base:"sm",md:"md",lg:"lg"},leftIcon:h.jsx(rR,{}),width:"full",children:"Retrait"})}),h.jsx(ef,{width:{base:"100%",md:"auto"},children:h.jsx(ve,{as:"a",href:"/subscribe",colorScheme:"purple",size:{base:"sm",md:"md",lg:"lg"},leftIcon:h.jsx(ele,{}),width:"full",children:"Abonnements"})})]}),h.jsxs(oe,{p:5,bg:v,color:b,borderRadius:"0",mt:"20",children:[h.jsxs(Yt,{as:"h2",size:"lg",color:b,mb:4,children:[h.jsx(k5,{style:{display:"inline",marginRight:"8px"}}),"Transactions"]}),h.jsxs(fe,{mb:4,alignItems:"center",children:[h.jsx(W,{fontWeight:"bold",mr:2,children:"Trier par :"}),h.jsx(Pr,{value:a,onChange:A=>l(A.target.value),mr:4,children:E.map(A=>h.jsx("option",{value:A==="Tous les types"?"createdAt":A,children:A},A))}),h.jsx(Ct,{placeholder:"Rechercher des transactions...",value:c,onChange:A=>u(A.target.value),mr:4}),h.jsxs(fe,{alignItems:"center",children:[h.jsx(W,{mr:2,children:"Afficher les images"}),h.jsx(fu,{isChecked:d,onChange:()=>f(!d)})]})]}),h.jsxs(_u,{isOpen:g,onClose:x,isCentered:!0,children:[h.jsx(Iu,{}),h.jsxs(Ah,{children:[h.jsx(ey,{children:"Demande de Retrait"}),h.jsx(Pu,{}),h.jsxs(Lu,{children:[h.jsx(W,{mb:2,children:"Entrer le montant :"}),h.jsx(Ct,{placeholder:"Montant",value:p,onChange:A=>m(A.target.value),type:"number",autoFocus:!0})]}),h.jsx(LT,{children:h.jsx(Ue,{icon:h.jsx(rR,{}),colorScheme:"red",onClick:w,"aria-label":"Soumettre la demande"})})]})]}),n?h.jsx(fe,{justify:"center",align:"center",height:"100px",children:h.jsx(kn,{})}):h.jsx(oe,{borderTop:"1px solid #ddd",pt:2,children:k.length?h.jsx(wh,{templateColumns:{base:"1fr",md:"repeat(3, 1fr)",lg:"repeat(4, 1fr)"},gap:4,children:k.map(A=>h.jsxs(oe,{p:4,bg:C(A),borderRadius:"0",boxShadow:"sm",color:"black",children:[h.jsxs(W,{children:[h.jsx("strong",{children:"Montant :"})," ",A.amount," ",t]}),h.jsxs(W,{children:[h.jsx("strong",{children:"Numro de tlphone :"})," ",A.phonenumber]}),h.jsxs(W,{children:[h.jsx("strong",{children:"Statut :"})," ",T(A)]}),h.jsxs(W,{children:[h.jsx("strong",{children:"ID de transaction :"})," ",A.ID]}),h.jsxs(W,{children:[h.jsx("strong",{children:"Type :"})," ",A.transactionType]}),h.jsxs(W,{children:[h.jsx("strong",{children:"Cr le :"})," ",new Date(A.createdAt).toLocaleString()]}),d&&A.imageBase64&&h.jsxs(oe,{children:[h.jsx("strong",{children:"Image :"}),h.jsx("img",{src:`data:image/png;base64,${A.imageBase64}`,alt:"Transaction",style:{maxWidth:"100px",maxHeight:"100px",marginTop:"10px"}})]})]},A.id))}):h.jsx(W,{textAlign:"center",color:"#777",children:"Aucune transaction trouve."})})]})]})})},ufe=()=>{const{createMoneyFlow:t,tloading:e}=Fu(),[n,r]=S.useState(""),[s,i]=S.useState(null),[o,a]=S.useState(null),l=async()=>{try{const u=JSON.parse(n),d=await t(u);d.errors?(a(d.errors),i(null)):(i(`${d.message}`),a(null))}catch{a("Invalid JSON format or server error."),i(null)}},c=de("linear(to-br, white, gray.100)","linear(to-br, black, #141414)");return h.jsx(Un,{minHeight:"100vh",bgGradient:c,children:h.jsxs(He,{spacing:6,w:{base:"90%",sm:"80%",md:"500px"},p:6,boxShadow:"lg",borderRadius:"md",children:[h.jsx(W,{fontSize:"2xl",fontWeight:"bold",textAlign:"center",children:"Create Money Flow Entries"}),h.jsx(DT,{value:n,onChange:u=>r(u.target.value),placeholder:"Enter JSON data here...",size:"lg",rows:10,borderColor:"gray.300",bg:de("gray.50","gray.800")}),h.jsx(ve,{colorScheme:"teal",onClick:l,width:"100%",isDisabled:e,children:e?h.jsx(kn,{size:"sm"}):"Submit"}),s&&h.jsx(W,{color:"green.500",fontWeight:"bold",textAlign:"center",children:s}),o&&h.jsx(oe,{color:"red.500",textAlign:"center",children:Array.isArray(o)?o.map((u,d)=>h.jsx(W,{children:u.error},d)):h.jsx(W,{children:o})})]})})},dfe={whatsapp:MT,facebook:FF,linkedin:nie,twitter:BF,instagram:NF},ffe=["+223","+234","+225","+221","+254","+256","+255","+212","+27","+20","+237"],hfe=()=>{var B,V,O;const{updateField:t,user:e,currency:n,flagdevice:r,loading:s}=Pt(),i=pr(),[o,a]=S.useState(!1),l=((B=e.phone)==null?void 0:B.split(" ")[0])||"+223",c=((V=e.phone)==null?void 0:V.split(" ")[1])||"",[u,d]=S.useState({name:!1,phone:!1}),[f,p]=S.useState({name:e.name,countryCode:l,localPhoneNumber:c}),[m,g]=S.useState(e.SocialMedias||{}),[y,x]=S.useState(!1),[v,b]=S.useState(""),[w,T]=S.useState(""),C=I=>{d(N=>({...N,[I]:!N[I]}))},E=I=>{const{name:N,value:j}=I.target;p(K=>({...K,[N]:j}))},k=I=>{r({deviceId:I})},A=I=>{if(I==="phone"){const N=`${f.countryCode} ${f.localPhoneNumber}`;t({fieldName:"phone",fieldValue:N}),console.log(e)}else t({fieldName:I,fieldValue:f[I]});d(N=>({...N,[I]:!1}))},R=I=>{p(I==="phone"?N=>({...N,countryCode:l,localPhoneNumber:c}):N=>({...N,[I]:e[I]})),d(N=>({...N,[I]:!1}))},L=()=>{navigator.clipboard.writeText(e.referralCode),a(!0),setTimeout(()=>a(!1),2e3)},D=()=>{const I={...m};v&&w&&(I[v]=w),g(I),t({fieldName:"SocialMedias",fieldValue:I}),b(""),T(""),x(!1)},M=I=>{const N={...m};delete N[I],g(N),t({fieldName:"SocialMedias",fieldValue:N})};return h.jsxs(oe,{bg:de("gray.100","gray.800"),p:8,rounded:"lg",boxShadow:"2xl",maxW:"500px",mx:"auto",border:"1px solid",children:[h.jsx(Yt,{as:"h3",size:"lg",mb:6,textAlign:"center",color:"red.500",children:"Mon Profil"}),h.jsxs(He,{align:"start",spacing:6,children:[h.jsxs(pt,{w:"100%",children:[h.jsx(W,{fontWeight:"bold",w:"150px",children:"Nom :"}),u.name?h.jsx(Ct,{name:"name",value:f.name,onChange:E,size:"sm"}):h.jsx(W,{children:e.name}),h.jsx(Ho,{}),h.jsx(Ue,{icon:u.name?h.jsx(nx,{}):h.jsx(rx,{}),"aria-label":u.name?"Save name":"Edit name",size:"sm",onClick:()=>u.name?A("name"):C("name")}),u.name&&h.jsx(Ue,{icon:h.jsx(sx,{}),"aria-label":"Cancel edit",size:"sm",onClick:()=>R("name")})]}),h.jsxs(pt,{w:"100%",children:[h.jsx(W,{fontWeight:"bold",w:"auto",children:"Code de parrainage :"}),h.jsx(W,{children:e==null?void 0:e.refferalCode}),h.jsx(Qa,{hasArrow:!0,label:o?"Copi !":"Copier le code",closeOnClick:!1,children:h.jsx(Ue,{icon:h.jsx(oie,{}),"aria-label":"Copy referral code",size:"sm",onClick:L})})]}),h.jsxs(He,{align:"start",w:"100%",spacing:4,children:[h.jsx(W,{fontWeight:"bold",w:"150px",children:"Rseaux sociaux :"}),Object.entries(m).map(([I,N])=>{const j=dfe[I];return h.jsxs(pt,{w:"100%",children:[j&&h.jsx(j,{color:"blue.500"}),h.jsx(W,{as:"a",href:N,target:"_blank",rel:"noopener noreferrer",children:N}),h.jsx(Ho,{}),h.jsx(Ue,{icon:h.jsx(rx,{}),"aria-label":"Edit social link",size:"sm",onClick:()=>{b(I),T(N),x(!0)}}),h.jsx(Ue,{icon:h.jsx(sx,{}),"aria-label":"Delete social link",size:"sm",colorScheme:"red",onClick:()=>M(I)})]},I)}),y?h.jsxs(pt,{children:[h.jsxs(Pr,{placeholder:"Select Platform",value:v,onChange:I=>b(I.target.value),size:"sm",children:[h.jsx("option",{value:"facebook",children:"Facebook"}),h.jsx("option",{value:"linkedin",children:"LinkedIn"}),h.jsx("option",{value:"whatsapp",children:"WhatsApp"}),h.jsx("option",{value:"twitter",children:"Twitter"}),h.jsx("option",{value:"instagram",children:"Instagram"})]}),h.jsx(Ct,{placeholder:"Enter link",value:w,onChange:I=>T(I.target.value),size:"sm"}),h.jsx(Ue,{icon:h.jsx(nx,{}),"aria-label":"Save link",size:"sm",colorScheme:"green",onClick:D})]}):h.jsx(ve,{leftIcon:h.jsx(UF,{}),size:"sm",colorScheme:"teal",onClick:()=>x(!0),children:"Ajouter un lien"})]}),h.jsxs(He,{spacing:2,w:"100%",children:[h.jsx(W,{fontWeight:"bold",children:"Abonnement :"}),h.jsxs(W,{children:["Dbut : ",new Date(e==null?void 0:e.subscribtionStartDay).toLocaleString()]}),h.jsxs(W,{children:["Fin : ",new Date(e==null?void 0:e.subscribtionEndDay).toLocaleString()]}),h.jsxs(W,{children:["Type : ",(O=e.subscription)==null?void 0:O.type]})]}),h.jsxs(He,{spacing:2,w:"100%",children:[h.jsx(W,{fontWeight:"bold",children:"Email :"}),h.jsx(W,{children:e.email}),h.jsxs(Cs,{colorScheme:"blue",children:["Solde: ",n,e.balance]})]}),h.jsxs(pt,{w:"100%",children:[h.jsx(W,{fontWeight:"bold",w:"150px",children:"Tlphone :"}),u.phone?h.jsxs(pt,{children:[h.jsx(Pr,{name:"countryCode",value:f.countryCode,onChange:E,size:"sm",children:ffe.map(I=>h.jsx("option",{value:I,children:I},I))}),h.jsx(Ct,{name:"localPhoneNumber",type:"number",value:f.localPhoneNumber,onChange:E,size:"sm"})]}):h.jsx(W,{children:e.phone}),h.jsx(Ho,{}),h.jsx(Ue,{icon:u.phone?h.jsx(nx,{}):h.jsx(rx,{}),"aria-label":u.phone?"Save phone":"Edit phone",size:"sm",onClick:()=>u.phone?A("phone"):C("phone")}),u.phone&&h.jsx(Ue,{icon:h.jsx(sx,{}),"aria-label":"Cancel edit",size:"sm",onClick:()=>R("phone")})]}),h.jsxs(He,{align:"start",spacing:6,mt:8,w:"100%",children:[h.jsx(W,{fontWeight:"bold",fontSize:"lg",children:"Appareil Actuellement Connects :"}),e.devicesInfo.sort((I,N)=>new Date(N.loginTime)-new Date(I.loginTime)).map((I,N)=>h.jsx(oe,{w:"100%",p:4,borderWidth:"1px",borderRadius:"md",boxShadow:"sm",bg:de("white","gray.700"),children:h.jsxs(pt,{spacing:4,align:"center",children:[h.jsxs(He,{align:"start",spacing:1,children:[h.jsxs(W,{fontWeight:"bold",children:["Type d'appareil : ",I.deviceType||"N/A"]}),h.jsxs(W,{children:["Navigateur : ",I.browser||"N/A"]}),h.jsxs(W,{children:["Systme d'exploitation : ",I.os||"N/A"]}),h.jsxs(W,{children:["Location : ",I.location||"N/A"]}),h.jsxs(W,{children:["Adresse IP : ",I.ipAddress||"N/A"]}),h.jsxs(W,{children:["Date de connexion : ",new Date(I.loginTime).toLocaleString()]})]}),h.jsx(Ho,{}),h.jsx(Qa,{label:"Marquer cet appareil comme suspect",closeOnClick:!1,children:h.jsx(Ue,{icon:h.jsx(hie,{}),colorScheme:"red",onClick:()=>k(I.id),"aria-label":"Flag Device",isLoading:s})})]})},I.id))]}),h.jsxs(He,{spacing:4,mt:6,w:"100%",children:[h.jsx(ve,{colorScheme:"teal",w:"100%",onClick:()=>i("/changepassword"),children:"Changer le mot de passe"}),h.jsx(ve,{colorScheme:"teal",w:"100%",onClick:()=>i("/subscribe"),children:"S'abonner"}),h.jsx(ve,{colorScheme:"teal",w:"100%",onClick:()=>i("/deposit"),children:"Dpt"})]})]})]})};function pfe(t){return Oe({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"9 18 15 12 9 6"},child:[]}]})(t)}function mfe(t){return Oe({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"18 15 12 9 6 15"},child:[]}]})(t)}const gfe=()=>{pr();const{logo:t,api:e,currency:n}=Pt(),{createSubscriptionTransaction:r,tloading:s}=Fu(),[i,o]=S.useState([]),[a,l]=S.useState(null),[c,u]=S.useState(1),[d,f]=S.useState(""),[p,m]=S.useState(!1),g={FaStar:iy,FaCrown:OT,FaMedal:Mg,FaClock:Dg},y=de("white","gray.900"),x=de("#ffffff","#2D3748"),v=de("#ff4757","#ff4757"),b=de("green.400","green.300"),w=de("gray.700","white");S.useEffect(()=>{(async()=>{try{const R=await e.get("/api/subscription");o(R.data)}catch(R){console.error("Erreur lors du chargement des forfaits:",R)}})();const A=localStorage.getItem("Plan");A&&l(JSON.parse(A))},[]);const T=k=>{l(k),localStorage.setItem("Plan",JSON.stringify(k))},C=()=>{r({unit:c,type:a==null?void 0:a.type,referredCode:d})},E=k=>{u(A=>Math.max(1,A+k))};return h.jsx(oe,{minHeight:"100vh",minWidth:"100vw",bg:y,display:"flex",alignItems:"center",justifyContent:"center",children:h.jsxs(He,{spacing:6,width:"100%",maxW:"1200px",p:4,align:"stretch",children:[h.jsx(Un,{children:h.jsx(ks,{src:t,alt:"Logo",boxSize:"80px",objectFit:"contain",borderRadius:"20px"})}),h.jsx(Yt,{as:"h1",fontWeight:"600",fontSize:rn({base:"28px",md:"32px"}),color:w,textAlign:"center",w:"100%",children:"Choisissez Votre Forfait"}),h.jsx(W,{fontSize:"lg",color:w,textAlign:"center",maxW:"700px",mx:"auto",children:"Obtenez les meilleurs forfaits de divertissement."}),h.jsxs(He,{spacing:6,w:"100%",children:[h.jsxs(pt,{justifyContent:"center",spacing:2,children:[h.jsx(W,{fontSize:"lg",color:w,textAlign:"center",maxW:"700px",mx:"auto",children:"Saisissez un code de parrainage pour une remise de 15% !"}),h.jsx(Ue,{onClick:()=>m(!p),icon:p?h.jsx(mfe,{}):h.jsx(pfe,{}),colorScheme:"teal","aria-label":p?"Hide Code Input":"Show Code Input"}),p&&h.jsx(Ct,{placeholder:"Code de Parrainage",value:d,onChange:k=>f(k.target.value),maxW:"300px",bg:"gray.100",color:"gray.700",_placeholder:{color:"gray.500"},border:"2px solid",borderColor:d?"green.500":"gray.300",_focus:{borderColor:"green.500"}})]}),h.jsx(Fr,{direction:rn({base:"column",md:"row"}),spacing:6,w:"100%",justifyContent:"center",wrap:"wrap",display:"grid",gridTemplateColumns:{base:"1fr",md:"1fr 1fr",lg:"1fr 1fr 1fr"},gap:4,children:[...i].map(k=>h.jsxs(oe,{w:"100%",bg:x,p:6,borderRadius:"lg",boxShadow:"0 4px 15px rgba(229, 9, 20, 0.4)",textAlign:"center",cursor:"pointer",border:(a==null?void 0:a.id)===k.id?"2px solid #ff4757":"2px solid transparent",onClick:()=>T(k),_hover:{boxShadow:"0 0 20px rgba(229, 9, 20, 0.6)",transform:"scale(1.05)"},transition:"all 0.3s ease-in-out",position:"relative",children:[(a==null?void 0:a.id)===k.id&&h.jsxs(Cs,{colorScheme:"red",position:"absolute",top:"2",right:"2",children:["Quantit: ",c]}),k.badge&&h.jsx(Cs,{colorScheme:"green",mb:2,bg:b,children:k.badge}),h.jsx(Zn,{as:g[k.icon]||Dg,boxSize:10,color:"yellow.500",mb:4}),h.jsxs(W,{fontSize:"xl",fontWeight:"bold",color:w,children:[k.price," ",h.jsxs(W,{as:"span",fontSize:"lg",color:"gray.500",children:[n,"/mois"]})]}),h.jsx(W,{fontSize:"sm",mt:3,color:w,textAlign:"center",children:k.description}),k.downloads<2e3&&h.jsxs(W,{fontSize:"sm",mt:2,color:"gray.500",children:["Augmentez les tlchargements pour ",h.jsx(W,{as:"span",fontWeight:"bold",children:"300 CFA"})," par tlchargement supplmentaire"]}),(a==null?void 0:a.id)===k.id&&h.jsx(h.Fragment,{children:h.jsxs(oe,{position:"absolute",bottom:"0",left:"0",width:"100%",height:"25%",bg:"rgba(0, 0, 0, 0.3)",display:"flex",alignItems:"center",justifyContent:"space-between",borderBottomRadius:"lg",px:4,children:[h.jsxs(pt,{spacing:2,children:[h.jsx(Zn,{as:gie,boxSize:5,color:"white",cursor:"pointer",onClick:()=>E(-1)}),h.jsx(W,{color:"white",fontWeight:"bold",children:c}),h.jsx(Zn,{as:UF,boxSize:5,color:"white",cursor:"pointer",onClick:()=>E(1)})]}),h.jsx(ve,{bg:v,color:"white",size:"md",_hover:{bg:"#ff6b6b"},_active:{bg:"#ff4747"},borderRadius:"6px",onClick:C,children:"S'abonner"})]})})]},k.id))})]})]})})},yfe=20,vfe=()=>{const[t,e]=S.useState([]),[n,r]=S.useState(""),[s,i]=S.useState(""),[o,a]=S.useState([]),[l,c]=S.useState(!0),[u,d]=S.useState(1),[f,p]=S.useState(null),{api:m}=Pt(),[g,y]=S.useState(parseInt(localStorage.getItem("currentPage"))||1),x=pr();S.useEffect(()=>{v()},[n,s,g]),S.useEffect(()=>{localStorage.setItem("currentPage",g)},[g]);const v=async()=>{c(!0),p(null);const R=localStorage.getItem("accessToken");try{const L=await m.get("/api/channels/",{headers:{Authorization:`Bearer ${R}`},params:{page:g,limit:yfe,searchTerm:n,category:s}});e(L.data.channels),d(L.data.totalPages),b(L.data.channels)}catch(L){console.error("Failed to fetch channels",L),p("Failed to load channels. Please try again.")}finally{c(!1)}},b=R=>{const L=Array.from(new Set(R.map(D=>D.category).filter(Boolean)));a(L)},w=S.useCallback(R=>{r(R.target.value),y(1)},[]),T=S.useCallback(R=>{i(R.target.value),y(1)},[]),C=R=>{x(`/channel/${R}`)},E=R=>h.jsx(ks,{src:R[0]||R[1]||"default-logo.png",alt:"Channel Logo",borderRadius:"md",objectFit:"cover",fallbackSrc:"default-logo.png"}),k=()=>y(R=>Math.min(R+1,u)),A=()=>y(R=>Math.max(R-1,1));return h.jsxs(oe,{p:6,children:[h.jsxs(oe,{mb:6,children:[h.jsx(Ct,{placeholder:"Search channels...",value:n,onChange:w,mb:3,borderColor:"teal.400",focusBorderColor:"teal.600"}),h.jsx(Pr,{placeholder:"Select Category",value:s,onChange:T,borderColor:"teal.400",focusBorderColor:"teal.600",children:o.map(R=>h.jsx("option",{value:R,children:R},R))})]}),h.jsx(oe,{children:l?h.jsx(Vf,{columns:{base:3,md:4,lg:8},spacing:4,children:Array(8).fill("").map((R,L)=>h.jsxs(oe,{border:"1px solid #ddd",p:4,borderRadius:"md",children:[h.jsx(es,{height:"150px",borderRadius:"md"}),h.jsx(es,{mt:2,height:"20px"})]},L))}):f?h.jsx(W,{color:"red.500",textAlign:"center",fontSize:"lg",children:f}):t.length===0?h.jsx(W,{mt:6,color:"gray.500",fontSize:"lg",textAlign:"center",children:"No channels found."}):h.jsx(Vf,{columns:{base:3,md:4,lg:8},spacing:4,children:t.map(R=>h.jsxs(oe,{border:"1px solid #ddd",p:4,borderRadius:"md",textAlign:"center",cursor:"pointer",boxShadow:"md",_hover:{boxShadow:"xl",bg:"gray.50"},onClick:()=>C(R.id),children:[E(R.logos),h.jsx(W,{mt:2,fontWeight:"bold",children:R.name}),R.category!="undefined"&&h.jsx(W,{color:"gray.500",children:R.category||"No category"})]},R.id))})}),!l&&h.jsxs(oe,{mt:6,display:"flex",justifyContent:"center",alignItems:"center",gap:4,children:[h.jsx(ve,{leftIcon:h.jsx($F,{}),onClick:A,disabled:g===1,colorScheme:"red",variant:"solid",size:"md",children:"Previous"}),h.jsxs(oe,{as:"span",fontSize:"lg",fontWeight:"semibold",px:3,py:1,borderRadius:"md",bg:"gray.100",color:"gray.700",display:"flex",alignItems:"center",children:[g," / ",u]}),h.jsx(ve,{rightIcon:h.jsx(rie,{}),onClick:k,disabled:g===u,colorScheme:"red",variant:"solid",size:"md",children:"Next"})]})]})};function xfe(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var h3={exports:{}};(function(t,e){(function(n){var r=/^(?=((?:[a-zA-Z0-9+\-.]+:)?))\1(?=((?:\/\/[^\/?#]*)?))\2(?=((?:(?:[^?#\/]*\/)*[^;?#\/]*)?))\3((?:;[^?#]*)?)(\?[^#]*)?(#[^]*)?$/,s=/^(?=([^\/?#]*))\1([^]*)$/,i=/(?:\/|^)\.(?=\/)/g,o=/(?:\/|^)\.\.\/(?!\.\.\/)[^\/]*(?=\/)/g,a={buildAbsoluteURL:function(l,c,u){if(u=u||{},l=l.trim(),c=c.trim(),!c){if(!u.alwaysNormalize)return l;var d=a.parseURL(l);if(!d)throw new Error("Error trying to parse base URL.");return d.path=a.normalizePath(d.path),a.buildURLFromParts(d)}var f=a.parseURL(c);if(!f)throw new Error("Error trying to parse relative URL.");if(f.scheme)return u.alwaysNormalize?(f.path=a.normalizePath(f.path),a.buildURLFromParts(f)):c;var p=a.parseURL(l);if(!p)throw new Error("Error trying to parse base URL.");if(!p.netLoc&&p.path&&p.path[0]!=="/"){var m=s.exec(p.path);p.netLoc=m[1],p.path=m[2]}p.netLoc&&!p.path&&(p.path="/");var g={scheme:p.scheme,netLoc:f.netLoc,path:null,params:f.params,query:f.query,fragment:f.fragment};if(!f.netLoc&&(g.netLoc=p.netLoc,f.path[0]!=="/"))if(!f.path)g.path=p.path,f.params||(g.params=p.params,f.query||(g.query=p.query));else{var y=p.path,x=y.substring(0,y.lastIndexOf("/")+1)+f.path;g.path=a.normalizePath(x)}return g.path===null&&(g.path=u.alwaysNormalize?a.normalizePath(f.path):f.path),a.buildURLFromParts(g)},parseURL:function(l){var c=r.exec(l);return c?{scheme:c[1]||"",netLoc:c[2]||"",path:c[3]||"",params:c[4]||"",query:c[5]||"",fragment:c[6]||""}:null},normalizePath:function(l){for(l=l.split("").reverse().join("").replace(i,"");l.length!==(l=l.replace(o,"")).length;);return l.split("").reverse().join("")},buildURLFromParts:function(l){return l.scheme+l.netLoc+l.path+l.params+l.query+l.fragment}};t.exports=a})()})(h3);var sE=h3.exports;function g_(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function Mn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?g_(Object(n),!0).forEach(function(r){wfe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):g_(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function bfe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Sfe(t){var e=bfe(t,"string");return typeof e=="symbol"?e:String(e)}function wfe(t,e,n){return e=Sfe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function yn(){return yn=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},yn.apply(this,arguments)}const xe=Number.isFinite||function(t){return typeof t=="number"&&isFinite(t)},Tfe=Number.isSafeInteger||function(t){return typeof t=="number"&&Math.abs(t)<=Efe},Efe=Number.MAX_SAFE_INTEGER||9007199254740991;let _=function(t){return t.MEDIA_ATTACHING="hlsMediaAttaching",t.MEDIA_ATTACHED="hlsMediaAttached",t.MEDIA_DETACHING="hlsMediaDetaching",t.MEDIA_DETACHED="hlsMediaDetached",t.BUFFER_RESET="hlsBufferReset",t.BUFFER_CODECS="hlsBufferCodecs",t.BUFFER_CREATED="hlsBufferCreated",t.BUFFER_APPENDING="hlsBufferAppending",t.BUFFER_APPENDED="hlsBufferAppended",t.BUFFER_EOS="hlsBufferEos",t.BUFFER_FLUSHING="hlsBufferFlushing",t.BUFFER_FLUSHED="hlsBufferFlushed",t.MANIFEST_LOADING="hlsManifestLoading",t.MANIFEST_LOADED="hlsManifestLoaded",t.MANIFEST_PARSED="hlsManifestParsed",t.LEVEL_SWITCHING="hlsLevelSwitching",t.LEVEL_SWITCHED="hlsLevelSwitched",t.LEVEL_LOADING="hlsLevelLoading",t.LEVEL_LOADED="hlsLevelLoaded",t.LEVEL_UPDATED="hlsLevelUpdated",t.LEVEL_PTS_UPDATED="hlsLevelPtsUpdated",t.LEVELS_UPDATED="hlsLevelsUpdated",t.AUDIO_TRACKS_UPDATED="hlsAudioTracksUpdated",t.AUDIO_TRACK_SWITCHING="hlsAudioTrackSwitching",t.AUDIO_TRACK_SWITCHED="hlsAudioTrackSwitched",t.AUDIO_TRACK_LOADING="hlsAudioTrackLoading",t.AUDIO_TRACK_LOADED="hlsAudioTrackLoaded",t.SUBTITLE_TRACKS_UPDATED="hlsSubtitleTracksUpdated",t.SUBTITLE_TRACKS_CLEARED="hlsSubtitleTracksCleared",t.SUBTITLE_TRACK_SWITCH="hlsSubtitleTrackSwitch",t.SUBTITLE_TRACK_LOADING="hlsSubtitleTrackLoading",t.SUBTITLE_TRACK_LOADED="hlsSubtitleTrackLoaded",t.SUBTITLE_FRAG_PROCESSED="hlsSubtitleFragProcessed",t.CUES_PARSED="hlsCuesParsed",t.NON_NATIVE_TEXT_TRACKS_FOUND="hlsNonNativeTextTracksFound",t.INIT_PTS_FOUND="hlsInitPtsFound",t.FRAG_LOADING="hlsFragLoading",t.FRAG_LOAD_EMERGENCY_ABORTED="hlsFragLoadEmergencyAborted",t.FRAG_LOADED="hlsFragLoaded",t.FRAG_DECRYPTED="hlsFragDecrypted",t.FRAG_PARSING_INIT_SEGMENT="hlsFragParsingInitSegment",t.FRAG_PARSING_USERDATA="hlsFragParsingUserdata",t.FRAG_PARSING_METADATA="hlsFragParsingMetadata",t.FRAG_PARSED="hlsFragParsed",t.FRAG_BUFFERED="hlsFragBuffered",t.FRAG_CHANGED="hlsFragChanged",t.FPS_DROP="hlsFpsDrop",t.FPS_DROP_LEVEL_CAPPING="hlsFpsDropLevelCapping",t.MAX_AUTO_LEVEL_UPDATED="hlsMaxAutoLevelUpdated",t.ERROR="hlsError",t.DESTROYING="hlsDestroying",t.KEY_LOADING="hlsKeyLoading",t.KEY_LOADED="hlsKeyLoaded",t.LIVE_BACK_BUFFER_REACHED="hlsLiveBackBufferReached",t.BACK_BUFFER_REACHED="hlsBackBufferReached",t.STEERING_MANIFEST_LOADED="hlsSteeringManifestLoaded",t}({}),Me=function(t){return t.NETWORK_ERROR="networkError",t.MEDIA_ERROR="mediaError",t.KEY_SYSTEM_ERROR="keySystemError",t.MUX_ERROR="muxError",t.OTHER_ERROR="otherError",t}({}),Q=function(t){return t.KEY_SYSTEM_NO_KEYS="keySystemNoKeys",t.KEY_SYSTEM_NO_ACCESS="keySystemNoAccess",t.KEY_SYSTEM_NO_SESSION="keySystemNoSession",t.KEY_SYSTEM_NO_CONFIGURED_LICENSE="keySystemNoConfiguredLicense",t.KEY_SYSTEM_LICENSE_REQUEST_FAILED="keySystemLicenseRequestFailed",t.KEY_SYSTEM_SERVER_CERTIFICATE_REQUEST_FAILED="keySystemServerCertificateRequestFailed",t.KEY_SYSTEM_SERVER_CERTIFICATE_UPDATE_FAILED="keySystemServerCertificateUpdateFailed",t.KEY_SYSTEM_SESSION_UPDATE_FAILED="keySystemSessionUpdateFailed",t.KEY_SYSTEM_STATUS_OUTPUT_RESTRICTED="keySystemStatusOutputRestricted",t.KEY_SYSTEM_STATUS_INTERNAL_ERROR="keySystemStatusInternalError",t.MANIFEST_LOAD_ERROR="manifestLoadError",t.MANIFEST_LOAD_TIMEOUT="manifestLoadTimeOut",t.MANIFEST_PARSING_ERROR="manifestParsingError",t.MANIFEST_INCOMPATIBLE_CODECS_ERROR="manifestIncompatibleCodecsError",t.LEVEL_EMPTY_ERROR="levelEmptyError",t.LEVEL_LOAD_ERROR="levelLoadError",t.LEVEL_LOAD_TIMEOUT="levelLoadTimeOut",t.LEVEL_PARSING_ERROR="levelParsingError",t.LEVEL_SWITCH_ERROR="levelSwitchError",t.AUDIO_TRACK_LOAD_ERROR="audioTrackLoadError",t.AUDIO_TRACK_LOAD_TIMEOUT="audioTrackLoadTimeOut",t.SUBTITLE_LOAD_ERROR="subtitleTrackLoadError",t.SUBTITLE_TRACK_LOAD_TIMEOUT="subtitleTrackLoadTimeOut",t.FRAG_LOAD_ERROR="fragLoadError",t.FRAG_LOAD_TIMEOUT="fragLoadTimeOut",t.FRAG_DECRYPT_ERROR="fragDecryptError",t.FRAG_PARSING_ERROR="fragParsingError",t.FRAG_GAP="fragGap",t.REMUX_ALLOC_ERROR="remuxAllocError",t.KEY_LOAD_ERROR="keyLoadError",t.KEY_LOAD_TIMEOUT="keyLoadTimeOut",t.BUFFER_ADD_CODEC_ERROR="bufferAddCodecError",t.BUFFER_INCOMPATIBLE_CODECS_ERROR="bufferIncompatibleCodecsError",t.BUFFER_APPEND_ERROR="bufferAppendError",t.BUFFER_APPENDING_ERROR="bufferAppendingError",t.BUFFER_STALLED_ERROR="bufferStalledError",t.BUFFER_FULL_ERROR="bufferFullError",t.BUFFER_SEEK_OVER_HOLE="bufferSeekOverHole",t.BUFFER_NUDGE_ON_STALL="bufferNudgeOnStall",t.INTERNAL_EXCEPTION="internalException",t.INTERNAL_ABORTED="aborted",t.UNKNOWN="unknown",t}({});const $a=function(){},rS={trace:$a,debug:$a,log:$a,warn:$a,info:$a,error:$a};let lf=rS;function Cfe(t){const e=self.console[t];return e?e.bind(self.console,`[${t}] >`):$a}function kfe(t,...e){e.forEach(function(n){lf[n]=t[n]?t[n].bind(t):Cfe(n)})}function Afe(t,e){if(typeof console=="object"&&t===!0||typeof t=="object"){kfe(t,"debug","log","info","warn","error");try{lf.log(`Debug logs enabled for "${e}" in hls.js version 1.5.17`)}catch{lf=rS}}else lf=rS}const H=lf,Rfe=/^(\d+)x(\d+)$/,y_=/(.+?)=(".*?"|.*?)(?:,|$)/g;class Gt{constructor(e){typeof e=="string"&&(e=Gt.parseAttrList(e)),yn(this,e)}get clientAttrs(){return Object.keys(this).filter(e=>e.substring(0,2)==="X-")}decimalInteger(e){const n=parseInt(this[e],10);return n>Number.MAX_SAFE_INTEGER?1/0:n}hexadecimalInteger(e){if(this[e]){let n=(this[e]||"0x").slice(2);n=(n.length&1?"0":"")+n;const r=new Uint8Array(n.length/2);for(let s=0;s<n.length/2;s++)r[s]=parseInt(n.slice(s*2,s*2+2),16);return r}else return null}hexadecimalIntegerAsNumber(e){const n=parseInt(this[e],16);return n>Number.MAX_SAFE_INTEGER?1/0:n}decimalFloatingPoint(e){return parseFloat(this[e])}optionalFloat(e,n){const r=this[e];return r?parseFloat(r):n}enumeratedString(e){return this[e]}bool(e){return this[e]==="YES"}decimalResolution(e){const n=Rfe.exec(this[e]);if(n!==null)return{width:parseInt(n[1],10),height:parseInt(n[2],10)}}static parseAttrList(e){let n;const r={},s='"';for(y_.lastIndex=0;(n=y_.exec(e))!==null;){let i=n[2];i.indexOf(s)===0&&i.lastIndexOf(s)===i.length-1&&(i=i.slice(1,-1));const o=n[1].trim();r[o]=i}return r}}function _fe(t){return t!=="ID"&&t!=="CLASS"&&t!=="START-DATE"&&t!=="DURATION"&&t!=="END-DATE"&&t!=="END-ON-NEXT"}function Lfe(t){return t==="SCTE35-OUT"||t==="SCTE35-IN"}class p3{constructor(e,n){if(this.attr=void 0,this._startDate=void 0,this._endDate=void 0,this._badValueForSameId=void 0,n){const r=n.attr;for(const s in r)if(Object.prototype.hasOwnProperty.call(e,s)&&e[s]!==r[s]){H.warn(`DATERANGE tag attribute: "${s}" does not match for tags with ID: "${e.ID}"`),this._badValueForSameId=s;break}e=yn(new Gt({}),r,e)}if(this.attr=e,this._startDate=new Date(e["START-DATE"]),"END-DATE"in this.attr){const r=new Date(this.attr["END-DATE"]);xe(r.getTime())&&(this._endDate=r)}}get id(){return this.attr.ID}get class(){return this.attr.CLASS}get startDate(){return this._startDate}get endDate(){if(this._endDate)return this._endDate;const e=this.duration;return e!==null?new Date(this._startDate.getTime()+e*1e3):null}get duration(){if("DURATION"in this.attr){const e=this.attr.decimalFloatingPoint("DURATION");if(xe(e))return e}else if(this._endDate)return(this._endDate.getTime()-this._startDate.getTime())/1e3;return null}get plannedDuration(){return"PLANNED-DURATION"in this.attr?this.attr.decimalFloatingPoint("PLANNED-DURATION"):null}get endOnNext(){return this.attr.bool("END-ON-NEXT")}get isValid(){return!!this.id&&!this._badValueForSameId&&xe(this.startDate.getTime())&&(this.duration===null||this.duration>=0)&&(!this.endOnNext||!!this.class)}}class vy{constructor(){this.aborted=!1,this.loaded=0,this.retry=0,this.total=0,this.chunkCount=0,this.bwEstimate=0,this.loading={start:0,first:0,end:0},this.parsing={start:0,end:0},this.buffering={start:0,first:0,end:0}}}var gt={AUDIO:"audio",VIDEO:"video",AUDIOVIDEO:"audiovideo"};class m3{constructor(e){this._byteRange=null,this._url=null,this.baseurl=void 0,this.relurl=void 0,this.elementaryStreams={[gt.AUDIO]:null,[gt.VIDEO]:null,[gt.AUDIOVIDEO]:null},this.baseurl=e}setByteRange(e,n){const r=e.split("@",2);let s;r.length===1?s=(n==null?void 0:n.byteRangeEndOffset)||0:s=parseInt(r[1]),this._byteRange=[s,parseInt(r[0])+s]}get byteRange(){return this._byteRange?this._byteRange:[]}get byteRangeStartOffset(){return this.byteRange[0]}get byteRangeEndOffset(){return this.byteRange[1]}get url(){return!this._url&&this.baseurl&&this.relurl&&(this._url=sE.buildAbsoluteURL(this.baseurl,this.relurl,{alwaysNormalize:!0})),this._url||""}set url(e){this._url=e}}class vx extends m3{constructor(e,n){super(n),this._decryptdata=null,this.rawProgramDateTime=null,this.programDateTime=null,this.tagList=[],this.duration=0,this.sn=0,this.levelkeys=void 0,this.type=void 0,this.loader=null,this.keyLoader=null,this.level=-1,this.cc=0,this.startPTS=void 0,this.endPTS=void 0,this.startDTS=void 0,this.endDTS=void 0,this.start=0,this.deltaPTS=void 0,this.maxStartPTS=void 0,this.minEndPTS=void 0,this.stats=new vy,this.data=void 0,this.bitrateTest=!1,this.title=null,this.initSegment=null,this.endList=void 0,this.gap=void 0,this.urlId=0,this.type=e}get decryptdata(){const{levelkeys:e}=this;if(!e&&!this._decryptdata)return null;if(!this._decryptdata&&this.levelkeys&&!this.levelkeys.NONE){const n=this.levelkeys.identity;if(n)this._decryptdata=n.getDecryptData(this.sn);else{const r=Object.keys(this.levelkeys);if(r.length===1)return this._decryptdata=this.levelkeys[r[0]].getDecryptData(this.sn)}}return this._decryptdata}get end(){return this.start+this.duration}get endProgramDateTime(){if(this.programDateTime===null||!xe(this.programDateTime))return null;const e=xe(this.duration)?this.duration:0;return this.programDateTime+e*1e3}get encrypted(){var e;if((e=this._decryptdata)!=null&&e.encrypted)return!0;if(this.levelkeys){const n=Object.keys(this.levelkeys),r=n.length;if(r>1||r===1&&this.levelkeys[n[0]].encrypted)return!0}return!1}setKeyFormat(e){if(this.levelkeys){const n=this.levelkeys[e];n&&!this._decryptdata&&(this._decryptdata=n.getDecryptData(this.sn))}}abortRequests(){var e,n;(e=this.loader)==null||e.abort(),(n=this.keyLoader)==null||n.abort()}setElementaryStreamInfo(e,n,r,s,i,o=!1){const{elementaryStreams:a}=this,l=a[e];if(!l){a[e]={startPTS:n,endPTS:r,startDTS:s,endDTS:i,partial:o};return}l.startPTS=Math.min(l.startPTS,n),l.endPTS=Math.max(l.endPTS,r),l.startDTS=Math.min(l.startDTS,s),l.endDTS=Math.max(l.endDTS,i)}clearElementaryStreamInfo(){const{elementaryStreams:e}=this;e[gt.AUDIO]=null,e[gt.VIDEO]=null,e[gt.AUDIOVIDEO]=null}}class Pfe extends m3{constructor(e,n,r,s,i){super(r),this.fragOffset=0,this.duration=0,this.gap=!1,this.independent=!1,this.relurl=void 0,this.fragment=void 0,this.index=void 0,this.stats=new vy,this.duration=e.decimalFloatingPoint("DURATION"),this.gap=e.bool("GAP"),this.independent=e.bool("INDEPENDENT"),this.relurl=e.enumeratedString("URI"),this.fragment=n,this.index=s;const o=e.enumeratedString("BYTERANGE");o&&this.setByteRange(o,i),i&&(this.fragOffset=i.fragOffset+i.duration)}get start(){return this.fragment.start+this.fragOffset}get end(){return this.start+this.duration}get loaded(){const{elementaryStreams:e}=this;return!!(e.audio||e.video||e.audiovideo)}}const Ife=10;class Dfe{constructor(e){this.PTSKnown=!1,this.alignedSliding=!1,this.averagetargetduration=void 0,this.endCC=0,this.endSN=0,this.fragments=void 0,this.fragmentHint=void 0,this.partList=null,this.dateRanges=void 0,this.live=!0,this.ageHeader=0,this.advancedDateTime=void 0,this.updated=!0,this.advanced=!0,this.availabilityDelay=void 0,this.misses=0,this.startCC=0,this.startSN=0,this.startTimeOffset=null,this.targetduration=0,this.totalduration=0,this.type=null,this.url=void 0,this.m3u8="",this.version=null,this.canBlockReload=!1,this.canSkipUntil=0,this.canSkipDateRanges=!1,this.skippedSegments=0,this.recentlyRemovedDateranges=void 0,this.partHoldBack=0,this.holdBack=0,this.partTarget=0,this.preloadHint=void 0,this.renditionReports=void 0,this.tuneInGoal=0,this.deltaUpdateFailed=void 0,this.driftStartTime=0,this.driftEndTime=0,this.driftStart=0,this.driftEnd=0,this.encryptedFragments=void 0,this.playlistParsingError=null,this.variableList=null,this.hasVariableRefs=!1,this.fragments=[],this.encryptedFragments=[],this.dateRanges={},this.url=e}reloaded(e){if(!e){this.advanced=!0,this.updated=!0;return}const n=this.lastPartSn-e.lastPartSn,r=this.lastPartIndex-e.lastPartIndex;this.updated=this.endSN!==e.endSN||!!r||!!n||!this.live,this.advanced=this.endSN>e.endSN||n>0||n===0&&r>0,this.updated||this.advanced?this.misses=Math.floor(e.misses*.6):this.misses=e.misses+1,this.availabilityDelay=e.availabilityDelay}get hasProgramDateTime(){return this.fragments.length?xe(this.fragments[this.fragments.length-1].programDateTime):!1}get levelTargetDuration(){return this.averagetargetduration||this.targetduration||Ife}get drift(){const e=this.driftEndTime-this.driftStartTime;return e>0?(this.driftEnd-this.driftStart)*1e3/e:1}get edge(){return this.partEnd||this.fragmentEnd}get partEnd(){var e;return(e=this.partList)!=null&&e.length?this.partList[this.partList.length-1].end:this.fragmentEnd}get fragmentEnd(){var e;return(e=this.fragments)!=null&&e.length?this.fragments[this.fragments.length-1].end:0}get age(){return this.advancedDateTime?Math.max(Date.now()-this.advancedDateTime,0)/1e3:0}get lastPartIndex(){var e;return(e=this.partList)!=null&&e.length?this.partList[this.partList.length-1].index:-1}get lastPartSn(){var e;return(e=this.partList)!=null&&e.length?this.partList[this.partList.length-1].fragment.sn:this.endSN}}function iE(t){return Uint8Array.from(atob(t),e=>e.charCodeAt(0))}function Mfe(t){const e=sS(t).subarray(0,16),n=new Uint8Array(16);return n.set(e,16-e.length),n}function Ofe(t){const e=function(r,s,i){const o=r[s];r[s]=r[i],r[i]=o};e(t,0,3),e(t,1,2),e(t,4,5),e(t,6,7)}function Ffe(t){const e=t.split(":");let n=null;if(e[0]==="data"&&e.length===2){const r=e[1].split(";"),s=r[r.length-1].split(",");if(s.length===2){const i=s[0]==="base64",o=s[1];i?(r.splice(-1,1),n=iE(o)):n=Mfe(o)}}return n}function sS(t){return Uint8Array.from(unescape(encodeURIComponent(t)),e=>e.charCodeAt(0))}const yu=typeof self<"u"?self:void 0;var At={CLEARKEY:"org.w3.clearkey",FAIRPLAY:"com.apple.fps",PLAYREADY:"com.microsoft.playready",WIDEVINE:"com.widevine.alpha"},Sr={CLEARKEY:"org.w3.clearkey",FAIRPLAY:"com.apple.streamingkeydelivery",PLAYREADY:"com.microsoft.playready",WIDEVINE:"urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed"};function v_(t){switch(t){case Sr.FAIRPLAY:return At.FAIRPLAY;case Sr.PLAYREADY:return At.PLAYREADY;case Sr.WIDEVINE:return At.WIDEVINE;case Sr.CLEARKEY:return At.CLEARKEY}}var Id={CENC:"1077efecc0b24d02ace33c1e52e2fb4b",CLEARKEY:"e2719d58a985b3c9781ab030af78d30e",FAIRPLAY:"94ce86fb07ff4f43adb893d2fa968ca2",PLAYREADY:"9a04f07998404286ab92e65be0885f95",WIDEVINE:"edef8ba979d64acea3c827dcd51d21ed"};function x_(t){if(t===Id.WIDEVINE)return At.WIDEVINE;if(t===Id.PLAYREADY)return At.PLAYREADY;if(t===Id.CENC||t===Id.CLEARKEY)return At.CLEARKEY}function b_(t){switch(t){case At.FAIRPLAY:return Sr.FAIRPLAY;case At.PLAYREADY:return Sr.PLAYREADY;case At.WIDEVINE:return Sr.WIDEVINE;case At.CLEARKEY:return Sr.CLEARKEY}}function xx(t){const{drmSystems:e,widevineLicenseUrl:n}=t,r=e?[At.FAIRPLAY,At.WIDEVINE,At.PLAYREADY,At.CLEARKEY].filter(s=>!!e[s]):[];return!r[At.WIDEVINE]&&n&&r.push(At.WIDEVINE),r}const g3=function(t){return yu!=null&&(t=yu.navigator)!=null&&t.requestMediaKeySystemAccess?self.navigator.requestMediaKeySystemAccess.bind(self.navigator):null}();function Nfe(t,e,n,r){let s;switch(t){case At.FAIRPLAY:s=["cenc","sinf"];break;case At.WIDEVINE:case At.PLAYREADY:s=["cenc"];break;case At.CLEARKEY:s=["cenc","keyids"];break;default:throw new Error(`Unknown key-system: ${t}`)}return jfe(s,e,n,r)}function jfe(t,e,n,r){return[{initDataTypes:t,persistentState:r.persistentState||"optional",distinctiveIdentifier:r.distinctiveIdentifier||"optional",sessionTypes:r.sessionTypes||[r.sessionType||"temporary"],audioCapabilities:e.map(i=>({contentType:`audio/mp4; codecs="${i}"`,robustness:r.audioRobustness||"",encryptionScheme:r.audioEncryptionScheme||null})),videoCapabilities:n.map(i=>({contentType:`video/mp4; codecs="${i}"`,robustness:r.videoRobustness||"",encryptionScheme:r.videoEncryptionScheme||null}))}]}function hl(t,e,n){return Uint8Array.prototype.slice?t.slice(e,n):new Uint8Array(Array.prototype.slice.call(t,e,n))}const oE=(t,e)=>e+10<=t.length&&t[e]===73&&t[e+1]===68&&t[e+2]===51&&t[e+3]<255&&t[e+4]<255&&t[e+6]<128&&t[e+7]<128&&t[e+8]<128&&t[e+9]<128,y3=(t,e)=>e+10<=t.length&&t[e]===51&&t[e+1]===68&&t[e+2]===73&&t[e+3]<255&&t[e+4]<255&&t[e+6]<128&&t[e+7]<128&&t[e+8]<128&&t[e+9]<128,nh=(t,e)=>{const n=e;let r=0;for(;oE(t,e);){r+=10;const s=xy(t,e+6);r+=s,y3(t,e+10)&&(r+=10),e+=r}if(r>0)return t.subarray(n,n+r)},xy=(t,e)=>{let n=0;return n=(t[e]&127)<<21,n|=(t[e+1]&127)<<14,n|=(t[e+2]&127)<<7,n|=t[e+3]&127,n},Bfe=(t,e)=>oE(t,e)&&xy(t,e+6)+10<=t.length-e,aE=t=>{const e=x3(t);for(let n=0;n<e.length;n++){const r=e[n];if(v3(r))return Hfe(r)}},v3=t=>t&&t.key==="PRIV"&&t.info==="com.apple.streaming.transportStreamTimestamp",$fe=t=>{const e=String.fromCharCode(t[0],t[1],t[2],t[3]),n=xy(t,4),r=10;return{type:e,size:n,data:t.subarray(r,r+n)}},x3=t=>{let e=0;const n=[];for(;oE(t,e);){const r=xy(t,e+6);e+=10;const s=e+r;for(;e+8<s;){const i=$fe(t.subarray(e)),o=zfe(i);o&&n.push(o),e+=i.size+10}y3(t,e)&&(e+=10)}return n},zfe=t=>t.type==="PRIV"?Ufe(t):t.type[0]==="W"?Wfe(t):Vfe(t),Ufe=t=>{if(t.size<2)return;const e=_i(t.data,!0),n=new Uint8Array(t.data.subarray(e.length+1));return{key:t.type,info:e,data:n.buffer}},Vfe=t=>{if(t.size<2)return;if(t.type==="TXXX"){let n=1;const r=_i(t.data.subarray(n),!0);n+=r.length+1;const s=_i(t.data.subarray(n));return{key:t.type,info:r,data:s}}const e=_i(t.data.subarray(1));return{key:t.type,data:e}},Wfe=t=>{if(t.type==="WXXX"){if(t.size<2)return;let n=1;const r=_i(t.data.subarray(n),!0);n+=r.length+1;const s=_i(t.data.subarray(n));return{key:t.type,info:r,data:s}}const e=_i(t.data);return{key:t.type,data:e}},Hfe=t=>{if(t.data.byteLength===8){const e=new Uint8Array(t.data),n=e[3]&1;let r=(e[4]<<23)+(e[5]<<15)+(e[6]<<7)+e[7];return r/=45,n&&(r+=4772185884e-2),Math.round(r)}},_i=(t,e=!1)=>{const n=Gfe();if(n){const c=n.decode(t);if(e){const u=c.indexOf("\0");return u!==-1?c.substring(0,u):c}return c.replace(/\0/g,"")}const r=t.length;let s,i,o,a="",l=0;for(;l<r;){if(s=t[l++],s===0&&e)return a;if(s===0||s===3)continue;switch(s>>4){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:a+=String.fromCharCode(s);break;case 12:case 13:i=t[l++],a+=String.fromCharCode((s&31)<<6|i&63);break;case 14:i=t[l++],o=t[l++],a+=String.fromCharCode((s&15)<<12|(i&63)<<6|(o&63)<<0);break}}return a};let bx;function Gfe(){if(!navigator.userAgent.includes("PlayStation 4"))return!bx&&typeof self.TextDecoder<"u"&&(bx=new self.TextDecoder("utf-8")),bx}const hi={hexDump:function(t){let e="";for(let n=0;n<t.length;n++){let r=t[n].toString(16);r.length<2&&(r="0"+r),e+=r}return e}},Hg=Math.pow(2,32)-1,Kfe=[].push,b3={video:1,audio:2,id3:3,text:4};function wn(t){return String.fromCharCode.apply(null,t)}function S3(t,e){const n=t[e]<<8|t[e+1];return n<0?65536+n:n}function Le(t,e){const n=w3(t,e);return n<0?4294967296+n:n}function S_(t,e){let n=Le(t,e);return n*=Math.pow(2,32),n+=Le(t,e+4),n}function w3(t,e){return t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3]}function Sx(t,e,n){t[e]=n>>24,t[e+1]=n>>16&255,t[e+2]=n>>8&255,t[e+3]=n&255}function Yfe(t){const e=t.byteLength;for(let n=0;n<e;){const r=Le(t,n);if(r>8&&t[n+4]===109&&t[n+5]===111&&t[n+6]===111&&t[n+7]===102)return!0;n=r>1?n+r:e}return!1}function ze(t,e){const n=[];if(!e.length)return n;const r=t.byteLength;for(let s=0;s<r;){const i=Le(t,s),o=wn(t.subarray(s+4,s+8)),a=i>1?s+i:r;if(o===e[0])if(e.length===1)n.push(t.subarray(s+8,a));else{const l=ze(t.subarray(s+8,a),e.slice(1));l.length&&Kfe.apply(n,l)}s=a}return n}function qfe(t){const e=[],n=t[0];let r=8;const s=Le(t,r);r+=4;let i=0,o=0;n===0?(i=Le(t,r),o=Le(t,r+4),r+=8):(i=S_(t,r),o=S_(t,r+8),r+=16),r+=2;let a=t.length+o;const l=S3(t,r);r+=2;for(let c=0;c<l;c++){let u=r;const d=Le(t,u);u+=4;const f=d&2147483647;if((d&2147483648)>>>31===1)return H.warn("SIDX has hierarchical references (not supported)"),null;const m=Le(t,u);u+=4,e.push({referenceSize:f,subsegmentDuration:m,info:{duration:m/s,start:a,end:a+f-1}}),a+=f,u+=4,r=u}return{earliestPresentationTime:i,timescale:s,version:n,referencesCount:l,references:e}}function T3(t){const e=[],n=ze(t,["moov","trak"]);for(let s=0;s<n.length;s++){const i=n[s],o=ze(i,["tkhd"])[0];if(o){let a=o[0];const l=Le(o,a===0?12:20),c=ze(i,["mdia","mdhd"])[0];if(c){a=c[0];const u=Le(c,a===0?12:20),d=ze(i,["mdia","hdlr"])[0];if(d){const f=wn(d.subarray(8,12)),p={soun:gt.AUDIO,vide:gt.VIDEO}[f];if(p){const m=ze(i,["mdia","minf","stbl","stsd"])[0],g=Xfe(m);e[l]={timescale:u,type:p},e[p]=Mn({timescale:u,id:l},g)}}}}}return ze(t,["moov","mvex","trex"]).forEach(s=>{const i=Le(s,4),o=e[i];o&&(o.default={duration:Le(s,12),flags:Le(s,20)})}),e}function Xfe(t){const e=t.subarray(8),n=e.subarray(86),r=wn(e.subarray(4,8));let s=r;const i=r==="enca"||r==="encv";if(i){const a=ze(e,[r])[0].subarray(r==="enca"?28:78);ze(a,["sinf"]).forEach(c=>{const u=ze(c,["schm"])[0];if(u){const d=wn(u.subarray(4,8));if(d==="cbcs"||d==="cenc"){const f=ze(c,["frma"])[0];f&&(s=wn(f))}}})}switch(s){case"avc1":case"avc2":case"avc3":case"avc4":{const o=ze(n,["avcC"])[0];s+="."+Mp(o[1])+Mp(o[2])+Mp(o[3]);break}case"mp4a":{const o=ze(e,[r])[0],a=ze(o.subarray(28),["esds"])[0];if(a&&a.length>12){let l=4;if(a[l++]!==3)break;l=wx(a,l),l+=2;const c=a[l++];if(c&128&&(l+=2),c&64&&(l+=a[l++]),a[l++]!==4)break;l=wx(a,l);const u=a[l++];if(u===64)s+="."+Mp(u);else break;if(l+=12,a[l++]!==5)break;l=wx(a,l);const d=a[l++];let f=(d&248)>>3;f===31&&(f+=1+((d&7)<<3)+((a[l]&224)>>5)),s+="."+f}break}case"hvc1":case"hev1":{const o=ze(n,["hvcC"])[0],a=o[1],l=["","A","B","C"][a>>6],c=a&31,u=Le(o,2),d=(a&32)>>5?"H":"L",f=o[12],p=o.subarray(6,12);s+="."+l+c,s+="."+u.toString(16).toUpperCase(),s+="."+d+f;let m="";for(let g=p.length;g--;){const y=p[g];(y||m)&&(m="."+y.toString(16).toUpperCase()+m)}s+=m;break}case"dvh1":case"dvhe":{const o=ze(n,["dvcC"])[0],a=o[2]>>1&127,l=o[2]<<5&32|o[3]>>3&31;s+="."+li(a)+"."+li(l);break}case"vp09":{const o=ze(n,["vpcC"])[0],a=o[4],l=o[5],c=o[6]>>4&15;s+="."+li(a)+"."+li(l)+"."+li(c);break}case"av01":{const o=ze(n,["av1C"])[0],a=o[1]>>>5,l=o[1]&31,c=o[2]>>>7?"H":"M",u=(o[2]&64)>>6,d=(o[2]&32)>>5,f=a===2&&u?d?12:10:u?10:8,p=(o[2]&16)>>4,m=(o[2]&8)>>3,g=(o[2]&4)>>2,y=o[2]&3;s+="."+a+"."+li(l)+c+"."+li(f)+"."+p+"."+m+g+y+"."+li(1)+"."+li(1)+"."+li(1)+"."+0;break}}return{codec:s,encrypted:i}}function wx(t,e){const n=e+5;for(;t[e++]&128&&e<n;);return e}function Mp(t){return("0"+t.toString(16).toUpperCase()).slice(-2)}function li(t){return(t<10?"0":"")+t}function Qfe(t,e){if(!t||!e)return t;const n=e.keyId;return n&&e.isCommonEncryption&&ze(t,["moov","trak"]).forEach(s=>{const o=ze(s,["mdia","minf","stbl","stsd"])[0].subarray(8);let a=ze(o,["enca"]);const l=a.length>0;l||(a=ze(o,["encv"])),a.forEach(c=>{const u=l?c.subarray(28):c.subarray(78);ze(u,["sinf"]).forEach(f=>{const p=E3(f);if(p){const m=p.subarray(8,24);m.some(g=>g!==0)||(H.log(`[eme] Patching keyId in 'enc${l?"a":"v"}>sinf>>tenc' box: ${hi.hexDump(m)} -> ${hi.hexDump(n)}`),p.set(n,8))}})})}),t}function E3(t){const e=ze(t,["schm"])[0];if(e){const n=wn(e.subarray(4,8));if(n==="cbcs"||n==="cenc")return ze(t,["schi","tenc"])[0]}return null}function Zfe(t,e){return ze(e,["moof","traf"]).reduce((n,r)=>{const s=ze(r,["tfdt"])[0],i=s[0],o=ze(r,["tfhd"]).reduce((a,l)=>{const c=Le(l,4),u=t[c];if(u){let d=Le(s,4);if(i===1){if(d===Hg)return H.warn("[mp4-demuxer]: Ignoring assumed invalid signed 64-bit track fragment decode time"),a;d*=Hg+1,d+=Le(s,8)}const f=u.timescale||9e4,p=d/f;if(xe(p)&&(a===null||p<a))return p}return a},null);return o!==null&&xe(o)&&(n===null||o<n)?o:n},null)}function Jfe(t,e){let n=0,r=0,s=0;const i=ze(t,["moof","traf"]);for(let o=0;o<i.length;o++){const a=i[o],l=ze(a,["tfhd"])[0],c=Le(l,4),u=e[c];if(!u)continue;const d=u.default,f=Le(l,0)|(d==null?void 0:d.flags);let p=d==null?void 0:d.duration;f&8&&(f&2?p=Le(l,12):p=Le(l,8));const m=u.timescale||9e4,g=ze(a,["trun"]);for(let y=0;y<g.length;y++){if(n=ehe(g[y]),!n&&p){const x=Le(g[y],4);n=p*x}u.type===gt.VIDEO?r+=n/m:u.type===gt.AUDIO&&(s+=n/m)}}if(r===0&&s===0){let o=1/0,a=0,l=0;const c=ze(t,["sidx"]);for(let u=0;u<c.length;u++){const d=qfe(c[u]);if(d!=null&&d.references){o=Math.min(o,d.earliestPresentationTime/d.timescale);const f=d.references.reduce((p,m)=>p+m.info.duration||0,0);a=Math.max(a,f+d.earliestPresentationTime/d.timescale),l=a-o}}if(l&&xe(l))return l}return r||s}function ehe(t){const e=Le(t,0);let n=8;e&1&&(n+=4),e&4&&(n+=4);let r=0;const s=Le(t,4);for(let i=0;i<s;i++){if(e&256){const o=Le(t,n);r+=o,n+=4}e&512&&(n+=4),e&1024&&(n+=4),e&2048&&(n+=4)}return r}function the(t,e,n){ze(e,["moof","traf"]).forEach(r=>{ze(r,["tfhd"]).forEach(s=>{const i=Le(s,4),o=t[i];if(!o)return;const a=o.timescale||9e4;ze(r,["tfdt"]).forEach(l=>{const c=l[0],u=n*a;if(u){let d=Le(l,4);if(c===0)d-=u,d=Math.max(d,0),Sx(l,4,d);else{d*=Math.pow(2,32),d+=Le(l,8),d-=u,d=Math.max(d,0);const f=Math.floor(d/(Hg+1)),p=Math.floor(d%(Hg+1));Sx(l,4,f),Sx(l,8,p)}}})})})}function nhe(t){const e={valid:null,remainder:null},n=ze(t,["moof"]);if(n.length<2)return e.remainder=t,e;const r=n[n.length-1];return e.valid=hl(t,0,r.byteOffset-8),e.remainder=hl(t,r.byteOffset-8),e}function Ps(t,e){const n=new Uint8Array(t.length+e.length);return n.set(t),n.set(e,t.length),n}function w_(t,e){const n=[],r=e.samples,s=e.timescale,i=e.id;let o=!1;return ze(r,["moof"]).map(l=>{const c=l.byteOffset-8;ze(l,["traf"]).map(d=>{const f=ze(d,["tfdt"]).map(p=>{const m=p[0];let g=Le(p,4);return m===1&&(g*=Math.pow(2,32),g+=Le(p,8)),g/s})[0];return f!==void 0&&(t=f),ze(d,["tfhd"]).map(p=>{const m=Le(p,4),g=Le(p,0)&16777215,y=(g&1)!==0,x=(g&2)!==0,v=(g&8)!==0;let b=0;const w=(g&16)!==0;let T=0;const C=(g&32)!==0;let E=8;m===i&&(y&&(E+=8),x&&(E+=4),v&&(b=Le(p,E),E+=4),w&&(T=Le(p,E),E+=4),C&&(E+=4),e.type==="video"&&(o=rhe(e.codec)),ze(d,["trun"]).map(k=>{const A=k[0],R=Le(k,0)&16777215,L=(R&1)!==0;let D=0;const M=(R&4)!==0,B=(R&256)!==0;let V=0;const O=(R&512)!==0;let I=0;const N=(R&1024)!==0,j=(R&2048)!==0;let K=0;const te=Le(k,4);let ne=8;L&&(D=Le(k,ne),ne+=4),M&&(ne+=4);let q=D+c;for(let ee=0;ee<te;ee++){if(B?(V=Le(k,ne),ne+=4):V=b,O?(I=Le(k,ne),ne+=4):I=T,N&&(ne+=4),j&&(A===0?K=Le(k,ne):K=w3(k,ne),ne+=4),e.type===gt.VIDEO){let ce=0;for(;ce<I;){const Y=Le(r,q);if(q+=4,she(o,r[q])){const ue=r.subarray(q,q+Y);C3(ue,o?2:1,t+K/s,n)}q+=Y,ce+=Y+4}}t+=V/s}}))})})}),n}function rhe(t){if(!t)return!1;const e=t.indexOf("."),n=e<0?t:t.substring(0,e);return n==="hvc1"||n==="hev1"||n==="dvh1"||n==="dvhe"}function she(t,e){if(t){const n=e>>1&63;return n===39||n===40}else return(e&31)===6}function C3(t,e,n,r){const s=k3(t);let i=0;i+=e;let o=0,a=0,l=0;for(;i<s.length;){o=0;do{if(i>=s.length)break;l=s[i++],o+=l}while(l===255);a=0;do{if(i>=s.length)break;l=s[i++],a+=l}while(l===255);const c=s.length-i;let u=i;if(a<c)i+=a;else if(a>c){H.error(`Malformed SEI payload. ${a} is too small, only ${c} bytes left to parse.`);break}if(o===4){if(s[u++]===181){const f=S3(s,u);if(u+=2,f===49){const p=Le(s,u);if(u+=4,p===1195456820){const m=s[u++];if(m===3){const g=s[u++],y=31&g,x=64&g,v=x?2+y*3:0,b=new Uint8Array(v);if(x){b[0]=g;for(let w=1;w<v;w++)b[w]=s[u++]}r.push({type:m,payloadType:o,pts:n,bytes:b})}}}}}else if(o===5&&a>16){const d=[];for(let m=0;m<16;m++){const g=s[u++].toString(16);d.push(g.length==1?"0"+g:g),(m===3||m===5||m===7||m===9)&&d.push("-")}const f=a-16,p=new Uint8Array(f);for(let m=0;m<f;m++)p[m]=s[u++];r.push({payloadType:o,pts:n,uuid:d.join(""),userData:_i(p),userDataBytes:p})}}}function k3(t){const e=t.byteLength,n=[];let r=1;for(;r<e-2;)t[r]===0&&t[r+1]===0&&t[r+2]===3?(n.push(r+2),r+=2):r++;if(n.length===0)return t;const s=e-n.length,i=new Uint8Array(s);let o=0;for(r=0;r<s;o++,r++)o===n[0]&&(o++,n.shift()),i[r]=t[o];return i}function ihe(t){const e=t[0];let n="",r="",s=0,i=0,o=0,a=0,l=0,c=0;if(e===0){for(;wn(t.subarray(c,c+1))!=="\0";)n+=wn(t.subarray(c,c+1)),c+=1;for(n+=wn(t.subarray(c,c+1)),c+=1;wn(t.subarray(c,c+1))!=="\0";)r+=wn(t.subarray(c,c+1)),c+=1;r+=wn(t.subarray(c,c+1)),c+=1,s=Le(t,12),i=Le(t,16),a=Le(t,20),l=Le(t,24),c=28}else if(e===1){c+=4,s=Le(t,c),c+=4;const d=Le(t,c);c+=4;const f=Le(t,c);for(c+=4,o=2**32*d+f,Tfe(o)||(o=Number.MAX_SAFE_INTEGER,H.warn("Presentation time exceeds safe integer limit and wrapped to max safe integer in parsing emsg box")),a=Le(t,c),c+=4,l=Le(t,c),c+=4;wn(t.subarray(c,c+1))!=="\0";)n+=wn(t.subarray(c,c+1)),c+=1;for(n+=wn(t.subarray(c,c+1)),c+=1;wn(t.subarray(c,c+1))!=="\0";)r+=wn(t.subarray(c,c+1)),c+=1;r+=wn(t.subarray(c,c+1)),c+=1}const u=t.subarray(c,t.byteLength);return{schemeIdUri:n,value:r,timeScale:s,presentationTime:o,presentationTimeDelta:i,eventDuration:a,id:l,payload:u}}function ohe(t,...e){const n=e.length;let r=8,s=n;for(;s--;)r+=e[s].byteLength;const i=new Uint8Array(r);for(i[0]=r>>24&255,i[1]=r>>16&255,i[2]=r>>8&255,i[3]=r&255,i.set(t,4),s=0,r=8;s<n;s++)i.set(e[s],r),r+=e[s].byteLength;return i}function ahe(t,e,n){if(t.byteLength!==16)throw new RangeError("Invalid system id");let r,s;r=0,s=new Uint8Array;let i;r>0?(i=new Uint8Array(4),e.length>0&&new DataView(i.buffer).setUint32(0,e.length,!1)):i=new Uint8Array;const o=new Uint8Array(4);return n&&n.byteLength>0&&new DataView(o.buffer).setUint32(0,n.byteLength,!1),ohe([112,115,115,104],new Uint8Array([r,0,0,0]),t,i,s,o,n||new Uint8Array)}function lhe(t){const e=[];if(t instanceof ArrayBuffer){const n=t.byteLength;let r=0;for(;r+32<n;){const s=new DataView(t,r),i=che(s);e.push(i),r+=i.size}}return e}function che(t){const e=t.getUint32(0),n=t.byteOffset,r=t.byteLength;if(r<e)return{offset:n,size:r};if(t.getUint32(4)!==1886614376)return{offset:n,size:e};const i=t.getUint32(8)>>>24;if(i!==0&&i!==1)return{offset:n,size:e};const o=t.buffer,a=hi.hexDump(new Uint8Array(o,n+12,16)),l=t.getUint32(28);let c=null,u=null;if(i===0){if(e-32<l||l<22)return{offset:n,size:e};u=new Uint8Array(o,n+32,l)}else if(i===1){if(!l||r<n+32+l*16+16)return{offset:n,size:e};c=[];for(let d=0;d<l;d++)c.push(new Uint8Array(o,n+32+d*16,16))}return{version:i,systemId:a,kids:c,data:u,offset:n,size:e}}let Op={};class rh{static clearKeyUriToKeyIdMap(){Op={}}constructor(e,n,r,s=[1],i=null){this.uri=void 0,this.method=void 0,this.keyFormat=void 0,this.keyFormatVersions=void 0,this.encrypted=void 0,this.isCommonEncryption=void 0,this.iv=null,this.key=null,this.keyId=null,this.pssh=null,this.method=e,this.uri=n,this.keyFormat=r,this.keyFormatVersions=s,this.iv=i,this.encrypted=e?e!=="NONE":!1,this.isCommonEncryption=this.encrypted&&e!=="AES-128"}isSupported(){if(this.method){if(this.method==="AES-128"||this.method==="NONE")return!0;if(this.keyFormat==="identity")return this.method==="SAMPLE-AES";switch(this.keyFormat){case Sr.FAIRPLAY:case Sr.WIDEVINE:case Sr.PLAYREADY:case Sr.CLEARKEY:return["ISO-23001-7","SAMPLE-AES","SAMPLE-AES-CENC","SAMPLE-AES-CTR"].indexOf(this.method)!==-1}}return!1}getDecryptData(e){if(!this.encrypted||!this.uri)return null;if(this.method==="AES-128"&&this.uri&&!this.iv){typeof e!="number"&&(this.method==="AES-128"&&!this.iv&&H.warn(`missing IV for initialization segment with method="${this.method}" - compliance issue`),e=0);const r=uhe(e);return new rh(this.method,this.uri,"identity",this.keyFormatVersions,r)}const n=Ffe(this.uri);if(n)switch(this.keyFormat){case Sr.WIDEVINE:this.pssh=n,n.length>=22&&(this.keyId=n.subarray(n.length-22,n.length-6));break;case Sr.PLAYREADY:{const r=new Uint8Array([154,4,240,121,152,64,66,134,171,146,230,91,224,136,95,149]);this.pssh=ahe(r,null,n);const s=new Uint16Array(n.buffer,n.byteOffset,n.byteLength/2),i=String.fromCharCode.apply(null,Array.from(s)),o=i.substring(i.indexOf("<"),i.length),c=new DOMParser().parseFromString(o,"text/xml").getElementsByTagName("KID")[0];if(c){const u=c.childNodes[0]?c.childNodes[0].nodeValue:c.getAttribute("VALUE");if(u){const d=iE(u).subarray(0,16);Ofe(d),this.keyId=d}}break}default:{let r=n.subarray(0,16);if(r.length!==16){const s=new Uint8Array(16);s.set(r,16-r.length),r=s}this.keyId=r;break}}if(!this.keyId||this.keyId.byteLength!==16){let r=Op[this.uri];if(!r){const s=Object.keys(Op).length%Number.MAX_SAFE_INTEGER;r=new Uint8Array(16),new DataView(r.buffer,12,4).setUint32(0,s),Op[this.uri]=r}this.keyId=r}return this}}function uhe(t){const e=new Uint8Array(16);for(let n=12;n<16;n++)e[n]=t>>8*(15-n)&255;return e}const A3=/\{\$([a-zA-Z0-9-_]+)\}/g;function T_(t){return A3.test(t)}function vr(t,e,n){if(t.variableList!==null||t.hasVariableRefs)for(let r=n.length;r--;){const s=n[r],i=e[s];i&&(e[s]=iS(t,i))}}function iS(t,e){if(t.variableList!==null||t.hasVariableRefs){const n=t.variableList;return e.replace(A3,r=>{const s=r.substring(2,r.length-1),i=n==null?void 0:n[s];return i===void 0?(t.playlistParsingError||(t.playlistParsingError=new Error(`Missing preceding EXT-X-DEFINE tag for Variable Reference: "${s}"`)),r):i})}return e}function E_(t,e,n){let r=t.variableList;r||(t.variableList=r={});let s,i;if("QUERYPARAM"in e){s=e.QUERYPARAM;try{const o=new self.URL(n).searchParams;if(o.has(s))i=o.get(s);else throw new Error(`"${s}" does not match any query parameter in URI: "${n}"`)}catch(o){t.playlistParsingError||(t.playlistParsingError=new Error(`EXT-X-DEFINE QUERYPARAM: ${o.message}`))}}else s=e.NAME,i=e.VALUE;s in r?t.playlistParsingError||(t.playlistParsingError=new Error(`EXT-X-DEFINE duplicate Variable Name declarations: "${s}"`)):r[s]=i||""}function dhe(t,e,n){const r=e.IMPORT;if(n&&r in n){let s=t.variableList;s||(t.variableList=s={}),s[r]=n[r]}else t.playlistParsingError||(t.playlistParsingError=new Error(`EXT-X-DEFINE IMPORT attribute not found in Multivariant Playlist: "${r}"`))}function Rl(t=!0){return typeof self>"u"?void 0:(t||!self.MediaSource)&&self.ManagedMediaSource||self.MediaSource||self.WebKitMediaSource}function fhe(t){return typeof self<"u"&&t===self.ManagedMediaSource}const Gg={audio:{a3ds:1,"ac-3":.95,"ac-4":1,alac:.9,alaw:1,dra1:1,"dts+":1,"dts-":1,dtsc:1,dtse:1,dtsh:1,"ec-3":.9,enca:1,fLaC:.9,flac:.9,FLAC:.9,g719:1,g726:1,m4ae:1,mha1:1,mha2:1,mhm1:1,mhm2:1,mlpa:1,mp4a:1,"raw ":1,Opus:1,opus:1,samr:1,sawb:1,sawp:1,sevc:1,sqcp:1,ssmv:1,twos:1,ulaw:1},video:{avc1:1,avc2:1,avc3:1,avc4:1,avcp:1,av01:.8,drac:1,dva1:1,dvav:1,dvh1:.7,dvhe:.7,encv:1,hev1:.75,hvc1:.75,mjp2:1,mp4v:1,mvc1:1,mvc2:1,mvc3:1,mvc4:1,resv:1,rv60:1,s263:1,svc1:1,svc2:1,"vc-1":1,vp08:1,vp09:.9},text:{stpp:1,wvtt:1}};function hhe(t,e){const n=Gg[e];return!!n&&!!n[t.slice(0,4)]}function Tx(t,e,n=!0){return!t.split(",").some(r=>!R3(r,e,n))}function R3(t,e,n=!0){var r;const s=Rl(n);return(r=s==null?void 0:s.isTypeSupported(sh(t,e)))!=null?r:!1}function sh(t,e){return`${e}/mp4;codecs="${t}"`}function C_(t){if(t){const e=t.substring(0,4);return Gg.video[e]}return 2}function Kg(t){return t.split(",").reduce((e,n)=>{const r=Gg.video[n];return r?(r*2+e)/(e?3:2):(Gg.audio[n]+e)/(e?2:1)},0)}const Ex={};function phe(t,e=!0){if(Ex[t])return Ex[t];const n={flac:["flac","fLaC","FLAC"],opus:["opus","Opus"]}[t];for(let r=0;r<n.length;r++)if(R3(n[r],"audio",e))return Ex[t]=n[r],n[r];return t}const mhe=/flac|opus/i;function Yg(t,e=!0){return t.replace(mhe,n=>phe(n.toLowerCase(),e))}function k_(t,e){return t&&t!=="mp4a"?t:e&&e.split(",")[0]}function ghe(t){const e=t.split(",");for(let n=0;n<e.length;n++){const r=e[n].split(".");if(r.length>2){let s=r.shift()+".";s+=parseInt(r.shift()).toString(16),s+=("000"+parseInt(r.shift()).toString(16)).slice(-4),e[n]=s}}return e.join(",")}const A_=/#EXT-X-STREAM-INF:([^\r\n]*)(?:[\r\n](?:#[^\r\n]*)?)*([^\r\n]+)|#EXT-X-(SESSION-DATA|SESSION-KEY|DEFINE|CONTENT-STEERING|START):([^\r\n]*)[\r\n]+/g,R_=/#EXT-X-MEDIA:(.*)/g,yhe=/^#EXT(?:INF|-X-TARGETDURATION):/m,__=new RegExp([/#EXTINF:\s*(\d*(?:\.\d+)?)(?:,(.*)\s+)?/.source,/(?!#) *(\S[^\r\n]*)/.source,/#EXT-X-BYTERANGE:*(.+)/.source,/#EXT-X-PROGRAM-DATE-TIME:(.+)/.source,/#.*/.source].join("|"),"g"),vhe=new RegExp([/#(EXTM3U)/.source,/#EXT-X-(DATERANGE|DEFINE|KEY|MAP|PART|PART-INF|PLAYLIST-TYPE|PRELOAD-HINT|RENDITION-REPORT|SERVER-CONTROL|SKIP|START):(.+)/.source,/#EXT-X-(BITRATE|DISCONTINUITY-SEQUENCE|MEDIA-SEQUENCE|TARGETDURATION|VERSION): *(\d+)/.source,/#EXT-X-(DISCONTINUITY|ENDLIST|GAP|INDEPENDENT-SEGMENTS)/.source,/(#)([^:]*):(.*)/.source,/(#)(.*)(?:.*)\r?\n?/.source].join("|"));class bi{static findGroup(e,n){for(let r=0;r<e.length;r++){const s=e[r];if(s.id===n)return s}}static resolve(e,n){return sE.buildAbsoluteURL(n,e,{alwaysNormalize:!0})}static isMediaPlaylist(e){return yhe.test(e)}static parseMasterPlaylist(e,n){const r=T_(e),s={contentSteering:null,levels:[],playlistParsingError:null,sessionData:null,sessionKeys:null,startTimeOffset:null,variableList:null,hasVariableRefs:r},i=[];A_.lastIndex=0;let o;for(;(o=A_.exec(e))!=null;)if(o[1]){var a;const c=new Gt(o[1]);vr(s,c,["CODECS","SUPPLEMENTAL-CODECS","ALLOWED-CPC","PATHWAY-ID","STABLE-VARIANT-ID","AUDIO","VIDEO","SUBTITLES","CLOSED-CAPTIONS","NAME"]);const u=iS(s,o[2]),d={attrs:c,bitrate:c.decimalInteger("BANDWIDTH")||c.decimalInteger("AVERAGE-BANDWIDTH"),name:c.NAME,url:bi.resolve(u,n)},f=c.decimalResolution("RESOLUTION");f&&(d.width=f.width,d.height=f.height),xhe(c.CODECS,d),(a=d.unknownCodecs)!=null&&a.length||i.push(d),s.levels.push(d)}else if(o[3]){const c=o[3],u=o[4];switch(c){case"SESSION-DATA":{const d=new Gt(u);vr(s,d,["DATA-ID","LANGUAGE","VALUE","URI"]);const f=d["DATA-ID"];f&&(s.sessionData===null&&(s.sessionData={}),s.sessionData[f]=d);break}case"SESSION-KEY":{const d=L_(u,n,s);d.encrypted&&d.isSupported()?(s.sessionKeys===null&&(s.sessionKeys=[]),s.sessionKeys.push(d)):H.warn(`[Keys] Ignoring invalid EXT-X-SESSION-KEY tag: "${u}"`);break}case"DEFINE":{{const d=new Gt(u);vr(s,d,["NAME","VALUE","QUERYPARAM"]),E_(s,d,n)}break}case"CONTENT-STEERING":{const d=new Gt(u);vr(s,d,["SERVER-URI","PATHWAY-ID"]),s.contentSteering={uri:bi.resolve(d["SERVER-URI"],n),pathwayId:d["PATHWAY-ID"]||"."};break}case"START":{s.startTimeOffset=P_(u);break}}}const l=i.length>0&&i.length<s.levels.length;return s.levels=l?i:s.levels,s.levels.length===0&&(s.playlistParsingError=new Error("no levels found in manifest")),s}static parseMasterPlaylistMedia(e,n,r){let s;const i={},o=r.levels,a={AUDIO:o.map(c=>({id:c.attrs.AUDIO,audioCodec:c.audioCodec})),SUBTITLES:o.map(c=>({id:c.attrs.SUBTITLES,textCodec:c.textCodec})),"CLOSED-CAPTIONS":[]};let l=0;for(R_.lastIndex=0;(s=R_.exec(e))!==null;){const c=new Gt(s[1]),u=c.TYPE;if(u){const d=a[u],f=i[u]||[];i[u]=f,vr(r,c,["URI","GROUP-ID","LANGUAGE","ASSOC-LANGUAGE","STABLE-RENDITION-ID","NAME","INSTREAM-ID","CHARACTERISTICS","CHANNELS"]);const p=c.LANGUAGE,m=c["ASSOC-LANGUAGE"],g=c.CHANNELS,y=c.CHARACTERISTICS,x=c["INSTREAM-ID"],v={attrs:c,bitrate:0,id:l++,groupId:c["GROUP-ID"]||"",name:c.NAME||p||"",type:u,default:c.bool("DEFAULT"),autoselect:c.bool("AUTOSELECT"),forced:c.bool("FORCED"),lang:p,url:c.URI?bi.resolve(c.URI,n):""};if(m&&(v.assocLang=m),g&&(v.channels=g),y&&(v.characteristics=y),x&&(v.instreamId=x),d!=null&&d.length){const b=bi.findGroup(d,v.groupId)||d[0];I_(v,b,"audioCodec"),I_(v,b,"textCodec")}f.push(v)}}return i}static parseLevelPlaylist(e,n,r,s,i,o){const a=new Dfe(n),l=a.fragments;let c=null,u=0,d=0,f=0,p=0,m=null,g=new vx(s,n),y,x,v,b=-1,w=!1,T=null;for(__.lastIndex=0,a.m3u8=e,a.hasVariableRefs=T_(e);(y=__.exec(e))!==null;){w&&(w=!1,g=new vx(s,n),g.start=f,g.sn=u,g.cc=p,g.level=r,c&&(g.initSegment=c,g.rawProgramDateTime=c.rawProgramDateTime,c.rawProgramDateTime=null,T&&(g.setByteRange(T),T=null)));const A=y[1];if(A){g.duration=parseFloat(A);const R=(" "+y[2]).slice(1);g.title=R||null,g.tagList.push(R?["INF",A,R]:["INF",A])}else if(y[3]){if(xe(g.duration)){g.start=f,v&&O_(g,v,a),g.sn=u,g.level=r,g.cc=p,l.push(g);const R=(" "+y[3]).slice(1);g.relurl=iS(a,R),D_(g,m),m=g,f+=g.duration,u++,d=0,w=!0}}else if(y[4]){const R=(" "+y[4]).slice(1);m?g.setByteRange(R,m):g.setByteRange(R)}else if(y[5])g.rawProgramDateTime=(" "+y[5]).slice(1),g.tagList.push(["PROGRAM-DATE-TIME",g.rawProgramDateTime]),b===-1&&(b=l.length);else{if(y=y[0].match(vhe),!y){H.warn("No matches on slow regex match for level playlist!");continue}for(x=1;x<y.length&&!(typeof y[x]<"u");x++);const R=(" "+y[x]).slice(1),L=(" "+y[x+1]).slice(1),D=y[x+2]?(" "+y[x+2]).slice(1):"";switch(R){case"PLAYLIST-TYPE":a.type=L.toUpperCase();break;case"MEDIA-SEQUENCE":u=a.startSN=parseInt(L);break;case"SKIP":{const M=new Gt(L);vr(a,M,["RECENTLY-REMOVED-DATERANGES"]);const B=M.decimalInteger("SKIPPED-SEGMENTS");if(xe(B)){a.skippedSegments=B;for(let O=B;O--;)l.unshift(null);u+=B}const V=M.enumeratedString("RECENTLY-REMOVED-DATERANGES");V&&(a.recentlyRemovedDateranges=V.split("	"));break}case"TARGETDURATION":a.targetduration=Math.max(parseInt(L),1);break;case"VERSION":a.version=parseInt(L);break;case"INDEPENDENT-SEGMENTS":case"EXTM3U":break;case"ENDLIST":a.live=!1;break;case"#":(L||D)&&g.tagList.push(D?[L,D]:[L]);break;case"DISCONTINUITY":p++,g.tagList.push(["DIS"]);break;case"GAP":g.gap=!0,g.tagList.push([R]);break;case"BITRATE":g.tagList.push([R,L]);break;case"DATERANGE":{const M=new Gt(L);vr(a,M,["ID","CLASS","START-DATE","END-DATE","SCTE35-CMD","SCTE35-OUT","SCTE35-IN"]),vr(a,M,M.clientAttrs);const B=new p3(M,a.dateRanges[M.ID]);B.isValid||a.skippedSegments?a.dateRanges[B.id]=B:H.warn(`Ignoring invalid DATERANGE tag: "${L}"`),g.tagList.push(["EXT-X-DATERANGE",L]);break}case"DEFINE":{{const M=new Gt(L);vr(a,M,["NAME","VALUE","IMPORT","QUERYPARAM"]),"IMPORT"in M?dhe(a,M,o):E_(a,M,n)}break}case"DISCONTINUITY-SEQUENCE":p=parseInt(L);break;case"KEY":{const M=L_(L,n,a);if(M.isSupported()){if(M.method==="NONE"){v=void 0;break}v||(v={}),v[M.keyFormat]&&(v=yn({},v)),v[M.keyFormat]=M}else H.warn(`[Keys] Ignoring invalid EXT-X-KEY tag: "${L}"`);break}case"START":a.startTimeOffset=P_(L);break;case"MAP":{const M=new Gt(L);if(vr(a,M,["BYTERANGE","URI"]),g.duration){const B=new vx(s,n);M_(B,M,r,v),c=B,g.initSegment=c,c.rawProgramDateTime&&!g.rawProgramDateTime&&(g.rawProgramDateTime=c.rawProgramDateTime)}else{const B=g.byteRangeEndOffset;if(B){const V=g.byteRangeStartOffset;T=`${B-V}@${V}`}else T=null;M_(g,M,r,v),c=g,w=!0}break}case"SERVER-CONTROL":{const M=new Gt(L);a.canBlockReload=M.bool("CAN-BLOCK-RELOAD"),a.canSkipUntil=M.optionalFloat("CAN-SKIP-UNTIL",0),a.canSkipDateRanges=a.canSkipUntil>0&&M.bool("CAN-SKIP-DATERANGES"),a.partHoldBack=M.optionalFloat("PART-HOLD-BACK",0),a.holdBack=M.optionalFloat("HOLD-BACK",0);break}case"PART-INF":{const M=new Gt(L);a.partTarget=M.decimalFloatingPoint("PART-TARGET");break}case"PART":{let M=a.partList;M||(M=a.partList=[]);const B=d>0?M[M.length-1]:void 0,V=d++,O=new Gt(L);vr(a,O,["BYTERANGE","URI"]);const I=new Pfe(O,g,n,V,B);M.push(I),g.duration+=I.duration;break}case"PRELOAD-HINT":{const M=new Gt(L);vr(a,M,["URI"]),a.preloadHint=M;break}case"RENDITION-REPORT":{const M=new Gt(L);vr(a,M,["URI"]),a.renditionReports=a.renditionReports||[],a.renditionReports.push(M);break}default:H.warn(`line parsed but not handled: ${y}`);break}}}m&&!m.relurl?(l.pop(),f-=m.duration,a.partList&&(a.fragmentHint=m)):a.partList&&(D_(g,m),g.cc=p,a.fragmentHint=g,v&&O_(g,v,a));const C=l.length,E=l[0],k=l[C-1];if(f+=a.skippedSegments*a.targetduration,f>0&&C&&k){a.averagetargetduration=f/C;const A=k.sn;a.endSN=A!=="initSegment"?A:0,a.live||(k.endList=!0),E&&(a.startCC=E.cc)}else a.endSN=0,a.startCC=0;return a.fragmentHint&&(f+=a.fragmentHint.duration),a.totalduration=f,a.endCC=p,b>0&&bhe(l,b),a}}function L_(t,e,n){var r,s;const i=new Gt(t);vr(n,i,["KEYFORMAT","KEYFORMATVERSIONS","URI","IV","URI"]);const o=(r=i.METHOD)!=null?r:"",a=i.URI,l=i.hexadecimalInteger("IV"),c=i.KEYFORMATVERSIONS,u=(s=i.KEYFORMAT)!=null?s:"identity";a&&i.IV&&!l&&H.error(`Invalid IV: ${i.IV}`);const d=a?bi.resolve(a,e):"",f=(c||"1").split("/").map(Number).filter(Number.isFinite);return new rh(o,d,u,f,l)}function P_(t){const n=new Gt(t).decimalFloatingPoint("TIME-OFFSET");return xe(n)?n:null}function xhe(t,e){let n=(t||"").split(/[ ,]+/).filter(r=>r);["video","audio","text"].forEach(r=>{const s=n.filter(i=>hhe(i,r));s.length&&(e[`${r}Codec`]=s.join(","),n=n.filter(i=>s.indexOf(i)===-1))}),e.unknownCodecs=n}function I_(t,e,n){const r=e[n];r&&(t[n]=r)}function bhe(t,e){let n=t[e];for(let r=e;r--;){const s=t[r];if(!s)return;s.programDateTime=n.programDateTime-s.duration*1e3,n=s}}function D_(t,e){t.rawProgramDateTime?t.programDateTime=Date.parse(t.rawProgramDateTime):e!=null&&e.programDateTime&&(t.programDateTime=e.endProgramDateTime),xe(t.programDateTime)||(t.programDateTime=null,t.rawProgramDateTime=null)}function M_(t,e,n,r){t.relurl=e.URI,e.BYTERANGE&&t.setByteRange(e.BYTERANGE),t.level=n,t.sn="initSegment",r&&(t.levelkeys=r),t.initSegment=null}function O_(t,e,n){t.levelkeys=e;const{encryptedFragments:r}=n;(!r.length||r[r.length-1].levelkeys!==e)&&Object.keys(e).some(s=>e[s].isCommonEncryption)&&r.push(t)}var et={MANIFEST:"manifest",LEVEL:"level",AUDIO_TRACK:"audioTrack",SUBTITLE_TRACK:"subtitleTrack"},Pe={MAIN:"main",AUDIO:"audio",SUBTITLE:"subtitle"};function F_(t){const{type:e}=t;switch(e){case et.AUDIO_TRACK:return Pe.AUDIO;case et.SUBTITLE_TRACK:return Pe.SUBTITLE;default:return Pe.MAIN}}function Cx(t,e){let n=t.url;return(n===void 0||n.indexOf("data:")===0)&&(n=e.url),n}class She{constructor(e){this.hls=void 0,this.loaders=Object.create(null),this.variableList=null,this.hls=e,this.registerListeners()}startLoad(e){}stopLoad(){this.destroyInternalLoaders()}registerListeners(){const{hls:e}=this;e.on(_.MANIFEST_LOADING,this.onManifestLoading,this),e.on(_.LEVEL_LOADING,this.onLevelLoading,this),e.on(_.AUDIO_TRACK_LOADING,this.onAudioTrackLoading,this),e.on(_.SUBTITLE_TRACK_LOADING,this.onSubtitleTrackLoading,this)}unregisterListeners(){const{hls:e}=this;e.off(_.MANIFEST_LOADING,this.onManifestLoading,this),e.off(_.LEVEL_LOADING,this.onLevelLoading,this),e.off(_.AUDIO_TRACK_LOADING,this.onAudioTrackLoading,this),e.off(_.SUBTITLE_TRACK_LOADING,this.onSubtitleTrackLoading,this)}createInternalLoader(e){const n=this.hls.config,r=n.pLoader,s=n.loader,i=r||s,o=new i(n);return this.loaders[e.type]=o,o}getInternalLoader(e){return this.loaders[e.type]}resetInternalLoader(e){this.loaders[e]&&delete this.loaders[e]}destroyInternalLoaders(){for(const e in this.loaders){const n=this.loaders[e];n&&n.destroy(),this.resetInternalLoader(e)}}destroy(){this.variableList=null,this.unregisterListeners(),this.destroyInternalLoaders()}onManifestLoading(e,n){const{url:r}=n;this.variableList=null,this.load({id:null,level:0,responseType:"text",type:et.MANIFEST,url:r,deliveryDirectives:null})}onLevelLoading(e,n){const{id:r,level:s,pathwayId:i,url:o,deliveryDirectives:a}=n;this.load({id:r,level:s,pathwayId:i,responseType:"text",type:et.LEVEL,url:o,deliveryDirectives:a})}onAudioTrackLoading(e,n){const{id:r,groupId:s,url:i,deliveryDirectives:o}=n;this.load({id:r,groupId:s,level:null,responseType:"text",type:et.AUDIO_TRACK,url:i,deliveryDirectives:o})}onSubtitleTrackLoading(e,n){const{id:r,groupId:s,url:i,deliveryDirectives:o}=n;this.load({id:r,groupId:s,level:null,responseType:"text",type:et.SUBTITLE_TRACK,url:i,deliveryDirectives:o})}load(e){var n;const r=this.hls.config;let s=this.getInternalLoader(e);if(s){const c=s.context;if(c&&c.url===e.url&&c.level===e.level){H.trace("[playlist-loader]: playlist request ongoing");return}H.log(`[playlist-loader]: aborting previous loader for type: ${e.type}`),s.abort()}let i;if(e.type===et.MANIFEST?i=r.manifestLoadPolicy.default:i=yn({},r.playlistLoadPolicy.default,{timeoutRetry:null,errorRetry:null}),s=this.createInternalLoader(e),xe((n=e.deliveryDirectives)==null?void 0:n.part)){let c;if(e.type===et.LEVEL&&e.level!==null?c=this.hls.levels[e.level].details:e.type===et.AUDIO_TRACK&&e.id!==null?c=this.hls.audioTracks[e.id].details:e.type===et.SUBTITLE_TRACK&&e.id!==null&&(c=this.hls.subtitleTracks[e.id].details),c){const u=c.partTarget,d=c.targetduration;if(u&&d){const f=Math.max(u*3,d*.8)*1e3;i=yn({},i,{maxTimeToFirstByteMs:Math.min(f,i.maxTimeToFirstByteMs),maxLoadTimeMs:Math.min(f,i.maxTimeToFirstByteMs)})}}}const o=i.errorRetry||i.timeoutRetry||{},a={loadPolicy:i,timeout:i.maxLoadTimeMs,maxRetry:o.maxNumRetry||0,retryDelay:o.retryDelayMs||0,maxRetryDelay:o.maxRetryDelayMs||0},l={onSuccess:(c,u,d,f)=>{const p=this.getInternalLoader(d);this.resetInternalLoader(d.type);const m=c.data;if(m.indexOf("#EXTM3U")!==0){this.handleManifestParsingError(c,d,new Error("no EXTM3U delimiter"),f||null,u);return}u.parsing.start=performance.now(),bi.isMediaPlaylist(m)?this.handleTrackOrLevelPlaylist(c,u,d,f||null,p):this.handleMasterPlaylist(c,u,d,f)},onError:(c,u,d,f)=>{this.handleNetworkError(u,d,!1,c,f)},onTimeout:(c,u,d)=>{this.handleNetworkError(u,d,!0,void 0,c)}};s.load(e,a,l)}handleMasterPlaylist(e,n,r,s){const i=this.hls,o=e.data,a=Cx(e,r),l=bi.parseMasterPlaylist(o,a);if(l.playlistParsingError){this.handleManifestParsingError(e,r,l.playlistParsingError,s,n);return}const{contentSteering:c,levels:u,sessionData:d,sessionKeys:f,startTimeOffset:p,variableList:m}=l;this.variableList=m;const{AUDIO:g=[],SUBTITLES:y,"CLOSED-CAPTIONS":x}=bi.parseMasterPlaylistMedia(o,a,l);g.length&&!g.some(b=>!b.url)&&u[0].audioCodec&&!u[0].attrs.AUDIO&&(H.log("[playlist-loader]: audio codec signaled in quality level, but no embedded audio track signaled, create one"),g.unshift({type:"main",name:"main",groupId:"main",default:!1,autoselect:!1,forced:!1,id:-1,attrs:new Gt({}),bitrate:0,url:""})),i.trigger(_.MANIFEST_LOADED,{levels:u,audioTracks:g,subtitles:y,captions:x,contentSteering:c,url:a,stats:n,networkDetails:s,sessionData:d,sessionKeys:f,startTimeOffset:p,variableList:m})}handleTrackOrLevelPlaylist(e,n,r,s,i){const o=this.hls,{id:a,level:l,type:c}=r,u=Cx(e,r),d=0,f=xe(l)?l:xe(a)?a:0,p=F_(r),m=bi.parseLevelPlaylist(e.data,u,f,p,d,this.variableList);if(c===et.MANIFEST){const g={attrs:new Gt({}),bitrate:0,details:m,name:"",url:u};o.trigger(_.MANIFEST_LOADED,{levels:[g],audioTracks:[],url:u,stats:n,networkDetails:s,sessionData:null,sessionKeys:null,contentSteering:null,startTimeOffset:null,variableList:null})}n.parsing.end=performance.now(),r.levelDetails=m,this.handlePlaylistLoaded(m,e,n,r,s,i)}handleManifestParsingError(e,n,r,s,i){this.hls.trigger(_.ERROR,{type:Me.NETWORK_ERROR,details:Q.MANIFEST_PARSING_ERROR,fatal:n.type===et.MANIFEST,url:e.url,err:r,error:r,reason:r.message,response:e,context:n,networkDetails:s,stats:i})}handleNetworkError(e,n,r=!1,s,i){let o=`A network ${r?"timeout":"error"+(s?" (status "+s.code+")":"")} occurred while loading ${e.type}`;e.type===et.LEVEL?o+=`: ${e.level} id: ${e.id}`:(e.type===et.AUDIO_TRACK||e.type===et.SUBTITLE_TRACK)&&(o+=` id: ${e.id} group-id: "${e.groupId}"`);const a=new Error(o);H.warn(`[playlist-loader]: ${o}`);let l=Q.UNKNOWN,c=!1;const u=this.getInternalLoader(e);switch(e.type){case et.MANIFEST:l=r?Q.MANIFEST_LOAD_TIMEOUT:Q.MANIFEST_LOAD_ERROR,c=!0;break;case et.LEVEL:l=r?Q.LEVEL_LOAD_TIMEOUT:Q.LEVEL_LOAD_ERROR,c=!1;break;case et.AUDIO_TRACK:l=r?Q.AUDIO_TRACK_LOAD_TIMEOUT:Q.AUDIO_TRACK_LOAD_ERROR,c=!1;break;case et.SUBTITLE_TRACK:l=r?Q.SUBTITLE_TRACK_LOAD_TIMEOUT:Q.SUBTITLE_LOAD_ERROR,c=!1;break}u&&this.resetInternalLoader(e.type);const d={type:Me.NETWORK_ERROR,details:l,fatal:c,url:e.url,loader:u,context:e,error:a,networkDetails:n,stats:i};if(s){const f=(n==null?void 0:n.url)||e.url;d.response=Mn({url:f,data:void 0},s)}this.hls.trigger(_.ERROR,d)}handlePlaylistLoaded(e,n,r,s,i,o){const a=this.hls,{type:l,level:c,id:u,groupId:d,deliveryDirectives:f}=s,p=Cx(n,s),m=F_(s),g=typeof s.level=="number"&&m===Pe.MAIN?c:void 0;if(!e.fragments.length){const x=new Error("No Segments found in Playlist");a.trigger(_.ERROR,{type:Me.NETWORK_ERROR,details:Q.LEVEL_EMPTY_ERROR,fatal:!1,url:p,error:x,reason:x.message,response:n,context:s,level:g,parent:m,networkDetails:i,stats:r});return}e.targetduration||(e.playlistParsingError=new Error("Missing Target Duration"));const y=e.playlistParsingError;if(y){a.trigger(_.ERROR,{type:Me.NETWORK_ERROR,details:Q.LEVEL_PARSING_ERROR,fatal:!1,url:p,error:y,reason:y.message,response:n,context:s,level:g,parent:m,networkDetails:i,stats:r});return}switch(e.live&&o&&(o.getCacheAge&&(e.ageHeader=o.getCacheAge()||0),(!o.getCacheAge||isNaN(e.ageHeader))&&(e.ageHeader=0)),l){case et.MANIFEST:case et.LEVEL:a.trigger(_.LEVEL_LOADED,{details:e,level:g||0,id:u||0,stats:r,networkDetails:i,deliveryDirectives:f});break;case et.AUDIO_TRACK:a.trigger(_.AUDIO_TRACK_LOADED,{details:e,id:u||0,groupId:d||"",stats:r,networkDetails:i,deliveryDirectives:f});break;case et.SUBTITLE_TRACK:a.trigger(_.SUBTITLE_TRACK_LOADED,{details:e,id:u||0,groupId:d||"",stats:r,networkDetails:i,deliveryDirectives:f});break}}}function _3(t,e){let n;try{n=new Event("addtrack")}catch{n=document.createEvent("Event"),n.initEvent("addtrack",!1,!1)}n.track=t,e.dispatchEvent(n)}function L3(t,e){const n=t.mode;if(n==="disabled"&&(t.mode="hidden"),t.cues&&!t.cues.getCueById(e.id))try{if(t.addCue(e),!t.cues.getCueById(e.id))throw new Error(`addCue is failed for: ${e}`)}catch(r){H.debug(`[texttrack-utils]: ${r}`);try{const s=new self.TextTrackCue(e.startTime,e.endTime,e.text);s.id=e.id,t.addCue(s)}catch(s){H.debug(`[texttrack-utils]: Legacy TextTrackCue fallback failed: ${s}`)}}n==="disabled"&&(t.mode=n)}function kc(t){const e=t.mode;if(e==="disabled"&&(t.mode="hidden"),t.cues)for(let n=t.cues.length;n--;)t.removeCue(t.cues[n]);e==="disabled"&&(t.mode=e)}function oS(t,e,n,r){const s=t.mode;if(s==="disabled"&&(t.mode="hidden"),t.cues&&t.cues.length>0){const i=The(t.cues,e,n);for(let o=0;o<i.length;o++)(!r||r(i[o]))&&t.removeCue(i[o])}s==="disabled"&&(t.mode=s)}function whe(t,e){if(e<t[0].startTime)return 0;const n=t.length-1;if(e>t[n].endTime)return-1;let r=0,s=n;for(;r<=s;){const i=Math.floor((s+r)/2);if(e<t[i].startTime)s=i-1;else if(e>t[i].startTime&&r<n)r=i+1;else return i}return t[r].startTime-e<e-t[s].startTime?r:s}function The(t,e,n){const r=[],s=whe(t,e);if(s>-1)for(let i=s,o=t.length;i<o;i++){const a=t[i];if(a.startTime>=e&&a.endTime<=n)r.push(a);else if(a.startTime>n)return r}return r}function Dm(t){const e=[];for(let n=0;n<t.length;n++){const r=t[n];(r.kind==="subtitles"||r.kind==="captions")&&r.label&&e.push(t[n])}return e}var Ks={audioId3:"org.id3",dateRange:"com.apple.quicktime.HLS",emsg:"https://aomedia.org/emsg/ID3"};const Ehe=.25;function aS(){if(!(typeof self>"u"))return self.VTTCue||self.TextTrackCue}function N_(t,e,n,r,s){let i=new t(e,n,"");try{i.value=r,s&&(i.type=s)}catch{i=new t(e,n,JSON.stringify(s?Mn({type:s},r):r))}return i}const Fp=(()=>{const t=aS();try{t&&new t(0,Number.POSITIVE_INFINITY,"")}catch{return Number.MAX_VALUE}return Number.POSITIVE_INFINITY})();function kx(t,e){return t.getTime()/1e3-e}function Che(t){return Uint8Array.from(t.replace(/^0x/,"").replace(/([\da-fA-F]{2}) ?/g,"0x$1 ").replace(/ +$/,"").split(" ")).buffer}class khe{constructor(e){this.hls=void 0,this.id3Track=null,this.media=null,this.dateRangeCuesAppended={},this.hls=e,this._registerListeners()}destroy(){this._unregisterListeners(),this.id3Track=null,this.media=null,this.dateRangeCuesAppended={},this.hls=null}_registerListeners(){const{hls:e}=this;e.on(_.MEDIA_ATTACHED,this.onMediaAttached,this),e.on(_.MEDIA_DETACHING,this.onMediaDetaching,this),e.on(_.MANIFEST_LOADING,this.onManifestLoading,this),e.on(_.FRAG_PARSING_METADATA,this.onFragParsingMetadata,this),e.on(_.BUFFER_FLUSHING,this.onBufferFlushing,this),e.on(_.LEVEL_UPDATED,this.onLevelUpdated,this)}_unregisterListeners(){const{hls:e}=this;e.off(_.MEDIA_ATTACHED,this.onMediaAttached,this),e.off(_.MEDIA_DETACHING,this.onMediaDetaching,this),e.off(_.MANIFEST_LOADING,this.onManifestLoading,this),e.off(_.FRAG_PARSING_METADATA,this.onFragParsingMetadata,this),e.off(_.BUFFER_FLUSHING,this.onBufferFlushing,this),e.off(_.LEVEL_UPDATED,this.onLevelUpdated,this)}onMediaAttached(e,n){this.media=n.media}onMediaDetaching(){this.id3Track&&(kc(this.id3Track),this.id3Track=null,this.media=null,this.dateRangeCuesAppended={})}onManifestLoading(){this.dateRangeCuesAppended={}}createTrack(e){const n=this.getID3Track(e.textTracks);return n.mode="hidden",n}getID3Track(e){if(this.media){for(let n=0;n<e.length;n++){const r=e[n];if(r.kind==="metadata"&&r.label==="id3")return _3(r,this.media),r}return this.media.addTextTrack("metadata","id3")}}onFragParsingMetadata(e,n){if(!this.media)return;const{hls:{config:{enableEmsgMetadataCues:r,enableID3MetadataCues:s}}}=this;if(!r&&!s)return;const{samples:i}=n;this.id3Track||(this.id3Track=this.createTrack(this.media));const o=aS();if(o)for(let a=0;a<i.length;a++){const l=i[a].type;if(l===Ks.emsg&&!r||!s)continue;const c=x3(i[a].data);if(c){const u=i[a].pts;let d=u+i[a].duration;d>Fp&&(d=Fp),d-u<=0&&(d=u+Ehe);for(let p=0;p<c.length;p++){const m=c[p];if(!v3(m)){this.updateId3CueEnds(u,l);const g=N_(o,u,d,m,l);g&&this.id3Track.addCue(g)}}}}}updateId3CueEnds(e,n){var r;const s=(r=this.id3Track)==null?void 0:r.cues;if(s)for(let i=s.length;i--;){const o=s[i];o.type===n&&o.startTime<e&&o.endTime===Fp&&(o.endTime=e)}}onBufferFlushing(e,{startOffset:n,endOffset:r,type:s}){const{id3Track:i,hls:o}=this;if(!o)return;const{config:{enableEmsgMetadataCues:a,enableID3MetadataCues:l}}=o;if(i&&(a||l)){let c;s==="audio"?c=u=>u.type===Ks.audioId3&&l:s==="video"?c=u=>u.type===Ks.emsg&&a:c=u=>u.type===Ks.audioId3&&l||u.type===Ks.emsg&&a,oS(i,n,r,c)}}onLevelUpdated(e,{details:n}){if(!this.media||!n.hasProgramDateTime||!this.hls.config.enableDateRangeMetadataCues)return;const{dateRangeCuesAppended:r,id3Track:s}=this,{dateRanges:i}=n,o=Object.keys(i);if(s){const u=Object.keys(r).filter(d=>!o.includes(d));for(let d=u.length;d--;){const f=u[d];Object.keys(r[f].cues).forEach(p=>{s.removeCue(r[f].cues[p])}),delete r[f]}}const a=n.fragments[n.fragments.length-1];if(o.length===0||!xe(a==null?void 0:a.programDateTime))return;this.id3Track||(this.id3Track=this.createTrack(this.media));const l=a.programDateTime/1e3-a.start,c=aS();for(let u=0;u<o.length;u++){const d=o[u],f=i[d],p=kx(f.startDate,l),m=r[d],g=(m==null?void 0:m.cues)||{};let y=(m==null?void 0:m.durationKnown)||!1,x=Fp;const v=f.endDate;if(v)x=kx(v,l),y=!0;else if(f.endOnNext&&!y){const w=o.reduce((T,C)=>{if(C!==f.id){const E=i[C];if(E.class===f.class&&E.startDate>f.startDate&&(!T||f.startDate<T.startDate))return E}return T},null);w&&(x=kx(w.startDate,l),y=!0)}const b=Object.keys(f.attr);for(let w=0;w<b.length;w++){const T=b[w];if(!_fe(T))continue;const C=g[T];if(C)y&&!m.durationKnown&&(C.endTime=x);else if(c){let E=f.attr[T];Lfe(T)&&(E=Che(E));const k=N_(c,p,x,{key:T,data:E},Ks.dateRange);k&&(k.id=d,this.id3Track.addCue(k),g[T]=k)}}r[d]={cues:g,dateRange:f,durationKnown:y}}}}class Ahe{constructor(e){this.hls=void 0,this.config=void 0,this.media=null,this.levelDetails=null,this.currentTime=0,this.stallCount=0,this._latency=null,this.timeupdateHandler=()=>this.timeupdate(),this.hls=e,this.config=e.config,this.registerListeners()}get latency(){return this._latency||0}get maxLatency(){const{config:e,levelDetails:n}=this;return e.liveMaxLatencyDuration!==void 0?e.liveMaxLatencyDuration:n?e.liveMaxLatencyDurationCount*n.targetduration:0}get targetLatency(){const{levelDetails:e}=this;if(e===null)return null;const{holdBack:n,partHoldBack:r,targetduration:s}=e,{liveSyncDuration:i,liveSyncDurationCount:o,lowLatencyMode:a}=this.config,l=this.hls.userConfig;let c=a&&r||n;(l.liveSyncDuration||l.liveSyncDurationCount||c===0)&&(c=i!==void 0?i:o*s);const u=s;return c+Math.min(this.stallCount*1,u)}get liveSyncPosition(){const e=this.estimateLiveEdge(),n=this.targetLatency,r=this.levelDetails;if(e===null||n===null||r===null)return null;const s=r.edge,i=e-n-this.edgeStalled,o=s-r.totalduration,a=s-(this.config.lowLatencyMode&&r.partTarget||r.targetduration);return Math.min(Math.max(o,i),a)}get drift(){const{levelDetails:e}=this;return e===null?1:e.drift}get edgeStalled(){const{levelDetails:e}=this;if(e===null)return 0;const n=(this.config.lowLatencyMode&&e.partTarget||e.targetduration)*3;return Math.max(e.age-n,0)}get forwardBufferLength(){const{media:e,levelDetails:n}=this;if(!e||!n)return 0;const r=e.buffered.length;return(r?e.buffered.end(r-1):n.edge)-this.currentTime}destroy(){this.unregisterListeners(),this.onMediaDetaching(),this.levelDetails=null,this.hls=this.timeupdateHandler=null}registerListeners(){this.hls.on(_.MEDIA_ATTACHED,this.onMediaAttached,this),this.hls.on(_.MEDIA_DETACHING,this.onMediaDetaching,this),this.hls.on(_.MANIFEST_LOADING,this.onManifestLoading,this),this.hls.on(_.LEVEL_UPDATED,this.onLevelUpdated,this),this.hls.on(_.ERROR,this.onError,this)}unregisterListeners(){this.hls.off(_.MEDIA_ATTACHED,this.onMediaAttached,this),this.hls.off(_.MEDIA_DETACHING,this.onMediaDetaching,this),this.hls.off(_.MANIFEST_LOADING,this.onManifestLoading,this),this.hls.off(_.LEVEL_UPDATED,this.onLevelUpdated,this),this.hls.off(_.ERROR,this.onError,this)}onMediaAttached(e,n){this.media=n.media,this.media.addEventListener("timeupdate",this.timeupdateHandler)}onMediaDetaching(){this.media&&(this.media.removeEventListener("timeupdate",this.timeupdateHandler),this.media=null)}onManifestLoading(){this.levelDetails=null,this._latency=null,this.stallCount=0}onLevelUpdated(e,{details:n}){this.levelDetails=n,n.advanced&&this.timeupdate(),!n.live&&this.media&&this.media.removeEventListener("timeupdate",this.timeupdateHandler)}onError(e,n){var r;n.details===Q.BUFFER_STALLED_ERROR&&(this.stallCount++,(r=this.levelDetails)!=null&&r.live&&H.warn("[playback-rate-controller]: Stall detected, adjusting target latency"))}timeupdate(){const{media:e,levelDetails:n}=this;if(!e||!n)return;this.currentTime=e.currentTime;const r=this.computeLatency();if(r===null)return;this._latency=r;const{lowLatencyMode:s,maxLiveSyncPlaybackRate:i}=this.config;if(!s||i===1||!n.live)return;const o=this.targetLatency;if(o===null)return;const a=r-o,l=Math.min(this.maxLatency,o+n.targetduration);if(a<l&&a>.05&&this.forwardBufferLength>1){const u=Math.min(2,Math.max(1,i)),d=Math.round(2/(1+Math.exp(-.75*a-this.edgeStalled))*20)/20;e.playbackRate=Math.min(u,Math.max(1,d))}else e.playbackRate!==1&&e.playbackRate!==0&&(e.playbackRate=1)}estimateLiveEdge(){const{levelDetails:e}=this;return e===null?null:e.edge+e.age}computeLatency(){const e=this.estimateLiveEdge();return e===null?null:e-this.currentTime}}const lS=["NONE","TYPE-0","TYPE-1",null];function Rhe(t){return lS.indexOf(t)>-1}const qg=["SDR","PQ","HLG"];function _he(t){return!!t&&qg.indexOf(t)>-1}var Mm={No:"",Yes:"YES",v2:"v2"};function j_(t){const{canSkipUntil:e,canSkipDateRanges:n,age:r}=t,s=r<e/2;return e&&s?n?Mm.v2:Mm.Yes:Mm.No}class B_{constructor(e,n,r){this.msn=void 0,this.part=void 0,this.skip=void 0,this.msn=e,this.part=n,this.skip=r}addDirectives(e){const n=new self.URL(e);return this.msn!==void 0&&n.searchParams.set("_HLS_msn",this.msn.toString()),this.part!==void 0&&n.searchParams.set("_HLS_part",this.part.toString()),this.skip&&n.searchParams.set("_HLS_skip",this.skip),n.href}}class vu{constructor(e){this._attrs=void 0,this.audioCodec=void 0,this.bitrate=void 0,this.codecSet=void 0,this.url=void 0,this.frameRate=void 0,this.height=void 0,this.id=void 0,this.name=void 0,this.videoCodec=void 0,this.width=void 0,this.details=void 0,this.fragmentError=0,this.loadError=0,this.loaded=void 0,this.realBitrate=0,this.supportedPromise=void 0,this.supportedResult=void 0,this._avgBitrate=0,this._audioGroups=void 0,this._subtitleGroups=void 0,this._urlId=0,this.url=[e.url],this._attrs=[e.attrs],this.bitrate=e.bitrate,e.details&&(this.details=e.details),this.id=e.id||0,this.name=e.name,this.width=e.width||0,this.height=e.height||0,this.frameRate=e.attrs.optionalFloat("FRAME-RATE",0),this._avgBitrate=e.attrs.decimalInteger("AVERAGE-BANDWIDTH"),this.audioCodec=e.audioCodec,this.videoCodec=e.videoCodec,this.codecSet=[e.videoCodec,e.audioCodec].filter(n=>!!n).map(n=>n.substring(0,4)).join(","),this.addGroupId("audio",e.attrs.AUDIO),this.addGroupId("text",e.attrs.SUBTITLES)}get maxBitrate(){return Math.max(this.realBitrate,this.bitrate)}get averageBitrate(){return this._avgBitrate||this.realBitrate||this.bitrate}get attrs(){return this._attrs[0]}get codecs(){return this.attrs.CODECS||""}get pathwayId(){return this.attrs["PATHWAY-ID"]||"."}get videoRange(){return this.attrs["VIDEO-RANGE"]||"SDR"}get score(){return this.attrs.optionalFloat("SCORE",0)}get uri(){return this.url[0]||""}hasAudioGroup(e){return $_(this._audioGroups,e)}hasSubtitleGroup(e){return $_(this._subtitleGroups,e)}get audioGroups(){return this._audioGroups}get subtitleGroups(){return this._subtitleGroups}addGroupId(e,n){if(n){if(e==="audio"){let r=this._audioGroups;r||(r=this._audioGroups=[]),r.indexOf(n)===-1&&r.push(n)}else if(e==="text"){let r=this._subtitleGroups;r||(r=this._subtitleGroups=[]),r.indexOf(n)===-1&&r.push(n)}}}get urlId(){return 0}set urlId(e){}get audioGroupIds(){return this.audioGroups?[this.audioGroupId]:void 0}get textGroupIds(){return this.subtitleGroups?[this.textGroupId]:void 0}get audioGroupId(){var e;return(e=this.audioGroups)==null?void 0:e[0]}get textGroupId(){var e;return(e=this.subtitleGroups)==null?void 0:e[0]}addFallback(){}}function $_(t,e){return!e||!t?!1:t.indexOf(e)!==-1}function Ax(t,e){const n=e.startPTS;if(xe(n)){let r=0,s;e.sn>t.sn?(r=n-t.start,s=t):(r=t.start-n,s=e),s.duration!==r&&(s.duration=r)}else e.sn>t.sn?t.cc===e.cc&&t.minEndPTS?e.start=t.start+(t.minEndPTS-t.start):e.start=t.start+t.duration:e.start=Math.max(t.start-e.duration,0)}function P3(t,e,n,r,s,i){r-n<=0&&(H.warn("Fragment should have a positive duration",e),r=n+e.duration,i=s+e.duration);let a=n,l=r;const c=e.startPTS,u=e.endPTS;if(xe(c)){const y=Math.abs(c-n);xe(e.deltaPTS)?e.deltaPTS=Math.max(y,e.deltaPTS):e.deltaPTS=y,a=Math.max(n,c),n=Math.min(n,c),s=Math.min(s,e.startDTS),l=Math.min(r,u),r=Math.max(r,u),i=Math.max(i,e.endDTS)}const d=n-e.start;e.start!==0&&(e.start=n),e.duration=r-e.start,e.startPTS=n,e.maxStartPTS=a,e.startDTS=s,e.endPTS=r,e.minEndPTS=l,e.endDTS=i;const f=e.sn;if(!t||f<t.startSN||f>t.endSN)return 0;let p;const m=f-t.startSN,g=t.fragments;for(g[m]=e,p=m;p>0;p--)Ax(g[p],g[p-1]);for(p=m;p<g.length-1;p++)Ax(g[p],g[p+1]);return t.fragmentHint&&Ax(g[g.length-1],t.fragmentHint),t.PTSKnown=t.alignedSliding=!0,d}function Lhe(t,e){let n=null;const r=t.fragments;for(let l=r.length-1;l>=0;l--){const c=r[l].initSegment;if(c){n=c;break}}t.fragmentHint&&delete t.fragmentHint.endPTS;let s=0,i;if(Dhe(t,e,(l,c)=>{l.relurl&&(s=l.cc-c.cc),xe(l.startPTS)&&xe(l.endPTS)&&(c.start=c.startPTS=l.startPTS,c.startDTS=l.startDTS,c.maxStartPTS=l.maxStartPTS,c.endPTS=l.endPTS,c.endDTS=l.endDTS,c.minEndPTS=l.minEndPTS,c.duration=l.endPTS-l.startPTS,c.duration&&(i=c),e.PTSKnown=e.alignedSliding=!0),c.elementaryStreams=l.elementaryStreams,c.loader=l.loader,c.stats=l.stats,l.initSegment&&(c.initSegment=l.initSegment,n=l.initSegment)}),n&&(e.fragmentHint?e.fragments.concat(e.fragmentHint):e.fragments).forEach(c=>{var u;c&&(!c.initSegment||c.initSegment.relurl===((u=n)==null?void 0:u.relurl))&&(c.initSegment=n)}),e.skippedSegments)if(e.deltaUpdateFailed=e.fragments.some(l=>!l),e.deltaUpdateFailed){H.warn("[level-helper] Previous playlist missing segments skipped in delta playlist");for(let l=e.skippedSegments;l--;)e.fragments.shift();e.startSN=e.fragments[0].sn,e.startCC=e.fragments[0].cc}else e.canSkipDateRanges&&(e.dateRanges=Phe(t.dateRanges,e.dateRanges,e.recentlyRemovedDateranges));const o=e.fragments;if(s){H.warn("discontinuity sliding from playlist, take drift into account");for(let l=0;l<o.length;l++)o[l].cc+=s}e.skippedSegments&&(e.startCC=e.fragments[0].cc),Ihe(t.partList,e.partList,(l,c)=>{c.elementaryStreams=l.elementaryStreams,c.stats=l.stats}),i?P3(e,i,i.startPTS,i.endPTS,i.startDTS,i.endDTS):I3(t,e),o.length&&(e.totalduration=e.edge-o[0].start),e.driftStartTime=t.driftStartTime,e.driftStart=t.driftStart;const a=e.advancedDateTime;if(e.advanced&&a){const l=e.edge;e.driftStart||(e.driftStartTime=a,e.driftStart=l),e.driftEndTime=a,e.driftEnd=l}else e.driftEndTime=t.driftEndTime,e.driftEnd=t.driftEnd,e.advancedDateTime=t.advancedDateTime}function Phe(t,e,n){const r=yn({},t);return n&&n.forEach(s=>{delete r[s]}),Object.keys(e).forEach(s=>{const i=new p3(e[s].attr,r[s]);i.isValid?r[s]=i:H.warn(`Ignoring invalid Playlist Delta Update DATERANGE tag: "${JSON.stringify(e[s].attr)}"`)}),r}function Ihe(t,e,n){if(t&&e){let r=0;for(let s=0,i=t.length;s<=i;s++){const o=t[s],a=e[s+r];o&&a&&o.index===a.index&&o.fragment.sn===a.fragment.sn?n(o,a):r--}}}function Dhe(t,e,n){const r=e.skippedSegments,s=Math.max(t.startSN,e.startSN)-e.startSN,i=(t.fragmentHint?1:0)+(r?e.endSN:Math.min(t.endSN,e.endSN))-e.startSN,o=e.startSN-t.startSN,a=e.fragmentHint?e.fragments.concat(e.fragmentHint):e.fragments,l=t.fragmentHint?t.fragments.concat(t.fragmentHint):t.fragments;for(let c=s;c<=i;c++){const u=l[o+c];let d=a[c];r&&!d&&c<r&&(d=e.fragments[c]=u),u&&d&&n(u,d)}}function I3(t,e){const n=e.startSN+e.skippedSegments-t.startSN,r=t.fragments;n<0||n>=r.length||cS(e,r[n].start)}function cS(t,e){if(e){const n=t.fragments;for(let r=t.skippedSegments;r<n.length;r++)n[r].start+=e;t.fragmentHint&&(t.fragmentHint.start+=e)}}function Mhe(t,e=1/0){let n=1e3*t.targetduration;if(t.updated){const r=t.fragments;if(r.length&&n*4>e){const i=r[r.length-1].duration*1e3;i<n&&(n=i)}}else n/=2;return Math.round(n)}function Ohe(t,e,n){if(!(t!=null&&t.details))return null;const r=t.details;let s=r.fragments[e-r.startSN];return s||(s=r.fragmentHint,s&&s.sn===e)?s:e<r.startSN&&n&&n.sn===e?n:null}function z_(t,e,n){var r;return t!=null&&t.details?D3((r=t.details)==null?void 0:r.partList,e,n):null}function D3(t,e,n){if(t)for(let r=t.length;r--;){const s=t[r];if(s.index===n&&s.fragment.sn===e)return s}return null}function M3(t){t.forEach((e,n)=>{const{details:r}=e;r!=null&&r.fragments&&r.fragments.forEach(s=>{s.level=n})})}function Xg(t){switch(t.details){case Q.FRAG_LOAD_TIMEOUT:case Q.KEY_LOAD_TIMEOUT:case Q.LEVEL_LOAD_TIMEOUT:case Q.MANIFEST_LOAD_TIMEOUT:return!0}return!1}function U_(t,e){const n=Xg(e);return t.default[`${n?"timeout":"error"}Retry`]}function lE(t,e){const n=t.backoff==="linear"?1:Math.pow(2,e);return Math.min(n*t.retryDelayMs,t.maxRetryDelayMs)}function V_(t){return Mn(Mn({},t),{errorRetry:null,timeoutRetry:null})}function Qg(t,e,n,r){if(!t)return!1;const s=r==null?void 0:r.code,i=e<t.maxNumRetry&&(Fhe(s)||!!n);return t.shouldRetry?t.shouldRetry(t,e,n,r,i):i}function Fhe(t){return t===0&&navigator.onLine===!1||!!t&&(t<400||t>499)}const O3={search:function(t,e){let n=0,r=t.length-1,s=null,i=null;for(;n<=r;){s=(n+r)/2|0,i=t[s];const o=e(i);if(o>0)n=s+1;else if(o<0)r=s-1;else return i}return null}};function Nhe(t,e,n){if(e===null||!Array.isArray(t)||!t.length||!xe(e))return null;const r=t[0].programDateTime;if(e<(r||0))return null;const s=t[t.length-1].endProgramDateTime;if(e>=(s||0))return null;n=n||0;for(let i=0;i<t.length;++i){const o=t[i];if(Bhe(e,n,o))return o}return null}function Zg(t,e,n=0,r=0,s=.005){let i=null;if(t){i=e[t.sn-e[0].sn+1]||null;const a=t.endDTS-n;a>0&&a<15e-7&&(n+=15e-7)}else n===0&&e[0].start===0&&(i=e[0]);if(i&&((!t||t.level===i.level)&&uS(n,r,i)===0||jhe(i,t,Math.min(s,r))))return i;const o=O3.search(e,uS.bind(null,n,r));return o&&(o!==t||!i)?o:i}function jhe(t,e,n){if(e&&e.start===0&&e.level<t.level&&(e.endPTS||0)>0){const r=e.tagList.reduce((s,i)=>(i[0]==="INF"&&(s+=parseFloat(i[1])),s),n);return t.start<=r}return!1}function uS(t=0,e=0,n){if(n.start<=t&&n.start+n.duration>t)return 0;const r=Math.min(e,n.duration+(n.deltaPTS?n.deltaPTS:0));return n.start+n.duration-r<=t?1:n.start-r>t&&n.start?-1:0}function Bhe(t,e,n){const r=Math.min(e,n.duration+(n.deltaPTS?n.deltaPTS:0))*1e3;return(n.endProgramDateTime||0)-r>t}function $he(t,e){return O3.search(t,n=>n.cc<e?1:n.cc>e?-1:0)}var jn={DoNothing:0,SendEndCallback:1,SendAlternateToPenaltyBox:2,RemoveAlternatePermanently:3,InsertDiscontinuity:4,RetryRequest:5},zs={None:0,MoveAllAlternatesMatchingHost:1,MoveAllAlternatesMatchingHDCP:2,SwitchToSDR:4};class zhe{constructor(e){this.hls=void 0,this.playlistError=0,this.penalizedRenditions={},this.log=void 0,this.warn=void 0,this.error=void 0,this.hls=e,this.log=H.log.bind(H,"[info]:"),this.warn=H.warn.bind(H,"[warning]:"),this.error=H.error.bind(H,"[error]:"),this.registerListeners()}registerListeners(){const e=this.hls;e.on(_.ERROR,this.onError,this),e.on(_.MANIFEST_LOADING,this.onManifestLoading,this),e.on(_.LEVEL_UPDATED,this.onLevelUpdated,this)}unregisterListeners(){const e=this.hls;e&&(e.off(_.ERROR,this.onError,this),e.off(_.ERROR,this.onErrorOut,this),e.off(_.MANIFEST_LOADING,this.onManifestLoading,this),e.off(_.LEVEL_UPDATED,this.onLevelUpdated,this))}destroy(){this.unregisterListeners(),this.hls=null,this.penalizedRenditions={}}startLoad(e){}stopLoad(){this.playlistError=0}getVariantLevelIndex(e){return(e==null?void 0:e.type)===Pe.MAIN?e.level:this.hls.loadLevel}onManifestLoading(){this.playlistError=0,this.penalizedRenditions={}}onLevelUpdated(){this.playlistError=0}onError(e,n){var r,s;if(n.fatal)return;const i=this.hls,o=n.context;switch(n.details){case Q.FRAG_LOAD_ERROR:case Q.FRAG_LOAD_TIMEOUT:case Q.KEY_LOAD_ERROR:case Q.KEY_LOAD_TIMEOUT:n.errorAction=this.getFragRetryOrSwitchAction(n);return;case Q.FRAG_PARSING_ERROR:if((r=n.frag)!=null&&r.gap){n.errorAction={action:jn.DoNothing,flags:zs.None};return}case Q.FRAG_GAP:case Q.FRAG_DECRYPT_ERROR:{n.errorAction=this.getFragRetryOrSwitchAction(n),n.errorAction.action=jn.SendAlternateToPenaltyBox;return}case Q.LEVEL_EMPTY_ERROR:case Q.LEVEL_PARSING_ERROR:{var a,l;const c=n.parent===Pe.MAIN?n.level:i.loadLevel;n.details===Q.LEVEL_EMPTY_ERROR&&((a=n.context)!=null&&(l=a.levelDetails)!=null&&l.live)?n.errorAction=this.getPlaylistRetryOrSwitchAction(n,c):(n.levelRetry=!1,n.errorAction=this.getLevelSwitchAction(n,c))}return;case Q.LEVEL_LOAD_ERROR:case Q.LEVEL_LOAD_TIMEOUT:typeof(o==null?void 0:o.level)=="number"&&(n.errorAction=this.getPlaylistRetryOrSwitchAction(n,o.level));return;case Q.AUDIO_TRACK_LOAD_ERROR:case Q.AUDIO_TRACK_LOAD_TIMEOUT:case Q.SUBTITLE_LOAD_ERROR:case Q.SUBTITLE_TRACK_LOAD_TIMEOUT:if(o){const c=i.levels[i.loadLevel];if(c&&(o.type===et.AUDIO_TRACK&&c.hasAudioGroup(o.groupId)||o.type===et.SUBTITLE_TRACK&&c.hasSubtitleGroup(o.groupId))){n.errorAction=this.getPlaylistRetryOrSwitchAction(n,i.loadLevel),n.errorAction.action=jn.SendAlternateToPenaltyBox,n.errorAction.flags=zs.MoveAllAlternatesMatchingHost;return}}return;case Q.KEY_SYSTEM_STATUS_OUTPUT_RESTRICTED:{const c=i.levels[i.loadLevel],u=c==null?void 0:c.attrs["HDCP-LEVEL"];u?n.errorAction={action:jn.SendAlternateToPenaltyBox,flags:zs.MoveAllAlternatesMatchingHDCP,hdcpLevel:u}:this.keySystemError(n)}return;case Q.BUFFER_ADD_CODEC_ERROR:case Q.REMUX_ALLOC_ERROR:case Q.BUFFER_APPEND_ERROR:n.errorAction=this.getLevelSwitchAction(n,(s=n.level)!=null?s:i.loadLevel);return;case Q.INTERNAL_EXCEPTION:case Q.BUFFER_APPENDING_ERROR:case Q.BUFFER_FULL_ERROR:case Q.LEVEL_SWITCH_ERROR:case Q.BUFFER_STALLED_ERROR:case Q.BUFFER_SEEK_OVER_HOLE:case Q.BUFFER_NUDGE_ON_STALL:n.errorAction={action:jn.DoNothing,flags:zs.None};return}n.type===Me.KEY_SYSTEM_ERROR&&this.keySystemError(n)}keySystemError(e){const n=this.getVariantLevelIndex(e.frag);e.levelRetry=!1,e.errorAction=this.getLevelSwitchAction(e,n)}getPlaylistRetryOrSwitchAction(e,n){const r=this.hls,s=U_(r.config.playlistLoadPolicy,e),i=this.playlistError++;if(Qg(s,i,Xg(e),e.response))return{action:jn.RetryRequest,flags:zs.None,retryConfig:s,retryCount:i};const a=this.getLevelSwitchAction(e,n);return s&&(a.retryConfig=s,a.retryCount=i),a}getFragRetryOrSwitchAction(e){const n=this.hls,r=this.getVariantLevelIndex(e.frag),s=n.levels[r],{fragLoadPolicy:i,keyLoadPolicy:o}=n.config,a=U_(e.details.startsWith("key")?o:i,e),l=n.levels.reduce((u,d)=>u+d.fragmentError,0);if(s&&(e.details!==Q.FRAG_GAP&&s.fragmentError++,Qg(a,l,Xg(e),e.response)))return{action:jn.RetryRequest,flags:zs.None,retryConfig:a,retryCount:l};const c=this.getLevelSwitchAction(e,r);return a&&(c.retryConfig=a,c.retryCount=l),c}getLevelSwitchAction(e,n){const r=this.hls;n==null&&(n=r.loadLevel);const s=this.hls.levels[n];if(s){var i,o;const c=e.details;s.loadError++,c===Q.BUFFER_APPEND_ERROR&&s.fragmentError++;let u=-1;const{levels:d,loadLevel:f,minAutoLevel:p,maxAutoLevel:m}=r;r.autoLevelEnabled||(r.loadLevel=-1);const g=(i=e.frag)==null?void 0:i.type,x=(g===Pe.AUDIO&&c===Q.FRAG_PARSING_ERROR||e.sourceBufferName==="audio"&&(c===Q.BUFFER_ADD_CODEC_ERROR||c===Q.BUFFER_APPEND_ERROR))&&d.some(({audioCodec:C})=>s.audioCodec!==C),b=e.sourceBufferName==="video"&&(c===Q.BUFFER_ADD_CODEC_ERROR||c===Q.BUFFER_APPEND_ERROR)&&d.some(({codecSet:C,audioCodec:E})=>s.codecSet!==C&&s.audioCodec===E),{type:w,groupId:T}=(o=e.context)!=null?o:{};for(let C=d.length;C--;){const E=(C+f)%d.length;if(E!==f&&E>=p&&E<=m&&d[E].loadError===0){var a,l;const k=d[E];if(c===Q.FRAG_GAP&&g===Pe.MAIN&&e.frag){const A=d[E].details;if(A){const R=Zg(e.frag,A.fragments,e.frag.start);if(R!=null&&R.gap)continue}}else{if(w===et.AUDIO_TRACK&&k.hasAudioGroup(T)||w===et.SUBTITLE_TRACK&&k.hasSubtitleGroup(T))continue;if(g===Pe.AUDIO&&(a=s.audioGroups)!=null&&a.some(A=>k.hasAudioGroup(A))||g===Pe.SUBTITLE&&(l=s.subtitleGroups)!=null&&l.some(A=>k.hasSubtitleGroup(A))||x&&s.audioCodec===k.audioCodec||!x&&s.audioCodec!==k.audioCodec||b&&s.codecSet===k.codecSet)continue}u=E;break}}if(u>-1&&r.loadLevel!==u)return e.levelRetry=!0,this.playlistError=0,{action:jn.SendAlternateToPenaltyBox,flags:zs.None,nextAutoLevel:u}}return{action:jn.SendAlternateToPenaltyBox,flags:zs.MoveAllAlternatesMatchingHost}}onErrorOut(e,n){var r;switch((r=n.errorAction)==null?void 0:r.action){case jn.DoNothing:break;case jn.SendAlternateToPenaltyBox:this.sendAlternateToPenaltyBox(n),!n.errorAction.resolved&&n.details!==Q.FRAG_GAP?n.fatal=!0:/MediaSource readyState: ended/.test(n.error.message)&&(this.warn(`MediaSource ended after "${n.sourceBufferName}" sourceBuffer append error. Attempting to recover from media error.`),this.hls.recoverMediaError());break}if(n.fatal){this.hls.stopLoad();return}}sendAlternateToPenaltyBox(e){const n=this.hls,r=e.errorAction;if(!r)return;const{flags:s,hdcpLevel:i,nextAutoLevel:o}=r;switch(s){case zs.None:this.switchLevel(e,o);break;case zs.MoveAllAlternatesMatchingHDCP:i&&(n.maxHdcpLevel=lS[lS.indexOf(i)-1],r.resolved=!0),this.warn(`Restricting playback to HDCP-LEVEL of "${n.maxHdcpLevel}" or lower`);break}r.resolved||this.switchLevel(e,o)}switchLevel(e,n){n!==void 0&&e.errorAction&&(this.warn(`switching to level ${n} after ${e.details}`),this.hls.nextAutoLevel=n,e.errorAction.resolved=!0,this.hls.nextLoadLevel=this.hls.nextAutoLevel)}}class cE{constructor(e,n){this.hls=void 0,this.timer=-1,this.requestScheduled=-1,this.canLoad=!1,this.log=void 0,this.warn=void 0,this.log=H.log.bind(H,`${n}:`),this.warn=H.warn.bind(H,`${n}:`),this.hls=e}destroy(){this.clearTimer(),this.hls=this.log=this.warn=null}clearTimer(){this.timer!==-1&&(self.clearTimeout(this.timer),this.timer=-1)}startLoad(){this.canLoad=!0,this.requestScheduled=-1,this.loadPlaylist()}stopLoad(){this.canLoad=!1,this.clearTimer()}switchParams(e,n,r){const s=n==null?void 0:n.renditionReports;if(s){let i=-1;for(let o=0;o<s.length;o++){const a=s[o];let l;try{l=new self.URL(a.URI,n.url).href}catch(c){H.warn(`Could not construct new URL for Rendition Report: ${c}`),l=a.URI||""}if(l===e){i=o;break}else l===e.substring(0,l.length)&&(i=o)}if(i!==-1){const o=s[i],a=parseInt(o["LAST-MSN"])||(n==null?void 0:n.lastPartSn);let l=parseInt(o["LAST-PART"])||(n==null?void 0:n.lastPartIndex);if(this.hls.config.lowLatencyMode){const u=Math.min(n.age-n.partTarget,n.targetduration);l>=0&&u>n.partTarget&&(l+=1)}const c=r&&j_(r);return new B_(a,l>=0?l:void 0,c)}}}loadPlaylist(e){this.requestScheduled===-1&&(this.requestScheduled=self.performance.now())}shouldLoadPlaylist(e){return this.canLoad&&!!e&&!!e.url&&(!e.details||e.details.live)}shouldReloadPlaylist(e){return this.timer===-1&&this.requestScheduled===-1&&this.shouldLoadPlaylist(e)}playlistLoaded(e,n,r){const{details:s,stats:i}=n,o=self.performance.now(),a=i.loading.first?Math.max(0,o-i.loading.first):0;if(s.advancedDateTime=Date.now()-a,s.live||r!=null&&r.live){if(s.reloaded(r),r&&this.log(`live playlist ${e} ${s.advanced?"REFRESHED "+s.lastPartSn+"-"+s.lastPartIndex:s.updated?"UPDATED":"MISSED"}`),r&&s.fragments.length>0&&Lhe(r,s),!this.canLoad||!s.live)return;let l,c,u;if(s.canBlockReload&&s.endSN&&s.advanced){const y=this.hls.config.lowLatencyMode,x=s.lastPartSn,v=s.endSN,b=s.lastPartIndex,w=b!==-1,T=x===v,C=y?0:b;w?(c=T?v+1:x,u=T?C:b+1):c=v+1;const E=s.age,k=E+s.ageHeader;let A=Math.min(k-s.partTarget,s.targetduration*1.5);if(A>0){if(r&&A>r.tuneInGoal)this.warn(`CDN Tune-in goal increased from: ${r.tuneInGoal} to: ${A} with playlist age: ${s.age}`),A=0;else{const R=Math.floor(A/s.targetduration);if(c+=R,u!==void 0){const L=Math.round(A%s.targetduration/s.partTarget);u+=L}this.log(`CDN Tune-in age: ${s.ageHeader}s last advanced ${E.toFixed(2)}s goal: ${A} skip sn ${R} to part ${u}`)}s.tuneInGoal=A}if(l=this.getDeliveryDirectives(s,n.deliveryDirectives,c,u),y||!T){this.loadPlaylist(l);return}}else(s.canBlockReload||s.canSkipUntil)&&(l=this.getDeliveryDirectives(s,n.deliveryDirectives,c,u));const d=this.hls.mainForwardBufferInfo,f=d?d.end-d.len:0,p=(s.edge-f)*1e3,m=Mhe(s,p);s.updated&&o>this.requestScheduled+m&&(this.requestScheduled=i.loading.start),c!==void 0&&s.canBlockReload?this.requestScheduled=i.loading.first+m-(s.partTarget*1e3||1e3):this.requestScheduled===-1||this.requestScheduled+m<o?this.requestScheduled=o:this.requestScheduled-o<=0&&(this.requestScheduled+=m);let g=this.requestScheduled-o;g=Math.max(0,g),this.log(`reload live playlist ${e} in ${Math.round(g)} ms`),this.timer=self.setTimeout(()=>this.loadPlaylist(l),g)}else this.clearTimer()}getDeliveryDirectives(e,n,r,s){let i=j_(e);return n!=null&&n.skip&&e.deltaUpdateFailed&&(r=n.msn,s=n.part,i=Mm.No),new B_(r,s,i)}checkRetry(e){const n=e.details,r=Xg(e),s=e.errorAction,{action:i,retryCount:o=0,retryConfig:a}=s||{},l=!!s&&!!a&&(i===jn.RetryRequest||!s.resolved&&i===jn.SendAlternateToPenaltyBox);if(l){var c;if(this.requestScheduled=-1,o>=a.maxNumRetry)return!1;if(r&&(c=e.context)!=null&&c.deliveryDirectives)this.warn(`Retrying playlist loading ${o+1}/${a.maxNumRetry} after "${n}" without delivery-directives`),this.loadPlaylist();else{const u=lE(a,o);this.timer=self.setTimeout(()=>this.loadPlaylist(),u),this.warn(`Retrying playlist loading ${o+1}/${a.maxNumRetry} after "${n}" in ${u}ms`)}e.levelRetry=!0,s.resolved=!0}return l}}class Zl{constructor(e,n=0,r=0){this.halfLife=void 0,this.alpha_=void 0,this.estimate_=void 0,this.totalWeight_=void 0,this.halfLife=e,this.alpha_=e?Math.exp(Math.log(.5)/e):0,this.estimate_=n,this.totalWeight_=r}sample(e,n){const r=Math.pow(this.alpha_,e);this.estimate_=n*(1-r)+r*this.estimate_,this.totalWeight_+=e}getTotalWeight(){return this.totalWeight_}getEstimate(){if(this.alpha_){const e=1-Math.pow(this.alpha_,this.totalWeight_);if(e)return this.estimate_/e}return this.estimate_}}class Uhe{constructor(e,n,r,s=100){this.defaultEstimate_=void 0,this.minWeight_=void 0,this.minDelayMs_=void 0,this.slow_=void 0,this.fast_=void 0,this.defaultTTFB_=void 0,this.ttfb_=void 0,this.defaultEstimate_=r,this.minWeight_=.001,this.minDelayMs_=50,this.slow_=new Zl(e),this.fast_=new Zl(n),this.defaultTTFB_=s,this.ttfb_=new Zl(e)}update(e,n){const{slow_:r,fast_:s,ttfb_:i}=this;r.halfLife!==e&&(this.slow_=new Zl(e,r.getEstimate(),r.getTotalWeight())),s.halfLife!==n&&(this.fast_=new Zl(n,s.getEstimate(),s.getTotalWeight())),i.halfLife!==e&&(this.ttfb_=new Zl(e,i.getEstimate(),i.getTotalWeight()))}sample(e,n){e=Math.max(e,this.minDelayMs_);const r=8*n,s=e/1e3,i=r/s;this.fast_.sample(s,i),this.slow_.sample(s,i)}sampleTTFB(e){const n=e/1e3,r=Math.sqrt(2)*Math.exp(-Math.pow(n,2)/2);this.ttfb_.sample(r,Math.max(e,5))}canEstimate(){return this.fast_.getTotalWeight()>=this.minWeight_}getEstimate(){return this.canEstimate()?Math.min(this.fast_.getEstimate(),this.slow_.getEstimate()):this.defaultEstimate_}getEstimateTTFB(){return this.ttfb_.getTotalWeight()>=this.minWeight_?this.ttfb_.getEstimate():this.defaultTTFB_}destroy(){}}const F3={supported:!0,configurations:[],decodingInfoResults:[{supported:!0,powerEfficient:!0,smooth:!0}]},W_={};function Vhe(t,e,n,r,s,i){const o=t.audioCodec?t.audioGroups:null,a=i==null?void 0:i.audioCodec,l=i==null?void 0:i.channels,c=l?parseInt(l):a?1/0:2;let u=null;if(o!=null&&o.length)try{o.length===1&&o[0]?u=e.groups[o[0]].channels:u=o.reduce((d,f)=>{if(f){const p=e.groups[f];if(!p)throw new Error(`Audio track group ${f} not found`);Object.keys(p.channels).forEach(m=>{d[m]=(d[m]||0)+p.channels[m]})}return d},{2:0})}catch{return!0}return t.videoCodec!==void 0&&(t.width>1920&&t.height>1088||t.height>1920&&t.width>1088||t.frameRate>Math.max(r,30)||t.videoRange!=="SDR"&&t.videoRange!==n||t.bitrate>Math.max(s,8e6))||!!u&&xe(c)&&Object.keys(u).some(d=>parseInt(d)>c)}function Whe(t,e,n){const r=t.videoCodec,s=t.audioCodec;if(!r||!s||!n)return Promise.resolve(F3);const i={width:t.width,height:t.height,bitrate:Math.ceil(Math.max(t.bitrate*.9,t.averageBitrate)),framerate:t.frameRate||30},o=t.videoRange;o!=="SDR"&&(i.transferFunction=o.toLowerCase());const a=r.split(",").map(l=>({type:"media-source",video:Mn(Mn({},i),{},{contentType:sh(l,"video")})}));return s&&t.audioGroups&&t.audioGroups.forEach(l=>{var c;l&&((c=e.groups[l])==null||c.tracks.forEach(u=>{if(u.groupId===l){const d=u.channels||"",f=parseFloat(d);xe(f)&&f>2&&a.push.apply(a,s.split(",").map(p=>({type:"media-source",audio:{contentType:sh(p,"audio"),channels:""+f}})))}}))}),Promise.all(a.map(l=>{const c=Hhe(l);return W_[c]||(W_[c]=n.decodingInfo(l))})).then(l=>({supported:!l.some(c=>!c.supported),configurations:a,decodingInfoResults:l})).catch(l=>({supported:!1,configurations:a,decodingInfoResults:[],error:l}))}function Hhe(t){const{audio:e,video:n}=t,r=n||e;if(r){const s=r.contentType.split('"')[1];if(n)return`r${n.height}x${n.width}f${Math.ceil(n.framerate)}${n.transferFunction||"sd"}_${s}_${Math.ceil(n.bitrate/1e5)}`;if(e)return`c${e.channels}${e.spatialRendering?"s":"n"}_${s}`}return""}function Ghe(){if(typeof matchMedia=="function"){const t=matchMedia("(dynamic-range: high)"),e=matchMedia("bad query");if(t.media!==e.media)return t.matches===!0}return!1}function Khe(t,e){let n=!1,r=[];return t&&(n=t!=="SDR",r=[t]),e&&(r=e.allowedVideoRanges||qg.slice(0),n=e.preferHDR!==void 0?e.preferHDR:Ghe(),n?r=r.filter(s=>s!=="SDR"):r=["SDR"]),{preferHDR:n,allowedVideoRanges:r}}function Yhe(t,e,n,r,s){const i=Object.keys(t),o=r==null?void 0:r.channels,a=r==null?void 0:r.audioCodec,l=o&&parseInt(o)===2;let c=!0,u=!1,d=1/0,f=1/0,p=1/0,m=0,g=[];const{preferHDR:y,allowedVideoRanges:x}=Khe(e,s);for(let T=i.length;T--;){const C=t[i[T]];c=C.channels[2]>0,d=Math.min(d,C.minHeight),f=Math.min(f,C.minFramerate),p=Math.min(p,C.minBitrate);const E=x.filter(k=>C.videoRanges[k]>0);E.length>0&&(u=!0,g=E)}d=xe(d)?d:0,f=xe(f)?f:0;const v=Math.max(1080,d),b=Math.max(30,f);return p=xe(p)?p:n,n=Math.max(p,n),u||(e=void 0,g=[]),{codecSet:i.reduce((T,C)=>{const E=t[C];if(C===T)return T;if(E.minBitrate>n)return $i(C,`min bitrate of ${E.minBitrate} > current estimate of ${n}`),T;if(!E.hasDefaultAudio)return $i(C,"no renditions with default or auto-select sound found"),T;if(a&&C.indexOf(a.substring(0,4))%5!==0)return $i(C,`audio codec preference "${a}" not found`),T;if(o&&!l){if(!E.channels[o])return $i(C,`no renditions with ${o} channel sound found (channels options: ${Object.keys(E.channels)})`),T}else if((!a||l)&&c&&E.channels[2]===0)return $i(C,"no renditions with stereo sound found"),T;return E.minHeight>v?($i(C,`min resolution of ${E.minHeight} > maximum of ${v}`),T):E.minFramerate>b?($i(C,`min framerate of ${E.minFramerate} > maximum of ${b}`),T):g.some(k=>E.videoRanges[k]>0)?E.maxScore<m?($i(C,`max score of ${E.maxScore} < selected max of ${m}`),T):T&&(Kg(C)>=Kg(T)||E.fragmentError>t[T].fragmentError)?T:(m=E.maxScore,C):($i(C,`no variants with VIDEO-RANGE of ${JSON.stringify(g)} found`),T)},void 0),videoRanges:g,preferHDR:y,minFramerate:f,minBitrate:p}}function $i(t,e){H.log(`[abr] start candidates with "${t}" ignored because ${e}`)}function qhe(t){return t.reduce((e,n)=>{let r=e.groups[n.groupId];r||(r=e.groups[n.groupId]={tracks:[],channels:{2:0},hasDefault:!1,hasAutoSelect:!1}),r.tracks.push(n);const s=n.channels||"2";return r.channels[s]=(r.channels[s]||0)+1,r.hasDefault=r.hasDefault||n.default,r.hasAutoSelect=r.hasAutoSelect||n.autoselect,r.hasDefault&&(e.hasDefaultAudio=!0),r.hasAutoSelect&&(e.hasAutoSelectAudio=!0),e},{hasDefaultAudio:!1,hasAutoSelectAudio:!1,groups:{}})}function Xhe(t,e,n,r){return t.slice(n,r+1).reduce((s,i)=>{if(!i.codecSet)return s;const o=i.audioGroups;let a=s[i.codecSet];a||(s[i.codecSet]=a={minBitrate:1/0,minHeight:1/0,minFramerate:1/0,maxScore:0,videoRanges:{SDR:0},channels:{2:0},hasDefaultAudio:!o,fragmentError:0}),a.minBitrate=Math.min(a.minBitrate,i.bitrate);const l=Math.min(i.height,i.width);return a.minHeight=Math.min(a.minHeight,l),a.minFramerate=Math.min(a.minFramerate,i.frameRate),a.maxScore=Math.max(a.maxScore,i.score),a.fragmentError+=i.fragmentError,a.videoRanges[i.videoRange]=(a.videoRanges[i.videoRange]||0)+1,o&&o.forEach(c=>{if(!c)return;const u=e.groups[c];u&&(a.hasDefaultAudio=a.hasDefaultAudio||e.hasDefaultAudio?u.hasDefault:u.hasAutoSelect||!e.hasDefaultAudio&&!e.hasAutoSelectAudio,Object.keys(u.channels).forEach(d=>{a.channels[d]=(a.channels[d]||0)+u.channels[d]}))}),s},{})}function Si(t,e,n){if("attrs"in t){const r=e.indexOf(t);if(r!==-1)return r}for(let r=0;r<e.length;r++){const s=e[r];if(Hc(t,s,n))return r}return-1}function Hc(t,e,n){const{groupId:r,name:s,lang:i,assocLang:o,characteristics:a,default:l}=t,c=t.forced;return(r===void 0||e.groupId===r)&&(s===void 0||e.name===s)&&(i===void 0||e.lang===i)&&(i===void 0||e.assocLang===o)&&(l===void 0||e.default===l)&&(c===void 0||e.forced===c)&&(a===void 0||Qhe(a,e.characteristics))&&(n===void 0||n(t,e))}function Qhe(t,e=""){const n=t.split(","),r=e.split(",");return n.length===r.length&&!n.some(s=>r.indexOf(s)===-1)}function Jl(t,e){const{audioCodec:n,channels:r}=t;return(n===void 0||(e.audioCodec||"").substring(0,4)===n.substring(0,4))&&(r===void 0||r===(e.channels||"2"))}function Zhe(t,e,n,r,s){const i=e[r],a=e.reduce((f,p,m)=>{const g=p.uri;return(f[g]||(f[g]=[])).push(m),f},{})[i.uri];a.length>1&&(r=Math.max.apply(Math,a));const l=i.videoRange,c=i.frameRate,u=i.codecSet.substring(0,4),d=H_(e,r,f=>{if(f.videoRange!==l||f.frameRate!==c||f.codecSet.substring(0,4)!==u)return!1;const p=f.audioGroups,m=n.filter(g=>!p||p.indexOf(g.groupId)!==-1);return Si(t,m,s)>-1});return d>-1?d:H_(e,r,f=>{const p=f.audioGroups,m=n.filter(g=>!p||p.indexOf(g.groupId)!==-1);return Si(t,m,s)>-1})}function H_(t,e,n){for(let r=e;r>-1;r--)if(n(t[r]))return r;for(let r=e+1;r<t.length;r++)if(n(t[r]))return r;return-1}class Jhe{constructor(e){this.hls=void 0,this.lastLevelLoadSec=0,this.lastLoadedFragLevel=-1,this.firstSelection=-1,this._nextAutoLevel=-1,this.nextAutoLevelKey="",this.audioTracksByGroup=null,this.codecTiers=null,this.timer=-1,this.fragCurrent=null,this.partCurrent=null,this.bitrateTestDelay=0,this.bwEstimator=void 0,this._abandonRulesCheck=()=>{const{fragCurrent:n,partCurrent:r,hls:s}=this,{autoLevelEnabled:i,media:o}=s;if(!n||!o)return;const a=performance.now(),l=r?r.stats:n.stats,c=r?r.duration:n.duration,u=a-l.loading.start,d=s.minAutoLevel;if(l.aborted||l.loaded&&l.loaded===l.total||n.level<=d){this.clearTimer(),this._nextAutoLevel=-1;return}if(!i||o.paused||!o.playbackRate||!o.readyState)return;const f=s.mainForwardBufferInfo;if(f===null)return;const p=this.bwEstimator.getEstimateTTFB(),m=Math.abs(o.playbackRate);if(u<=Math.max(p,1e3*(c/(m*2))))return;const g=f.len/m,y=l.loading.first?l.loading.first-l.loading.start:-1,x=l.loaded&&y>-1,v=this.getBwEstimate(),b=s.levels,w=b[n.level],T=l.total||Math.max(l.loaded,Math.round(c*w.averageBitrate/8));let C=x?u-y:u;C<1&&x&&(C=Math.min(u,l.loaded*8/v));const E=x?l.loaded*1e3/C:0,k=E?(T-l.loaded)/E:T*8/v+p/1e3;if(k<=g)return;const A=E?E*8:v;let R=Number.POSITIVE_INFINITY,L;for(L=n.level-1;L>d;L--){const M=b[L].maxBitrate;if(R=this.getTimeToLoadFrag(p/1e3,A,c*M,!b[L].details),R<g)break}if(R>=k||R>c*10)return;s.nextLoadLevel=s.nextAutoLevel=L,x?this.bwEstimator.sample(u-Math.min(p,y),l.loaded):this.bwEstimator.sampleTTFB(u);const D=b[L].maxBitrate;this.getBwEstimate()*this.hls.config.abrBandWidthUpFactor>D&&this.resetEstimator(D),this.clearTimer(),H.warn(`[abr] Fragment ${n.sn}${r?" part "+r.index:""} of level ${n.level} is loading too slowly;
      Time to underbuffer: ${g.toFixed(3)} s
      Estimated load time for current fragment: ${k.toFixed(3)} s
      Estimated load time for down switch fragment: ${R.toFixed(3)} s
      TTFB estimate: ${y|0} ms
      Current BW estimate: ${xe(v)?v|0:"Unknown"} bps
      New BW estimate: ${this.getBwEstimate()|0} bps
      Switching to level ${L} @ ${D|0} bps`),s.trigger(_.FRAG_LOAD_EMERGENCY_ABORTED,{frag:n,part:r,stats:l})},this.hls=e,this.bwEstimator=this.initEstimator(),this.registerListeners()}resetEstimator(e){e&&(H.log(`setting initial bwe to ${e}`),this.hls.config.abrEwmaDefaultEstimate=e),this.firstSelection=-1,this.bwEstimator=this.initEstimator()}initEstimator(){const e=this.hls.config;return new Uhe(e.abrEwmaSlowVoD,e.abrEwmaFastVoD,e.abrEwmaDefaultEstimate)}registerListeners(){const{hls:e}=this;e.on(_.MANIFEST_LOADING,this.onManifestLoading,this),e.on(_.FRAG_LOADING,this.onFragLoading,this),e.on(_.FRAG_LOADED,this.onFragLoaded,this),e.on(_.FRAG_BUFFERED,this.onFragBuffered,this),e.on(_.LEVEL_SWITCHING,this.onLevelSwitching,this),e.on(_.LEVEL_LOADED,this.onLevelLoaded,this),e.on(_.LEVELS_UPDATED,this.onLevelsUpdated,this),e.on(_.MAX_AUTO_LEVEL_UPDATED,this.onMaxAutoLevelUpdated,this),e.on(_.ERROR,this.onError,this)}unregisterListeners(){const{hls:e}=this;e&&(e.off(_.MANIFEST_LOADING,this.onManifestLoading,this),e.off(_.FRAG_LOADING,this.onFragLoading,this),e.off(_.FRAG_LOADED,this.onFragLoaded,this),e.off(_.FRAG_BUFFERED,this.onFragBuffered,this),e.off(_.LEVEL_SWITCHING,this.onLevelSwitching,this),e.off(_.LEVEL_LOADED,this.onLevelLoaded,this),e.off(_.LEVELS_UPDATED,this.onLevelsUpdated,this),e.off(_.MAX_AUTO_LEVEL_UPDATED,this.onMaxAutoLevelUpdated,this),e.off(_.ERROR,this.onError,this))}destroy(){this.unregisterListeners(),this.clearTimer(),this.hls=this._abandonRulesCheck=null,this.fragCurrent=this.partCurrent=null}onManifestLoading(e,n){this.lastLoadedFragLevel=-1,this.firstSelection=-1,this.lastLevelLoadSec=0,this.fragCurrent=this.partCurrent=null,this.onLevelsUpdated(),this.clearTimer()}onLevelsUpdated(){this.lastLoadedFragLevel>-1&&this.fragCurrent&&(this.lastLoadedFragLevel=this.fragCurrent.level),this._nextAutoLevel=-1,this.onMaxAutoLevelUpdated(),this.codecTiers=null,this.audioTracksByGroup=null}onMaxAutoLevelUpdated(){this.firstSelection=-1,this.nextAutoLevelKey=""}onFragLoading(e,n){const r=n.frag;if(!this.ignoreFragment(r)){if(!r.bitrateTest){var s;this.fragCurrent=r,this.partCurrent=(s=n.part)!=null?s:null}this.clearTimer(),this.timer=self.setInterval(this._abandonRulesCheck,100)}}onLevelSwitching(e,n){this.clearTimer()}onError(e,n){if(!n.fatal)switch(n.details){case Q.BUFFER_ADD_CODEC_ERROR:case Q.BUFFER_APPEND_ERROR:this.lastLoadedFragLevel=-1,this.firstSelection=-1;break;case Q.FRAG_LOAD_TIMEOUT:{const r=n.frag,{fragCurrent:s,partCurrent:i}=this;if(r&&s&&r.sn===s.sn&&r.level===s.level){const o=performance.now(),a=i?i.stats:r.stats,l=o-a.loading.start,c=a.loading.first?a.loading.first-a.loading.start:-1;if(a.loaded&&c>-1){const d=this.bwEstimator.getEstimateTTFB();this.bwEstimator.sample(l-Math.min(d,c),a.loaded)}else this.bwEstimator.sampleTTFB(l)}break}}}getTimeToLoadFrag(e,n,r,s){const i=e+r/n,o=s?this.lastLevelLoadSec:0;return i+o}onLevelLoaded(e,n){const r=this.hls.config,{loading:s}=n.stats,i=s.end-s.start;xe(i)&&(this.lastLevelLoadSec=i/1e3),n.details.live?this.bwEstimator.update(r.abrEwmaSlowLive,r.abrEwmaFastLive):this.bwEstimator.update(r.abrEwmaSlowVoD,r.abrEwmaFastVoD)}onFragLoaded(e,{frag:n,part:r}){const s=r?r.stats:n.stats;if(n.type===Pe.MAIN&&this.bwEstimator.sampleTTFB(s.loading.first-s.loading.start),!this.ignoreFragment(n)){if(this.clearTimer(),n.level===this._nextAutoLevel&&(this._nextAutoLevel=-1),this.firstSelection=-1,this.hls.config.abrMaxWithRealBitrate){const i=r?r.duration:n.duration,o=this.hls.levels[n.level],a=(o.loaded?o.loaded.bytes:0)+s.loaded,l=(o.loaded?o.loaded.duration:0)+i;o.loaded={bytes:a,duration:l},o.realBitrate=Math.round(8*a/l)}if(n.bitrateTest){const i={stats:s,frag:n,part:r,id:n.type};this.onFragBuffered(_.FRAG_BUFFERED,i),n.bitrateTest=!1}else this.lastLoadedFragLevel=n.level}}onFragBuffered(e,n){const{frag:r,part:s}=n,i=s!=null&&s.stats.loaded?s.stats:r.stats;if(i.aborted||this.ignoreFragment(r))return;const o=i.parsing.end-i.loading.start-Math.min(i.loading.first-i.loading.start,this.bwEstimator.getEstimateTTFB());this.bwEstimator.sample(o,i.loaded),i.bwEstimate=this.getBwEstimate(),r.bitrateTest?this.bitrateTestDelay=o/1e3:this.bitrateTestDelay=0}ignoreFragment(e){return e.type!==Pe.MAIN||e.sn==="initSegment"}clearTimer(){this.timer>-1&&(self.clearInterval(this.timer),this.timer=-1)}get firstAutoLevel(){const{maxAutoLevel:e,minAutoLevel:n}=this.hls,r=this.getBwEstimate(),s=this.hls.config.maxStarvationDelay,i=this.findBestLevel(r,n,e,0,s,1,1);if(i>-1)return i;const o=this.hls.firstLevel,a=Math.min(Math.max(o,n),e);return H.warn(`[abr] Could not find best starting auto level. Defaulting to first in playlist ${o} clamped to ${a}`),a}get forcedAutoLevel(){return this.nextAutoLevelKey?-1:this._nextAutoLevel}get nextAutoLevel(){const e=this.forcedAutoLevel,r=this.bwEstimator.canEstimate(),s=this.lastLoadedFragLevel>-1;if(e!==-1&&(!r||!s||this.nextAutoLevelKey===this.getAutoLevelKey()))return e;const i=r&&s?this.getNextABRAutoLevel():this.firstAutoLevel;if(e!==-1){const o=this.hls.levels;if(o.length>Math.max(e,i)&&o[e].loadError<=o[i].loadError)return e}return this._nextAutoLevel=i,this.nextAutoLevelKey=this.getAutoLevelKey(),i}getAutoLevelKey(){return`${this.getBwEstimate()}_${this.getStarvationDelay().toFixed(2)}`}getNextABRAutoLevel(){const{fragCurrent:e,partCurrent:n,hls:r}=this,{maxAutoLevel:s,config:i,minAutoLevel:o}=r,a=n?n.duration:e?e.duration:0,l=this.getBwEstimate(),c=this.getStarvationDelay();let u=i.abrBandWidthFactor,d=i.abrBandWidthUpFactor;if(c){const y=this.findBestLevel(l,o,s,c,0,u,d);if(y>=0)return y}let f=a?Math.min(a,i.maxStarvationDelay):i.maxStarvationDelay;if(!c){const y=this.bitrateTestDelay;y&&(f=(a?Math.min(a,i.maxLoadingDelay):i.maxLoadingDelay)-y,H.info(`[abr] bitrate test took ${Math.round(1e3*y)}ms, set first fragment max fetchDuration to ${Math.round(1e3*f)} ms`),u=d=1)}const p=this.findBestLevel(l,o,s,c,f,u,d);if(H.info(`[abr] ${c?"rebuffering expected":"buffer is empty"}, optimal quality level ${p}`),p>-1)return p;const m=r.levels[o],g=r.levels[r.loadLevel];return(m==null?void 0:m.bitrate)<(g==null?void 0:g.bitrate)?o:r.loadLevel}getStarvationDelay(){const e=this.hls,n=e.media;if(!n)return 1/0;const r=n&&n.playbackRate!==0?Math.abs(n.playbackRate):1,s=e.mainForwardBufferInfo;return(s?s.len:0)/r}getBwEstimate(){return this.bwEstimator.canEstimate()?this.bwEstimator.getEstimate():this.hls.config.abrEwmaDefaultEstimate}findBestLevel(e,n,r,s,i,o,a){var l;const c=s+i,u=this.lastLoadedFragLevel,d=u===-1?this.hls.firstLevel:u,{fragCurrent:f,partCurrent:p}=this,{levels:m,allAudioTracks:g,loadLevel:y,config:x}=this.hls;if(m.length===1)return 0;const v=m[d],b=!!(v!=null&&(l=v.details)!=null&&l.live),w=y===-1||u===-1;let T,C="SDR",E=(v==null?void 0:v.frameRate)||0;const{audioPreference:k,videoPreference:A}=x,R=this.audioTracksByGroup||(this.audioTracksByGroup=qhe(g));if(w){if(this.firstSelection!==-1)return this.firstSelection;const V=this.codecTiers||(this.codecTiers=Xhe(m,R,n,r)),O=Yhe(V,C,e,k,A),{codecSet:I,videoRanges:N,minFramerate:j,minBitrate:K,preferHDR:te}=O;T=I,C=te?N[N.length-1]:N[0],E=j,e=Math.max(e,K),H.log(`[abr] picked start tier ${JSON.stringify(O)}`)}else T=v==null?void 0:v.codecSet,C=v==null?void 0:v.videoRange;const L=p?p.duration:f?f.duration:0,D=this.bwEstimator.getEstimateTTFB()/1e3,M=[];for(let V=r;V>=n;V--){var B;const O=m[V],I=V>d;if(!O)continue;if(x.useMediaCapabilities&&!O.supportedResult&&!O.supportedPromise){const ee=navigator.mediaCapabilities;typeof(ee==null?void 0:ee.decodingInfo)=="function"&&Vhe(O,R,C,E,e,k)?(O.supportedPromise=Whe(O,R,ee),O.supportedPromise.then(ce=>{if(!this.hls)return;O.supportedResult=ce;const Y=this.hls.levels,ue=Y.indexOf(O);ce.error?H.warn(`[abr] MediaCapabilities decodingInfo error: "${ce.error}" for level ${ue} ${JSON.stringify(ce)}`):ce.supported||(H.warn(`[abr] Unsupported MediaCapabilities decodingInfo result for level ${ue} ${JSON.stringify(ce)}`),ue>-1&&Y.length>1&&(H.log(`[abr] Removing unsupported level ${ue}`),this.hls.removeLevel(ue)))})):O.supportedResult=F3}if(T&&O.codecSet!==T||C&&O.videoRange!==C||I&&E>O.frameRate||!I&&E>0&&E<O.frameRate||O.supportedResult&&!((B=O.supportedResult.decodingInfoResults)!=null&&B[0].smooth)){M.push(V);continue}const N=O.details,j=(p?N==null?void 0:N.partTarget:N==null?void 0:N.averagetargetduration)||L;let K;I?K=a*e:K=o*e;const te=L&&s>=L*2&&i===0?m[V].averageBitrate:m[V].maxBitrate,ne=this.getTimeToLoadFrag(D,K,te*j,N===void 0);if(K>=te&&(V===u||O.loadError===0&&O.fragmentError===0)&&(ne<=D||!xe(ne)||b&&!this.bitrateTestDelay||ne<c)){const ee=this.forcedAutoLevel;return V!==y&&(ee===-1||ee!==y)&&(M.length&&H.trace(`[abr] Skipped level(s) ${M.join(",")} of ${r} max with CODECS and VIDEO-RANGE:"${m[M[0]].codecs}" ${m[M[0]].videoRange}; not compatible with "${v.codecs}" ${C}`),H.info(`[abr] switch candidate:${d}->${V} adjustedbw(${Math.round(K)})-bitrate=${Math.round(K-te)} ttfb:${D.toFixed(1)} avgDuration:${j.toFixed(1)} maxFetchDuration:${c.toFixed(1)} fetchDuration:${ne.toFixed(1)} firstSelection:${w} codecSet:${T} videoRange:${C} hls.loadLevel:${y}`)),w&&(this.firstSelection=V),V}}return-1}set nextAutoLevel(e){const{maxAutoLevel:n,minAutoLevel:r}=this.hls,s=Math.min(Math.max(e,r),n);this._nextAutoLevel!==s&&(this.nextAutoLevelKey="",this._nextAutoLevel=s)}}class epe{constructor(){this._boundTick=void 0,this._tickTimer=null,this._tickInterval=null,this._tickCallCount=0,this._boundTick=this.tick.bind(this)}destroy(){this.onHandlerDestroying(),this.onHandlerDestroyed()}onHandlerDestroying(){this.clearNextTick(),this.clearInterval()}onHandlerDestroyed(){}hasInterval(){return!!this._tickInterval}hasNextTick(){return!!this._tickTimer}setInterval(e){return this._tickInterval?!1:(this._tickCallCount=0,this._tickInterval=self.setInterval(this._boundTick,e),!0)}clearInterval(){return this._tickInterval?(self.clearInterval(this._tickInterval),this._tickInterval=null,!0):!1}clearNextTick(){return this._tickTimer?(self.clearTimeout(this._tickTimer),this._tickTimer=null,!0):!1}tick(){this._tickCallCount++,this._tickCallCount===1&&(this.doTick(),this._tickCallCount>1&&this.tickImmediate(),this._tickCallCount=0)}tickImmediate(){this.clearNextTick(),this._tickTimer=self.setTimeout(this._boundTick,0)}doTick(){}}var Ln={NOT_LOADED:"NOT_LOADED",APPENDING:"APPENDING",PARTIAL:"PARTIAL",OK:"OK"};class tpe{constructor(e){this.activePartLists=Object.create(null),this.endListFragments=Object.create(null),this.fragments=Object.create(null),this.timeRanges=Object.create(null),this.bufferPadding=.2,this.hls=void 0,this.hasGaps=!1,this.hls=e,this._registerListeners()}_registerListeners(){const{hls:e}=this;e.on(_.BUFFER_APPENDED,this.onBufferAppended,this),e.on(_.FRAG_BUFFERED,this.onFragBuffered,this),e.on(_.FRAG_LOADED,this.onFragLoaded,this)}_unregisterListeners(){const{hls:e}=this;e.off(_.BUFFER_APPENDED,this.onBufferAppended,this),e.off(_.FRAG_BUFFERED,this.onFragBuffered,this),e.off(_.FRAG_LOADED,this.onFragLoaded,this)}destroy(){this._unregisterListeners(),this.fragments=this.activePartLists=this.endListFragments=this.timeRanges=null}getAppendedFrag(e,n){const r=this.activePartLists[n];if(r)for(let s=r.length;s--;){const i=r[s];if(!i)break;const o=i.end;if(i.start<=e&&o!==null&&e<=o)return i}return this.getBufferedFrag(e,n)}getBufferedFrag(e,n){const{fragments:r}=this,s=Object.keys(r);for(let i=s.length;i--;){const o=r[s[i]];if((o==null?void 0:o.body.type)===n&&o.buffered){const a=o.body;if(a.start<=e&&e<=a.end)return a}}return null}detectEvictedFragments(e,n,r,s){this.timeRanges&&(this.timeRanges[e]=n);const i=(s==null?void 0:s.fragment.sn)||-1;Object.keys(this.fragments).forEach(o=>{const a=this.fragments[o];if(!a||i>=a.body.sn)return;if(!a.buffered&&!a.loaded){a.body.type===r&&this.removeFragment(a.body);return}const l=a.range[e];l&&l.time.some(c=>{const u=!this.isTimeBuffered(c.startPTS,c.endPTS,n);return u&&this.removeFragment(a.body),u})})}detectPartialFragments(e){const n=this.timeRanges,{frag:r,part:s}=e;if(!n||r.sn==="initSegment")return;const i=ec(r),o=this.fragments[i];if(!o||o.buffered&&r.gap)return;const a=!r.relurl;Object.keys(n).forEach(l=>{const c=r.elementaryStreams[l];if(!c)return;const u=n[l],d=a||c.partial===!0;o.range[l]=this.getBufferedTimes(r,s,d,u)}),o.loaded=null,Object.keys(o.range).length?(o.buffered=!0,(o.body.endList=r.endList||o.body.endList)&&(this.endListFragments[o.body.type]=o),Np(o)||this.removeParts(r.sn-1,r.type)):this.removeFragment(o.body)}removeParts(e,n){const r=this.activePartLists[n];r&&(this.activePartLists[n]=r.filter(s=>s.fragment.sn>=e))}fragBuffered(e,n){const r=ec(e);let s=this.fragments[r];!s&&n&&(s=this.fragments[r]={body:e,appendedPTS:null,loaded:null,buffered:!1,range:Object.create(null)},e.gap&&(this.hasGaps=!0)),s&&(s.loaded=null,s.buffered=!0)}getBufferedTimes(e,n,r,s){const i={time:[],partial:r},o=e.start,a=e.end,l=e.minEndPTS||a,c=e.maxStartPTS||o;for(let u=0;u<s.length;u++){const d=s.start(u)-this.bufferPadding,f=s.end(u)+this.bufferPadding;if(c>=d&&l<=f){i.time.push({startPTS:Math.max(o,s.start(u)),endPTS:Math.min(a,s.end(u))});break}else if(o<f&&a>d){const p=Math.max(o,s.start(u)),m=Math.min(a,s.end(u));m>p&&(i.partial=!0,i.time.push({startPTS:p,endPTS:m}))}else if(a<=d)break}return i}getPartialFragment(e){let n=null,r,s,i,o=0;const{bufferPadding:a,fragments:l}=this;return Object.keys(l).forEach(c=>{const u=l[c];u&&Np(u)&&(s=u.body.start-a,i=u.body.end+a,e>=s&&e<=i&&(r=Math.min(e-s,i-e),o<=r&&(n=u.body,o=r)))}),n}isEndListAppended(e){const n=this.endListFragments[e];return n!==void 0&&(n.buffered||Np(n))}getState(e){const n=ec(e),r=this.fragments[n];return r?r.buffered?Np(r)?Ln.PARTIAL:Ln.OK:Ln.APPENDING:Ln.NOT_LOADED}isTimeBuffered(e,n,r){let s,i;for(let o=0;o<r.length;o++){if(s=r.start(o)-this.bufferPadding,i=r.end(o)+this.bufferPadding,e>=s&&n<=i)return!0;if(n<=s)return!1}return!1}onFragLoaded(e,n){const{frag:r,part:s}=n;if(r.sn==="initSegment"||r.bitrateTest)return;const i=s?null:n,o=ec(r);this.fragments[o]={body:r,appendedPTS:null,loaded:i,buffered:!1,range:Object.create(null)}}onBufferAppended(e,n){const{frag:r,part:s,timeRanges:i}=n;if(r.sn==="initSegment")return;const o=r.type;if(s){let a=this.activePartLists[o];a||(this.activePartLists[o]=a=[]),a.push(s)}this.timeRanges=i,Object.keys(i).forEach(a=>{const l=i[a];this.detectEvictedFragments(a,l,o,s)})}onFragBuffered(e,n){this.detectPartialFragments(n)}hasFragment(e){const n=ec(e);return!!this.fragments[n]}hasParts(e){var n;return!!((n=this.activePartLists[e])!=null&&n.length)}removeFragmentsInRange(e,n,r,s,i){s&&!this.hasGaps||Object.keys(this.fragments).forEach(o=>{const a=this.fragments[o];if(!a)return;const l=a.body;l.type!==r||s&&!l.gap||l.start<n&&l.end>e&&(a.buffered||i)&&this.removeFragment(l)})}removeFragment(e){const n=ec(e);e.stats.loaded=0,e.clearElementaryStreamInfo();const r=this.activePartLists[e.type];if(r){const s=e.sn;this.activePartLists[e.type]=r.filter(i=>i.fragment.sn!==s)}delete this.fragments[n],e.endList&&delete this.endListFragments[e.type]}removeAllFragments(){this.fragments=Object.create(null),this.endListFragments=Object.create(null),this.activePartLists=Object.create(null),this.hasGaps=!1}}function Np(t){var e,n,r;return t.buffered&&(t.body.gap||((e=t.range.video)==null?void 0:e.partial)||((n=t.range.audio)==null?void 0:n.partial)||((r=t.range.audiovideo)==null?void 0:r.partial))}function ec(t){return`${t.type}_${t.level}_${t.sn}`}const npe={length:0,start:()=>0,end:()=>0};class kt{static isBuffered(e,n){try{if(e){const r=kt.getBuffered(e);for(let s=0;s<r.length;s++)if(n>=r.start(s)&&n<=r.end(s))return!0}}catch{}return!1}static bufferInfo(e,n,r){try{if(e){const s=kt.getBuffered(e),i=[];let o;for(o=0;o<s.length;o++)i.push({start:s.start(o),end:s.end(o)});return this.bufferedInfo(i,n,r)}}catch{}return{len:0,start:n,end:n,nextStart:void 0}}static bufferedInfo(e,n,r){n=Math.max(0,n),e.sort(function(c,u){const d=c.start-u.start;return d||u.end-c.end});let s=[];if(r)for(let c=0;c<e.length;c++){const u=s.length;if(u){const d=s[u-1].end;e[c].start-d<r?e[c].end>d&&(s[u-1].end=e[c].end):s.push(e[c])}else s.push(e[c])}else s=e;let i=0,o,a=n,l=n;for(let c=0;c<s.length;c++){const u=s[c].start,d=s[c].end;if(n+r>=u&&n<d)a=u,l=d,i=l-n;else if(n+r<u){o=u;break}}return{len:i,start:a||0,end:l||0,nextStart:o}}static getBuffered(e){try{return e.buffered}catch(n){return H.log("failed to get media.buffered",n),npe}}}class uE{constructor(e,n,r,s=0,i=-1,o=!1){this.level=void 0,this.sn=void 0,this.part=void 0,this.id=void 0,this.size=void 0,this.partial=void 0,this.transmuxing=jp(),this.buffering={audio:jp(),video:jp(),audiovideo:jp()},this.level=e,this.sn=n,this.id=r,this.size=s,this.part=i,this.partial=o}}function jp(){return{start:0,executeStart:0,executeEnd:0,end:0}}function Om(t,e){for(let r=0,s=t.length;r<s;r++){var n;if(((n=t[r])==null?void 0:n.cc)===e)return t[r]}return null}function rpe(t,e,n){return!!(e&&(n.endCC>n.startCC||t&&t.cc<n.startCC))}function spe(t,e){const n=t.fragments,r=e.fragments;if(!r.length||!n.length){H.log("No fragments to align");return}const s=Om(n,r[0].cc);if(!s||s&&!s.startPTS){H.log("No frag in previous level to align on");return}return s}function G_(t,e){if(t){const n=t.start+e;t.start=t.startPTS=n,t.endPTS=n+t.duration}}function N3(t,e){const n=e.fragments;for(let r=0,s=n.length;r<s;r++)G_(n[r],t);e.fragmentHint&&G_(e.fragmentHint,t),e.alignedSliding=!0}function ipe(t,e,n){e&&(ope(t,n,e),!n.alignedSliding&&e&&Jg(n,e),!n.alignedSliding&&e&&!n.skippedSegments&&I3(e,n))}function ope(t,e,n){if(rpe(t,n,e)){const r=spe(n,e);r&&xe(r.start)&&(H.log(`Adjusting PTS using last level due to CC increase within current level ${e.url}`),N3(r.start,e))}}function Jg(t,e){if(!t.hasProgramDateTime||!e.hasProgramDateTime)return;const n=t.fragments,r=e.fragments;if(!n.length||!r.length)return;let s,i;const o=Math.min(e.endCC,t.endCC);e.startCC<o&&t.startCC<o&&(s=Om(r,o),i=Om(n,o)),(!s||!i)&&(s=r[Math.floor(r.length/2)],i=Om(n,s.cc)||n[Math.floor(n.length/2)]);const a=s.programDateTime,l=i.programDateTime;if(!a||!l)return;const c=(l-a)/1e3-(i.start-s.start);N3(c,t)}const K_=Math.pow(2,17);class ape{constructor(e){this.config=void 0,this.loader=null,this.partLoadTimeout=-1,this.config=e}destroy(){this.loader&&(this.loader.destroy(),this.loader=null)}abort(){this.loader&&this.loader.abort()}load(e,n){const r=e.url;if(!r)return Promise.reject(new Hi({type:Me.NETWORK_ERROR,details:Q.FRAG_LOAD_ERROR,fatal:!1,frag:e,error:new Error(`Fragment does not have a ${r?"part list":"url"}`),networkDetails:null}));this.abort();const s=this.config,i=s.fLoader,o=s.loader;return new Promise((a,l)=>{if(this.loader&&this.loader.destroy(),e.gap)if(e.tagList.some(p=>p[0]==="GAP")){l(q_(e));return}else e.gap=!1;const c=this.loader=e.loader=i?new i(s):new o(s),u=Y_(e),d=V_(s.fragLoadPolicy.default),f={loadPolicy:d,timeout:d.maxLoadTimeMs,maxRetry:0,retryDelay:0,maxRetryDelay:0,highWaterMark:e.sn==="initSegment"?1/0:K_};e.stats=c.stats,c.load(u,f,{onSuccess:(p,m,g,y)=>{this.resetLoader(e,c);let x=p.data;g.resetIV&&e.decryptdata&&(e.decryptdata.iv=new Uint8Array(x.slice(0,16)),x=x.slice(16)),a({frag:e,part:null,payload:x,networkDetails:y})},onError:(p,m,g,y)=>{this.resetLoader(e,c),l(new Hi({type:Me.NETWORK_ERROR,details:Q.FRAG_LOAD_ERROR,fatal:!1,frag:e,response:Mn({url:r,data:void 0},p),error:new Error(`HTTP Error ${p.code} ${p.text}`),networkDetails:g,stats:y}))},onAbort:(p,m,g)=>{this.resetLoader(e,c),l(new Hi({type:Me.NETWORK_ERROR,details:Q.INTERNAL_ABORTED,fatal:!1,frag:e,error:new Error("Aborted"),networkDetails:g,stats:p}))},onTimeout:(p,m,g)=>{this.resetLoader(e,c),l(new Hi({type:Me.NETWORK_ERROR,details:Q.FRAG_LOAD_TIMEOUT,fatal:!1,frag:e,error:new Error(`Timeout after ${f.timeout}ms`),networkDetails:g,stats:p}))},onProgress:(p,m,g,y)=>{n&&n({frag:e,part:null,payload:g,networkDetails:y})}})})}loadPart(e,n,r){this.abort();const s=this.config,i=s.fLoader,o=s.loader;return new Promise((a,l)=>{if(this.loader&&this.loader.destroy(),e.gap||n.gap){l(q_(e,n));return}const c=this.loader=e.loader=i?new i(s):new o(s),u=Y_(e,n),d=V_(s.fragLoadPolicy.default),f={loadPolicy:d,timeout:d.maxLoadTimeMs,maxRetry:0,retryDelay:0,maxRetryDelay:0,highWaterMark:K_};n.stats=c.stats,c.load(u,f,{onSuccess:(p,m,g,y)=>{this.resetLoader(e,c),this.updateStatsFromPart(e,n);const x={frag:e,part:n,payload:p.data,networkDetails:y};r(x),a(x)},onError:(p,m,g,y)=>{this.resetLoader(e,c),l(new Hi({type:Me.NETWORK_ERROR,details:Q.FRAG_LOAD_ERROR,fatal:!1,frag:e,part:n,response:Mn({url:u.url,data:void 0},p),error:new Error(`HTTP Error ${p.code} ${p.text}`),networkDetails:g,stats:y}))},onAbort:(p,m,g)=>{e.stats.aborted=n.stats.aborted,this.resetLoader(e,c),l(new Hi({type:Me.NETWORK_ERROR,details:Q.INTERNAL_ABORTED,fatal:!1,frag:e,part:n,error:new Error("Aborted"),networkDetails:g,stats:p}))},onTimeout:(p,m,g)=>{this.resetLoader(e,c),l(new Hi({type:Me.NETWORK_ERROR,details:Q.FRAG_LOAD_TIMEOUT,fatal:!1,frag:e,part:n,error:new Error(`Timeout after ${f.timeout}ms`),networkDetails:g,stats:p}))}})})}updateStatsFromPart(e,n){const r=e.stats,s=n.stats,i=s.total;if(r.loaded+=s.loaded,i){const l=Math.round(e.duration/n.duration),c=Math.min(Math.round(r.loaded/i),l),d=(l-c)*Math.round(r.loaded/c);r.total=r.loaded+d}else r.total=Math.max(r.loaded,r.total);const o=r.loading,a=s.loading;o.start?o.first+=a.first-a.start:(o.start=a.start,o.first=a.first),o.end=a.end}resetLoader(e,n){e.loader=null,this.loader===n&&(self.clearTimeout(this.partLoadTimeout),this.loader=null),n.destroy()}}function Y_(t,e=null){const n=e||t,r={frag:t,part:e,responseType:"arraybuffer",url:n.url,headers:{},rangeStart:0,rangeEnd:0},s=n.byteRangeStartOffset,i=n.byteRangeEndOffset;if(xe(s)&&xe(i)){var o;let a=s,l=i;if(t.sn==="initSegment"&&((o=t.decryptdata)==null?void 0:o.method)==="AES-128"){const c=i-s;c%16&&(l=i+(16-c%16)),s!==0&&(r.resetIV=!0,a=s-16)}r.rangeStart=a,r.rangeEnd=l}return r}function q_(t,e){const n=new Error(`GAP ${t.gap?"tag":"attribute"} found`),r={type:Me.MEDIA_ERROR,details:Q.FRAG_GAP,fatal:!1,frag:t,error:n,networkDetails:null};return e&&(r.part=e),(e||t).stats.aborted=!0,new Hi(r)}class Hi extends Error{constructor(e){super(e.error.message),this.data=void 0,this.data=e}}class lpe{constructor(e,n){this.subtle=void 0,this.aesIV=void 0,this.subtle=e,this.aesIV=n}decrypt(e,n){return this.subtle.decrypt({name:"AES-CBC",iv:this.aesIV},n,e)}}class cpe{constructor(e,n){this.subtle=void 0,this.key=void 0,this.subtle=e,this.key=n}expandKey(){return this.subtle.importKey("raw",this.key,{name:"AES-CBC"},!1,["encrypt","decrypt"])}}function upe(t){const e=t.byteLength,n=e&&new DataView(t.buffer).getUint8(e-1);return n?hl(t,0,e-n):t}class dpe{constructor(){this.rcon=[0,1,2,4,8,16,32,64,128,27,54],this.subMix=[new Uint32Array(256),new Uint32Array(256),new Uint32Array(256),new Uint32Array(256)],this.invSubMix=[new Uint32Array(256),new Uint32Array(256),new Uint32Array(256),new Uint32Array(256)],this.sBox=new Uint32Array(256),this.invSBox=new Uint32Array(256),this.key=new Uint32Array(0),this.ksRows=0,this.keySize=0,this.keySchedule=void 0,this.invKeySchedule=void 0,this.initTable()}uint8ArrayToUint32Array_(e){const n=new DataView(e),r=new Uint32Array(4);for(let s=0;s<4;s++)r[s]=n.getUint32(s*4);return r}initTable(){const e=this.sBox,n=this.invSBox,r=this.subMix,s=r[0],i=r[1],o=r[2],a=r[3],l=this.invSubMix,c=l[0],u=l[1],d=l[2],f=l[3],p=new Uint32Array(256);let m=0,g=0,y=0;for(y=0;y<256;y++)y<128?p[y]=y<<1:p[y]=y<<1^283;for(y=0;y<256;y++){let x=g^g<<1^g<<2^g<<3^g<<4;x=x>>>8^x&255^99,e[m]=x,n[x]=m;const v=p[m],b=p[v],w=p[b];let T=p[x]*257^x*16843008;s[m]=T<<24|T>>>8,i[m]=T<<16|T>>>16,o[m]=T<<8|T>>>24,a[m]=T,T=w*16843009^b*65537^v*257^m*16843008,c[x]=T<<24|T>>>8,u[x]=T<<16|T>>>16,d[x]=T<<8|T>>>24,f[x]=T,m?(m=v^p[p[p[w^v]]],g^=p[p[g]]):m=g=1}}expandKey(e){const n=this.uint8ArrayToUint32Array_(e);let r=!0,s=0;for(;s<n.length&&r;)r=n[s]===this.key[s],s++;if(r)return;this.key=n;const i=this.keySize=n.length;if(i!==4&&i!==6&&i!==8)throw new Error("Invalid aes key size="+i);const o=this.ksRows=(i+6+1)*4;let a,l;const c=this.keySchedule=new Uint32Array(o),u=this.invKeySchedule=new Uint32Array(o),d=this.sBox,f=this.rcon,p=this.invSubMix,m=p[0],g=p[1],y=p[2],x=p[3];let v,b;for(a=0;a<o;a++){if(a<i){v=c[a]=n[a];continue}b=v,a%i===0?(b=b<<8|b>>>24,b=d[b>>>24]<<24|d[b>>>16&255]<<16|d[b>>>8&255]<<8|d[b&255],b^=f[a/i|0]<<24):i>6&&a%i===4&&(b=d[b>>>24]<<24|d[b>>>16&255]<<16|d[b>>>8&255]<<8|d[b&255]),c[a]=v=(c[a-i]^b)>>>0}for(l=0;l<o;l++)a=o-l,l&3?b=c[a]:b=c[a-4],l<4||a<=4?u[l]=b:u[l]=m[d[b>>>24]]^g[d[b>>>16&255]]^y[d[b>>>8&255]]^x[d[b&255]],u[l]=u[l]>>>0}networkToHostOrderSwap(e){return e<<24|(e&65280)<<8|(e&16711680)>>8|e>>>24}decrypt(e,n,r){const s=this.keySize+6,i=this.invKeySchedule,o=this.invSBox,a=this.invSubMix,l=a[0],c=a[1],u=a[2],d=a[3],f=this.uint8ArrayToUint32Array_(r);let p=f[0],m=f[1],g=f[2],y=f[3];const x=new Int32Array(e),v=new Int32Array(x.length);let b,w,T,C,E,k,A,R,L,D,M,B,V,O;const I=this.networkToHostOrderSwap;for(;n<x.length;){for(L=I(x[n]),D=I(x[n+1]),M=I(x[n+2]),B=I(x[n+3]),E=L^i[0],k=B^i[1],A=M^i[2],R=D^i[3],V=4,O=1;O<s;O++)b=l[E>>>24]^c[k>>16&255]^u[A>>8&255]^d[R&255]^i[V],w=l[k>>>24]^c[A>>16&255]^u[R>>8&255]^d[E&255]^i[V+1],T=l[A>>>24]^c[R>>16&255]^u[E>>8&255]^d[k&255]^i[V+2],C=l[R>>>24]^c[E>>16&255]^u[k>>8&255]^d[A&255]^i[V+3],E=b,k=w,A=T,R=C,V=V+4;b=o[E>>>24]<<24^o[k>>16&255]<<16^o[A>>8&255]<<8^o[R&255]^i[V],w=o[k>>>24]<<24^o[A>>16&255]<<16^o[R>>8&255]<<8^o[E&255]^i[V+1],T=o[A>>>24]<<24^o[R>>16&255]<<16^o[E>>8&255]<<8^o[k&255]^i[V+2],C=o[R>>>24]<<24^o[E>>16&255]<<16^o[k>>8&255]<<8^o[A&255]^i[V+3],v[n]=I(b^p),v[n+1]=I(C^m),v[n+2]=I(T^g),v[n+3]=I(w^y),p=L,m=D,g=M,y=B,n=n+4}return v.buffer}}const fpe=16;class dE{constructor(e,{removePKCS7Padding:n=!0}={}){if(this.logEnabled=!0,this.removePKCS7Padding=void 0,this.subtle=null,this.softwareDecrypter=null,this.key=null,this.fastAesKey=null,this.remainderData=null,this.currentIV=null,this.currentResult=null,this.useSoftware=void 0,this.useSoftware=e.enableSoftwareAES,this.removePKCS7Padding=n,n)try{const r=self.crypto;r&&(this.subtle=r.subtle||r.webkitSubtle)}catch{}this.useSoftware=!this.subtle}destroy(){this.subtle=null,this.softwareDecrypter=null,this.key=null,this.fastAesKey=null,this.remainderData=null,this.currentIV=null,this.currentResult=null}isSync(){return this.useSoftware}flush(){const{currentResult:e,remainderData:n}=this;if(!e||n)return this.reset(),null;const r=new Uint8Array(e);return this.reset(),this.removePKCS7Padding?upe(r):r}reset(){this.currentResult=null,this.currentIV=null,this.remainderData=null,this.softwareDecrypter&&(this.softwareDecrypter=null)}decrypt(e,n,r){return this.useSoftware?new Promise((s,i)=>{this.softwareDecrypt(new Uint8Array(e),n,r);const o=this.flush();o?s(o.buffer):i(new Error("[softwareDecrypt] Failed to decrypt data"))}):this.webCryptoDecrypt(new Uint8Array(e),n,r)}softwareDecrypt(e,n,r){const{currentIV:s,currentResult:i,remainderData:o}=this;this.logOnce("JS AES decrypt"),o&&(e=Ps(o,e),this.remainderData=null);const a=this.getValidChunk(e);if(!a.length)return null;s&&(r=s);let l=this.softwareDecrypter;l||(l=this.softwareDecrypter=new dpe),l.expandKey(n);const c=i;return this.currentResult=l.decrypt(a.buffer,0,r),this.currentIV=hl(a,-16).buffer,c||null}webCryptoDecrypt(e,n,r){if(this.key!==n||!this.fastAesKey){if(!this.subtle)return Promise.resolve(this.onWebCryptoError(e,n,r));this.key=n,this.fastAesKey=new cpe(this.subtle,n)}return this.fastAesKey.expandKey().then(s=>this.subtle?(this.logOnce("WebCrypto AES decrypt"),new lpe(this.subtle,new Uint8Array(r)).decrypt(e.buffer,s)):Promise.reject(new Error("web crypto not initialized"))).catch(s=>(H.warn(`[decrypter]: WebCrypto Error, disable WebCrypto API, ${s.name}: ${s.message}`),this.onWebCryptoError(e,n,r)))}onWebCryptoError(e,n,r){this.useSoftware=!0,this.logEnabled=!0,this.softwareDecrypt(e,n,r);const s=this.flush();if(s)return s.buffer;throw new Error("WebCrypto and softwareDecrypt: failed to decrypt data")}getValidChunk(e){let n=e;const r=e.length-e.length%fpe;return r!==e.length&&(n=hl(e,0,r),this.remainderData=hl(e,r)),n}logOnce(e){this.logEnabled&&(H.log(`[decrypter]: ${e}`),this.logEnabled=!1)}}const hpe={toString:function(t){let e="";const n=t.length;for(let r=0;r<n;r++)e+=`[${t.start(r).toFixed(3)}-${t.end(r).toFixed(3)}]`;return e}},se={STOPPED:"STOPPED",IDLE:"IDLE",KEY_LOADING:"KEY_LOADING",FRAG_LOADING:"FRAG_LOADING",FRAG_LOADING_WAITING_RETRY:"FRAG_LOADING_WAITING_RETRY",WAITING_TRACK:"WAITING_TRACK",PARSING:"PARSING",PARSED:"PARSED",ENDED:"ENDED",ERROR:"ERROR",WAITING_INIT_PTS:"WAITING_INIT_PTS",WAITING_LEVEL:"WAITING_LEVEL"};class fE extends epe{constructor(e,n,r,s,i){super(),this.hls=void 0,this.fragPrevious=null,this.fragCurrent=null,this.fragmentTracker=void 0,this.transmuxer=null,this._state=se.STOPPED,this.playlistType=void 0,this.media=null,this.mediaBuffer=null,this.config=void 0,this.bitrateTest=!1,this.lastCurrentTime=0,this.nextLoadPosition=0,this.startPosition=0,this.startTimeOffset=null,this.loadedmetadata=!1,this.retryDate=0,this.levels=null,this.fragmentLoader=void 0,this.keyLoader=void 0,this.levelLastLoaded=null,this.startFragRequested=!1,this.decrypter=void 0,this.initPTS=[],this.onvseeking=null,this.onvended=null,this.logPrefix="",this.log=void 0,this.warn=void 0,this.playlistType=i,this.logPrefix=s,this.log=H.log.bind(H,`${s}:`),this.warn=H.warn.bind(H,`${s}:`),this.hls=e,this.fragmentLoader=new ape(e.config),this.keyLoader=r,this.fragmentTracker=n,this.config=e.config,this.decrypter=new dE(e.config),e.on(_.MANIFEST_LOADED,this.onManifestLoaded,this)}doTick(){this.onTickEnd()}onTickEnd(){}startLoad(e){}stopLoad(){this.fragmentLoader.abort(),this.keyLoader.abort(this.playlistType);const e=this.fragCurrent;e!=null&&e.loader&&(e.abortRequests(),this.fragmentTracker.removeFragment(e)),this.resetTransmuxer(),this.fragCurrent=null,this.fragPrevious=null,this.clearInterval(),this.clearNextTick(),this.state=se.STOPPED}_streamEnded(e,n){if(n.live||e.nextStart||!e.end||!this.media)return!1;const r=n.partList;if(r!=null&&r.length){const i=r[r.length-1];return kt.isBuffered(this.media,i.start+i.duration/2)}const s=n.fragments[n.fragments.length-1].type;return this.fragmentTracker.isEndListAppended(s)}getLevelDetails(){if(this.levels&&this.levelLastLoaded!==null){var e;return(e=this.levelLastLoaded)==null?void 0:e.details}}onMediaAttached(e,n){const r=this.media=this.mediaBuffer=n.media;this.onvseeking=this.onMediaSeeking.bind(this),this.onvended=this.onMediaEnded.bind(this),r.addEventListener("seeking",this.onvseeking),r.addEventListener("ended",this.onvended);const s=this.config;this.levels&&s.autoStartLoad&&this.state===se.STOPPED&&this.startLoad(s.startPosition)}onMediaDetaching(){const e=this.media;e!=null&&e.ended&&(this.log("MSE detaching and video ended, reset startPosition"),this.startPosition=this.lastCurrentTime=0),e&&this.onvseeking&&this.onvended&&(e.removeEventListener("seeking",this.onvseeking),e.removeEventListener("ended",this.onvended),this.onvseeking=this.onvended=null),this.keyLoader&&this.keyLoader.detach(),this.media=this.mediaBuffer=null,this.loadedmetadata=!1,this.fragmentTracker.removeAllFragments(),this.stopLoad()}onMediaSeeking(){const{config:e,fragCurrent:n,media:r,mediaBuffer:s,state:i}=this,o=r?r.currentTime:0,a=kt.bufferInfo(s||r,o,e.maxBufferHole);if(this.log(`media seeking to ${xe(o)?o.toFixed(3):o}, state: ${i}`),this.state===se.ENDED)this.resetLoadingState();else if(n){const l=e.maxFragLookUpTolerance,c=n.start-l,u=n.start+n.duration+l;if(!a.len||u<a.start||c>a.end){const d=o>u;(o<c||d)&&(d&&n.loader&&(this.log("seeking outside of buffer while fragment load in progress, cancel fragment load"),n.abortRequests(),this.resetLoadingState()),this.fragPrevious=null)}}r&&(this.fragmentTracker.removeFragmentsInRange(o,1/0,this.playlistType,!0),this.lastCurrentTime=o),!this.loadedmetadata&&!a.len&&(this.nextLoadPosition=this.startPosition=o),this.tickImmediate()}onMediaEnded(){this.startPosition=this.lastCurrentTime=0}onManifestLoaded(e,n){this.startTimeOffset=n.startTimeOffset,this.initPTS=[]}onHandlerDestroying(){this.hls.off(_.MANIFEST_LOADED,this.onManifestLoaded,this),this.stopLoad(),super.onHandlerDestroying(),this.hls=null}onHandlerDestroyed(){this.state=se.STOPPED,this.fragmentLoader&&this.fragmentLoader.destroy(),this.keyLoader&&this.keyLoader.destroy(),this.decrypter&&this.decrypter.destroy(),this.hls=this.log=this.warn=this.decrypter=this.keyLoader=this.fragmentLoader=this.fragmentTracker=null,super.onHandlerDestroyed()}loadFragment(e,n,r){this._loadFragForPlayback(e,n,r)}_loadFragForPlayback(e,n,r){const s=i=>{if(this.fragContextChanged(e)){this.warn(`Fragment ${e.sn}${i.part?" p: "+i.part.index:""} of level ${e.level} was dropped during download.`),this.fragmentTracker.removeFragment(e);return}e.stats.chunkCount++,this._handleFragmentLoadProgress(i)};this._doFragLoad(e,n,r,s).then(i=>{if(!i)return;const o=this.state;if(this.fragContextChanged(e)){(o===se.FRAG_LOADING||!this.fragCurrent&&o===se.PARSING)&&(this.fragmentTracker.removeFragment(e),this.state=se.IDLE);return}"payload"in i&&(this.log(`Loaded fragment ${e.sn} of level ${e.level}`),this.hls.trigger(_.FRAG_LOADED,i)),this._handleFragmentLoadComplete(i)}).catch(i=>{this.state===se.STOPPED||this.state===se.ERROR||(this.warn(`Frag error: ${(i==null?void 0:i.message)||i}`),this.resetFragmentLoading(e))})}clearTrackerIfNeeded(e){var n;const{fragmentTracker:r}=this;if(r.getState(e)===Ln.APPENDING){const i=e.type,o=this.getFwdBufferInfo(this.mediaBuffer,i),a=Math.max(e.duration,o?o.len:this.config.maxBufferLength),l=this.backtrackFragment;((l?e.sn-l.sn:0)===1||this.reduceMaxBufferLength(a,e.duration))&&r.removeFragment(e)}else((n=this.mediaBuffer)==null?void 0:n.buffered.length)===0?r.removeAllFragments():r.hasParts(e.type)&&(r.detectPartialFragments({frag:e,part:null,stats:e.stats,id:e.type}),r.getState(e)===Ln.PARTIAL&&r.removeFragment(e))}checkLiveUpdate(e){if(e.updated&&!e.live){const n=e.fragments[e.fragments.length-1];this.fragmentTracker.detectPartialFragments({frag:n,part:null,stats:n.stats,id:n.type})}e.fragments[0]||(e.deltaUpdateFailed=!0)}flushMainBuffer(e,n,r=null){if(!(e-n))return;const s={startOffset:e,endOffset:n,type:r};this.hls.trigger(_.BUFFER_FLUSHING,s)}_loadInitSegment(e,n){this._doFragLoad(e,n).then(r=>{if(!r||this.fragContextChanged(e)||!this.levels)throw new Error("init load aborted");return r}).then(r=>{const{hls:s}=this,{payload:i}=r,o=e.decryptdata;if(i&&i.byteLength>0&&o!=null&&o.key&&o.iv&&o.method==="AES-128"){const a=self.performance.now();return this.decrypter.decrypt(new Uint8Array(i),o.key.buffer,o.iv.buffer).catch(l=>{throw s.trigger(_.ERROR,{type:Me.MEDIA_ERROR,details:Q.FRAG_DECRYPT_ERROR,fatal:!1,error:l,reason:l.message,frag:e}),l}).then(l=>{const c=self.performance.now();return s.trigger(_.FRAG_DECRYPTED,{frag:e,payload:l,stats:{tstart:a,tdecrypt:c}}),r.payload=l,this.completeInitSegmentLoad(r)})}return this.completeInitSegmentLoad(r)}).catch(r=>{this.state===se.STOPPED||this.state===se.ERROR||(this.warn(r),this.resetFragmentLoading(e))})}completeInitSegmentLoad(e){const{levels:n}=this;if(!n)throw new Error("init load aborted, missing levels");const r=e.frag.stats;this.state=se.IDLE,e.frag.data=new Uint8Array(e.payload),r.parsing.start=r.buffering.start=self.performance.now(),r.parsing.end=r.buffering.end=self.performance.now(),this.tick()}fragContextChanged(e){const{fragCurrent:n}=this;return!e||!n||e.sn!==n.sn||e.level!==n.level}fragBufferedComplete(e,n){var r,s,i,o;const a=this.mediaBuffer?this.mediaBuffer:this.media;if(this.log(`Buffered ${e.type} sn: ${e.sn}${n?" part: "+n.index:""} of ${this.playlistType===Pe.MAIN?"level":"track"} ${e.level} (frag:[${((r=e.startPTS)!=null?r:NaN).toFixed(3)}-${((s=e.endPTS)!=null?s:NaN).toFixed(3)}] > buffer:${a?hpe.toString(kt.getBuffered(a)):"(detached)"})`),e.sn!=="initSegment"){var l;if(e.type!==Pe.SUBTITLE){const u=e.elementaryStreams;if(!Object.keys(u).some(d=>!!u[d])){this.state=se.IDLE;return}}const c=(l=this.levels)==null?void 0:l[e.level];c!=null&&c.fragmentError&&(this.log(`Resetting level fragment error count of ${c.fragmentError} on frag buffered`),c.fragmentError=0)}this.state=se.IDLE,a&&(!this.loadedmetadata&&e.type==Pe.MAIN&&a.buffered.length&&((i=this.fragCurrent)==null?void 0:i.sn)===((o=this.fragPrevious)==null?void 0:o.sn)&&(this.loadedmetadata=!0,this.seekToStartPos()),this.tick())}seekToStartPos(){}_handleFragmentLoadComplete(e){const{transmuxer:n}=this;if(!n)return;const{frag:r,part:s,partsLoaded:i}=e,o=!i||i.length===0||i.some(l=>!l),a=new uE(r.level,r.sn,r.stats.chunkCount+1,0,s?s.index:-1,!o);n.flush(a)}_handleFragmentLoadProgress(e){}_doFragLoad(e,n,r=null,s){var i;const o=n==null?void 0:n.details;if(!this.levels||!o)throw new Error(`frag load aborted, missing level${o?"":" detail"}s`);let a=null;if(e.encrypted&&!((i=e.decryptdata)!=null&&i.key)?(this.log(`Loading key for ${e.sn} of [${o.startSN}-${o.endSN}], ${this.logPrefix==="[stream-controller]"?"level":"track"} ${e.level}`),this.state=se.KEY_LOADING,this.fragCurrent=e,a=this.keyLoader.load(e).then(u=>{if(!this.fragContextChanged(u.frag))return this.hls.trigger(_.KEY_LOADED,u),this.state===se.KEY_LOADING&&(this.state=se.IDLE),u}),this.hls.trigger(_.KEY_LOADING,{frag:e}),this.fragCurrent===null&&(a=Promise.reject(new Error("frag load aborted, context changed in KEY_LOADING")))):!e.encrypted&&o.encryptedFragments.length&&this.keyLoader.loadClear(e,o.encryptedFragments),r=Math.max(e.start,r||0),this.config.lowLatencyMode&&e.sn!=="initSegment"){const u=o.partList;if(u&&s){r>e.end&&o.fragmentHint&&(e=o.fragmentHint);const d=this.getNextPart(u,e,r);if(d>-1){const f=u[d];this.log(`Loading part sn: ${e.sn} p: ${f.index} cc: ${e.cc} of playlist [${o.startSN}-${o.endSN}] parts [0-${d}-${u.length-1}] ${this.logPrefix==="[stream-controller]"?"level":"track"}: ${e.level}, target: ${parseFloat(r.toFixed(3))}`),this.nextLoadPosition=f.start+f.duration,this.state=se.FRAG_LOADING;let p;return a?p=a.then(m=>!m||this.fragContextChanged(m.frag)?null:this.doFragPartsLoad(e,f,n,s)).catch(m=>this.handleFragLoadError(m)):p=this.doFragPartsLoad(e,f,n,s).catch(m=>this.handleFragLoadError(m)),this.hls.trigger(_.FRAG_LOADING,{frag:e,part:f,targetBufferTime:r}),this.fragCurrent===null?Promise.reject(new Error("frag load aborted, context changed in FRAG_LOADING parts")):p}else if(!e.url||this.loadedEndOfParts(u,r))return Promise.resolve(null)}}this.log(`Loading fragment ${e.sn} cc: ${e.cc} ${o?"of ["+o.startSN+"-"+o.endSN+"] ":""}${this.logPrefix==="[stream-controller]"?"level":"track"}: ${e.level}, target: ${parseFloat(r.toFixed(3))}`),xe(e.sn)&&!this.bitrateTest&&(this.nextLoadPosition=e.start+e.duration),this.state=se.FRAG_LOADING;const l=this.config.progressive;let c;return l&&a?c=a.then(u=>!u||this.fragContextChanged(u==null?void 0:u.frag)?null:this.fragmentLoader.load(e,s)).catch(u=>this.handleFragLoadError(u)):c=Promise.all([this.fragmentLoader.load(e,l?s:void 0),a]).then(([u])=>(!l&&u&&s&&s(u),u)).catch(u=>this.handleFragLoadError(u)),this.hls.trigger(_.FRAG_LOADING,{frag:e,targetBufferTime:r}),this.fragCurrent===null?Promise.reject(new Error("frag load aborted, context changed in FRAG_LOADING")):c}doFragPartsLoad(e,n,r,s){return new Promise((i,o)=>{var a;const l=[],c=(a=r.details)==null?void 0:a.partList,u=d=>{this.fragmentLoader.loadPart(e,d,s).then(f=>{l[d.index]=f;const p=f.part;this.hls.trigger(_.FRAG_LOADED,f);const m=z_(r,e.sn,d.index+1)||D3(c,e.sn,d.index+1);if(m)u(m);else return i({frag:e,part:p,partsLoaded:l})}).catch(o)};u(n)})}handleFragLoadError(e){if("data"in e){const n=e.data;e.data&&n.details===Q.INTERNAL_ABORTED?this.handleFragLoadAborted(n.frag,n.part):this.hls.trigger(_.ERROR,n)}else this.hls.trigger(_.ERROR,{type:Me.OTHER_ERROR,details:Q.INTERNAL_EXCEPTION,err:e,error:e,fatal:!0});return null}_handleTransmuxerFlush(e){const n=this.getCurrentContext(e);if(!n||this.state!==se.PARSING){!this.fragCurrent&&this.state!==se.STOPPED&&this.state!==se.ERROR&&(this.state=se.IDLE);return}const{frag:r,part:s,level:i}=n,o=self.performance.now();r.stats.parsing.end=o,s&&(s.stats.parsing.end=o),this.updateLevelTiming(r,s,i,e.partial)}getCurrentContext(e){const{levels:n,fragCurrent:r}=this,{level:s,sn:i,part:o}=e;if(!(n!=null&&n[s]))return this.warn(`Levels object was unset while buffering fragment ${i} of level ${s}. The current chunk will not be buffered.`),null;const a=n[s],l=o>-1?z_(a,i,o):null,c=l?l.fragment:Ohe(a,i,r);return c?(r&&r!==c&&(c.stats=r.stats),{frag:c,part:l,level:a}):null}bufferFragmentData(e,n,r,s,i){var o;if(!e||this.state!==se.PARSING)return;const{data1:a,data2:l}=e;let c=a;if(a&&l&&(c=Ps(a,l)),!((o=c)!=null&&o.length))return;const u={type:e.type,frag:n,part:r,chunkMeta:s,parent:n.type,data:c};if(this.hls.trigger(_.BUFFER_APPENDING,u),e.dropped&&e.independent&&!r){if(i)return;this.flushBufferGap(n)}}flushBufferGap(e){const n=this.media;if(!n)return;if(!kt.isBuffered(n,n.currentTime)){this.flushMainBuffer(0,e.start);return}const r=n.currentTime,s=kt.bufferInfo(n,r,0),i=e.duration,o=Math.min(this.config.maxFragLookUpTolerance*2,i*.25),a=Math.max(Math.min(e.start-o,s.end-o),r+o);e.start-a>o&&this.flushMainBuffer(a,e.start)}getFwdBufferInfo(e,n){const r=this.getLoadPosition();return xe(r)?this.getFwdBufferInfoAtPos(e,r,n):null}getFwdBufferInfoAtPos(e,n,r){const{config:{maxBufferHole:s}}=this,i=kt.bufferInfo(e,n,s);if(i.len===0&&i.nextStart!==void 0){const o=this.fragmentTracker.getBufferedFrag(n,r);if(o&&i.nextStart<o.end)return kt.bufferInfo(e,n,Math.max(i.nextStart,s))}return i}getMaxBufferLength(e){const{config:n}=this;let r;return e?r=Math.max(8*n.maxBufferSize/e,n.maxBufferLength):r=n.maxBufferLength,Math.min(r,n.maxMaxBufferLength)}reduceMaxBufferLength(e,n){const r=this.config,s=Math.max(Math.min(e-n,r.maxBufferLength),n),i=Math.max(e-n*3,r.maxMaxBufferLength/2,s);return i>=s?(r.maxMaxBufferLength=i,this.warn(`Reduce max buffer length to ${i}s`),!0):!1}getAppendedFrag(e,n=Pe.MAIN){const r=this.fragmentTracker.getAppendedFrag(e,Pe.MAIN);return r&&"fragment"in r?r.fragment:r}getNextFragment(e,n){const r=n.fragments,s=r.length;if(!s)return null;const{config:i}=this,o=r[0].start;let a;if(n.live){const l=i.initialLiveManifestSize;if(s<l)return this.warn(`Not enough fragments to start playback (have: ${s}, need: ${l})`),null;(!n.PTSKnown&&!this.startFragRequested&&this.startPosition===-1||e<o)&&(a=this.getInitialLiveFragment(n,r),this.startPosition=this.nextLoadPosition=a?this.hls.liveSyncPosition||a.start:e)}else e<=o&&(a=r[0]);if(!a){const l=i.lowLatencyMode?n.partEnd:n.fragmentEnd;a=this.getFragmentAtPosition(e,l,n)}return this.mapToInitFragWhenRequired(a)}isLoopLoading(e,n){const r=this.fragmentTracker.getState(e);return(r===Ln.OK||r===Ln.PARTIAL&&!!e.gap)&&this.nextLoadPosition>n}getNextFragmentLoopLoading(e,n,r,s,i){const o=e.gap,a=this.getNextFragment(this.nextLoadPosition,n);if(a===null)return a;if(e=a,o&&e&&!e.gap&&r.nextStart){const l=this.getFwdBufferInfoAtPos(this.mediaBuffer?this.mediaBuffer:this.media,r.nextStart,s);if(l!==null&&r.len+l.len>=i)return this.log(`buffer full after gaps in "${s}" playlist starting at sn: ${e.sn}`),null}return e}mapToInitFragWhenRequired(e){return e!=null&&e.initSegment&&!(e!=null&&e.initSegment.data)&&!this.bitrateTest?e.initSegment:e}getNextPart(e,n,r){let s=-1,i=!1,o=!0;for(let a=0,l=e.length;a<l;a++){const c=e[a];if(o=o&&!c.independent,s>-1&&r<c.start)break;const u=c.loaded;u?s=-1:(i||c.independent||o)&&c.fragment===n&&(s=a),i=u}return s}loadedEndOfParts(e,n){const r=e[e.length-1];return r&&n>r.start&&r.loaded}getInitialLiveFragment(e,n){const r=this.fragPrevious;let s=null;if(r){if(e.hasProgramDateTime&&(this.log(`Live playlist, switching playlist, load frag with same PDT: ${r.programDateTime}`),s=Nhe(n,r.endProgramDateTime,this.config.maxFragLookUpTolerance)),!s){const i=r.sn+1;if(i>=e.startSN&&i<=e.endSN){const o=n[i-e.startSN];r.cc===o.cc&&(s=o,this.log(`Live playlist, switching playlist, load frag with next SN: ${s.sn}`))}s||(s=$he(n,r.cc),s&&this.log(`Live playlist, switching playlist, load frag with same CC: ${s.sn}`))}}else{const i=this.hls.liveSyncPosition;i!==null&&(s=this.getFragmentAtPosition(i,this.bitrateTest?e.fragmentEnd:e.edge,e))}return s}getFragmentAtPosition(e,n,r){const{config:s}=this;let{fragPrevious:i}=this,{fragments:o,endSN:a}=r;const{fragmentHint:l}=r,{maxFragLookUpTolerance:c}=s,u=r.partList,d=!!(s.lowLatencyMode&&u!=null&&u.length&&l);d&&l&&!this.bitrateTest&&(o=o.concat(l),a=l.sn);let f;if(e<n){const p=e>n-c?0:c;f=Zg(i,o,e,p)}else f=o[o.length-1];if(f){const p=f.sn-r.startSN,m=this.fragmentTracker.getState(f);if((m===Ln.OK||m===Ln.PARTIAL&&f.gap)&&(i=f),i&&f.sn===i.sn&&(!d||u[0].fragment.sn>f.sn)&&i&&f.level===i.level){const y=o[p+1];f.sn<a&&this.fragmentTracker.getState(y)!==Ln.OK?f=y:f=null}}return f}synchronizeToLiveEdge(e){const{config:n,media:r}=this;if(!r)return;const s=this.hls.liveSyncPosition,i=r.currentTime,o=e.fragments[0].start,a=e.edge,l=i>=o-n.maxFragLookUpTolerance&&i<=a;if(s!==null&&r.duration>s&&(i<s||!l)){const c=n.liveMaxLatencyDuration!==void 0?n.liveMaxLatencyDuration:n.liveMaxLatencyDurationCount*e.targetduration;(!l&&r.readyState<4||i<a-c)&&(this.loadedmetadata||(this.nextLoadPosition=s),r.readyState&&(this.warn(`Playback: ${i.toFixed(3)} is located too far from the end of live sliding playlist: ${a}, reset currentTime to : ${s.toFixed(3)}`),r.currentTime=s))}}alignPlaylists(e,n,r){const s=e.fragments.length;if(!s)return this.warn("No fragments in live playlist"),0;const i=e.fragments[0].start,o=!n,a=e.alignedSliding&&xe(i);if(o||!a&&!i){const{fragPrevious:l}=this;ipe(l,r,e);const c=e.fragments[0].start;return this.log(`Live playlist sliding: ${c.toFixed(2)} start-sn: ${n?n.startSN:"na"}->${e.startSN} prev-sn: ${l?l.sn:"na"} fragments: ${s}`),c}return i}waitForCdnTuneIn(e){return e.live&&e.canBlockReload&&e.partTarget&&e.tuneInGoal>Math.max(e.partHoldBack,e.partTarget*3)}setStartPosition(e,n){let r=this.startPosition;if(r<n&&(r=-1),r===-1||this.lastCurrentTime===-1){const s=this.startTimeOffset!==null,i=s?this.startTimeOffset:e.startTimeOffset;i!==null&&xe(i)?(r=n+i,i<0&&(r+=e.totalduration),r=Math.min(Math.max(n,r),n+e.totalduration),this.log(`Start time offset ${i} found in ${s?"multivariant":"media"} playlist, adjust startPosition to ${r}`),this.startPosition=r):e.live?r=this.hls.liveSyncPosition||n:this.startPosition=r=0,this.lastCurrentTime=r}this.nextLoadPosition=r}getLoadPosition(){const{media:e}=this;let n=0;return this.loadedmetadata&&e?n=e.currentTime:this.nextLoadPosition&&(n=this.nextLoadPosition),n}handleFragLoadAborted(e,n){this.transmuxer&&e.sn!=="initSegment"&&e.stats.aborted&&(this.warn(`Fragment ${e.sn}${n?" part "+n.index:""} of level ${e.level} was aborted`),this.resetFragmentLoading(e))}resetFragmentLoading(e){(!this.fragCurrent||!this.fragContextChanged(e)&&this.state!==se.FRAG_LOADING_WAITING_RETRY)&&(this.state=se.IDLE)}onFragmentOrKeyLoadError(e,n){if(n.chunkMeta&&!n.frag){const u=this.getCurrentContext(n.chunkMeta);u&&(n.frag=u.frag)}const r=n.frag;if(!r||r.type!==e||!this.levels)return;if(this.fragContextChanged(r)){var s;this.warn(`Frag load error must match current frag to retry ${r.url} > ${(s=this.fragCurrent)==null?void 0:s.url}`);return}const i=n.details===Q.FRAG_GAP;i&&this.fragmentTracker.fragBuffered(r,!0);const o=n.errorAction,{action:a,retryCount:l=0,retryConfig:c}=o||{};if(o&&a===jn.RetryRequest&&c){this.resetStartWhenNotLoaded(this.levelLastLoaded);const u=lE(c,l);this.warn(`Fragment ${r.sn} of ${e} ${r.level} errored with ${n.details}, retrying loading ${l+1}/${c.maxNumRetry} in ${u}ms`),o.resolved=!0,this.retryDate=self.performance.now()+u,this.state=se.FRAG_LOADING_WAITING_RETRY}else if(c&&o)if(this.resetFragmentErrors(e),l<c.maxNumRetry)!i&&a!==jn.RemoveAlternatePermanently&&(o.resolved=!0);else{H.warn(`${n.details} reached or exceeded max retry (${l})`);return}else(o==null?void 0:o.action)===jn.SendAlternateToPenaltyBox?this.state=se.WAITING_LEVEL:this.state=se.ERROR;this.tickImmediate()}reduceLengthAndFlushBuffer(e){if(this.state===se.PARSING||this.state===se.PARSED){const n=e.frag,r=e.parent,s=this.getFwdBufferInfo(this.mediaBuffer,r),i=s&&s.len>.5;i&&this.reduceMaxBufferLength(s.len,(n==null?void 0:n.duration)||10);const o=!i;return o&&this.warn(`Buffer full error while media.currentTime is not buffered, flush ${r} buffer`),n&&(this.fragmentTracker.removeFragment(n),this.nextLoadPosition=n.start),this.resetLoadingState(),o}return!1}resetFragmentErrors(e){e===Pe.AUDIO&&(this.fragCurrent=null),this.loadedmetadata||(this.startFragRequested=!1),this.state!==se.STOPPED&&(this.state=se.IDLE)}afterBufferFlushed(e,n,r){if(!e)return;const s=kt.getBuffered(e);this.fragmentTracker.detectEvictedFragments(n,s,r),this.state===se.ENDED&&this.resetLoadingState()}resetLoadingState(){this.log("Reset loading state"),this.fragCurrent=null,this.fragPrevious=null,this.state=se.IDLE}resetStartWhenNotLoaded(e){if(!this.loadedmetadata){this.startFragRequested=!1;const n=e?e.details:null;n!=null&&n.live?(this.startPosition=-1,this.setStartPosition(n,0),this.resetLoadingState()):this.nextLoadPosition=this.startPosition}}resetWhenMissingContext(e){this.warn(`The loading context changed while buffering fragment ${e.sn} of level ${e.level}. This chunk will not be buffered.`),this.removeUnbufferedFrags(),this.resetStartWhenNotLoaded(this.levelLastLoaded),this.resetLoadingState()}removeUnbufferedFrags(e=0){this.fragmentTracker.removeFragmentsInRange(e,1/0,this.playlistType,!1,!0)}updateLevelTiming(e,n,r,s){var i;const o=r.details;if(!o){this.warn("level.details undefined");return}if(!Object.keys(e.elementaryStreams).reduce((l,c)=>{const u=e.elementaryStreams[c];if(u){const d=u.endPTS-u.startPTS;if(d<=0)return this.warn(`Could not parse fragment ${e.sn} ${c} duration reliably (${d})`),l||!1;const f=s?0:P3(o,e,u.startPTS,u.endPTS,u.startDTS,u.endDTS);return this.hls.trigger(_.LEVEL_PTS_UPDATED,{details:o,level:r,drift:f,type:c,frag:e,start:u.startPTS,end:u.endPTS}),!0}return l},!1)&&((i=this.transmuxer)==null?void 0:i.error)===null){const l=new Error(`Found no media in fragment ${e.sn} of level ${e.level} resetting transmuxer to fallback to playlist timing`);if(r.fragmentError===0&&(r.fragmentError++,e.gap=!0,this.fragmentTracker.removeFragment(e),this.fragmentTracker.fragBuffered(e,!0)),this.warn(l.message),this.hls.trigger(_.ERROR,{type:Me.MEDIA_ERROR,details:Q.FRAG_PARSING_ERROR,fatal:!1,error:l,frag:e,reason:`Found no media in msn ${e.sn} of level "${r.url}"`}),!this.hls)return;this.resetTransmuxer()}this.state=se.PARSED,this.hls.trigger(_.FRAG_PARSED,{frag:e,part:n})}resetTransmuxer(){this.transmuxer&&(this.transmuxer.destroy(),this.transmuxer=null)}recoverWorkerError(e){e.event==="demuxerWorker"&&(this.fragmentTracker.removeAllFragments(),this.resetTransmuxer(),this.resetStartWhenNotLoaded(this.levelLastLoaded),this.resetLoadingState())}set state(e){const n=this._state;n!==e&&(this._state=e,this.log(`${n}->${e}`))}get state(){return this._state}}class j3{constructor(){this.chunks=[],this.dataLength=0}push(e){this.chunks.push(e),this.dataLength+=e.length}flush(){const{chunks:e,dataLength:n}=this;let r;if(e.length)e.length===1?r=e[0]:r=ppe(e,n);else return new Uint8Array(0);return this.reset(),r}reset(){this.chunks.length=0,this.dataLength=0}}function ppe(t,e){const n=new Uint8Array(e);let r=0;for(let s=0;s<t.length;s++){const i=t[s];n.set(i,r),r+=i.length}return n}function mpe(){return typeof __HLS_WORKER_BUNDLE__=="function"}function gpe(){const t=new self.Blob([`var exports={};var module={exports:exports};function define(f){f()};define.amd=true;(${__HLS_WORKER_BUNDLE__.toString()})(true);`],{type:"text/javascript"}),e=self.URL.createObjectURL(t);return{worker:new self.Worker(e),objectURL:e}}function ype(t){const e=new self.URL(t,self.location.href).href;return{worker:new self.Worker(e),scriptURL:e}}function gi(t="",e=9e4){return{type:t,id:-1,pid:-1,inputTimeScale:e,sequenceNumber:-1,samples:[],dropped:0}}class hE{constructor(){this._audioTrack=void 0,this._id3Track=void 0,this.frameIndex=0,this.cachedData=null,this.basePTS=null,this.initPTS=null,this.lastPTS=null}resetInitSegment(e,n,r,s){this._id3Track={type:"id3",id:3,pid:-1,inputTimeScale:9e4,sequenceNumber:0,samples:[],dropped:0}}resetTimeStamp(e){this.initPTS=e,this.resetContiguity()}resetContiguity(){this.basePTS=null,this.lastPTS=null,this.frameIndex=0}canParse(e,n){return!1}appendFrame(e,n,r){}demux(e,n){this.cachedData&&(e=Ps(this.cachedData,e),this.cachedData=null);let r=nh(e,0),s=r?r.length:0,i;const o=this._audioTrack,a=this._id3Track,l=r?aE(r):void 0,c=e.length;for((this.basePTS===null||this.frameIndex===0&&xe(l))&&(this.basePTS=vpe(l,n,this.initPTS),this.lastPTS=this.basePTS),this.lastPTS===null&&(this.lastPTS=this.basePTS),r&&r.length>0&&a.samples.push({pts:this.lastPTS,dts:this.lastPTS,data:r,type:Ks.audioId3,duration:Number.POSITIVE_INFINITY});s<c;){if(this.canParse(e,s)){const u=this.appendFrame(o,e,s);u?(this.frameIndex++,this.lastPTS=u.sample.pts,s+=u.length,i=s):s=c}else Bfe(e,s)?(r=nh(e,s),a.samples.push({pts:this.lastPTS,dts:this.lastPTS,data:r,type:Ks.audioId3,duration:Number.POSITIVE_INFINITY}),s+=r.length,i=s):s++;if(s===c&&i!==c){const u=hl(e,i);this.cachedData?this.cachedData=Ps(this.cachedData,u):this.cachedData=u}}return{audioTrack:o,videoTrack:gi(),id3Track:a,textTrack:gi()}}demuxSampleAes(e,n,r){return Promise.reject(new Error(`[${this}] This demuxer does not support Sample-AES decryption`))}flush(e){const n=this.cachedData;return n&&(this.cachedData=null,this.demux(n,0)),{audioTrack:this._audioTrack,videoTrack:gi(),id3Track:this._id3Track,textTrack:gi()}}destroy(){}}const vpe=(t,e,n)=>{if(xe(t))return t*90;const r=n?n.baseTime*9e4/n.timescale:0;return e*9e4+r};function xpe(t,e,n,r){let s,i,o,a;const l=navigator.userAgent.toLowerCase(),c=r,u=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350];s=((e[n+2]&192)>>>6)+1;const d=(e[n+2]&60)>>>2;if(d>u.length-1){const f=new Error(`invalid ADTS sampling index:${d}`);t.emit(_.ERROR,_.ERROR,{type:Me.MEDIA_ERROR,details:Q.FRAG_PARSING_ERROR,fatal:!0,error:f,reason:f.message});return}return o=(e[n+2]&1)<<2,o|=(e[n+3]&192)>>>6,H.log(`manifest codec:${r}, ADTS type:${s}, samplingIndex:${d}`),/firefox/i.test(l)?d>=6?(s=5,a=new Array(4),i=d-3):(s=2,a=new Array(2),i=d):l.indexOf("android")!==-1?(s=2,a=new Array(2),i=d):(s=5,a=new Array(4),r&&(r.indexOf("mp4a.40.29")!==-1||r.indexOf("mp4a.40.5")!==-1)||!r&&d>=6?i=d-3:((r&&r.indexOf("mp4a.40.2")!==-1&&(d>=6&&o===1||/vivaldi/i.test(l))||!r&&o===1)&&(s=2,a=new Array(2)),i=d)),a[0]=s<<3,a[0]|=(d&14)>>1,a[1]|=(d&1)<<7,a[1]|=o<<3,s===5&&(a[1]|=(i&14)>>1,a[2]=(i&1)<<7,a[2]|=8,a[3]=0),{config:a,samplerate:u[d],channelCount:o,codec:"mp4a.40."+s,manifestCodec:c}}function B3(t,e){return t[e]===255&&(t[e+1]&246)===240}function $3(t,e){return t[e+1]&1?7:9}function pE(t,e){return(t[e+3]&3)<<11|t[e+4]<<3|(t[e+5]&224)>>>5}function bpe(t,e){return e+5<t.length}function e0(t,e){return e+1<t.length&&B3(t,e)}function Spe(t,e){return bpe(t,e)&&B3(t,e)&&pE(t,e)<=t.length-e}function wpe(t,e){if(e0(t,e)){const n=$3(t,e);if(e+n>=t.length)return!1;const r=pE(t,e);if(r<=n)return!1;const s=e+r;return s===t.length||e0(t,s)}return!1}function z3(t,e,n,r,s){if(!t.samplerate){const i=xpe(e,n,r,s);if(!i)return;t.config=i.config,t.samplerate=i.samplerate,t.channelCount=i.channelCount,t.codec=i.codec,t.manifestCodec=i.manifestCodec,H.log(`parsed codec:${t.codec}, rate:${i.samplerate}, channels:${i.channelCount}`)}}function U3(t){return 1024*9e4/t}function Tpe(t,e){const n=$3(t,e);if(e+n<=t.length){const r=pE(t,e)-n;if(r>0)return{headerLength:n,frameLength:r}}}function V3(t,e,n,r,s){const i=U3(t.samplerate),o=r+s*i,a=Tpe(e,n);let l;if(a){const{frameLength:d,headerLength:f}=a,p=f+d,m=Math.max(0,n+p-e.length);m?(l=new Uint8Array(p-f),l.set(e.subarray(n+f,e.length),0)):l=e.subarray(n+f,n+p);const g={unit:l,pts:o};return m||t.samples.push(g),{sample:g,length:p,missing:m}}const c=e.length-n;return l=new Uint8Array(c),l.set(e.subarray(n,e.length),0),{sample:{unit:l,pts:o},length:c,missing:-1}}let Bp=null;const Epe=[32,64,96,128,160,192,224,256,288,320,352,384,416,448,32,48,56,64,80,96,112,128,160,192,224,256,320,384,32,40,48,56,64,80,96,112,128,160,192,224,256,320,32,48,56,64,80,96,112,128,144,160,176,192,224,256,8,16,24,32,40,48,56,64,80,96,112,128,144,160],Cpe=[44100,48e3,32e3,22050,24e3,16e3,11025,12e3,8e3],kpe=[[0,72,144,12],[0,0,0,0],[0,72,144,12],[0,144,144,12]],Ape=[0,1,1,4];function W3(t,e,n,r,s){if(n+24>e.length)return;const i=H3(e,n);if(i&&n+i.frameLength<=e.length){const o=i.samplesPerFrame*9e4/i.sampleRate,a=r+s*o,l={unit:e.subarray(n,n+i.frameLength),pts:a,dts:a};return t.config=[],t.channelCount=i.channelCount,t.samplerate=i.sampleRate,t.samples.push(l),{sample:l,length:i.frameLength,missing:0}}}function H3(t,e){const n=t[e+1]>>3&3,r=t[e+1]>>1&3,s=t[e+2]>>4&15,i=t[e+2]>>2&3;if(n!==1&&s!==0&&s!==15&&i!==3){const o=t[e+2]>>1&1,a=t[e+3]>>6,l=n===3?3-r:r===3?3:4,c=Epe[l*14+s-1]*1e3,d=Cpe[(n===3?0:n===2?1:2)*3+i],f=a===3?1:2,p=kpe[n][r],m=Ape[r],g=p*8*m,y=Math.floor(p*c/d+o)*m;if(Bp===null){const b=(navigator.userAgent||"").match(/Chrome\/(\d+)/i);Bp=b?parseInt(b[1]):0}return!!Bp&&Bp<=87&&r===2&&c>=224e3&&a===0&&(t[e+3]=t[e+3]|128),{sampleRate:d,channelCount:f,frameLength:y,samplesPerFrame:g}}}function mE(t,e){return t[e]===255&&(t[e+1]&224)===224&&(t[e+1]&6)!==0}function G3(t,e){return e+1<t.length&&mE(t,e)}function Rpe(t,e){return mE(t,e)&&4<=t.length-e}function K3(t,e){if(e+1<t.length&&mE(t,e)){const r=H3(t,e);let s=4;r!=null&&r.frameLength&&(s=r.frameLength);const i=e+s;return i===t.length||G3(t,i)}return!1}class _pe extends hE{constructor(e,n){super(),this.observer=void 0,this.config=void 0,this.observer=e,this.config=n}resetInitSegment(e,n,r,s){super.resetInitSegment(e,n,r,s),this._audioTrack={container:"audio/adts",type:"audio",id:2,pid:-1,sequenceNumber:0,segmentCodec:"aac",samples:[],manifestCodec:n,duration:s,inputTimeScale:9e4,dropped:0}}static probe(e){if(!e)return!1;const n=nh(e,0);let r=(n==null?void 0:n.length)||0;if(K3(e,r))return!1;for(let s=e.length;r<s;r++)if(wpe(e,r))return H.log("ADTS sync word found !"),!0;return!1}canParse(e,n){return Spe(e,n)}appendFrame(e,n,r){z3(e,this.observer,n,r,e.manifestCodec);const s=V3(e,n,r,this.basePTS,this.frameIndex);if(s&&s.missing===0)return s}}const Lpe=/\/emsg[-/]ID3/i;class Ppe{constructor(e,n){this.remainderData=null,this.timeOffset=0,this.config=void 0,this.videoTrack=void 0,this.audioTrack=void 0,this.id3Track=void 0,this.txtTrack=void 0,this.config=n}resetTimeStamp(){}resetInitSegment(e,n,r,s){const i=this.videoTrack=gi("video",1),o=this.audioTrack=gi("audio",1),a=this.txtTrack=gi("text",1);if(this.id3Track=gi("id3",1),this.timeOffset=0,!(e!=null&&e.byteLength))return;const l=T3(e);if(l.video){const{id:c,timescale:u,codec:d}=l.video;i.id=c,i.timescale=a.timescale=u,i.codec=d}if(l.audio){const{id:c,timescale:u,codec:d}=l.audio;o.id=c,o.timescale=u,o.codec=d}a.id=b3.text,i.sampleDuration=0,i.duration=o.duration=s}resetContiguity(){this.remainderData=null}static probe(e){return Yfe(e)}demux(e,n){this.timeOffset=n;let r=e;const s=this.videoTrack,i=this.txtTrack;if(this.config.progressive){this.remainderData&&(r=Ps(this.remainderData,e));const a=nhe(r);this.remainderData=a.remainder,s.samples=a.valid||new Uint8Array}else s.samples=r;const o=this.extractID3Track(s,n);return i.samples=w_(n,s),{videoTrack:s,audioTrack:this.audioTrack,id3Track:o,textTrack:this.txtTrack}}flush(){const e=this.timeOffset,n=this.videoTrack,r=this.txtTrack;n.samples=this.remainderData||new Uint8Array,this.remainderData=null;const s=this.extractID3Track(n,this.timeOffset);return r.samples=w_(e,n),{videoTrack:n,audioTrack:gi(),id3Track:s,textTrack:gi()}}extractID3Track(e,n){const r=this.id3Track;if(e.samples.length){const s=ze(e.samples,["emsg"]);s&&s.forEach(i=>{const o=ihe(i);if(Lpe.test(o.schemeIdUri)){const a=xe(o.presentationTime)?o.presentationTime/o.timeScale:n+o.presentationTimeDelta/o.timeScale;let l=o.eventDuration===4294967295?Number.POSITIVE_INFINITY:o.eventDuration/o.timeScale;l<=.001&&(l=Number.POSITIVE_INFINITY);const c=o.payload;r.samples.push({data:c,len:c.byteLength,dts:a,pts:a,type:Ks.emsg,duration:l})}})}return r}demuxSampleAes(e,n,r){return Promise.reject(new Error("The MP4 demuxer does not support SAMPLE-AES decryption"))}destroy(){}}const Y3=(t,e)=>{let n=0,r=5;e+=r;const s=new Uint32Array(1),i=new Uint32Array(1),o=new Uint8Array(1);for(;r>0;){o[0]=t[e];const a=Math.min(r,8),l=8-a;i[0]=4278190080>>>24+l<<l,s[0]=(o[0]&i[0])>>l,n=n?n<<a|s[0]:s[0],e+=1,r-=a}return n};class Ipe extends hE{constructor(e){super(),this.observer=void 0,this.observer=e}resetInitSegment(e,n,r,s){super.resetInitSegment(e,n,r,s),this._audioTrack={container:"audio/ac-3",type:"audio",id:2,pid:-1,sequenceNumber:0,segmentCodec:"ac3",samples:[],manifestCodec:n,duration:s,inputTimeScale:9e4,dropped:0}}canParse(e,n){return n+64<e.length}appendFrame(e,n,r){const s=q3(e,n,r,this.basePTS,this.frameIndex);if(s!==-1)return{sample:e.samples[e.samples.length-1],length:s,missing:0}}static probe(e){if(!e)return!1;const n=nh(e,0);if(!n)return!1;const r=n.length;return e[r]===11&&e[r+1]===119&&aE(n)!==void 0&&Y3(e,r)<16}}function q3(t,e,n,r,s){if(n+8>e.length||e[n]!==11||e[n+1]!==119)return-1;const i=e[n+4]>>6;if(i>=3)return-1;const a=[48e3,44100,32e3][i],l=e[n+4]&63,u=[64,69,96,64,70,96,80,87,120,80,88,120,96,104,144,96,105,144,112,121,168,112,122,168,128,139,192,128,140,192,160,174,240,160,175,240,192,208,288,192,209,288,224,243,336,224,244,336,256,278,384,256,279,384,320,348,480,320,349,480,384,417,576,384,418,576,448,487,672,448,488,672,512,557,768,512,558,768,640,696,960,640,697,960,768,835,1152,768,836,1152,896,975,1344,896,976,1344,1024,1114,1536,1024,1115,1536,1152,1253,1728,1152,1254,1728,1280,1393,1920,1280,1394,1920][l*3+i]*2;if(n+u>e.length)return-1;const d=e[n+6]>>5;let f=0;d===2?f+=2:(d&1&&d!==1&&(f+=2),d&4&&(f+=2));const p=(e[n+6]<<8|e[n+7])>>12-f&1,g=[2,1,2,3,3,4,4,5][d]+p,y=e[n+5]>>3,x=e[n+5]&7,v=new Uint8Array([i<<6|y<<1|x>>2,(x&3)<<6|d<<3|p<<2|l>>4,l<<4&224]),b=1536/a*9e4,w=r+s*b,T=e.subarray(n,n+u);return t.config=v,t.channelCount=g,t.samplerate=a,t.samples.push({unit:T,pts:w}),u}class Dpe{constructor(){this.VideoSample=null}createVideoSample(e,n,r,s){return{key:e,frame:!1,pts:n,dts:r,units:[],debug:s,length:0}}getLastNalUnit(e){var n;let r=this.VideoSample,s;if((!r||r.units.length===0)&&(r=e[e.length-1]),(n=r)!=null&&n.units){const i=r.units;s=i[i.length-1]}return s}pushAccessUnit(e,n){if(e.units.length&&e.frame){if(e.pts===void 0){const r=n.samples,s=r.length;if(s){const i=r[s-1];e.pts=i.pts,e.dts=i.dts}else{n.dropped++;return}}n.samples.push(e)}e.debug.length&&H.log(e.pts+"/"+e.dts+":"+e.debug)}}class X_{constructor(e){this.data=void 0,this.bytesAvailable=void 0,this.word=void 0,this.bitsAvailable=void 0,this.data=e,this.bytesAvailable=e.byteLength,this.word=0,this.bitsAvailable=0}loadWord(){const e=this.data,n=this.bytesAvailable,r=e.byteLength-n,s=new Uint8Array(4),i=Math.min(4,n);if(i===0)throw new Error("no bytes available");s.set(e.subarray(r,r+i)),this.word=new DataView(s.buffer).getUint32(0),this.bitsAvailable=i*8,this.bytesAvailable-=i}skipBits(e){let n;e=Math.min(e,this.bytesAvailable*8+this.bitsAvailable),this.bitsAvailable>e?(this.word<<=e,this.bitsAvailable-=e):(e-=this.bitsAvailable,n=e>>3,e-=n<<3,this.bytesAvailable-=n,this.loadWord(),this.word<<=e,this.bitsAvailable-=e)}readBits(e){let n=Math.min(this.bitsAvailable,e);const r=this.word>>>32-n;if(e>32&&H.error("Cannot read more than 32 bits at a time"),this.bitsAvailable-=n,this.bitsAvailable>0)this.word<<=n;else if(this.bytesAvailable>0)this.loadWord();else throw new Error("no bits available");return n=e-n,n>0&&this.bitsAvailable?r<<n|this.readBits(n):r}skipLZ(){let e;for(e=0;e<this.bitsAvailable;++e)if(this.word&2147483648>>>e)return this.word<<=e,this.bitsAvailable-=e,e;return this.loadWord(),e+this.skipLZ()}skipUEG(){this.skipBits(1+this.skipLZ())}skipEG(){this.skipBits(1+this.skipLZ())}readUEG(){const e=this.skipLZ();return this.readBits(e+1)-1}readEG(){const e=this.readUEG();return 1&e?1+e>>>1:-1*(e>>>1)}readBoolean(){return this.readBits(1)===1}readUByte(){return this.readBits(8)}readUShort(){return this.readBits(16)}readUInt(){return this.readBits(32)}skipScalingList(e){let n=8,r=8,s;for(let i=0;i<e;i++)r!==0&&(s=this.readEG(),r=(n+s+256)%256),n=r===0?n:r}readSPS(){let e=0,n=0,r=0,s=0,i,o,a;const l=this.readUByte.bind(this),c=this.readBits.bind(this),u=this.readUEG.bind(this),d=this.readBoolean.bind(this),f=this.skipBits.bind(this),p=this.skipEG.bind(this),m=this.skipUEG.bind(this),g=this.skipScalingList.bind(this);l();const y=l();if(c(5),f(3),l(),m(),y===100||y===110||y===122||y===244||y===44||y===83||y===86||y===118||y===128){const C=u();if(C===3&&f(1),m(),m(),f(1),d())for(o=C!==3?8:12,a=0;a<o;a++)d()&&(a<6?g(16):g(64))}m();const x=u();if(x===0)u();else if(x===1)for(f(1),p(),p(),i=u(),a=0;a<i;a++)p();m(),f(1);const v=u(),b=u(),w=c(1);w===0&&f(1),f(1),d()&&(e=u(),n=u(),r=u(),s=u());let T=[1,1];if(d()&&d())switch(l()){case 1:T=[1,1];break;case 2:T=[12,11];break;case 3:T=[10,11];break;case 4:T=[16,11];break;case 5:T=[40,33];break;case 6:T=[24,11];break;case 7:T=[20,11];break;case 8:T=[32,11];break;case 9:T=[80,33];break;case 10:T=[18,11];break;case 11:T=[15,11];break;case 12:T=[64,33];break;case 13:T=[160,99];break;case 14:T=[4,3];break;case 15:T=[3,2];break;case 16:T=[2,1];break;case 255:{T=[l()<<8|l(),l()<<8|l()];break}}return{width:Math.ceil((v+1)*16-e*2-n*2),height:(2-w)*(b+1)*16-(w?2:4)*(r+s),pixelRatio:T}}readSliceType(){return this.readUByte(),this.readUEG(),this.readUEG()}}class Mpe extends Dpe{parseAVCPES(e,n,r,s,i){const o=this.parseAVCNALu(e,r.data);let a=this.VideoSample,l,c=!1;r.data=null,a&&o.length&&!e.audFound&&(this.pushAccessUnit(a,e),a=this.VideoSample=this.createVideoSample(!1,r.pts,r.dts,"")),o.forEach(u=>{var d;switch(u.type){case 1:{let g=!1;l=!0;const y=u.data;if(c&&y.length>4){const x=new X_(y).readSliceType();(x===2||x===4||x===7||x===9)&&(g=!0)}if(g){var f;(f=a)!=null&&f.frame&&!a.key&&(this.pushAccessUnit(a,e),a=this.VideoSample=null)}a||(a=this.VideoSample=this.createVideoSample(!0,r.pts,r.dts,"")),a.frame=!0,a.key=g;break}case 5:l=!0,(d=a)!=null&&d.frame&&!a.key&&(this.pushAccessUnit(a,e),a=this.VideoSample=null),a||(a=this.VideoSample=this.createVideoSample(!0,r.pts,r.dts,"")),a.key=!0,a.frame=!0;break;case 6:{l=!0,C3(u.data,1,r.pts,n.samples);break}case 7:{var p,m;l=!0,c=!0;const g=u.data,x=new X_(g).readSPS();if(!e.sps||e.width!==x.width||e.height!==x.height||((p=e.pixelRatio)==null?void 0:p[0])!==x.pixelRatio[0]||((m=e.pixelRatio)==null?void 0:m[1])!==x.pixelRatio[1]){e.width=x.width,e.height=x.height,e.pixelRatio=x.pixelRatio,e.sps=[g],e.duration=i;const v=g.subarray(1,4);let b="avc1.";for(let w=0;w<3;w++){let T=v[w].toString(16);T.length<2&&(T="0"+T),b+=T}e.codec=b}break}case 8:l=!0,e.pps=[u.data];break;case 9:l=!0,e.audFound=!0,a&&this.pushAccessUnit(a,e),a=this.VideoSample=this.createVideoSample(!1,r.pts,r.dts,"");break;case 12:l=!0;break;default:l=!1,a&&(a.debug+="unknown NAL "+u.type+" ");break}a&&l&&a.units.push(u)}),s&&a&&(this.pushAccessUnit(a,e),this.VideoSample=null)}parseAVCNALu(e,n){const r=n.byteLength;let s=e.naluState||0;const i=s,o=[];let a=0,l,c,u,d=-1,f=0;for(s===-1&&(d=0,f=n[0]&31,s=0,a=1);a<r;){if(l=n[a++],!s){s=l?0:1;continue}if(s===1){s=l?0:2;continue}if(!l)s=3;else if(l===1){if(c=a-s-1,d>=0){const p={data:n.subarray(d,c),type:f};o.push(p)}else{const p=this.getLastNalUnit(e.samples);p&&(i&&a<=4-i&&p.state&&(p.data=p.data.subarray(0,p.data.byteLength-i)),c>0&&(p.data=Ps(p.data,n.subarray(0,c)),p.state=0))}a<r?(u=n[a]&31,d=a,f=u,s=0):s=-1}else s=0}if(d>=0&&s>=0){const p={data:n.subarray(d,r),type:f,state:s};o.push(p)}if(o.length===0){const p=this.getLastNalUnit(e.samples);p&&(p.data=Ps(p.data,n))}return e.naluState=s,o}}class Ope{constructor(e,n,r){this.keyData=void 0,this.decrypter=void 0,this.keyData=r,this.decrypter=new dE(n,{removePKCS7Padding:!1})}decryptBuffer(e){return this.decrypter.decrypt(e,this.keyData.key.buffer,this.keyData.iv.buffer)}decryptAacSample(e,n,r){const s=e[n].unit;if(s.length<=16)return;const i=s.subarray(16,s.length-s.length%16),o=i.buffer.slice(i.byteOffset,i.byteOffset+i.length);this.decryptBuffer(o).then(a=>{const l=new Uint8Array(a);s.set(l,16),this.decrypter.isSync()||this.decryptAacSamples(e,n+1,r)})}decryptAacSamples(e,n,r){for(;;n++){if(n>=e.length){r();return}if(!(e[n].unit.length<32)&&(this.decryptAacSample(e,n,r),!this.decrypter.isSync()))return}}getAvcEncryptedData(e){const n=Math.floor((e.length-48)/160)*16+16,r=new Int8Array(n);let s=0;for(let i=32;i<e.length-16;i+=160,s+=16)r.set(e.subarray(i,i+16),s);return r}getAvcDecryptedUnit(e,n){const r=new Uint8Array(n);let s=0;for(let i=32;i<e.length-16;i+=160,s+=16)e.set(r.subarray(s,s+16),i);return e}decryptAvcSample(e,n,r,s,i){const o=k3(i.data),a=this.getAvcEncryptedData(o);this.decryptBuffer(a.buffer).then(l=>{i.data=this.getAvcDecryptedUnit(o,l),this.decrypter.isSync()||this.decryptAvcSamples(e,n,r+1,s)})}decryptAvcSamples(e,n,r,s){if(e instanceof Uint8Array)throw new Error("Cannot decrypt samples of type Uint8Array");for(;;n++,r=0){if(n>=e.length){s();return}const i=e[n].units;for(;!(r>=i.length);r++){const o=i[r];if(!(o.data.length<=48||o.type!==1&&o.type!==5)&&(this.decryptAvcSample(e,n,r,s,o),!this.decrypter.isSync()))return}}}}const Rn=188;class jo{constructor(e,n,r){this.observer=void 0,this.config=void 0,this.typeSupported=void 0,this.sampleAes=null,this.pmtParsed=!1,this.audioCodec=void 0,this.videoCodec=void 0,this._duration=0,this._pmtId=-1,this._videoTrack=void 0,this._audioTrack=void 0,this._id3Track=void 0,this._txtTrack=void 0,this.aacOverFlow=null,this.remainderData=null,this.videoParser=void 0,this.observer=e,this.config=n,this.typeSupported=r,this.videoParser=new Mpe}static probe(e){const n=jo.syncOffset(e);return n>0&&H.warn(`MPEG2-TS detected but first sync word found @ offset ${n}`),n!==-1}static syncOffset(e){const n=e.length;let r=Math.min(Rn*5,n-Rn)+1,s=0;for(;s<r;){let i=!1,o=-1,a=0;for(let l=s;l<n;l+=Rn)if(e[l]===71&&(n-l===Rn||e[l+Rn]===71)){if(a++,o===-1&&(o=l,o!==0&&(r=Math.min(o+Rn*99,e.length-Rn)+1)),i||(i=dS(e,l)===0),i&&a>1&&(o===0&&a>2||l+Rn>r))return o}else{if(a)return-1;break}s++}return-1}static createTrack(e,n){return{container:e==="video"||e==="audio"?"video/mp2t":void 0,type:e,id:b3[e],pid:-1,inputTimeScale:9e4,sequenceNumber:0,samples:[],dropped:0,duration:e==="audio"?n:void 0}}resetInitSegment(e,n,r,s){this.pmtParsed=!1,this._pmtId=-1,this._videoTrack=jo.createTrack("video"),this._audioTrack=jo.createTrack("audio",s),this._id3Track=jo.createTrack("id3"),this._txtTrack=jo.createTrack("text"),this._audioTrack.segmentCodec="aac",this.aacOverFlow=null,this.remainderData=null,this.audioCodec=n,this.videoCodec=r,this._duration=s}resetTimeStamp(){}resetContiguity(){const{_audioTrack:e,_videoTrack:n,_id3Track:r}=this;e&&(e.pesData=null),n&&(n.pesData=null),r&&(r.pesData=null),this.aacOverFlow=null,this.remainderData=null}demux(e,n,r=!1,s=!1){r||(this.sampleAes=null);let i;const o=this._videoTrack,a=this._audioTrack,l=this._id3Track,c=this._txtTrack;let u=o.pid,d=o.pesData,f=a.pid,p=l.pid,m=a.pesData,g=l.pesData,y=null,x=this.pmtParsed,v=this._pmtId,b=e.length;if(this.remainderData&&(e=Ps(this.remainderData,e),b=e.length,this.remainderData=null),b<Rn&&!s)return this.remainderData=e,{audioTrack:a,videoTrack:o,id3Track:l,textTrack:c};const w=Math.max(0,jo.syncOffset(e));b-=(b-w)%Rn,b<e.byteLength&&!s&&(this.remainderData=new Uint8Array(e.buffer,b,e.buffer.byteLength-b));let T=0;for(let E=w;E<b;E+=Rn)if(e[E]===71){const k=!!(e[E+1]&64),A=dS(e,E),R=(e[E+3]&48)>>4;let L;if(R>1){if(L=E+5+e[E+4],L===E+Rn)continue}else L=E+4;switch(A){case u:k&&(d&&(i=tc(d))&&this.videoParser.parseAVCPES(o,c,i,!1,this._duration),d={data:[],size:0}),d&&(d.data.push(e.subarray(L,E+Rn)),d.size+=E+Rn-L);break;case f:if(k){if(m&&(i=tc(m)))switch(a.segmentCodec){case"aac":this.parseAACPES(a,i);break;case"mp3":this.parseMPEGPES(a,i);break;case"ac3":this.parseAC3PES(a,i);break}m={data:[],size:0}}m&&(m.data.push(e.subarray(L,E+Rn)),m.size+=E+Rn-L);break;case p:k&&(g&&(i=tc(g))&&this.parseID3PES(l,i),g={data:[],size:0}),g&&(g.data.push(e.subarray(L,E+Rn)),g.size+=E+Rn-L);break;case 0:k&&(L+=e[L]+1),v=this._pmtId=Fpe(e,L);break;case v:{k&&(L+=e[L]+1);const D=Npe(e,L,this.typeSupported,r,this.observer);u=D.videoPid,u>0&&(o.pid=u,o.segmentCodec=D.segmentVideoCodec),f=D.audioPid,f>0&&(a.pid=f,a.segmentCodec=D.segmentAudioCodec),p=D.id3Pid,p>0&&(l.pid=p),y!==null&&!x&&(H.warn(`MPEG-TS PMT found at ${E} after unknown PID '${y}'. Backtracking to sync byte @${w} to parse all TS packets.`),y=null,E=w-188),x=this.pmtParsed=!0;break}case 17:case 8191:break;default:y=A;break}}else T++;T>0&&t0(this.observer,new Error(`Found ${T} TS packet/s that do not start with 0x47`)),o.pesData=d,a.pesData=m,l.pesData=g;const C={audioTrack:a,videoTrack:o,id3Track:l,textTrack:c};return s&&this.extractRemainingSamples(C),C}flush(){const{remainderData:e}=this;this.remainderData=null;let n;return e?n=this.demux(e,-1,!1,!0):n={videoTrack:this._videoTrack,audioTrack:this._audioTrack,id3Track:this._id3Track,textTrack:this._txtTrack},this.extractRemainingSamples(n),this.sampleAes?this.decrypt(n,this.sampleAes):n}extractRemainingSamples(e){const{audioTrack:n,videoTrack:r,id3Track:s,textTrack:i}=e,o=r.pesData,a=n.pesData,l=s.pesData;let c;if(o&&(c=tc(o))?(this.videoParser.parseAVCPES(r,i,c,!0,this._duration),r.pesData=null):r.pesData=o,a&&(c=tc(a))){switch(n.segmentCodec){case"aac":this.parseAACPES(n,c);break;case"mp3":this.parseMPEGPES(n,c);break;case"ac3":this.parseAC3PES(n,c);break}n.pesData=null}else a!=null&&a.size&&H.log("last AAC PES packet truncated,might overlap between fragments"),n.pesData=a;l&&(c=tc(l))?(this.parseID3PES(s,c),s.pesData=null):s.pesData=l}demuxSampleAes(e,n,r){const s=this.demux(e,r,!0,!this.config.progressive),i=this.sampleAes=new Ope(this.observer,this.config,n);return this.decrypt(s,i)}decrypt(e,n){return new Promise(r=>{const{audioTrack:s,videoTrack:i}=e;s.samples&&s.segmentCodec==="aac"?n.decryptAacSamples(s.samples,0,()=>{i.samples?n.decryptAvcSamples(i.samples,0,0,()=>{r(e)}):r(e)}):i.samples&&n.decryptAvcSamples(i.samples,0,0,()=>{r(e)})})}destroy(){this._duration=0}parseAACPES(e,n){let r=0;const s=this.aacOverFlow;let i=n.data;if(s){this.aacOverFlow=null;const d=s.missing,f=s.sample.unit.byteLength;if(d===-1)i=Ps(s.sample.unit,i);else{const p=f-d;s.sample.unit.set(i.subarray(0,d),p),e.samples.push(s.sample),r=s.missing}}let o,a;for(o=r,a=i.length;o<a-1&&!e0(i,o);o++);if(o!==r){let d;const f=o<a-1;if(f?d=`AAC PES did not start with ADTS header,offset:${o}`:d="No ADTS header found in AAC PES",t0(this.observer,new Error(d),f),!f)return}z3(e,this.observer,i,o,this.audioCodec);let l;if(n.pts!==void 0)l=n.pts;else if(s){const d=U3(e.samplerate);l=s.sample.pts+d}else{H.warn("[tsdemuxer]: AAC PES unknown PTS");return}let c=0,u;for(;o<a;)if(u=V3(e,i,o,l,c),o+=u.length,u.missing){this.aacOverFlow=u;break}else for(c++;o<a-1&&!e0(i,o);o++);}parseMPEGPES(e,n){const r=n.data,s=r.length;let i=0,o=0;const a=n.pts;if(a===void 0){H.warn("[tsdemuxer]: MPEG PES unknown PTS");return}for(;o<s;)if(G3(r,o)){const l=W3(e,r,o,a,i);if(l)o+=l.length,i++;else break}else o++}parseAC3PES(e,n){{const r=n.data,s=n.pts;if(s===void 0){H.warn("[tsdemuxer]: AC3 PES unknown PTS");return}const i=r.length;let o=0,a=0,l;for(;a<i&&(l=q3(e,r,a,s,o++))>0;)a+=l}}parseID3PES(e,n){if(n.pts===void 0){H.warn("[tsdemuxer]: ID3 PES unknown PTS");return}const r=yn({},n,{type:this._videoTrack?Ks.emsg:Ks.audioId3,duration:Number.POSITIVE_INFINITY});e.samples.push(r)}}function dS(t,e){return((t[e+1]&31)<<8)+t[e+2]}function Fpe(t,e){return(t[e+10]&31)<<8|t[e+11]}function Npe(t,e,n,r,s){const i={audioPid:-1,videoPid:-1,id3Pid:-1,segmentVideoCodec:"avc",segmentAudioCodec:"aac"},o=(t[e+1]&15)<<8|t[e+2],a=e+3+o-4,l=(t[e+10]&15)<<8|t[e+11];for(e+=12+l;e<a;){const c=dS(t,e),u=(t[e+3]&15)<<8|t[e+4];switch(t[e]){case 207:if(!r){Rx("ADTS AAC");break}case 15:i.audioPid===-1&&(i.audioPid=c);break;case 21:i.id3Pid===-1&&(i.id3Pid=c);break;case 219:if(!r){Rx("H.264");break}case 27:i.videoPid===-1&&(i.videoPid=c,i.segmentVideoCodec="avc");break;case 3:case 4:!n.mpeg&&!n.mp3?H.log("MPEG audio found, not supported in this browser"):i.audioPid===-1&&(i.audioPid=c,i.segmentAudioCodec="mp3");break;case 193:if(!r){Rx("AC-3");break}case 129:n.ac3?i.audioPid===-1&&(i.audioPid=c,i.segmentAudioCodec="ac3"):H.log("AC-3 audio found, not supported in this browser");break;case 6:if(i.audioPid===-1&&u>0){let d=e+5,f=u;for(;f>2;){switch(t[d]){case 106:n.ac3!==!0?H.log("AC-3 audio found, not supported in this browser for now"):(i.audioPid=c,i.segmentAudioCodec="ac3");break}const m=t[d+1]+2;d+=m,f-=m}}break;case 194:case 135:return t0(s,new Error("Unsupported EC-3 in M2TS found")),i;case 36:return t0(s,new Error("Unsupported HEVC in M2TS found")),i}e+=u+5}return i}function t0(t,e,n){H.warn(`parsing error: ${e.message}`),t.emit(_.ERROR,_.ERROR,{type:Me.MEDIA_ERROR,details:Q.FRAG_PARSING_ERROR,fatal:!1,levelRetry:n,error:e,reason:e.message})}function Rx(t){H.log(`${t} with AES-128-CBC encryption found in unencrypted stream`)}function tc(t){let e=0,n,r,s,i,o;const a=t.data;if(!t||t.size===0)return null;for(;a[0].length<19&&a.length>1;)a[0]=Ps(a[0],a[1]),a.splice(1,1);if(n=a[0],(n[0]<<16)+(n[1]<<8)+n[2]===1){if(r=(n[4]<<8)+n[5],r&&r>t.size-6)return null;const c=n[7];c&192&&(i=(n[9]&14)*536870912+(n[10]&255)*4194304+(n[11]&254)*16384+(n[12]&255)*128+(n[13]&254)/2,c&64?(o=(n[14]&14)*536870912+(n[15]&255)*4194304+(n[16]&254)*16384+(n[17]&255)*128+(n[18]&254)/2,i-o>60*9e4&&(H.warn(`${Math.round((i-o)/9e4)}s delta between PTS and DTS, align them`),i=o)):o=i),s=n[8];let u=s+9;if(t.size<=u)return null;t.size-=u;const d=new Uint8Array(t.size);for(let f=0,p=a.length;f<p;f++){n=a[f];let m=n.byteLength;if(u)if(u>m){u-=m;continue}else n=n.subarray(u),m-=u,u=0;d.set(n,e),e+=m}return r&&(r-=s+3),{data:d,pts:i,dts:o,len:r}}return null}class jpe extends hE{resetInitSegment(e,n,r,s){super.resetInitSegment(e,n,r,s),this._audioTrack={container:"audio/mpeg",type:"audio",id:2,pid:-1,sequenceNumber:0,segmentCodec:"mp3",samples:[],manifestCodec:n,duration:s,inputTimeScale:9e4,dropped:0}}static probe(e){if(!e)return!1;const n=nh(e,0);let r=(n==null?void 0:n.length)||0;if(n&&e[r]===11&&e[r+1]===119&&aE(n)!==void 0&&Y3(e,r)<=16)return!1;for(let s=e.length;r<s;r++)if(K3(e,r))return H.log("MPEG Audio sync word found !"),!0;return!1}canParse(e,n){return Rpe(e,n)}appendFrame(e,n,r){if(this.basePTS!==null)return W3(e,n,r,this.basePTS,this.frameIndex)}}class Q_{static getSilentFrame(e,n){switch(e){case"mp4a.40.2":if(n===1)return new Uint8Array([0,200,0,128,35,128]);if(n===2)return new Uint8Array([33,0,73,144,2,25,0,35,128]);if(n===3)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,142]);if(n===4)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,128,44,128,8,2,56]);if(n===5)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,56]);if(n===6)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,0,178,0,32,8,224]);break;default:if(n===1)return new Uint8Array([1,64,34,128,163,78,230,128,186,8,0,0,0,28,6,241,193,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(n===2)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(n===3)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);break}}}const Ro=Math.pow(2,32)-1;class G{static init(){G.types={avc1:[],avcC:[],btrt:[],dinf:[],dref:[],esds:[],ftyp:[],hdlr:[],mdat:[],mdhd:[],mdia:[],mfhd:[],minf:[],moof:[],moov:[],mp4a:[],".mp3":[],dac3:[],"ac-3":[],mvex:[],mvhd:[],pasp:[],sdtp:[],stbl:[],stco:[],stsc:[],stsd:[],stsz:[],stts:[],tfdt:[],tfhd:[],traf:[],trak:[],trun:[],trex:[],tkhd:[],vmhd:[],smhd:[]};let e;for(e in G.types)G.types.hasOwnProperty(e)&&(G.types[e]=[e.charCodeAt(0),e.charCodeAt(1),e.charCodeAt(2),e.charCodeAt(3)]);const n=new Uint8Array([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]),r=new Uint8Array([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0]);G.HDLR_TYPES={video:n,audio:r};const s=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1]),i=new Uint8Array([0,0,0,0,0,0,0,0]);G.STTS=G.STSC=G.STCO=i,G.STSZ=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0]),G.VMHD=new Uint8Array([0,0,0,1,0,0,0,0,0,0,0,0]),G.SMHD=new Uint8Array([0,0,0,0,0,0,0,0]),G.STSD=new Uint8Array([0,0,0,0,0,0,0,1]);const o=new Uint8Array([105,115,111,109]),a=new Uint8Array([97,118,99,49]),l=new Uint8Array([0,0,0,1]);G.FTYP=G.box(G.types.ftyp,o,l,o,a),G.DINF=G.box(G.types.dinf,G.box(G.types.dref,s))}static box(e,...n){let r=8,s=n.length;const i=s;for(;s--;)r+=n[s].byteLength;const o=new Uint8Array(r);for(o[0]=r>>24&255,o[1]=r>>16&255,o[2]=r>>8&255,o[3]=r&255,o.set(e,4),s=0,r=8;s<i;s++)o.set(n[s],r),r+=n[s].byteLength;return o}static hdlr(e){return G.box(G.types.hdlr,G.HDLR_TYPES[e])}static mdat(e){return G.box(G.types.mdat,e)}static mdhd(e,n){n*=e;const r=Math.floor(n/(Ro+1)),s=Math.floor(n%(Ro+1));return G.box(G.types.mdhd,new Uint8Array([1,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,e>>24&255,e>>16&255,e>>8&255,e&255,r>>24,r>>16&255,r>>8&255,r&255,s>>24,s>>16&255,s>>8&255,s&255,85,196,0,0]))}static mdia(e){return G.box(G.types.mdia,G.mdhd(e.timescale,e.duration),G.hdlr(e.type),G.minf(e))}static mfhd(e){return G.box(G.types.mfhd,new Uint8Array([0,0,0,0,e>>24,e>>16&255,e>>8&255,e&255]))}static minf(e){return e.type==="audio"?G.box(G.types.minf,G.box(G.types.smhd,G.SMHD),G.DINF,G.stbl(e)):G.box(G.types.minf,G.box(G.types.vmhd,G.VMHD),G.DINF,G.stbl(e))}static moof(e,n,r){return G.box(G.types.moof,G.mfhd(e),G.traf(r,n))}static moov(e){let n=e.length;const r=[];for(;n--;)r[n]=G.trak(e[n]);return G.box.apply(null,[G.types.moov,G.mvhd(e[0].timescale,e[0].duration)].concat(r).concat(G.mvex(e)))}static mvex(e){let n=e.length;const r=[];for(;n--;)r[n]=G.trex(e[n]);return G.box.apply(null,[G.types.mvex,...r])}static mvhd(e,n){n*=e;const r=Math.floor(n/(Ro+1)),s=Math.floor(n%(Ro+1)),i=new Uint8Array([1,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,e>>24&255,e>>16&255,e>>8&255,e&255,r>>24,r>>16&255,r>>8&255,r&255,s>>24,s>>16&255,s>>8&255,s&255,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255]);return G.box(G.types.mvhd,i)}static sdtp(e){const n=e.samples||[],r=new Uint8Array(4+n.length);let s,i;for(s=0;s<n.length;s++)i=n[s].flags,r[s+4]=i.dependsOn<<4|i.isDependedOn<<2|i.hasRedundancy;return G.box(G.types.sdtp,r)}static stbl(e){return G.box(G.types.stbl,G.stsd(e),G.box(G.types.stts,G.STTS),G.box(G.types.stsc,G.STSC),G.box(G.types.stsz,G.STSZ),G.box(G.types.stco,G.STCO))}static avc1(e){let n=[],r=[],s,i,o;for(s=0;s<e.sps.length;s++)i=e.sps[s],o=i.byteLength,n.push(o>>>8&255),n.push(o&255),n=n.concat(Array.prototype.slice.call(i));for(s=0;s<e.pps.length;s++)i=e.pps[s],o=i.byteLength,r.push(o>>>8&255),r.push(o&255),r=r.concat(Array.prototype.slice.call(i));const a=G.box(G.types.avcC,new Uint8Array([1,n[3],n[4],n[5],255,224|e.sps.length].concat(n).concat([e.pps.length]).concat(r))),l=e.width,c=e.height,u=e.pixelRatio[0],d=e.pixelRatio[1];return G.box(G.types.avc1,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,l>>8&255,l&255,c>>8&255,c&255,0,72,0,0,0,72,0,0,0,0,0,0,0,1,18,100,97,105,108,121,109,111,116,105,111,110,47,104,108,115,46,106,115,0,0,0,0,0,0,0,0,0,0,0,0,0,0,24,17,17]),a,G.box(G.types.btrt,new Uint8Array([0,28,156,128,0,45,198,192,0,45,198,192])),G.box(G.types.pasp,new Uint8Array([u>>24,u>>16&255,u>>8&255,u&255,d>>24,d>>16&255,d>>8&255,d&255])))}static esds(e){const n=e.config.length;return new Uint8Array([0,0,0,0,3,23+n,0,1,0,4,15+n,64,21,0,0,0,0,0,0,0,0,0,0,0,5].concat([n]).concat(e.config).concat([6,1,2]))}static audioStsd(e){const n=e.samplerate;return new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,e.channelCount,0,16,0,0,0,0,n>>8&255,n&255,0,0])}static mp4a(e){return G.box(G.types.mp4a,G.audioStsd(e),G.box(G.types.esds,G.esds(e)))}static mp3(e){return G.box(G.types[".mp3"],G.audioStsd(e))}static ac3(e){return G.box(G.types["ac-3"],G.audioStsd(e),G.box(G.types.dac3,e.config))}static stsd(e){return e.type==="audio"?e.segmentCodec==="mp3"&&e.codec==="mp3"?G.box(G.types.stsd,G.STSD,G.mp3(e)):e.segmentCodec==="ac3"?G.box(G.types.stsd,G.STSD,G.ac3(e)):G.box(G.types.stsd,G.STSD,G.mp4a(e)):G.box(G.types.stsd,G.STSD,G.avc1(e))}static tkhd(e){const n=e.id,r=e.duration*e.timescale,s=e.width,i=e.height,o=Math.floor(r/(Ro+1)),a=Math.floor(r%(Ro+1));return G.box(G.types.tkhd,new Uint8Array([1,0,0,7,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,n>>24&255,n>>16&255,n>>8&255,n&255,0,0,0,0,o>>24,o>>16&255,o>>8&255,o&255,a>>24,a>>16&255,a>>8&255,a&255,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,s>>8&255,s&255,0,0,i>>8&255,i&255,0,0]))}static traf(e,n){const r=G.sdtp(e),s=e.id,i=Math.floor(n/(Ro+1)),o=Math.floor(n%(Ro+1));return G.box(G.types.traf,G.box(G.types.tfhd,new Uint8Array([0,0,0,0,s>>24,s>>16&255,s>>8&255,s&255])),G.box(G.types.tfdt,new Uint8Array([1,0,0,0,i>>24,i>>16&255,i>>8&255,i&255,o>>24,o>>16&255,o>>8&255,o&255])),G.trun(e,r.length+16+20+8+16+8+8),r)}static trak(e){return e.duration=e.duration||4294967295,G.box(G.types.trak,G.tkhd(e),G.mdia(e))}static trex(e){const n=e.id;return G.box(G.types.trex,new Uint8Array([0,0,0,0,n>>24,n>>16&255,n>>8&255,n&255,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,1]))}static trun(e,n){const r=e.samples||[],s=r.length,i=12+16*s,o=new Uint8Array(i);let a,l,c,u,d,f;for(n+=8+i,o.set([e.type==="video"?1:0,0,15,1,s>>>24&255,s>>>16&255,s>>>8&255,s&255,n>>>24&255,n>>>16&255,n>>>8&255,n&255],0),a=0;a<s;a++)l=r[a],c=l.duration,u=l.size,d=l.flags,f=l.cts,o.set([c>>>24&255,c>>>16&255,c>>>8&255,c&255,u>>>24&255,u>>>16&255,u>>>8&255,u&255,d.isLeading<<2|d.dependsOn,d.isDependedOn<<6|d.hasRedundancy<<4|d.paddingValue<<1|d.isNonSync,d.degradPrio&61440,d.degradPrio&15,f>>>24&255,f>>>16&255,f>>>8&255,f&255],12+16*a);return G.box(G.types.trun,o)}static initSegment(e){G.types||G.init();const n=G.moov(e);return Ps(G.FTYP,n)}}G.types=void 0;G.HDLR_TYPES=void 0;G.STTS=void 0;G.STSC=void 0;G.STCO=void 0;G.STSZ=void 0;G.VMHD=void 0;G.SMHD=void 0;G.STSD=void 0;G.FTYP=void 0;G.DINF=void 0;const X3=9e4;function gE(t,e,n=1,r=!1){const s=t*e*n;return r?Math.round(s):s}function Bpe(t,e,n=1,r=!1){return gE(t,e,1/n,r)}function fd(t,e=!1){return gE(t,1e3,1/X3,e)}function $pe(t,e=1){return gE(t,X3,1/e)}const zpe=10*1e3,Z_=1024,Upe=1152,Vpe=1536;let nc=null,_x=null;class Fm{constructor(e,n,r,s=""){if(this.observer=void 0,this.config=void 0,this.typeSupported=void 0,this.ISGenerated=!1,this._initPTS=null,this._initDTS=null,this.nextAvcDts=null,this.nextAudioPts=null,this.videoSampleDuration=null,this.isAudioContiguous=!1,this.isVideoContiguous=!1,this.videoTrackConfig=void 0,this.observer=e,this.config=n,this.typeSupported=r,this.ISGenerated=!1,nc===null){const o=(navigator.userAgent||"").match(/Chrome\/(\d+)/i);nc=o?parseInt(o[1]):0}if(_x===null){const i=navigator.userAgent.match(/Safari\/(\d+)/i);_x=i?parseInt(i[1]):0}}destroy(){this.config=this.videoTrackConfig=this._initPTS=this._initDTS=null}resetTimeStamp(e){H.log("[mp4-remuxer]: initPTS & initDTS reset"),this._initPTS=this._initDTS=e}resetNextTimestamp(){H.log("[mp4-remuxer]: reset next timestamp"),this.isVideoContiguous=!1,this.isAudioContiguous=!1}resetInitSegment(){H.log("[mp4-remuxer]: ISGenerated flag reset"),this.ISGenerated=!1,this.videoTrackConfig=void 0}getVideoStartPts(e){let n=!1;const r=e.reduce((s,i)=>{const o=i.pts-s;return o<-4294967296?(n=!0,fs(s,i.pts)):o>0?s:i.pts},e[0].pts);return n&&H.debug("PTS rollover detected"),r}remux(e,n,r,s,i,o,a,l){let c,u,d,f,p,m,g=i,y=i;const x=e.pid>-1,v=n.pid>-1,b=n.samples.length,w=e.samples.length>0,T=a&&b>0||b>1;if((!x||w)&&(!v||T)||this.ISGenerated||a){if(this.ISGenerated){var E,k,A,R;const B=this.videoTrackConfig;B&&(n.width!==B.width||n.height!==B.height||((E=n.pixelRatio)==null?void 0:E[0])!==((k=B.pixelRatio)==null?void 0:k[0])||((A=n.pixelRatio)==null?void 0:A[1])!==((R=B.pixelRatio)==null?void 0:R[1]))&&this.resetInitSegment()}else d=this.generateIS(e,n,i,o);const L=this.isVideoContiguous;let D=-1,M;if(T&&(D=Wpe(n.samples),!L&&this.config.forceKeyFrameOnDiscontinuity))if(m=!0,D>0){H.warn(`[mp4-remuxer]: Dropped ${D} out of ${b} video samples due to a missing keyframe`);const B=this.getVideoStartPts(n.samples);n.samples=n.samples.slice(D),n.dropped+=D,y+=(n.samples[0].pts-B)/n.inputTimeScale,M=y}else D===-1&&(H.warn(`[mp4-remuxer]: No keyframe found out of ${b} video samples`),m=!1);if(this.ISGenerated){if(w&&T){const B=this.getVideoStartPts(n.samples),O=(fs(e.samples[0].pts,B)-B)/n.inputTimeScale;g+=Math.max(0,O),y+=Math.max(0,-O)}if(w){if(e.samplerate||(H.warn("[mp4-remuxer]: regenerate InitSegment as audio detected"),d=this.generateIS(e,n,i,o)),u=this.remuxAudio(e,g,this.isAudioContiguous,o,v||T||l===Pe.AUDIO?y:void 0),T){const B=u?u.endPTS-u.startPTS:0;n.inputTimeScale||(H.warn("[mp4-remuxer]: regenerate InitSegment as video detected"),d=this.generateIS(e,n,i,o)),c=this.remuxVideo(n,y,L,B)}}else T&&(c=this.remuxVideo(n,y,L,0));c&&(c.firstKeyFrame=D,c.independent=D!==-1,c.firstKeyFramePTS=M)}}return this.ISGenerated&&this._initPTS&&this._initDTS&&(r.samples.length&&(p=Q3(r,i,this._initPTS,this._initDTS)),s.samples.length&&(f=Z3(s,i,this._initPTS))),{audio:u,video:c,initSegment:d,independent:m,text:f,id3:p}}generateIS(e,n,r,s){const i=e.samples,o=n.samples,a=this.typeSupported,l={},c=this._initPTS;let u=!c||s,d="audio/mp4",f,p,m;if(u&&(f=p=1/0),e.config&&i.length){switch(e.timescale=e.samplerate,e.segmentCodec){case"mp3":a.mpeg?(d="audio/mpeg",e.codec=""):a.mp3&&(e.codec="mp3");break;case"ac3":e.codec="ac-3";break}l.audio={id:"audio",container:d,codec:e.codec,initSegment:e.segmentCodec==="mp3"&&a.mpeg?new Uint8Array(0):G.initSegment([e]),metadata:{channelCount:e.channelCount}},u&&(m=e.inputTimeScale,!c||m!==c.timescale?f=p=i[0].pts-Math.round(m*r):u=!1)}if(n.sps&&n.pps&&o.length){if(n.timescale=n.inputTimeScale,l.video={id:"main",container:"video/mp4",codec:n.codec,initSegment:G.initSegment([n]),metadata:{width:n.width,height:n.height}},u)if(m=n.inputTimeScale,!c||m!==c.timescale){const g=this.getVideoStartPts(o),y=Math.round(m*r);p=Math.min(p,fs(o[0].dts,g)-y),f=Math.min(f,g-y)}else u=!1;this.videoTrackConfig={width:n.width,height:n.height,pixelRatio:n.pixelRatio}}if(Object.keys(l).length)return this.ISGenerated=!0,u?(this._initPTS={baseTime:f,timescale:m},this._initDTS={baseTime:p,timescale:m}):f=m=void 0,{tracks:l,initPTS:f,timescale:m}}remuxVideo(e,n,r,s){const i=e.inputTimeScale,o=e.samples,a=[],l=o.length,c=this._initPTS;let u=this.nextAvcDts,d=8,f=this.videoSampleDuration,p,m,g=Number.POSITIVE_INFINITY,y=Number.NEGATIVE_INFINITY,x=!1;if(!r||u===null){const j=n*i,K=o[0].pts-fs(o[0].dts,o[0].pts);nc&&u!==null&&Math.abs(j-K-u)<15e3?r=!0:u=j-K}const v=c.baseTime*i/c.timescale;for(let j=0;j<l;j++){const K=o[j];K.pts=fs(K.pts-v,u),K.dts=fs(K.dts-v,u),K.dts<o[j>0?j-1:j].dts&&(x=!0)}x&&o.sort(function(j,K){const te=j.dts-K.dts,ne=j.pts-K.pts;return te||ne}),p=o[0].dts,m=o[o.length-1].dts;const b=m-p,w=b?Math.round(b/(l-1)):f||e.inputTimeScale/30;if(r){const j=p-u,K=j>w,te=j<-1;if((K||te)&&(K?H.warn(`AVC: ${fd(j,!0)} ms (${j}dts) hole between fragments detected at ${n.toFixed(3)}`):H.warn(`AVC: ${fd(-j,!0)} ms (${j}dts) overlapping between fragments detected at ${n.toFixed(3)}`),!te||u>=o[0].pts||nc)){p=u;const ne=o[0].pts-j;if(K)o[0].dts=p,o[0].pts=ne;else for(let q=0;q<o.length&&!(o[q].dts>ne);q++)o[q].dts-=j,o[q].pts-=j;H.log(`Video: Initial PTS/DTS adjusted: ${fd(ne,!0)}/${fd(p,!0)}, delta: ${fd(j,!0)} ms`)}}p=Math.max(0,p);let T=0,C=0,E=p;for(let j=0;j<l;j++){const K=o[j],te=K.units,ne=te.length;let q=0;for(let ee=0;ee<ne;ee++)q+=te[ee].data.length;C+=q,T+=ne,K.length=q,K.dts<E?(K.dts=E,E+=w/4|0||1):E=K.dts,g=Math.min(K.pts,g),y=Math.max(K.pts,y)}m=o[l-1].dts;const k=C+4*T+8;let A;try{A=new Uint8Array(k)}catch(j){this.observer.emit(_.ERROR,_.ERROR,{type:Me.MUX_ERROR,details:Q.REMUX_ALLOC_ERROR,fatal:!1,error:j,bytes:k,reason:`fail allocating video mdat ${k}`});return}const R=new DataView(A.buffer);R.setUint32(0,k),A.set(G.types.mdat,4);let L=!1,D=Number.POSITIVE_INFINITY,M=Number.POSITIVE_INFINITY,B=Number.NEGATIVE_INFINITY,V=Number.NEGATIVE_INFINITY;for(let j=0;j<l;j++){const K=o[j],te=K.units;let ne=0;for(let ce=0,Y=te.length;ce<Y;ce++){const ue=te[ce],Ae=ue.data,Ge=ue.data.byteLength;R.setUint32(d,Ge),d+=4,A.set(Ae,d),d+=Ge,ne+=4+Ge}let q;if(j<l-1)f=o[j+1].dts-K.dts,q=o[j+1].pts-K.pts;else{const ce=this.config,Y=j>0?K.dts-o[j-1].dts:w;if(q=j>0?K.pts-o[j-1].pts:w,ce.stretchShortVideoTrack&&this.nextAudioPts!==null){const ue=Math.floor(ce.maxBufferHole*i),Ae=(s?g+s*i:this.nextAudioPts)-K.pts;Ae>ue?(f=Ae-Y,f<0?f=Y:L=!0,H.log(`[mp4-remuxer]: It is approximately ${Ae/90} ms to the next segment; using duration ${f/90} ms for the last video frame.`)):f=Y}else f=Y}const ee=Math.round(K.pts-K.dts);D=Math.min(D,f),B=Math.max(B,f),M=Math.min(M,q),V=Math.max(V,q),a.push(new J_(K.key,f,ne,ee))}if(a.length){if(nc){if(nc<70){const j=a[0].flags;j.dependsOn=2,j.isNonSync=0}}else if(_x&&V-M<B-D&&w/B<.025&&a[0].cts===0){H.warn("Found irregular gaps in sample duration. Using PTS instead of DTS to determine MP4 sample duration.");let j=p;for(let K=0,te=a.length;K<te;K++){const ne=j+a[K].duration,q=j+a[K].cts;if(K<te-1){const ee=ne+a[K+1].cts;a[K].duration=ee-q}else a[K].duration=K?a[K-1].duration:w;a[K].cts=0,j=ne}}}f=L||!f?w:f,this.nextAvcDts=u=m+f,this.videoSampleDuration=f,this.isVideoContiguous=!0;const N={data1:G.moof(e.sequenceNumber++,p,yn({},e,{samples:a})),data2:A,startPTS:g/i,endPTS:(y+f)/i,startDTS:p/i,endDTS:u/i,type:"video",hasAudio:!1,hasVideo:!0,nb:a.length,dropped:e.dropped};return e.samples=[],e.dropped=0,N}getSamplesPerFrame(e){switch(e.segmentCodec){case"mp3":return Upe;case"ac3":return Vpe;default:return Z_}}remuxAudio(e,n,r,s,i){const o=e.inputTimeScale,a=e.samplerate?e.samplerate:o,l=o/a,c=this.getSamplesPerFrame(e),u=c*l,d=this._initPTS,f=e.segmentCodec==="mp3"&&this.typeSupported.mpeg,p=[],m=i!==void 0;let g=e.samples,y=f?0:8,x=this.nextAudioPts||-1;const v=n*o,b=d.baseTime*o/d.timescale;if(this.isAudioContiguous=r=r||g.length&&x>0&&(s&&Math.abs(v-x)<9e3||Math.abs(fs(g[0].pts-b,v)-x)<20*u),g.forEach(function(O){O.pts=fs(O.pts-b,v)}),!r||x<0){if(g=g.filter(O=>O.pts>=0),!g.length)return;i===0?x=0:s&&!m?x=Math.max(0,v):x=g[0].pts}if(e.segmentCodec==="aac"){const O=this.config.maxAudioFramesDrift;for(let I=0,N=x;I<g.length;I++){const j=g[I],K=j.pts,te=K-N,ne=Math.abs(1e3*te/o);if(te<=-O*u&&m)I===0&&(H.warn(`Audio frame @ ${(K/o).toFixed(3)}s overlaps nextAudioPts by ${Math.round(1e3*te/o)} ms.`),this.nextAudioPts=x=N=K);else if(te>=O*u&&ne<zpe&&m){let q=Math.round(te/u);N=K-q*u,N<0&&(q--,N+=u),I===0&&(this.nextAudioPts=x=N),H.warn(`[mp4-remuxer]: Injecting ${q} audio frame @ ${(N/o).toFixed(3)}s due to ${Math.round(1e3*te/o)} ms gap.`);for(let ee=0;ee<q;ee++){const ce=Math.max(N,0);let Y=Q_.getSilentFrame(e.manifestCodec||e.codec,e.channelCount);Y||(H.log("[mp4-remuxer]: Unable to get silent frame for given audio codec; duplicating last frame instead."),Y=j.unit.subarray()),g.splice(I,0,{unit:Y,pts:ce}),N+=u,I++}}j.pts=N,N+=u}}let w=null,T=null,C,E=0,k=g.length;for(;k--;)E+=g[k].unit.byteLength;for(let O=0,I=g.length;O<I;O++){const N=g[O],j=N.unit;let K=N.pts;if(T!==null){const ne=p[O-1];ne.duration=Math.round((K-T)/l)}else if(r&&e.segmentCodec==="aac"&&(K=x),w=K,E>0){E+=y;try{C=new Uint8Array(E)}catch(ne){this.observer.emit(_.ERROR,_.ERROR,{type:Me.MUX_ERROR,details:Q.REMUX_ALLOC_ERROR,fatal:!1,error:ne,bytes:E,reason:`fail allocating audio mdat ${E}`});return}f||(new DataView(C.buffer).setUint32(0,E),C.set(G.types.mdat,4))}else return;C.set(j,y);const te=j.byteLength;y+=te,p.push(new J_(!0,c,te,0)),T=K}const A=p.length;if(!A)return;const R=p[p.length-1];this.nextAudioPts=x=T+l*R.duration;const L=f?new Uint8Array(0):G.moof(e.sequenceNumber++,w/l,yn({},e,{samples:p}));e.samples=[];const D=w/o,M=x/o,V={data1:L,data2:C,startPTS:D,endPTS:M,startDTS:D,endDTS:M,type:"audio",hasAudio:!0,hasVideo:!1,nb:A};return this.isAudioContiguous=!0,V}remuxEmptyAudio(e,n,r,s){const i=e.inputTimeScale,o=e.samplerate?e.samplerate:i,a=i/o,l=this.nextAudioPts,c=this._initDTS,u=c.baseTime*9e4/c.timescale,d=(l!==null?l:s.startDTS*i)+u,f=s.endDTS*i+u,p=a*Z_,m=Math.ceil((f-d)/p),g=Q_.getSilentFrame(e.manifestCodec||e.codec,e.channelCount);if(H.warn("[mp4-remuxer]: remux empty Audio"),!g){H.trace("[mp4-remuxer]: Unable to remuxEmptyAudio since we were unable to get a silent frame for given audio codec");return}const y=[];for(let x=0;x<m;x++){const v=d+x*p;y.push({unit:g,pts:v,dts:v})}return e.samples=y,this.remuxAudio(e,n,r,!1)}}function fs(t,e){let n;if(e===null)return t;for(e<t?n=-8589934592:n=8589934592;Math.abs(t-e)>4294967296;)t+=n;return t}function Wpe(t){for(let e=0;e<t.length;e++)if(t[e].key)return e;return-1}function Q3(t,e,n,r){const s=t.samples.length;if(!s)return;const i=t.inputTimeScale;for(let a=0;a<s;a++){const l=t.samples[a];l.pts=fs(l.pts-n.baseTime*i/n.timescale,e*i)/i,l.dts=fs(l.dts-r.baseTime*i/r.timescale,e*i)/i}const o=t.samples;return t.samples=[],{samples:o}}function Z3(t,e,n){const r=t.samples.length;if(!r)return;const s=t.inputTimeScale;for(let o=0;o<r;o++){const a=t.samples[o];a.pts=fs(a.pts-n.baseTime*s/n.timescale,e*s)/s}t.samples.sort((o,a)=>o.pts-a.pts);const i=t.samples;return t.samples=[],{samples:i}}class J_{constructor(e,n,r,s){this.size=void 0,this.duration=void 0,this.cts=void 0,this.flags=void 0,this.duration=n,this.size=r,this.cts=s,this.flags={isLeading:0,isDependedOn:0,hasRedundancy:0,degradPrio:0,dependsOn:e?2:1,isNonSync:e?0:1}}}class Hpe{constructor(){this.emitInitSegment=!1,this.audioCodec=void 0,this.videoCodec=void 0,this.initData=void 0,this.initPTS=null,this.initTracks=void 0,this.lastEndTime=null}destroy(){}resetTimeStamp(e){this.initPTS=e,this.lastEndTime=null}resetNextTimestamp(){this.lastEndTime=null}resetInitSegment(e,n,r,s){this.audioCodec=n,this.videoCodec=r,this.generateInitSegment(Qfe(e,s)),this.emitInitSegment=!0}generateInitSegment(e){let{audioCodec:n,videoCodec:r}=this;if(!(e!=null&&e.byteLength)){this.initTracks=void 0,this.initData=void 0;return}const s=this.initData=T3(e);s.audio&&(n=eL(s.audio,gt.AUDIO)),s.video&&(r=eL(s.video,gt.VIDEO));const i={};s.audio&&s.video?i.audiovideo={container:"video/mp4",codec:n+","+r,initSegment:e,id:"main"}:s.audio?i.audio={container:"audio/mp4",codec:n,initSegment:e,id:"audio"}:s.video?i.video={container:"video/mp4",codec:r,initSegment:e,id:"main"}:H.warn("[passthrough-remuxer.ts]: initSegment does not contain moov or trak boxes."),this.initTracks=i}remux(e,n,r,s,i,o){var a,l;let{initPTS:c,lastEndTime:u}=this;const d={audio:void 0,video:void 0,text:s,id3:r,initSegment:void 0};xe(u)||(u=this.lastEndTime=i||0);const f=n.samples;if(!(f!=null&&f.length))return d;const p={initPTS:void 0,timescale:1};let m=this.initData;if((a=m)!=null&&a.length||(this.generateInitSegment(f),m=this.initData),!((l=m)!=null&&l.length))return H.warn("[passthrough-remuxer.ts]: Failed to generate initSegment."),d;this.emitInitSegment&&(p.tracks=this.initTracks,this.emitInitSegment=!1);const g=Jfe(f,m),y=Zfe(m,f),x=y===null?i:y;(Gpe(c,x,i,g)||p.timescale!==c.timescale&&o)&&(p.initPTS=x-i,c&&c.timescale===1&&H.warn(`Adjusting initPTS by ${p.initPTS-c.baseTime}`),this.initPTS=c={baseTime:p.initPTS,timescale:1});const v=e?x-c.baseTime/c.timescale:u,b=v+g;the(m,f,c.baseTime/c.timescale),g>0?this.lastEndTime=b:(H.warn("Duration parsed from mp4 should be greater than zero"),this.resetNextTimestamp());const w=!!m.audio,T=!!m.video;let C="";w&&(C+="audio"),T&&(C+="video");const E={data1:f,startPTS:v,startDTS:v,endPTS:b,endDTS:b,type:C,hasAudio:w,hasVideo:T,nb:1,dropped:0};return d.audio=E.type==="audio"?E:void 0,d.video=E.type!=="audio"?E:void 0,d.initSegment=p,d.id3=Q3(r,i,c,c),s.samples.length&&(d.text=Z3(s,i,c)),d}}function Gpe(t,e,n,r){if(t===null)return!0;const s=Math.max(r,1),i=e-t.baseTime/t.timescale;return Math.abs(i-n)>s}function eL(t,e){const n=t==null?void 0:t.codec;if(n&&n.length>4)return n;if(e===gt.AUDIO){if(n==="ec-3"||n==="ac-3"||n==="alac")return n;if(n==="fLaC"||n==="Opus")return Yg(n,!1);const r="mp4a.40.5";return H.info(`Parsed audio codec "${n}" or audio object type not handled. Using "${r}"`),r}return H.warn(`Unhandled video codec "${n}"`),n==="hvc1"||n==="hev1"?"hvc1.1.6.L120.90":n==="av01"?"av01.0.04M.08":"avc1.42e01e"}let Gi;try{Gi=self.performance.now.bind(self.performance)}catch{H.debug("Unable to use Performance API on this environment"),Gi=yu==null?void 0:yu.Date.now}const Nm=[{demux:Ppe,remux:Hpe},{demux:jo,remux:Fm},{demux:_pe,remux:Fm},{demux:jpe,remux:Fm}];Nm.splice(2,0,{demux:Ipe,remux:Fm});class tL{constructor(e,n,r,s,i){this.async=!1,this.observer=void 0,this.typeSupported=void 0,this.config=void 0,this.vendor=void 0,this.id=void 0,this.demuxer=void 0,this.remuxer=void 0,this.decrypter=void 0,this.probe=void 0,this.decryptionPromise=null,this.transmuxConfig=void 0,this.currentTransmuxState=void 0,this.observer=e,this.typeSupported=n,this.config=r,this.vendor=s,this.id=i}configure(e){this.transmuxConfig=e,this.decrypter&&this.decrypter.reset()}push(e,n,r,s){const i=r.transmuxing;i.executeStart=Gi();let o=new Uint8Array(e);const{currentTransmuxState:a,transmuxConfig:l}=this;s&&(this.currentTransmuxState=s);const{contiguous:c,discontinuity:u,trackSwitch:d,accurateTimeOffset:f,timeOffset:p,initSegmentChange:m}=s||a,{audioCodec:g,videoCodec:y,defaultInitPts:x,duration:v,initSegmentData:b}=l,w=Kpe(o,n);if(w&&w.method==="AES-128"){const k=this.getDecrypter();if(k.isSync()){let A=k.softwareDecrypt(o,w.key.buffer,w.iv.buffer);if(r.part>-1&&(A=k.flush()),!A)return i.executeEnd=Gi(),Lx(r);o=new Uint8Array(A)}else return this.decryptionPromise=k.webCryptoDecrypt(o,w.key.buffer,w.iv.buffer).then(A=>{const R=this.push(A,null,r);return this.decryptionPromise=null,R}),this.decryptionPromise}const T=this.needsProbing(u,d);if(T){const k=this.configureTransmuxer(o);if(k)return H.warn(`[transmuxer] ${k.message}`),this.observer.emit(_.ERROR,_.ERROR,{type:Me.MEDIA_ERROR,details:Q.FRAG_PARSING_ERROR,fatal:!1,error:k,reason:k.message}),i.executeEnd=Gi(),Lx(r)}(u||d||m||T)&&this.resetInitSegment(b,g,y,v,n),(u||m||T)&&this.resetInitialTimestamp(x),c||this.resetContiguity();const C=this.transmux(o,w,p,f,r),E=this.currentTransmuxState;return E.contiguous=!0,E.discontinuity=!1,E.trackSwitch=!1,i.executeEnd=Gi(),C}flush(e){const n=e.transmuxing;n.executeStart=Gi();const{decrypter:r,currentTransmuxState:s,decryptionPromise:i}=this;if(i)return i.then(()=>this.flush(e));const o=[],{timeOffset:a}=s;if(r){const d=r.flush();d&&o.push(this.push(d,null,e))}const{demuxer:l,remuxer:c}=this;if(!l||!c)return n.executeEnd=Gi(),[Lx(e)];const u=l.flush(a);return jm(u)?u.then(d=>(this.flushRemux(o,d,e),o)):(this.flushRemux(o,u,e),o)}flushRemux(e,n,r){const{audioTrack:s,videoTrack:i,id3Track:o,textTrack:a}=n,{accurateTimeOffset:l,timeOffset:c}=this.currentTransmuxState;H.log(`[transmuxer.ts]: Flushed fragment ${r.sn}${r.part>-1?" p: "+r.part:""} of level ${r.level}`);const u=this.remuxer.remux(s,i,o,a,c,l,!0,this.id);e.push({remuxResult:u,chunkMeta:r}),r.transmuxing.executeEnd=Gi()}resetInitialTimestamp(e){const{demuxer:n,remuxer:r}=this;!n||!r||(n.resetTimeStamp(e),r.resetTimeStamp(e))}resetContiguity(){const{demuxer:e,remuxer:n}=this;!e||!n||(e.resetContiguity(),n.resetNextTimestamp())}resetInitSegment(e,n,r,s,i){const{demuxer:o,remuxer:a}=this;!o||!a||(o.resetInitSegment(e,n,r,s),a.resetInitSegment(e,n,r,i))}destroy(){this.demuxer&&(this.demuxer.destroy(),this.demuxer=void 0),this.remuxer&&(this.remuxer.destroy(),this.remuxer=void 0)}transmux(e,n,r,s,i){let o;return n&&n.method==="SAMPLE-AES"?o=this.transmuxSampleAes(e,n,r,s,i):o=this.transmuxUnencrypted(e,r,s,i),o}transmuxUnencrypted(e,n,r,s){const{audioTrack:i,videoTrack:o,id3Track:a,textTrack:l}=this.demuxer.demux(e,n,!1,!this.config.progressive);return{remuxResult:this.remuxer.remux(i,o,a,l,n,r,!1,this.id),chunkMeta:s}}transmuxSampleAes(e,n,r,s,i){return this.demuxer.demuxSampleAes(e,n,r).then(o=>({remuxResult:this.remuxer.remux(o.audioTrack,o.videoTrack,o.id3Track,o.textTrack,r,s,!1,this.id),chunkMeta:i}))}configureTransmuxer(e){const{config:n,observer:r,typeSupported:s,vendor:i}=this;let o;for(let f=0,p=Nm.length;f<p;f++){var a;if((a=Nm[f].demux)!=null&&a.probe(e)){o=Nm[f];break}}if(!o)return new Error("Failed to find demuxer by probing fragment data");const l=this.demuxer,c=this.remuxer,u=o.remux,d=o.demux;(!c||!(c instanceof u))&&(this.remuxer=new u(r,n,s,i)),(!l||!(l instanceof d))&&(this.demuxer=new d(r,n,s),this.probe=d.probe)}needsProbing(e,n){return!this.demuxer||!this.remuxer||e||n}getDecrypter(){let e=this.decrypter;return e||(e=this.decrypter=new dE(this.config)),e}}function Kpe(t,e){let n=null;return t.byteLength>0&&(e==null?void 0:e.key)!=null&&e.iv!==null&&e.method!=null&&(n=e),n}const Lx=t=>({remuxResult:{},chunkMeta:t});function jm(t){return"then"in t&&t.then instanceof Function}class Ype{constructor(e,n,r,s,i){this.audioCodec=void 0,this.videoCodec=void 0,this.initSegmentData=void 0,this.duration=void 0,this.defaultInitPts=void 0,this.audioCodec=e,this.videoCodec=n,this.initSegmentData=r,this.duration=s,this.defaultInitPts=i||null}}class qpe{constructor(e,n,r,s,i,o){this.discontinuity=void 0,this.contiguous=void 0,this.accurateTimeOffset=void 0,this.trackSwitch=void 0,this.timeOffset=void 0,this.initSegmentChange=void 0,this.discontinuity=e,this.contiguous=n,this.accurateTimeOffset=r,this.trackSwitch=s,this.timeOffset=i,this.initSegmentChange=o}}var J3={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function s(l,c,u){this.fn=l,this.context=c,this.once=u||!1}function i(l,c,u,d,f){if(typeof u!="function")throw new TypeError("The listener must be a function");var p=new s(u,d||l,f),m=n?n+c:c;return l._events[m]?l._events[m].fn?l._events[m]=[l._events[m],p]:l._events[m].push(p):(l._events[m]=p,l._eventsCount++),l}function o(l,c){--l._eventsCount===0?l._events=new r:delete l._events[c]}function a(){this._events=new r,this._eventsCount=0}a.prototype.eventNames=function(){var c=[],u,d;if(this._eventsCount===0)return c;for(d in u=this._events)e.call(u,d)&&c.push(n?d.slice(1):d);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(u)):c},a.prototype.listeners=function(c){var u=n?n+c:c,d=this._events[u];if(!d)return[];if(d.fn)return[d.fn];for(var f=0,p=d.length,m=new Array(p);f<p;f++)m[f]=d[f].fn;return m},a.prototype.listenerCount=function(c){var u=n?n+c:c,d=this._events[u];return d?d.fn?1:d.length:0},a.prototype.emit=function(c,u,d,f,p,m){var g=n?n+c:c;if(!this._events[g])return!1;var y=this._events[g],x=arguments.length,v,b;if(y.fn){switch(y.once&&this.removeListener(c,y.fn,void 0,!0),x){case 1:return y.fn.call(y.context),!0;case 2:return y.fn.call(y.context,u),!0;case 3:return y.fn.call(y.context,u,d),!0;case 4:return y.fn.call(y.context,u,d,f),!0;case 5:return y.fn.call(y.context,u,d,f,p),!0;case 6:return y.fn.call(y.context,u,d,f,p,m),!0}for(b=1,v=new Array(x-1);b<x;b++)v[b-1]=arguments[b];y.fn.apply(y.context,v)}else{var w=y.length,T;for(b=0;b<w;b++)switch(y[b].once&&this.removeListener(c,y[b].fn,void 0,!0),x){case 1:y[b].fn.call(y[b].context);break;case 2:y[b].fn.call(y[b].context,u);break;case 3:y[b].fn.call(y[b].context,u,d);break;case 4:y[b].fn.call(y[b].context,u,d,f);break;default:if(!v)for(T=1,v=new Array(x-1);T<x;T++)v[T-1]=arguments[T];y[b].fn.apply(y[b].context,v)}}return!0},a.prototype.on=function(c,u,d){return i(this,c,u,d,!1)},a.prototype.once=function(c,u,d){return i(this,c,u,d,!0)},a.prototype.removeListener=function(c,u,d,f){var p=n?n+c:c;if(!this._events[p])return this;if(!u)return o(this,p),this;var m=this._events[p];if(m.fn)m.fn===u&&(!f||m.once)&&(!d||m.context===d)&&o(this,p);else{for(var g=0,y=[],x=m.length;g<x;g++)(m[g].fn!==u||f&&!m[g].once||d&&m[g].context!==d)&&y.push(m[g]);y.length?this._events[p]=y.length===1?y[0]:y:o(this,p)}return this},a.prototype.removeAllListeners=function(c){var u;return c?(u=n?n+c:c,this._events[u]&&o(this,u)):(this._events=new r,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=n,a.EventEmitter=a,t.exports=a})(J3);var Xpe=J3.exports,yE=xfe(Xpe);class eN{constructor(e,n,r,s){this.error=null,this.hls=void 0,this.id=void 0,this.observer=void 0,this.frag=null,this.part=null,this.useWorker=void 0,this.workerContext=null,this.onwmsg=void 0,this.transmuxer=null,this.onTransmuxComplete=void 0,this.onFlush=void 0;const i=e.config;this.hls=e,this.id=n,this.useWorker=!!i.enableWorker,this.onTransmuxComplete=r,this.onFlush=s;const o=(c,u)=>{u=u||{},u.frag=this.frag,u.id=this.id,c===_.ERROR&&(this.error=u.error),this.hls.trigger(c,u)};this.observer=new yE,this.observer.on(_.FRAG_DECRYPTED,o),this.observer.on(_.ERROR,o);const a=Rl(i.preferManagedMediaSource)||{isTypeSupported:()=>!1},l={mpeg:a.isTypeSupported("audio/mpeg"),mp3:a.isTypeSupported('audio/mp4; codecs="mp3"'),ac3:a.isTypeSupported('audio/mp4; codecs="ac-3"')};if(this.useWorker&&typeof Worker<"u"&&(i.workerPath||mpe())){try{i.workerPath?(H.log(`loading Web Worker ${i.workerPath} for "${n}"`),this.workerContext=ype(i.workerPath)):(H.log(`injecting Web Worker for "${n}"`),this.workerContext=gpe()),this.onwmsg=d=>this.onWorkerMessage(d);const{worker:u}=this.workerContext;u.addEventListener("message",this.onwmsg),u.onerror=d=>{const f=new Error(`${d.message}  (${d.filename}:${d.lineno})`);i.enableWorker=!1,H.warn(`Error in "${n}" Web Worker, fallback to inline`),this.hls.trigger(_.ERROR,{type:Me.OTHER_ERROR,details:Q.INTERNAL_EXCEPTION,fatal:!1,event:"demuxerWorker",error:f})},u.postMessage({cmd:"init",typeSupported:l,vendor:"",id:n,config:JSON.stringify(i)})}catch(u){H.warn(`Error setting up "${n}" Web Worker, fallback to inline`,u),this.resetWorker(),this.error=null,this.transmuxer=new tL(this.observer,l,i,"",n)}return}this.transmuxer=new tL(this.observer,l,i,"",n)}resetWorker(){if(this.workerContext){const{worker:e,objectURL:n}=this.workerContext;n&&self.URL.revokeObjectURL(n),e.removeEventListener("message",this.onwmsg),e.onerror=null,e.terminate(),this.workerContext=null}}destroy(){if(this.workerContext)this.resetWorker(),this.onwmsg=void 0;else{const n=this.transmuxer;n&&(n.destroy(),this.transmuxer=null)}const e=this.observer;e&&e.removeAllListeners(),this.frag=null,this.observer=null,this.hls=null}push(e,n,r,s,i,o,a,l,c,u){var d,f;c.transmuxing.start=self.performance.now();const{transmuxer:p}=this,m=o?o.start:i.start,g=i.decryptdata,y=this.frag,x=!(y&&i.cc===y.cc),v=!(y&&c.level===y.level),b=y?c.sn-y.sn:-1,w=this.part?c.part-this.part.index:-1,T=b===0&&c.id>1&&c.id===(y==null?void 0:y.stats.chunkCount),C=!v&&(b===1||b===0&&(w===1||T&&w<=0)),E=self.performance.now();(v||b||i.stats.parsing.start===0)&&(i.stats.parsing.start=E),o&&(w||!C)&&(o.stats.parsing.start=E);const k=!(y&&((d=i.initSegment)==null?void 0:d.url)===((f=y.initSegment)==null?void 0:f.url)),A=new qpe(x,C,l,v,m,k);if(!C||x||k){H.log(`[transmuxer-interface, ${i.type}]: Starting new transmux session for sn: ${c.sn} p: ${c.part} level: ${c.level} id: ${c.id}
        discontinuity: ${x}
        trackSwitch: ${v}
        contiguous: ${C}
        accurateTimeOffset: ${l}
        timeOffset: ${m}
        initSegmentChange: ${k}`);const R=new Ype(r,s,n,a,u);this.configureTransmuxer(R)}if(this.frag=i,this.part=o,this.workerContext)this.workerContext.worker.postMessage({cmd:"demux",data:e,decryptdata:g,chunkMeta:c,state:A},e instanceof ArrayBuffer?[e]:[]);else if(p){const R=p.push(e,g,c,A);jm(R)?(p.async=!0,R.then(L=>{this.handleTransmuxComplete(L)}).catch(L=>{this.transmuxerError(L,c,"transmuxer-interface push error")})):(p.async=!1,this.handleTransmuxComplete(R))}}flush(e){e.transmuxing.start=self.performance.now();const{transmuxer:n}=this;if(this.workerContext)this.workerContext.worker.postMessage({cmd:"flush",chunkMeta:e});else if(n){let r=n.flush(e);jm(r)||n.async?(jm(r)||(r=Promise.resolve(r)),r.then(i=>{this.handleFlushResult(i,e)}).catch(i=>{this.transmuxerError(i,e,"transmuxer-interface flush error")})):this.handleFlushResult(r,e)}}transmuxerError(e,n,r){this.hls&&(this.error=e,this.hls.trigger(_.ERROR,{type:Me.MEDIA_ERROR,details:Q.FRAG_PARSING_ERROR,chunkMeta:n,frag:this.frag||void 0,fatal:!1,error:e,err:e,reason:r}))}handleFlushResult(e,n){e.forEach(r=>{this.handleTransmuxComplete(r)}),this.onFlush(n)}onWorkerMessage(e){const n=e.data;if(!(n!=null&&n.event)){H.warn(`worker message received with no ${n?"event name":"data"}`);return}const r=this.hls;if(this.hls)switch(n.event){case"init":{var s;const i=(s=this.workerContext)==null?void 0:s.objectURL;i&&self.URL.revokeObjectURL(i);break}case"transmuxComplete":{this.handleTransmuxComplete(n.data);break}case"flush":{this.onFlush(n.data);break}case"workerLog":H[n.data.logType]&&H[n.data.logType](n.data.message);break;default:{n.data=n.data||{},n.data.frag=this.frag,n.data.id=this.id,r.trigger(n.event,n.data);break}}}configureTransmuxer(e){const{transmuxer:n}=this;this.workerContext?this.workerContext.worker.postMessage({cmd:"configure",config:e}):n&&n.configure(e)}handleTransmuxComplete(e){e.chunkMeta.transmuxing.end=self.performance.now(),this.onTransmuxComplete(e)}}function tN(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(!xu(t[n].attrs,e[n].attrs))return!1;return!0}function xu(t,e,n){const r=t["STABLE-RENDITION-ID"];return r&&!n?r===e["STABLE-RENDITION-ID"]:!(n||["LANGUAGE","NAME","CHARACTERISTICS","AUTOSELECT","DEFAULT","FORCED","ASSOC-LANGUAGE"]).some(s=>t[s]!==e[s])}function fS(t,e){return e.label.toLowerCase()===t.name.toLowerCase()&&(!e.language||e.language.toLowerCase()===(t.lang||"").toLowerCase())}const nL=100;class Qpe extends fE{constructor(e,n,r){super(e,n,r,"[audio-stream-controller]",Pe.AUDIO),this.videoBuffer=null,this.videoTrackCC=-1,this.waitingVideoCC=-1,this.bufferedTrack=null,this.switchingTrack=null,this.trackId=-1,this.waitingData=null,this.mainDetails=null,this.flushing=!1,this.bufferFlushed=!1,this.cachedTrackLoadedData=null,this._registerListeners()}onHandlerDestroying(){this._unregisterListeners(),super.onHandlerDestroying(),this.mainDetails=null,this.bufferedTrack=null,this.switchingTrack=null}_registerListeners(){const{hls:e}=this;e.on(_.MEDIA_ATTACHED,this.onMediaAttached,this),e.on(_.MEDIA_DETACHING,this.onMediaDetaching,this),e.on(_.MANIFEST_LOADING,this.onManifestLoading,this),e.on(_.LEVEL_LOADED,this.onLevelLoaded,this),e.on(_.AUDIO_TRACKS_UPDATED,this.onAudioTracksUpdated,this),e.on(_.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),e.on(_.AUDIO_TRACK_LOADED,this.onAudioTrackLoaded,this),e.on(_.ERROR,this.onError,this),e.on(_.BUFFER_RESET,this.onBufferReset,this),e.on(_.BUFFER_CREATED,this.onBufferCreated,this),e.on(_.BUFFER_FLUSHING,this.onBufferFlushing,this),e.on(_.BUFFER_FLUSHED,this.onBufferFlushed,this),e.on(_.INIT_PTS_FOUND,this.onInitPtsFound,this),e.on(_.FRAG_BUFFERED,this.onFragBuffered,this)}_unregisterListeners(){const{hls:e}=this;e.off(_.MEDIA_ATTACHED,this.onMediaAttached,this),e.off(_.MEDIA_DETACHING,this.onMediaDetaching,this),e.off(_.MANIFEST_LOADING,this.onManifestLoading,this),e.off(_.LEVEL_LOADED,this.onLevelLoaded,this),e.off(_.AUDIO_TRACKS_UPDATED,this.onAudioTracksUpdated,this),e.off(_.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),e.off(_.AUDIO_TRACK_LOADED,this.onAudioTrackLoaded,this),e.off(_.ERROR,this.onError,this),e.off(_.BUFFER_RESET,this.onBufferReset,this),e.off(_.BUFFER_CREATED,this.onBufferCreated,this),e.off(_.BUFFER_FLUSHING,this.onBufferFlushing,this),e.off(_.BUFFER_FLUSHED,this.onBufferFlushed,this),e.off(_.INIT_PTS_FOUND,this.onInitPtsFound,this),e.off(_.FRAG_BUFFERED,this.onFragBuffered,this)}onInitPtsFound(e,{frag:n,id:r,initPTS:s,timescale:i}){if(r==="main"){const o=n.cc;this.initPTS[n.cc]={baseTime:s,timescale:i},this.log(`InitPTS for cc: ${o} found from main: ${s}`),this.videoTrackCC=o,this.state===se.WAITING_INIT_PTS&&this.tick()}}startLoad(e){if(!this.levels){this.startPosition=e,this.state=se.STOPPED;return}const n=this.lastCurrentTime;this.stopLoad(),this.setInterval(nL),n>0&&e===-1?(this.log(`Override startPosition with lastCurrentTime @${n.toFixed(3)}`),e=n,this.state=se.IDLE):(this.loadedmetadata=!1,this.state=se.WAITING_TRACK),this.nextLoadPosition=this.startPosition=this.lastCurrentTime=e,this.tick()}doTick(){switch(this.state){case se.IDLE:this.doTickIdle();break;case se.WAITING_TRACK:{var e;const{levels:r,trackId:s}=this,i=r==null||(e=r[s])==null?void 0:e.details;if(i){if(this.waitForCdnTuneIn(i))break;this.state=se.WAITING_INIT_PTS}break}case se.FRAG_LOADING_WAITING_RETRY:{var n;const r=performance.now(),s=this.retryDate;if(!s||r>=s||(n=this.media)!=null&&n.seeking){const{levels:i,trackId:o}=this;this.log("RetryDate reached, switch back to IDLE state"),this.resetStartWhenNotLoaded((i==null?void 0:i[o])||null),this.state=se.IDLE}break}case se.WAITING_INIT_PTS:{const r=this.waitingData;if(r){const{frag:s,part:i,cache:o,complete:a}=r;if(this.initPTS[s.cc]!==void 0){this.waitingData=null,this.waitingVideoCC=-1,this.state=se.FRAG_LOADING;const l=o.flush(),c={frag:s,part:i,payload:l,networkDetails:null};this._handleFragmentLoadProgress(c),a&&super._handleFragmentLoadComplete(c)}else if(this.videoTrackCC!==this.waitingVideoCC)this.log(`Waiting fragment cc (${s.cc}) cancelled because video is at cc ${this.videoTrackCC}`),this.clearWaitingFragment();else{const l=this.getLoadPosition(),c=kt.bufferInfo(this.mediaBuffer,l,this.config.maxBufferHole);uS(c.end,this.config.maxFragLookUpTolerance,s)<0&&(this.log(`Waiting fragment cc (${s.cc}) @ ${s.start} cancelled because another fragment at ${c.end} is needed`),this.clearWaitingFragment())}}else this.state=se.IDLE}}this.onTickEnd()}clearWaitingFragment(){const e=this.waitingData;e&&(this.fragmentTracker.removeFragment(e.frag),this.waitingData=null,this.waitingVideoCC=-1,this.state=se.IDLE)}resetLoadingState(){this.clearWaitingFragment(),super.resetLoadingState()}onTickEnd(){const{media:e}=this;e!=null&&e.readyState&&(this.lastCurrentTime=e.currentTime)}doTickIdle(){const{hls:e,levels:n,media:r,trackId:s}=this,i=e.config;if(!r&&(this.startFragRequested||!i.startFragPrefetch)||!(n!=null&&n[s]))return;const o=n[s],a=o.details;if(!a||a.live&&this.levelLastLoaded!==o||this.waitForCdnTuneIn(a)){this.state=se.WAITING_TRACK;return}const l=this.mediaBuffer?this.mediaBuffer:this.media;this.bufferFlushed&&l&&(this.bufferFlushed=!1,this.afterBufferFlushed(l,gt.AUDIO,Pe.AUDIO));const c=this.getFwdBufferInfo(l,Pe.AUDIO);if(c===null)return;const{bufferedTrack:u,switchingTrack:d}=this;if(!d&&this._streamEnded(c,a)){e.trigger(_.BUFFER_EOS,{type:"audio"}),this.state=se.ENDED;return}const f=this.getFwdBufferInfo(this.videoBuffer?this.videoBuffer:this.media,Pe.MAIN),p=c.len,m=this.getMaxBufferLength(f==null?void 0:f.len),g=a.fragments,y=g[0].start;let x=this.flushing?this.getLoadPosition():c.end;if(d&&r){const T=this.getLoadPosition();u&&!xu(d.attrs,u.attrs)&&(x=T),a.PTSKnown&&T<y&&(c.end>y||c.nextStart)&&(this.log("Alt audio track ahead of main track, seek to start of alt audio track"),r.currentTime=y+.05)}if(p>=m&&!d&&x<g[g.length-1].start)return;let v=this.getNextFragment(x,a),b=!1;if(v&&this.isLoopLoading(v,x)&&(b=!!v.gap,v=this.getNextFragmentLoopLoading(v,a,c,Pe.MAIN,m)),!v){this.bufferFlushed=!0;return}const w=f&&v.start>f.end+a.targetduration;if(w||!(f!=null&&f.len)&&c.len){const T=this.getAppendedFrag(v.start,Pe.MAIN);if(T===null||(b||(b=!!T.gap||!!w&&f.len===0),w&&!b||b&&c.nextStart&&c.nextStart<T.end))return}this.loadFragment(v,o,x)}getMaxBufferLength(e){const n=super.getMaxBufferLength();return e?Math.min(Math.max(n,e),this.config.maxMaxBufferLength):n}onMediaDetaching(){this.videoBuffer=null,this.bufferFlushed=this.flushing=!1,super.onMediaDetaching()}onAudioTracksUpdated(e,{audioTracks:n}){this.resetTransmuxer(),this.levels=n.map(r=>new vu(r))}onAudioTrackSwitching(e,n){const r=!!n.url;this.trackId=n.id;const{fragCurrent:s}=this;s&&(s.abortRequests(),this.removeUnbufferedFrags(s.start)),this.resetLoadingState(),r?this.setInterval(nL):this.resetTransmuxer(),r?(this.switchingTrack=n,this.state=se.IDLE,this.flushAudioIfNeeded(n)):(this.switchingTrack=null,this.bufferedTrack=n,this.state=se.STOPPED),this.tick()}onManifestLoading(){this.fragmentTracker.removeAllFragments(),this.startPosition=this.lastCurrentTime=0,this.bufferFlushed=this.flushing=!1,this.levels=this.mainDetails=this.waitingData=this.bufferedTrack=this.cachedTrackLoadedData=this.switchingTrack=null,this.startFragRequested=!1,this.trackId=this.videoTrackCC=this.waitingVideoCC=-1}onLevelLoaded(e,n){this.mainDetails=n.details,this.cachedTrackLoadedData!==null&&(this.hls.trigger(_.AUDIO_TRACK_LOADED,this.cachedTrackLoadedData),this.cachedTrackLoadedData=null)}onAudioTrackLoaded(e,n){var r;if(this.mainDetails==null){this.cachedTrackLoadedData=n;return}const{levels:s}=this,{details:i,id:o}=n;if(!s){this.warn(`Audio tracks were reset while loading level ${o}`);return}this.log(`Audio track ${o} loaded [${i.startSN},${i.endSN}]${i.lastPartSn?`[part-${i.lastPartSn}-${i.lastPartIndex}]`:""},duration:${i.totalduration}`);const a=s[o];let l=0;if(i.live||(r=a.details)!=null&&r.live){this.checkLiveUpdate(i);const u=this.mainDetails;if(i.deltaUpdateFailed||!u)return;if(!a.details&&i.hasProgramDateTime&&u.hasProgramDateTime)Jg(i,u),l=i.fragments[0].start;else{var c;l=this.alignPlaylists(i,a.details,(c=this.levelLastLoaded)==null?void 0:c.details)}}a.details=i,this.levelLastLoaded=a,!this.startFragRequested&&(this.mainDetails||!i.live)&&this.setStartPosition(this.mainDetails||i,l),this.state===se.WAITING_TRACK&&!this.waitForCdnTuneIn(i)&&(this.state=se.IDLE),this.tick()}_handleFragmentLoadProgress(e){var n;const{frag:r,part:s,payload:i}=e,{config:o,trackId:a,levels:l}=this;if(!l){this.warn(`Audio tracks were reset while fragment load was in progress. Fragment ${r.sn} of level ${r.level} will not be buffered`);return}const c=l[a];if(!c){this.warn("Audio track is undefined on fragment load progress");return}const u=c.details;if(!u){this.warn("Audio track details undefined on fragment load progress"),this.removeUnbufferedFrags(r.start);return}const d=o.defaultAudioCodec||c.audioCodec||"mp4a.40.2";let f=this.transmuxer;f||(f=this.transmuxer=new eN(this.hls,Pe.AUDIO,this._handleTransmuxComplete.bind(this),this._handleTransmuxerFlush.bind(this)));const p=this.initPTS[r.cc],m=(n=r.initSegment)==null?void 0:n.data;if(p!==void 0){const y=s?s.index:-1,x=y!==-1,v=new uE(r.level,r.sn,r.stats.chunkCount,i.byteLength,y,x);f.push(i,m,d,"",r,s,u.totalduration,!1,v,p)}else{this.log(`Unknown video PTS for cc ${r.cc}, waiting for video PTS before demuxing audio frag ${r.sn} of [${u.startSN} ,${u.endSN}],track ${a}`);const{cache:g}=this.waitingData=this.waitingData||{frag:r,part:s,cache:new j3,complete:!1};g.push(new Uint8Array(i)),this.waitingVideoCC=this.videoTrackCC,this.state=se.WAITING_INIT_PTS}}_handleFragmentLoadComplete(e){if(this.waitingData){this.waitingData.complete=!0;return}super._handleFragmentLoadComplete(e)}onBufferReset(){this.mediaBuffer=this.videoBuffer=null,this.loadedmetadata=!1}onBufferCreated(e,n){const r=n.tracks.audio;r&&(this.mediaBuffer=r.buffer||null),n.tracks.video&&(this.videoBuffer=n.tracks.video.buffer||null)}onFragBuffered(e,n){const{frag:r,part:s}=n;if(r.type!==Pe.AUDIO){if(!this.loadedmetadata&&r.type===Pe.MAIN){const i=this.videoBuffer||this.media;i&&kt.getBuffered(i).length&&(this.loadedmetadata=!0)}return}if(this.fragContextChanged(r)){this.warn(`Fragment ${r.sn}${s?" p: "+s.index:""} of level ${r.level} finished buffering, but was aborted. state: ${this.state}, audioSwitch: ${this.switchingTrack?this.switchingTrack.name:"false"}`);return}if(r.sn!=="initSegment"){this.fragPrevious=r;const i=this.switchingTrack;i&&(this.bufferedTrack=i,this.switchingTrack=null,this.hls.trigger(_.AUDIO_TRACK_SWITCHED,Mn({},i)))}this.fragBufferedComplete(r,s)}onError(e,n){var r;if(n.fatal){this.state=se.ERROR;return}switch(n.details){case Q.FRAG_GAP:case Q.FRAG_PARSING_ERROR:case Q.FRAG_DECRYPT_ERROR:case Q.FRAG_LOAD_ERROR:case Q.FRAG_LOAD_TIMEOUT:case Q.KEY_LOAD_ERROR:case Q.KEY_LOAD_TIMEOUT:this.onFragmentOrKeyLoadError(Pe.AUDIO,n);break;case Q.AUDIO_TRACK_LOAD_ERROR:case Q.AUDIO_TRACK_LOAD_TIMEOUT:case Q.LEVEL_PARSING_ERROR:!n.levelRetry&&this.state===se.WAITING_TRACK&&((r=n.context)==null?void 0:r.type)===et.AUDIO_TRACK&&(this.state=se.IDLE);break;case Q.BUFFER_APPEND_ERROR:case Q.BUFFER_FULL_ERROR:if(!n.parent||n.parent!=="audio")return;if(n.details===Q.BUFFER_APPEND_ERROR){this.resetLoadingState();return}this.reduceLengthAndFlushBuffer(n)&&(this.bufferedTrack=null,super.flushMainBuffer(0,Number.POSITIVE_INFINITY,"audio"));break;case Q.INTERNAL_EXCEPTION:this.recoverWorkerError(n);break}}onBufferFlushing(e,{type:n}){n!==gt.VIDEO&&(this.flushing=!0)}onBufferFlushed(e,{type:n}){if(n!==gt.VIDEO){this.flushing=!1,this.bufferFlushed=!0,this.state===se.ENDED&&(this.state=se.IDLE);const r=this.mediaBuffer||this.media;r&&(this.afterBufferFlushed(r,n,Pe.AUDIO),this.tick())}}_handleTransmuxComplete(e){var n;const r="audio",{hls:s}=this,{remuxResult:i,chunkMeta:o}=e,a=this.getCurrentContext(o);if(!a){this.resetWhenMissingContext(o);return}const{frag:l,part:c,level:u}=a,{details:d}=u,{audio:f,text:p,id3:m,initSegment:g}=i;if(this.fragContextChanged(l)||!d){this.fragmentTracker.removeFragment(l);return}if(this.state=se.PARSING,this.switchingTrack&&f&&this.completeAudioSwitch(this.switchingTrack),g!=null&&g.tracks){const y=l.initSegment||l;this._bufferInitSegment(u,g.tracks,y,o),s.trigger(_.FRAG_PARSING_INIT_SEGMENT,{frag:y,id:r,tracks:g.tracks})}if(f){const{startPTS:y,endPTS:x,startDTS:v,endDTS:b}=f;c&&(c.elementaryStreams[gt.AUDIO]={startPTS:y,endPTS:x,startDTS:v,endDTS:b}),l.setElementaryStreamInfo(gt.AUDIO,y,x,v,b),this.bufferFragmentData(f,l,c,o)}if(m!=null&&(n=m.samples)!=null&&n.length){const y=yn({id:r,frag:l,details:d},m);s.trigger(_.FRAG_PARSING_METADATA,y)}if(p){const y=yn({id:r,frag:l,details:d},p);s.trigger(_.FRAG_PARSING_USERDATA,y)}}_bufferInitSegment(e,n,r,s){if(this.state!==se.PARSING)return;n.video&&delete n.video;const i=n.audio;if(!i)return;i.id="audio";const o=e.audioCodec;this.log(`Init audio buffer, container:${i.container}, codecs[level/parsed]=[${o}/${i.codec}]`),o&&o.split(",").length===1&&(i.levelCodec=o),this.hls.trigger(_.BUFFER_CODECS,n);const a=i.initSegment;if(a!=null&&a.byteLength){const l={type:"audio",frag:r,part:null,chunkMeta:s,parent:r.type,data:a};this.hls.trigger(_.BUFFER_APPENDING,l)}this.tickImmediate()}loadFragment(e,n,r){const s=this.fragmentTracker.getState(e);if(this.fragCurrent=e,this.switchingTrack||s===Ln.NOT_LOADED||s===Ln.PARTIAL){var i;if(e.sn==="initSegment")this._loadInitSegment(e,n);else if((i=n.details)!=null&&i.live&&!this.initPTS[e.cc]){this.log(`Waiting for video PTS in continuity counter ${e.cc} of live stream before loading audio fragment ${e.sn} of level ${this.trackId}`),this.state=se.WAITING_INIT_PTS;const o=this.mainDetails;o&&o.fragments[0].start!==n.details.fragments[0].start&&Jg(n.details,o)}else this.startFragRequested=!0,super.loadFragment(e,n,r)}else this.clearTrackerIfNeeded(e)}flushAudioIfNeeded(e){const{media:n,bufferedTrack:r}=this,s=r==null?void 0:r.attrs,i=e.attrs;n&&s&&(s.CHANNELS!==i.CHANNELS||r.name!==e.name||r.lang!==e.lang)&&(this.log("Switching audio track : flushing all audio"),super.flushMainBuffer(0,Number.POSITIVE_INFINITY,"audio"),this.bufferedTrack=null)}completeAudioSwitch(e){const{hls:n}=this;this.flushAudioIfNeeded(e),this.bufferedTrack=e,this.switchingTrack=null,n.trigger(_.AUDIO_TRACK_SWITCHED,Mn({},e))}}class Zpe extends cE{constructor(e){super(e,"[audio-track-controller]"),this.tracks=[],this.groupIds=null,this.tracksInGroup=[],this.trackId=-1,this.currentTrack=null,this.selectDefaultTrack=!0,this.registerListeners()}registerListeners(){const{hls:e}=this;e.on(_.MANIFEST_LOADING,this.onManifestLoading,this),e.on(_.MANIFEST_PARSED,this.onManifestParsed,this),e.on(_.LEVEL_LOADING,this.onLevelLoading,this),e.on(_.LEVEL_SWITCHING,this.onLevelSwitching,this),e.on(_.AUDIO_TRACK_LOADED,this.onAudioTrackLoaded,this),e.on(_.ERROR,this.onError,this)}unregisterListeners(){const{hls:e}=this;e.off(_.MANIFEST_LOADING,this.onManifestLoading,this),e.off(_.MANIFEST_PARSED,this.onManifestParsed,this),e.off(_.LEVEL_LOADING,this.onLevelLoading,this),e.off(_.LEVEL_SWITCHING,this.onLevelSwitching,this),e.off(_.AUDIO_TRACK_LOADED,this.onAudioTrackLoaded,this),e.off(_.ERROR,this.onError,this)}destroy(){this.unregisterListeners(),this.tracks.length=0,this.tracksInGroup.length=0,this.currentTrack=null,super.destroy()}onManifestLoading(){this.tracks=[],this.tracksInGroup=[],this.groupIds=null,this.currentTrack=null,this.trackId=-1,this.selectDefaultTrack=!0}onManifestParsed(e,n){this.tracks=n.audioTracks||[]}onAudioTrackLoaded(e,n){const{id:r,groupId:s,details:i}=n,o=this.tracksInGroup[r];if(!o||o.groupId!==s){this.warn(`Audio track with id:${r} and group:${s} not found in active group ${o==null?void 0:o.groupId}`);return}const a=o.details;o.details=n.details,this.log(`Audio track ${r} "${o.name}" lang:${o.lang} group:${s} loaded [${i.startSN}-${i.endSN}]`),r===this.trackId&&this.playlistLoaded(r,n,a)}onLevelLoading(e,n){this.switchLevel(n.level)}onLevelSwitching(e,n){this.switchLevel(n.level)}switchLevel(e){const n=this.hls.levels[e];if(!n)return;const r=n.audioGroups||null,s=this.groupIds;let i=this.currentTrack;if(!r||(s==null?void 0:s.length)!==(r==null?void 0:r.length)||r!=null&&r.some(a=>(s==null?void 0:s.indexOf(a))===-1)){this.groupIds=r,this.trackId=-1,this.currentTrack=null;const a=this.tracks.filter(f=>!r||r.indexOf(f.groupId)!==-1);if(a.length)this.selectDefaultTrack&&!a.some(f=>f.default)&&(this.selectDefaultTrack=!1),a.forEach((f,p)=>{f.id=p});else if(!i&&!this.tracksInGroup.length)return;this.tracksInGroup=a;const l=this.hls.config.audioPreference;if(!i&&l){const f=Si(l,a,Jl);if(f>-1)i=a[f];else{const p=Si(l,this.tracks);i=this.tracks[p]}}let c=this.findTrackId(i);c===-1&&i&&(c=this.findTrackId(null));const u={audioTracks:a};this.log(`Updating audio tracks, ${a.length} track(s) found in group(s): ${r==null?void 0:r.join(",")}`),this.hls.trigger(_.AUDIO_TRACKS_UPDATED,u);const d=this.trackId;if(c!==-1&&d===-1)this.setAudioTrack(c);else if(a.length&&d===-1){var o;const f=new Error(`No audio track selected for current audio group-ID(s): ${(o=this.groupIds)==null?void 0:o.join(",")} track count: ${a.length}`);this.warn(f.message),this.hls.trigger(_.ERROR,{type:Me.MEDIA_ERROR,details:Q.AUDIO_TRACK_LOAD_ERROR,fatal:!0,error:f})}}else this.shouldReloadPlaylist(i)&&this.setAudioTrack(this.trackId)}onError(e,n){n.fatal||!n.context||n.context.type===et.AUDIO_TRACK&&n.context.id===this.trackId&&(!this.groupIds||this.groupIds.indexOf(n.context.groupId)!==-1)&&(this.requestScheduled=-1,this.checkRetry(n))}get allAudioTracks(){return this.tracks}get audioTracks(){return this.tracksInGroup}get audioTrack(){return this.trackId}set audioTrack(e){this.selectDefaultTrack=!1,this.setAudioTrack(e)}setAudioOption(e){const n=this.hls;if(n.config.audioPreference=e,e){const r=this.allAudioTracks;if(this.selectDefaultTrack=!1,r.length){const s=this.currentTrack;if(s&&Hc(e,s,Jl))return s;const i=Si(e,this.tracksInGroup,Jl);if(i>-1){const o=this.tracksInGroup[i];return this.setAudioTrack(i),o}else if(s){let o=n.loadLevel;o===-1&&(o=n.firstAutoLevel);const a=Zhe(e,n.levels,r,o,Jl);if(a===-1)return null;n.nextLoadLevel=a}if(e.channels||e.audioCodec){const o=Si(e,r);if(o>-1)return r[o]}}}return null}setAudioTrack(e){const n=this.tracksInGroup;if(e<0||e>=n.length){this.warn(`Invalid audio track id: ${e}`);return}this.clearTimer(),this.selectDefaultTrack=!1;const r=this.currentTrack,s=n[e],i=s.details&&!s.details.live;if(e===this.trackId&&s===r&&i||(this.log(`Switching to audio-track ${e} "${s.name}" lang:${s.lang} group:${s.groupId} channels:${s.channels}`),this.trackId=e,this.currentTrack=s,this.hls.trigger(_.AUDIO_TRACK_SWITCHING,Mn({},s)),i))return;const o=this.switchParams(s.url,r==null?void 0:r.details,s.details);this.loadPlaylist(o)}findTrackId(e){const n=this.tracksInGroup;for(let r=0;r<n.length;r++){const s=n[r];if(!(this.selectDefaultTrack&&!s.default)&&(!e||Hc(e,s,Jl)))return r}if(e){const{name:r,lang:s,assocLang:i,characteristics:o,audioCodec:a,channels:l}=e;for(let c=0;c<n.length;c++){const u=n[c];if(Hc({name:r,lang:s,assocLang:i,characteristics:o,audioCodec:a,channels:l},u,Jl))return c}for(let c=0;c<n.length;c++){const u=n[c];if(xu(e.attrs,u.attrs,["LANGUAGE","ASSOC-LANGUAGE","CHARACTERISTICS"]))return c}for(let c=0;c<n.length;c++){const u=n[c];if(xu(e.attrs,u.attrs,["LANGUAGE"]))return c}}return-1}loadPlaylist(e){const n=this.currentTrack;if(this.shouldLoadPlaylist(n)&&n){super.loadPlaylist();const r=n.id,s=n.groupId;let i=n.url;if(e)try{i=e.addDirectives(i)}catch(o){this.warn(`Could not construct new URL with HLS Delivery Directives: ${o}`)}this.log(`loading audio-track playlist ${r} "${n.name}" lang:${n.lang} group:${s}`),this.clearTimer(),this.hls.trigger(_.AUDIO_TRACK_LOADING,{url:i,id:r,groupId:s,deliveryDirectives:e||null})}}}const rL=500;class Jpe extends fE{constructor(e,n,r){super(e,n,r,"[subtitle-stream-controller]",Pe.SUBTITLE),this.currentTrackId=-1,this.tracksBuffered=[],this.mainDetails=null,this._registerListeners()}onHandlerDestroying(){this._unregisterListeners(),super.onHandlerDestroying(),this.mainDetails=null}_registerListeners(){const{hls:e}=this;e.on(_.MEDIA_ATTACHED,this.onMediaAttached,this),e.on(_.MEDIA_DETACHING,this.onMediaDetaching,this),e.on(_.MANIFEST_LOADING,this.onManifestLoading,this),e.on(_.LEVEL_LOADED,this.onLevelLoaded,this),e.on(_.ERROR,this.onError,this),e.on(_.SUBTITLE_TRACKS_UPDATED,this.onSubtitleTracksUpdated,this),e.on(_.SUBTITLE_TRACK_SWITCH,this.onSubtitleTrackSwitch,this),e.on(_.SUBTITLE_TRACK_LOADED,this.onSubtitleTrackLoaded,this),e.on(_.SUBTITLE_FRAG_PROCESSED,this.onSubtitleFragProcessed,this),e.on(_.BUFFER_FLUSHING,this.onBufferFlushing,this),e.on(_.FRAG_BUFFERED,this.onFragBuffered,this)}_unregisterListeners(){const{hls:e}=this;e.off(_.MEDIA_ATTACHED,this.onMediaAttached,this),e.off(_.MEDIA_DETACHING,this.onMediaDetaching,this),e.off(_.MANIFEST_LOADING,this.onManifestLoading,this),e.off(_.LEVEL_LOADED,this.onLevelLoaded,this),e.off(_.ERROR,this.onError,this),e.off(_.SUBTITLE_TRACKS_UPDATED,this.onSubtitleTracksUpdated,this),e.off(_.SUBTITLE_TRACK_SWITCH,this.onSubtitleTrackSwitch,this),e.off(_.SUBTITLE_TRACK_LOADED,this.onSubtitleTrackLoaded,this),e.off(_.SUBTITLE_FRAG_PROCESSED,this.onSubtitleFragProcessed,this),e.off(_.BUFFER_FLUSHING,this.onBufferFlushing,this),e.off(_.FRAG_BUFFERED,this.onFragBuffered,this)}startLoad(e){this.stopLoad(),this.state=se.IDLE,this.setInterval(rL),this.nextLoadPosition=this.startPosition=this.lastCurrentTime=e,this.tick()}onManifestLoading(){this.mainDetails=null,this.fragmentTracker.removeAllFragments()}onMediaDetaching(){this.tracksBuffered=[],super.onMediaDetaching()}onLevelLoaded(e,n){this.mainDetails=n.details}onSubtitleFragProcessed(e,n){const{frag:r,success:s}=n;if(this.fragPrevious=r,this.state=se.IDLE,!s)return;const i=this.tracksBuffered[this.currentTrackId];if(!i)return;let o;const a=r.start;for(let c=0;c<i.length;c++)if(a>=i[c].start&&a<=i[c].end){o=i[c];break}const l=r.start+r.duration;o?o.end=l:(o={start:a,end:l},i.push(o)),this.fragmentTracker.fragBuffered(r),this.fragBufferedComplete(r,null)}onBufferFlushing(e,n){const{startOffset:r,endOffset:s}=n;if(r===0&&s!==Number.POSITIVE_INFINITY){const i=s-1;if(i<=0)return;n.endOffsetSubtitles=Math.max(0,i),this.tracksBuffered.forEach(o=>{for(let a=0;a<o.length;){if(o[a].end<=i){o.shift();continue}else if(o[a].start<i)o[a].start=i;else break;a++}}),this.fragmentTracker.removeFragmentsInRange(r,i,Pe.SUBTITLE)}}onFragBuffered(e,n){if(!this.loadedmetadata&&n.frag.type===Pe.MAIN){var r;(r=this.media)!=null&&r.buffered.length&&(this.loadedmetadata=!0)}}onError(e,n){const r=n.frag;(r==null?void 0:r.type)===Pe.SUBTITLE&&(n.details===Q.FRAG_GAP&&this.fragmentTracker.fragBuffered(r,!0),this.fragCurrent&&this.fragCurrent.abortRequests(),this.state!==se.STOPPED&&(this.state=se.IDLE))}onSubtitleTracksUpdated(e,{subtitleTracks:n}){if(this.levels&&tN(this.levels,n)){this.levels=n.map(r=>new vu(r));return}this.tracksBuffered=[],this.levels=n.map(r=>{const s=new vu(r);return this.tracksBuffered[s.id]=[],s}),this.fragmentTracker.removeFragmentsInRange(0,Number.POSITIVE_INFINITY,Pe.SUBTITLE),this.fragPrevious=null,this.mediaBuffer=null}onSubtitleTrackSwitch(e,n){var r;if(this.currentTrackId=n.id,!((r=this.levels)!=null&&r.length)||this.currentTrackId===-1){this.clearInterval();return}const s=this.levels[this.currentTrackId];s!=null&&s.details?this.mediaBuffer=this.mediaBufferTimeRanges:this.mediaBuffer=null,s&&this.setInterval(rL)}onSubtitleTrackLoaded(e,n){var r;const{currentTrackId:s,levels:i}=this,{details:o,id:a}=n;if(!i){this.warn(`Subtitle tracks were reset while loading level ${a}`);return}const l=i[a];if(a>=i.length||!l)return;this.log(`Subtitle track ${a} loaded [${o.startSN},${o.endSN}]${o.lastPartSn?`[part-${o.lastPartSn}-${o.lastPartIndex}]`:""},duration:${o.totalduration}`),this.mediaBuffer=this.mediaBufferTimeRanges;let c=0;if(o.live||(r=l.details)!=null&&r.live){const d=this.mainDetails;if(o.deltaUpdateFailed||!d)return;const f=d.fragments[0];if(!l.details)o.hasProgramDateTime&&d.hasProgramDateTime?(Jg(o,d),c=o.fragments[0].start):f&&(c=f.start,cS(o,c));else{var u;c=this.alignPlaylists(o,l.details,(u=this.levelLastLoaded)==null?void 0:u.details),c===0&&f&&(c=f.start,cS(o,c))}}l.details=o,this.levelLastLoaded=l,a===s&&(!this.startFragRequested&&(this.mainDetails||!o.live)&&this.setStartPosition(this.mainDetails||o,c),this.tick(),o.live&&!this.fragCurrent&&this.media&&this.state===se.IDLE&&(Zg(null,o.fragments,this.media.currentTime,0)||(this.warn("Subtitle playlist not aligned with playback"),l.details=void 0)))}_handleFragmentLoadComplete(e){const{frag:n,payload:r}=e,s=n.decryptdata,i=this.hls;if(!this.fragContextChanged(n)&&r&&r.byteLength>0&&s!=null&&s.key&&s.iv&&s.method==="AES-128"){const o=performance.now();this.decrypter.decrypt(new Uint8Array(r),s.key.buffer,s.iv.buffer).catch(a=>{throw i.trigger(_.ERROR,{type:Me.MEDIA_ERROR,details:Q.FRAG_DECRYPT_ERROR,fatal:!1,error:a,reason:a.message,frag:n}),a}).then(a=>{const l=performance.now();i.trigger(_.FRAG_DECRYPTED,{frag:n,payload:a,stats:{tstart:o,tdecrypt:l}})}).catch(a=>{this.warn(`${a.name}: ${a.message}`),this.state=se.IDLE})}}doTick(){if(!this.media){this.state=se.IDLE;return}if(this.state===se.IDLE){const{currentTrackId:e,levels:n}=this,r=n==null?void 0:n[e];if(!r||!n.length||!r.details)return;const{config:s}=this,i=this.getLoadPosition(),o=kt.bufferedInfo(this.tracksBuffered[this.currentTrackId]||[],i,s.maxBufferHole),{end:a,len:l}=o,c=this.getFwdBufferInfo(this.media,Pe.MAIN),u=r.details,d=this.getMaxBufferLength(c==null?void 0:c.len)+u.levelTargetDuration;if(l>d)return;const f=u.fragments,p=f.length,m=u.edge;let g=null;const y=this.fragPrevious;if(a<m){const x=s.maxFragLookUpTolerance,v=a>m-x?0:x;g=Zg(y,f,Math.max(f[0].start,a),v),!g&&y&&y.start<f[0].start&&(g=f[0])}else g=f[p-1];if(!g)return;if(g=this.mapToInitFragWhenRequired(g),g.sn!=="initSegment"){const x=g.sn-u.startSN,v=f[x-1];v&&v.cc===g.cc&&this.fragmentTracker.getState(v)===Ln.NOT_LOADED&&(g=v)}this.fragmentTracker.getState(g)===Ln.NOT_LOADED&&this.loadFragment(g,r,a)}}getMaxBufferLength(e){const n=super.getMaxBufferLength();return e?Math.max(n,e):n}loadFragment(e,n,r){this.fragCurrent=e,e.sn==="initSegment"?this._loadInitSegment(e,n):(this.startFragRequested=!0,super.loadFragment(e,n,r))}get mediaBufferTimeRanges(){return new eme(this.tracksBuffered[this.currentTrackId]||[])}}class eme{constructor(e){this.buffered=void 0;const n=(r,s,i)=>{if(s=s>>>0,s>i-1)throw new DOMException(`Failed to execute '${r}' on 'TimeRanges': The index provided (${s}) is greater than the maximum bound (${i})`);return e[s][r]};this.buffered={get length(){return e.length},end(r){return n("end",r,e.length)},start(r){return n("start",r,e.length)}}}}class tme extends cE{constructor(e){super(e,"[subtitle-track-controller]"),this.media=null,this.tracks=[],this.groupIds=null,this.tracksInGroup=[],this.trackId=-1,this.currentTrack=null,this.selectDefaultTrack=!0,this.queuedDefaultTrack=-1,this.asyncPollTrackChange=()=>this.pollTrackChange(0),this.useTextTrackPolling=!1,this.subtitlePollingInterval=-1,this._subtitleDisplay=!0,this.onTextTracksChanged=()=>{if(this.useTextTrackPolling||self.clearInterval(this.subtitlePollingInterval),!this.media||!this.hls.config.renderTextTracksNatively)return;let n=null;const r=Dm(this.media.textTracks);for(let i=0;i<r.length;i++)if(r[i].mode==="hidden")n=r[i];else if(r[i].mode==="showing"){n=r[i];break}const s=this.findTrackForTextTrack(n);this.subtitleTrack!==s&&this.setSubtitleTrack(s)},this.registerListeners()}destroy(){this.unregisterListeners(),this.tracks.length=0,this.tracksInGroup.length=0,this.currentTrack=null,this.onTextTracksChanged=this.asyncPollTrackChange=null,super.destroy()}get subtitleDisplay(){return this._subtitleDisplay}set subtitleDisplay(e){this._subtitleDisplay=e,this.trackId>-1&&this.toggleTrackModes()}registerListeners(){const{hls:e}=this;e.on(_.MEDIA_ATTACHED,this.onMediaAttached,this),e.on(_.MEDIA_DETACHING,this.onMediaDetaching,this),e.on(_.MANIFEST_LOADING,this.onManifestLoading,this),e.on(_.MANIFEST_PARSED,this.onManifestParsed,this),e.on(_.LEVEL_LOADING,this.onLevelLoading,this),e.on(_.LEVEL_SWITCHING,this.onLevelSwitching,this),e.on(_.SUBTITLE_TRACK_LOADED,this.onSubtitleTrackLoaded,this),e.on(_.ERROR,this.onError,this)}unregisterListeners(){const{hls:e}=this;e.off(_.MEDIA_ATTACHED,this.onMediaAttached,this),e.off(_.MEDIA_DETACHING,this.onMediaDetaching,this),e.off(_.MANIFEST_LOADING,this.onManifestLoading,this),e.off(_.MANIFEST_PARSED,this.onManifestParsed,this),e.off(_.LEVEL_LOADING,this.onLevelLoading,this),e.off(_.LEVEL_SWITCHING,this.onLevelSwitching,this),e.off(_.SUBTITLE_TRACK_LOADED,this.onSubtitleTrackLoaded,this),e.off(_.ERROR,this.onError,this)}onMediaAttached(e,n){this.media=n.media,this.media&&(this.queuedDefaultTrack>-1&&(this.subtitleTrack=this.queuedDefaultTrack,this.queuedDefaultTrack=-1),this.useTextTrackPolling=!(this.media.textTracks&&"onchange"in this.media.textTracks),this.useTextTrackPolling?this.pollTrackChange(500):this.media.textTracks.addEventListener("change",this.asyncPollTrackChange))}pollTrackChange(e){self.clearInterval(this.subtitlePollingInterval),this.subtitlePollingInterval=self.setInterval(this.onTextTracksChanged,e)}onMediaDetaching(){if(!this.media)return;self.clearInterval(this.subtitlePollingInterval),this.useTextTrackPolling||this.media.textTracks.removeEventListener("change",this.asyncPollTrackChange),this.trackId>-1&&(this.queuedDefaultTrack=this.trackId),Dm(this.media.textTracks).forEach(n=>{kc(n)}),this.subtitleTrack=-1,this.media=null}onManifestLoading(){this.tracks=[],this.groupIds=null,this.tracksInGroup=[],this.trackId=-1,this.currentTrack=null,this.selectDefaultTrack=!0}onManifestParsed(e,n){this.tracks=n.subtitleTracks}onSubtitleTrackLoaded(e,n){const{id:r,groupId:s,details:i}=n,o=this.tracksInGroup[r];if(!o||o.groupId!==s){this.warn(`Subtitle track with id:${r} and group:${s} not found in active group ${o==null?void 0:o.groupId}`);return}const a=o.details;o.details=n.details,this.log(`Subtitle track ${r} "${o.name}" lang:${o.lang} group:${s} loaded [${i.startSN}-${i.endSN}]`),r===this.trackId&&this.playlistLoaded(r,n,a)}onLevelLoading(e,n){this.switchLevel(n.level)}onLevelSwitching(e,n){this.switchLevel(n.level)}switchLevel(e){const n=this.hls.levels[e];if(!n)return;const r=n.subtitleGroups||null,s=this.groupIds;let i=this.currentTrack;if(!r||(s==null?void 0:s.length)!==(r==null?void 0:r.length)||r!=null&&r.some(o=>(s==null?void 0:s.indexOf(o))===-1)){this.groupIds=r,this.trackId=-1,this.currentTrack=null;const o=this.tracks.filter(u=>!r||r.indexOf(u.groupId)!==-1);if(o.length)this.selectDefaultTrack&&!o.some(u=>u.default)&&(this.selectDefaultTrack=!1),o.forEach((u,d)=>{u.id=d});else if(!i&&!this.tracksInGroup.length)return;this.tracksInGroup=o;const a=this.hls.config.subtitlePreference;if(!i&&a){this.selectDefaultTrack=!1;const u=Si(a,o);if(u>-1)i=o[u];else{const d=Si(a,this.tracks);i=this.tracks[d]}}let l=this.findTrackId(i);l===-1&&i&&(l=this.findTrackId(null));const c={subtitleTracks:o};this.log(`Updating subtitle tracks, ${o.length} track(s) found in "${r==null?void 0:r.join(",")}" group-id`),this.hls.trigger(_.SUBTITLE_TRACKS_UPDATED,c),l!==-1&&this.trackId===-1&&this.setSubtitleTrack(l)}else this.shouldReloadPlaylist(i)&&this.setSubtitleTrack(this.trackId)}findTrackId(e){const n=this.tracksInGroup,r=this.selectDefaultTrack;for(let s=0;s<n.length;s++){const i=n[s];if(!(r&&!i.default||!r&&!e)&&(!e||Hc(i,e)))return s}if(e){for(let s=0;s<n.length;s++){const i=n[s];if(xu(e.attrs,i.attrs,["LANGUAGE","ASSOC-LANGUAGE","CHARACTERISTICS"]))return s}for(let s=0;s<n.length;s++){const i=n[s];if(xu(e.attrs,i.attrs,["LANGUAGE"]))return s}}return-1}findTrackForTextTrack(e){if(e){const n=this.tracksInGroup;for(let r=0;r<n.length;r++){const s=n[r];if(fS(s,e))return r}}return-1}onError(e,n){n.fatal||!n.context||n.context.type===et.SUBTITLE_TRACK&&n.context.id===this.trackId&&(!this.groupIds||this.groupIds.indexOf(n.context.groupId)!==-1)&&this.checkRetry(n)}get allSubtitleTracks(){return this.tracks}get subtitleTracks(){return this.tracksInGroup}get subtitleTrack(){return this.trackId}set subtitleTrack(e){this.selectDefaultTrack=!1,this.setSubtitleTrack(e)}setSubtitleOption(e){if(this.hls.config.subtitlePreference=e,e){const n=this.allSubtitleTracks;if(this.selectDefaultTrack=!1,n.length){const r=this.currentTrack;if(r&&Hc(e,r))return r;const s=Si(e,this.tracksInGroup);if(s>-1){const i=this.tracksInGroup[s];return this.setSubtitleTrack(s),i}else{if(r)return null;{const i=Si(e,n);if(i>-1)return n[i]}}}}return null}loadPlaylist(e){super.loadPlaylist();const n=this.currentTrack;if(this.shouldLoadPlaylist(n)&&n){const r=n.id,s=n.groupId;let i=n.url;if(e)try{i=e.addDirectives(i)}catch(o){this.warn(`Could not construct new URL with HLS Delivery Directives: ${o}`)}this.log(`Loading subtitle playlist for id ${r}`),this.hls.trigger(_.SUBTITLE_TRACK_LOADING,{url:i,id:r,groupId:s,deliveryDirectives:e||null})}}toggleTrackModes(){const{media:e}=this;if(!e)return;const n=Dm(e.textTracks),r=this.currentTrack;let s;if(r&&(s=n.filter(i=>fS(r,i))[0],s||this.warn(`Unable to find subtitle TextTrack with name "${r.name}" and language "${r.lang}"`)),[].slice.call(n).forEach(i=>{i.mode!=="disabled"&&i!==s&&(i.mode="disabled")}),s){const i=this.subtitleDisplay?"showing":"hidden";s.mode!==i&&(s.mode=i)}}setSubtitleTrack(e){const n=this.tracksInGroup;if(!this.media){this.queuedDefaultTrack=e;return}if(e<-1||e>=n.length||!xe(e)){this.warn(`Invalid subtitle track id: ${e}`);return}this.clearTimer(),this.selectDefaultTrack=!1;const r=this.currentTrack,s=n[e]||null;if(this.trackId=e,this.currentTrack=s,this.toggleTrackModes(),!s){this.hls.trigger(_.SUBTITLE_TRACK_SWITCH,{id:e});return}const i=!!s.details&&!s.details.live;if(e===this.trackId&&s===r&&i)return;this.log(`Switching to subtitle-track ${e}`+(s?` "${s.name}" lang:${s.lang} group:${s.groupId}`:""));const{id:o,groupId:a="",name:l,type:c,url:u}=s;this.hls.trigger(_.SUBTITLE_TRACK_SWITCH,{id:o,groupId:a,name:l,type:c,url:u});const d=this.switchParams(s.url,r==null?void 0:r.details,s.details);this.loadPlaylist(d)}}class nme{constructor(e){this.buffers=void 0,this.queues={video:[],audio:[],audiovideo:[]},this.buffers=e}append(e,n,r){const s=this.queues[n];s.push(e),s.length===1&&!r&&this.executeNext(n)}insertAbort(e,n){this.queues[n].unshift(e),this.executeNext(n)}appendBlocker(e){let n;const r=new Promise(i=>{n=i}),s={execute:n,onStart:()=>{},onComplete:()=>{},onError:()=>{}};return this.append(s,e),r}executeNext(e){const n=this.queues[e];if(n.length){const r=n[0];try{r.execute()}catch(s){H.warn(`[buffer-operation-queue]: Exception executing "${e}" SourceBuffer operation: ${s}`),r.onError(s);const i=this.buffers[e];i!=null&&i.updating||this.shiftAndExecuteNext(e)}}}shiftAndExecuteNext(e){this.queues[e].shift(),this.executeNext(e)}current(e){return this.queues[e][0]}}const sL=/(avc[1234]|hvc1|hev1|dvh[1e]|vp09|av01)(?:\.[^.,]+)+/;class rme{constructor(e){this.details=null,this._objectUrl=null,this.operationQueue=void 0,this.listeners=void 0,this.hls=void 0,this.bufferCodecEventsExpected=0,this._bufferCodecEventsTotal=0,this.media=null,this.mediaSource=null,this.lastMpegAudioChunk=null,this.appendSource=void 0,this.appendErrors={audio:0,video:0,audiovideo:0},this.tracks={},this.pendingTracks={},this.sourceBuffer=void 0,this.log=void 0,this.warn=void 0,this.error=void 0,this._onEndStreaming=r=>{this.hls&&this.hls.pauseBuffering()},this._onStartStreaming=r=>{this.hls&&this.hls.resumeBuffering()},this._onMediaSourceOpen=()=>{const{media:r,mediaSource:s}=this;this.log("Media source opened"),r&&(r.removeEventListener("emptied",this._onMediaEmptied),this.updateMediaElementDuration(),this.hls.trigger(_.MEDIA_ATTACHED,{media:r,mediaSource:s})),s&&s.removeEventListener("sourceopen",this._onMediaSourceOpen),this.checkPendingTracks()},this._onMediaSourceClose=()=>{this.log("Media source closed")},this._onMediaSourceEnded=()=>{this.log("Media source ended")},this._onMediaEmptied=()=>{const{mediaSrc:r,_objectUrl:s}=this;r!==s&&H.error(`Media element src was set while attaching MediaSource (${s} > ${r})`)},this.hls=e;const n="[buffer-controller]";this.appendSource=fhe(Rl(e.config.preferManagedMediaSource)),this.log=H.log.bind(H,n),this.warn=H.warn.bind(H,n),this.error=H.error.bind(H,n),this._initSourceBuffer(),this.registerListeners()}hasSourceTypes(){return this.getSourceBufferTypes().length>0||Object.keys(this.pendingTracks).length>0}destroy(){this.unregisterListeners(),this.details=null,this.lastMpegAudioChunk=null,this.hls=null}registerListeners(){const{hls:e}=this;e.on(_.MEDIA_ATTACHING,this.onMediaAttaching,this),e.on(_.MEDIA_DETACHING,this.onMediaDetaching,this),e.on(_.MANIFEST_LOADING,this.onManifestLoading,this),e.on(_.MANIFEST_PARSED,this.onManifestParsed,this),e.on(_.BUFFER_RESET,this.onBufferReset,this),e.on(_.BUFFER_APPENDING,this.onBufferAppending,this),e.on(_.BUFFER_CODECS,this.onBufferCodecs,this),e.on(_.BUFFER_EOS,this.onBufferEos,this),e.on(_.BUFFER_FLUSHING,this.onBufferFlushing,this),e.on(_.LEVEL_UPDATED,this.onLevelUpdated,this),e.on(_.FRAG_PARSED,this.onFragParsed,this),e.on(_.FRAG_CHANGED,this.onFragChanged,this)}unregisterListeners(){const{hls:e}=this;e.off(_.MEDIA_ATTACHING,this.onMediaAttaching,this),e.off(_.MEDIA_DETACHING,this.onMediaDetaching,this),e.off(_.MANIFEST_LOADING,this.onManifestLoading,this),e.off(_.MANIFEST_PARSED,this.onManifestParsed,this),e.off(_.BUFFER_RESET,this.onBufferReset,this),e.off(_.BUFFER_APPENDING,this.onBufferAppending,this),e.off(_.BUFFER_CODECS,this.onBufferCodecs,this),e.off(_.BUFFER_EOS,this.onBufferEos,this),e.off(_.BUFFER_FLUSHING,this.onBufferFlushing,this),e.off(_.LEVEL_UPDATED,this.onLevelUpdated,this),e.off(_.FRAG_PARSED,this.onFragParsed,this),e.off(_.FRAG_CHANGED,this.onFragChanged,this)}_initSourceBuffer(){this.sourceBuffer={},this.operationQueue=new nme(this.sourceBuffer),this.listeners={audio:[],video:[],audiovideo:[]},this.appendErrors={audio:0,video:0,audiovideo:0},this.lastMpegAudioChunk=null}onManifestLoading(){this.bufferCodecEventsExpected=this._bufferCodecEventsTotal=0,this.details=null}onManifestParsed(e,n){let r=2;(n.audio&&!n.video||!n.altAudio)&&(r=1),this.bufferCodecEventsExpected=this._bufferCodecEventsTotal=r,this.log(`${this.bufferCodecEventsExpected} bufferCodec event(s) expected`)}onMediaAttaching(e,n){const r=this.media=n.media,s=Rl(this.appendSource);if(r&&s){var i;const o=this.mediaSource=new s;this.log(`created media source: ${(i=o.constructor)==null?void 0:i.name}`),o.addEventListener("sourceopen",this._onMediaSourceOpen),o.addEventListener("sourceended",this._onMediaSourceEnded),o.addEventListener("sourceclose",this._onMediaSourceClose),this.appendSource&&(o.addEventListener("startstreaming",this._onStartStreaming),o.addEventListener("endstreaming",this._onEndStreaming));const a=this._objectUrl=self.URL.createObjectURL(o);if(this.appendSource)try{r.removeAttribute("src");const l=self.ManagedMediaSource;r.disableRemotePlayback=r.disableRemotePlayback||l&&o instanceof l,iL(r),sme(r,a),r.load()}catch{r.src=a}else r.src=a;r.addEventListener("emptied",this._onMediaEmptied)}}onMediaDetaching(){const{media:e,mediaSource:n,_objectUrl:r}=this;if(n){if(this.log("media source detaching"),n.readyState==="open")try{n.endOfStream()}catch(s){this.warn(`onMediaDetaching: ${s.message} while calling endOfStream`)}this.onBufferReset(),n.removeEventListener("sourceopen",this._onMediaSourceOpen),n.removeEventListener("sourceended",this._onMediaSourceEnded),n.removeEventListener("sourceclose",this._onMediaSourceClose),this.appendSource&&(n.removeEventListener("startstreaming",this._onStartStreaming),n.removeEventListener("endstreaming",this._onEndStreaming)),e&&(e.removeEventListener("emptied",this._onMediaEmptied),r&&self.URL.revokeObjectURL(r),this.mediaSrc===r?(e.removeAttribute("src"),this.appendSource&&iL(e),e.load()):this.warn("media|source.src was changed by a third party - skip cleanup")),this.mediaSource=null,this.media=null,this._objectUrl=null,this.bufferCodecEventsExpected=this._bufferCodecEventsTotal,this.pendingTracks={},this.tracks={}}this.hls.trigger(_.MEDIA_DETACHED,void 0)}onBufferReset(){this.getSourceBufferTypes().forEach(e=>{this.resetBuffer(e)}),this._initSourceBuffer()}resetBuffer(e){const n=this.sourceBuffer[e];try{if(n){var r;this.removeBufferListeners(e),this.sourceBuffer[e]=void 0,(r=this.mediaSource)!=null&&r.sourceBuffers.length&&this.mediaSource.removeSourceBuffer(n)}}catch(s){this.warn(`onBufferReset ${e}`,s)}}onBufferCodecs(e,n){const r=this.getSourceBufferTypes().length,s=Object.keys(n);if(s.forEach(o=>{if(r){const l=this.tracks[o];if(l&&typeof l.buffer.changeType=="function"){var a;const{id:c,codec:u,levelCodec:d,container:f,metadata:p}=n[o],m=k_(l.codec,l.levelCodec),g=m==null?void 0:m.replace(sL,"$1");let y=k_(u,d);const x=(a=y)==null?void 0:a.replace(sL,"$1");if(y&&g!==x){o.slice(0,5)==="audio"&&(y=Yg(y,this.appendSource));const v=`${f};codecs=${y}`;this.appendChangeType(o,v),this.log(`switching codec ${m} to ${y}`),this.tracks[o]={buffer:l.buffer,codec:u,container:f,levelCodec:d,metadata:p,id:c}}}}else this.pendingTracks[o]=n[o]}),r)return;const i=Math.max(this.bufferCodecEventsExpected-1,0);this.bufferCodecEventsExpected!==i&&(this.log(`${i} bufferCodec event(s) expected ${s.join(",")}`),this.bufferCodecEventsExpected=i),this.mediaSource&&this.mediaSource.readyState==="open"&&this.checkPendingTracks()}appendChangeType(e,n){const{operationQueue:r}=this,s={execute:()=>{const i=this.sourceBuffer[e];i&&(this.log(`changing ${e} sourceBuffer type to ${n}`),i.changeType(n)),r.shiftAndExecuteNext(e)},onStart:()=>{},onComplete:()=>{},onError:i=>{this.warn(`Failed to change ${e} SourceBuffer type`,i)}};r.append(s,e,!!this.pendingTracks[e])}onBufferAppending(e,n){const{hls:r,operationQueue:s,tracks:i}=this,{data:o,type:a,frag:l,part:c,chunkMeta:u}=n,d=u.buffering[a],f=self.performance.now();d.start=f;const p=l.stats.buffering,m=c?c.stats.buffering:null;p.start===0&&(p.start=f),m&&m.start===0&&(m.start=f);const g=i.audio;let y=!1;a==="audio"&&(g==null?void 0:g.container)==="audio/mpeg"&&(y=!this.lastMpegAudioChunk||u.id===1||this.lastMpegAudioChunk.sn!==u.sn,this.lastMpegAudioChunk=u);const x=l.start,v={execute:()=>{if(d.executeStart=self.performance.now(),y){const b=this.sourceBuffer[a];if(b){const w=x-b.timestampOffset;Math.abs(w)>=.1&&(this.log(`Updating audio SourceBuffer timestampOffset to ${x} (delta: ${w}) sn: ${l.sn})`),b.timestampOffset=x)}}this.appendExecutor(o,a)},onStart:()=>{},onComplete:()=>{const b=self.performance.now();d.executeEnd=d.end=b,p.first===0&&(p.first=b),m&&m.first===0&&(m.first=b);const{sourceBuffer:w}=this,T={};for(const C in w)T[C]=kt.getBuffered(w[C]);this.appendErrors[a]=0,a==="audio"||a==="video"?this.appendErrors.audiovideo=0:(this.appendErrors.audio=0,this.appendErrors.video=0),this.hls.trigger(_.BUFFER_APPENDED,{type:a,frag:l,part:c,chunkMeta:u,parent:l.type,timeRanges:T})},onError:b=>{const w={type:Me.MEDIA_ERROR,parent:l.type,details:Q.BUFFER_APPEND_ERROR,sourceBufferName:a,frag:l,part:c,chunkMeta:u,error:b,err:b,fatal:!1};if(b.code===DOMException.QUOTA_EXCEEDED_ERR)w.details=Q.BUFFER_FULL_ERROR;else{const T=++this.appendErrors[a];w.details=Q.BUFFER_APPEND_ERROR,this.warn(`Failed ${T}/${r.config.appendErrorMaxRetry} times to append segment in "${a}" sourceBuffer`),T>=r.config.appendErrorMaxRetry&&(w.fatal=!0)}r.trigger(_.ERROR,w)}};s.append(v,a,!!this.pendingTracks[a])}onBufferFlushing(e,n){const{operationQueue:r}=this,s=i=>({execute:this.removeExecutor.bind(this,i,n.startOffset,n.endOffset),onStart:()=>{},onComplete:()=>{this.hls.trigger(_.BUFFER_FLUSHED,{type:i})},onError:o=>{this.warn(`Failed to remove from ${i} SourceBuffer`,o)}});n.type?r.append(s(n.type),n.type):this.getSourceBufferTypes().forEach(i=>{r.append(s(i),i)})}onFragParsed(e,n){const{frag:r,part:s}=n,i=[],o=s?s.elementaryStreams:r.elementaryStreams;o[gt.AUDIOVIDEO]?i.push("audiovideo"):(o[gt.AUDIO]&&i.push("audio"),o[gt.VIDEO]&&i.push("video"));const a=()=>{const l=self.performance.now();r.stats.buffering.end=l,s&&(s.stats.buffering.end=l);const c=s?s.stats:r.stats;this.hls.trigger(_.FRAG_BUFFERED,{frag:r,part:s,stats:c,id:r.type})};i.length===0&&this.warn(`Fragments must have at least one ElementaryStreamType set. type: ${r.type} level: ${r.level} sn: ${r.sn}`),this.blockBuffers(a,i)}onFragChanged(e,n){this.trimBuffers()}onBufferEos(e,n){this.getSourceBufferTypes().reduce((s,i)=>{const o=this.sourceBuffer[i];return o&&(!n.type||n.type===i)&&(o.ending=!0,o.ended||(o.ended=!0,this.log(`${i} sourceBuffer now EOS`))),s&&!!(!o||o.ended)},!0)&&(this.log("Queueing mediaSource.endOfStream()"),this.blockBuffers(()=>{this.getSourceBufferTypes().forEach(i=>{const o=this.sourceBuffer[i];o&&(o.ending=!1)});const{mediaSource:s}=this;if(!s||s.readyState!=="open"){s&&this.log(`Could not call mediaSource.endOfStream(). mediaSource.readyState: ${s.readyState}`);return}this.log("Calling mediaSource.endOfStream()"),s.endOfStream()}))}onLevelUpdated(e,{details:n}){n.fragments.length&&(this.details=n,this.getSourceBufferTypes().length?this.blockBuffers(this.updateMediaElementDuration.bind(this)):this.updateMediaElementDuration())}trimBuffers(){const{hls:e,details:n,media:r}=this;if(!r||n===null||!this.getSourceBufferTypes().length)return;const i=e.config,o=r.currentTime,a=n.levelTargetDuration,l=n.live&&i.liveBackBufferLength!==null?i.liveBackBufferLength:i.backBufferLength;if(xe(l)&&l>0){const c=Math.max(l,a),u=Math.floor(o/a)*a-c;this.flushBackBuffer(o,a,u)}if(xe(i.frontBufferFlushThreshold)&&i.frontBufferFlushThreshold>0){const c=Math.max(i.maxBufferLength,i.frontBufferFlushThreshold),u=Math.max(c,a),d=Math.floor(o/a)*a+u;this.flushFrontBuffer(o,a,d)}}flushBackBuffer(e,n,r){const{details:s,sourceBuffer:i}=this;this.getSourceBufferTypes().forEach(a=>{const l=i[a];if(l){const c=kt.getBuffered(l);if(c.length>0&&r>c.start(0)){if(this.hls.trigger(_.BACK_BUFFER_REACHED,{bufferEnd:r}),s!=null&&s.live)this.hls.trigger(_.LIVE_BACK_BUFFER_REACHED,{bufferEnd:r});else if(l.ended&&c.end(c.length-1)-e<n*2){this.log(`Cannot flush ${a} back buffer while SourceBuffer is in ended state`);return}this.hls.trigger(_.BUFFER_FLUSHING,{startOffset:0,endOffset:r,type:a})}}})}flushFrontBuffer(e,n,r){const{sourceBuffer:s}=this;this.getSourceBufferTypes().forEach(o=>{const a=s[o];if(a){const l=kt.getBuffered(a),c=l.length;if(c<2)return;const u=l.start(c-1),d=l.end(c-1);if(r>u||e>=u&&e<=d)return;if(a.ended&&e-d<2*n){this.log(`Cannot flush ${o} front buffer while SourceBuffer is in ended state`);return}this.hls.trigger(_.BUFFER_FLUSHING,{startOffset:u,endOffset:1/0,type:o})}})}updateMediaElementDuration(){if(!this.details||!this.media||!this.mediaSource||this.mediaSource.readyState!=="open")return;const{details:e,hls:n,media:r,mediaSource:s}=this,i=e.fragments[0].start+e.totalduration,o=r.duration,a=xe(s.duration)?s.duration:0;e.live&&n.config.liveDurationInfinity?(s.duration=1/0,this.updateSeekableRange(e)):(i>a&&i>o||!xe(o))&&(this.log(`Updating Media Source duration to ${i.toFixed(3)}`),s.duration=i)}updateSeekableRange(e){const n=this.mediaSource,r=e.fragments;if(r.length&&e.live&&n!=null&&n.setLiveSeekableRange){const i=Math.max(0,r[0].start),o=Math.max(i,i+e.totalduration);this.log(`Media Source duration is set to ${n.duration}. Setting seekable range to ${i}-${o}.`),n.setLiveSeekableRange(i,o)}}checkPendingTracks(){const{bufferCodecEventsExpected:e,operationQueue:n,pendingTracks:r}=this,s=Object.keys(r).length;if(s&&(!e||s===2||"audiovideo"in r)){this.createSourceBuffers(r),this.pendingTracks={};const i=this.getSourceBufferTypes();if(i.length)this.hls.trigger(_.BUFFER_CREATED,{tracks:this.tracks}),i.forEach(o=>{n.executeNext(o)});else{const o=new Error("could not create source buffer for media codec(s)");this.hls.trigger(_.ERROR,{type:Me.MEDIA_ERROR,details:Q.BUFFER_INCOMPATIBLE_CODECS_ERROR,fatal:!0,error:o,reason:o.message})}}}createSourceBuffers(e){const{sourceBuffer:n,mediaSource:r}=this;if(!r)throw Error("createSourceBuffers called when mediaSource was null");for(const i in e)if(!n[i]){var s;const o=e[i];if(!o)throw Error(`source buffer exists for track ${i}, however track does not`);let a=((s=o.levelCodec)==null?void 0:s.indexOf(","))===-1?o.levelCodec:o.codec;a&&i.slice(0,5)==="audio"&&(a=Yg(a,this.appendSource));const l=`${o.container};codecs=${a}`;this.log(`creating sourceBuffer(${l})`);try{const c=n[i]=r.addSourceBuffer(l),u=i;this.addBufferListener(u,"updatestart",this._onSBUpdateStart),this.addBufferListener(u,"updateend",this._onSBUpdateEnd),this.addBufferListener(u,"error",this._onSBUpdateError),this.appendSource&&this.addBufferListener(u,"bufferedchange",(d,f)=>{const p=f.removedRanges;p!=null&&p.length&&this.hls.trigger(_.BUFFER_FLUSHED,{type:i})}),this.tracks[i]={buffer:c,codec:a,container:o.container,levelCodec:o.levelCodec,metadata:o.metadata,id:o.id}}catch(c){this.error(`error while trying to add sourceBuffer: ${c.message}`),this.hls.trigger(_.ERROR,{type:Me.MEDIA_ERROR,details:Q.BUFFER_ADD_CODEC_ERROR,fatal:!1,error:c,sourceBufferName:i,mimeType:l})}}}get mediaSrc(){var e,n;const r=((e=this.media)==null||(n=e.querySelector)==null?void 0:n.call(e,"source"))||this.media;return r==null?void 0:r.src}_onSBUpdateStart(e){const{operationQueue:n}=this;n.current(e).onStart()}_onSBUpdateEnd(e){var n;if(((n=this.mediaSource)==null?void 0:n.readyState)==="closed"){this.resetBuffer(e);return}const{operationQueue:r}=this;r.current(e).onComplete(),r.shiftAndExecuteNext(e)}_onSBUpdateError(e,n){var r;const s=new Error(`${e} SourceBuffer error. MediaSource readyState: ${(r=this.mediaSource)==null?void 0:r.readyState}`);this.error(`${s}`,n),this.hls.trigger(_.ERROR,{type:Me.MEDIA_ERROR,details:Q.BUFFER_APPENDING_ERROR,sourceBufferName:e,error:s,fatal:!1});const i=this.operationQueue.current(e);i&&i.onError(s)}removeExecutor(e,n,r){const{media:s,mediaSource:i,operationQueue:o,sourceBuffer:a}=this,l=a[e];if(!s||!i||!l){this.warn(`Attempting to remove from the ${e} SourceBuffer, but it does not exist`),o.shiftAndExecuteNext(e);return}const c=xe(s.duration)?s.duration:1/0,u=xe(i.duration)?i.duration:1/0,d=Math.max(0,n),f=Math.min(r,c,u);f>d&&(!l.ending||l.ended)?(l.ended=!1,this.log(`Removing [${d},${f}] from the ${e} SourceBuffer`),l.remove(d,f)):o.shiftAndExecuteNext(e)}appendExecutor(e,n){const r=this.sourceBuffer[n];if(!r){if(!this.pendingTracks[n])throw new Error(`Attempting to append to the ${n} SourceBuffer, but it does not exist`);return}r.ended=!1,r.appendBuffer(e)}blockBuffers(e,n=this.getSourceBufferTypes()){if(!n.length){this.log("Blocking operation requested, but no SourceBuffers exist"),Promise.resolve().then(e);return}const{operationQueue:r}=this,s=n.map(i=>r.appendBlocker(i));Promise.all(s).then(()=>{e(),n.forEach(i=>{const o=this.sourceBuffer[i];o!=null&&o.updating||r.shiftAndExecuteNext(i)})})}getSourceBufferTypes(){return Object.keys(this.sourceBuffer)}addBufferListener(e,n,r){const s=this.sourceBuffer[e];if(!s)return;const i=r.bind(this,e);this.listeners[e].push({event:n,listener:i}),s.addEventListener(n,i)}removeBufferListeners(e){const n=this.sourceBuffer[e];n&&this.listeners[e].forEach(r=>{n.removeEventListener(r.event,r.listener)})}}function iL(t){const e=t.querySelectorAll("source");[].slice.call(e).forEach(n=>{t.removeChild(n)})}function sme(t,e){const n=self.document.createElement("source");n.type="video/mp4",n.src=e,t.appendChild(n)}const ime={42:225,92:233,94:237,95:243,96:250,123:231,124:247,125:209,126:241,127:9608,128:174,129:176,130:189,131:191,132:8482,133:162,134:163,135:9834,136:224,137:32,138:232,139:226,140:234,141:238,142:244,143:251,144:193,145:201,146:211,147:218,148:220,149:252,150:8216,151:161,152:42,153:8217,154:9473,155:169,156:8480,157:8226,158:8220,159:8221,160:192,161:194,162:199,163:200,164:202,165:203,166:235,167:206,168:207,169:239,170:212,171:217,172:249,173:219,174:171,175:187,176:195,177:227,178:205,179:204,180:236,181:210,182:242,183:213,184:245,185:123,186:125,187:92,188:94,189:95,190:124,191:8764,192:196,193:228,194:214,195:246,196:223,197:165,198:164,199:9475,200:197,201:229,202:216,203:248,204:9487,205:9491,206:9495,207:9499},nN=t=>String.fromCharCode(ime[t]||t),Us=15,zi=100,ome={17:1,18:3,21:5,22:7,23:9,16:11,19:12,20:14},ame={17:2,18:4,21:6,22:8,23:10,19:13,20:15},lme={25:1,26:3,29:5,30:7,31:9,24:11,27:12,28:14},cme={25:2,26:4,29:6,30:8,31:10,27:13,28:15},ume=["white","green","blue","cyan","red","yellow","magenta","black","transparent"];class dme{constructor(){this.time=null,this.verboseLevel=0}log(e,n){if(this.verboseLevel>=e){const r=typeof n=="function"?n():n;H.log(`${this.time} [${e}] ${r}`)}}}const Ia=function(e){const n=[];for(let r=0;r<e.length;r++)n.push(e[r].toString(16));return n};class rN{constructor(){this.foreground="white",this.underline=!1,this.italics=!1,this.background="black",this.flash=!1}reset(){this.foreground="white",this.underline=!1,this.italics=!1,this.background="black",this.flash=!1}setStyles(e){const n=["foreground","underline","italics","background","flash"];for(let r=0;r<n.length;r++){const s=n[r];e.hasOwnProperty(s)&&(this[s]=e[s])}}isDefault(){return this.foreground==="white"&&!this.underline&&!this.italics&&this.background==="black"&&!this.flash}equals(e){return this.foreground===e.foreground&&this.underline===e.underline&&this.italics===e.italics&&this.background===e.background&&this.flash===e.flash}copy(e){this.foreground=e.foreground,this.underline=e.underline,this.italics=e.italics,this.background=e.background,this.flash=e.flash}toString(){return"color="+this.foreground+", underline="+this.underline+", italics="+this.italics+", background="+this.background+", flash="+this.flash}}class fme{constructor(){this.uchar=" ",this.penState=new rN}reset(){this.uchar=" ",this.penState.reset()}setChar(e,n){this.uchar=e,this.penState.copy(n)}setPenState(e){this.penState.copy(e)}equals(e){return this.uchar===e.uchar&&this.penState.equals(e.penState)}copy(e){this.uchar=e.uchar,this.penState.copy(e.penState)}isEmpty(){return this.uchar===" "&&this.penState.isDefault()}}class hme{constructor(e){this.chars=[],this.pos=0,this.currPenState=new rN,this.cueStartTime=null,this.logger=void 0;for(let n=0;n<zi;n++)this.chars.push(new fme);this.logger=e}equals(e){for(let n=0;n<zi;n++)if(!this.chars[n].equals(e.chars[n]))return!1;return!0}copy(e){for(let n=0;n<zi;n++)this.chars[n].copy(e.chars[n])}isEmpty(){let e=!0;for(let n=0;n<zi;n++)if(!this.chars[n].isEmpty()){e=!1;break}return e}setCursor(e){this.pos!==e&&(this.pos=e),this.pos<0?(this.logger.log(3,"Negative cursor position "+this.pos),this.pos=0):this.pos>zi&&(this.logger.log(3,"Too large cursor position "+this.pos),this.pos=zi)}moveCursor(e){const n=this.pos+e;if(e>1)for(let r=this.pos+1;r<n+1;r++)this.chars[r].setPenState(this.currPenState);this.setCursor(n)}backSpace(){this.moveCursor(-1),this.chars[this.pos].setChar(" ",this.currPenState)}insertChar(e){e>=144&&this.backSpace();const n=nN(e);if(this.pos>=zi){this.logger.log(0,()=>"Cannot insert "+e.toString(16)+" ("+n+") at position "+this.pos+". Skipping it!");return}this.chars[this.pos].setChar(n,this.currPenState),this.moveCursor(1)}clearFromPos(e){let n;for(n=e;n<zi;n++)this.chars[n].reset()}clear(){this.clearFromPos(0),this.pos=0,this.currPenState.reset()}clearToEndOfRow(){this.clearFromPos(this.pos)}getTextString(){const e=[];let n=!0;for(let r=0;r<zi;r++){const s=this.chars[r].uchar;s!==" "&&(n=!1),e.push(s)}return n?"":e.join("")}setPenStyles(e){this.currPenState.setStyles(e),this.chars[this.pos].setPenState(this.currPenState)}}class Px{constructor(e){this.rows=[],this.currRow=Us-1,this.nrRollUpRows=null,this.lastOutputScreen=null,this.logger=void 0;for(let n=0;n<Us;n++)this.rows.push(new hme(e));this.logger=e}reset(){for(let e=0;e<Us;e++)this.rows[e].clear();this.currRow=Us-1}equals(e){let n=!0;for(let r=0;r<Us;r++)if(!this.rows[r].equals(e.rows[r])){n=!1;break}return n}copy(e){for(let n=0;n<Us;n++)this.rows[n].copy(e.rows[n])}isEmpty(){let e=!0;for(let n=0;n<Us;n++)if(!this.rows[n].isEmpty()){e=!1;break}return e}backSpace(){this.rows[this.currRow].backSpace()}clearToEndOfRow(){this.rows[this.currRow].clearToEndOfRow()}insertChar(e){this.rows[this.currRow].insertChar(e)}setPen(e){this.rows[this.currRow].setPenStyles(e)}moveCursor(e){this.rows[this.currRow].moveCursor(e)}setCursor(e){this.logger.log(2,"setCursor: "+e),this.rows[this.currRow].setCursor(e)}setPAC(e){this.logger.log(2,()=>"pacData = "+JSON.stringify(e));let n=e.row-1;if(this.nrRollUpRows&&n<this.nrRollUpRows-1&&(n=this.nrRollUpRows-1),this.nrRollUpRows&&this.currRow!==n){for(let a=0;a<Us;a++)this.rows[a].clear();const i=this.currRow+1-this.nrRollUpRows,o=this.lastOutputScreen;if(o){const a=o.rows[i].cueStartTime,l=this.logger.time;if(a!==null&&l!==null&&a<l)for(let c=0;c<this.nrRollUpRows;c++)this.rows[n-this.nrRollUpRows+c+1].copy(o.rows[i+c])}}this.currRow=n;const r=this.rows[this.currRow];if(e.indent!==null){const i=e.indent,o=Math.max(i-1,0);r.setCursor(e.indent),e.color=r.chars[o].penState.foreground}const s={foreground:e.color,underline:e.underline,italics:e.italics,background:"black",flash:!1};this.setPen(s)}setBkgData(e){this.logger.log(2,()=>"bkgData = "+JSON.stringify(e)),this.backSpace(),this.setPen(e),this.insertChar(32)}setRollUpRows(e){this.nrRollUpRows=e}rollUp(){if(this.nrRollUpRows===null){this.logger.log(3,"roll_up but nrRollUpRows not set yet");return}this.logger.log(1,()=>this.getDisplayText());const e=this.currRow+1-this.nrRollUpRows,n=this.rows.splice(e,1)[0];n.clear(),this.rows.splice(this.currRow,0,n),this.logger.log(2,"Rolling up")}getDisplayText(e){e=e||!1;const n=[];let r="",s=-1;for(let i=0;i<Us;i++){const o=this.rows[i].getTextString();o&&(s=i+1,e?n.push("Row "+s+": '"+o+"'"):n.push(o.trim()))}return n.length>0&&(e?r="["+n.join(" | ")+"]":r=n.join(`
`)),r}getTextAndFormat(){return this.rows}}class oL{constructor(e,n,r){this.chNr=void 0,this.outputFilter=void 0,this.mode=void 0,this.verbose=void 0,this.displayedMemory=void 0,this.nonDisplayedMemory=void 0,this.lastOutputScreen=void 0,this.currRollUpRow=void 0,this.writeScreen=void 0,this.cueStartTime=void 0,this.logger=void 0,this.chNr=e,this.outputFilter=n,this.mode=null,this.verbose=0,this.displayedMemory=new Px(r),this.nonDisplayedMemory=new Px(r),this.lastOutputScreen=new Px(r),this.currRollUpRow=this.displayedMemory.rows[Us-1],this.writeScreen=this.displayedMemory,this.mode=null,this.cueStartTime=null,this.logger=r}reset(){this.mode=null,this.displayedMemory.reset(),this.nonDisplayedMemory.reset(),this.lastOutputScreen.reset(),this.outputFilter.reset(),this.currRollUpRow=this.displayedMemory.rows[Us-1],this.writeScreen=this.displayedMemory,this.mode=null,this.cueStartTime=null}getHandler(){return this.outputFilter}setHandler(e){this.outputFilter=e}setPAC(e){this.writeScreen.setPAC(e)}setBkgData(e){this.writeScreen.setBkgData(e)}setMode(e){e!==this.mode&&(this.mode=e,this.logger.log(2,()=>"MODE="+e),this.mode==="MODE_POP-ON"?this.writeScreen=this.nonDisplayedMemory:(this.writeScreen=this.displayedMemory,this.writeScreen.reset()),this.mode!=="MODE_ROLL-UP"&&(this.displayedMemory.nrRollUpRows=null,this.nonDisplayedMemory.nrRollUpRows=null),this.mode=e)}insertChars(e){for(let r=0;r<e.length;r++)this.writeScreen.insertChar(e[r]);const n=this.writeScreen===this.displayedMemory?"DISP":"NON_DISP";this.logger.log(2,()=>n+": "+this.writeScreen.getDisplayText(!0)),(this.mode==="MODE_PAINT-ON"||this.mode==="MODE_ROLL-UP")&&(this.logger.log(1,()=>"DISPLAYED: "+this.displayedMemory.getDisplayText(!0)),this.outputDataUpdate())}ccRCL(){this.logger.log(2,"RCL - Resume Caption Loading"),this.setMode("MODE_POP-ON")}ccBS(){this.logger.log(2,"BS - BackSpace"),this.mode!=="MODE_TEXT"&&(this.writeScreen.backSpace(),this.writeScreen===this.displayedMemory&&this.outputDataUpdate())}ccAOF(){}ccAON(){}ccDER(){this.logger.log(2,"DER- Delete to End of Row"),this.writeScreen.clearToEndOfRow(),this.outputDataUpdate()}ccRU(e){this.logger.log(2,"RU("+e+") - Roll Up"),this.writeScreen=this.displayedMemory,this.setMode("MODE_ROLL-UP"),this.writeScreen.setRollUpRows(e)}ccFON(){this.logger.log(2,"FON - Flash On"),this.writeScreen.setPen({flash:!0})}ccRDC(){this.logger.log(2,"RDC - Resume Direct Captioning"),this.setMode("MODE_PAINT-ON")}ccTR(){this.logger.log(2,"TR"),this.setMode("MODE_TEXT")}ccRTD(){this.logger.log(2,"RTD"),this.setMode("MODE_TEXT")}ccEDM(){this.logger.log(2,"EDM - Erase Displayed Memory"),this.displayedMemory.reset(),this.outputDataUpdate(!0)}ccCR(){this.logger.log(2,"CR - Carriage Return"),this.writeScreen.rollUp(),this.outputDataUpdate(!0)}ccENM(){this.logger.log(2,"ENM - Erase Non-displayed Memory"),this.nonDisplayedMemory.reset()}ccEOC(){if(this.logger.log(2,"EOC - End Of Caption"),this.mode==="MODE_POP-ON"){const e=this.displayedMemory;this.displayedMemory=this.nonDisplayedMemory,this.nonDisplayedMemory=e,this.writeScreen=this.nonDisplayedMemory,this.logger.log(1,()=>"DISP: "+this.displayedMemory.getDisplayText())}this.outputDataUpdate(!0)}ccTO(e){this.logger.log(2,"TO("+e+") - Tab Offset"),this.writeScreen.moveCursor(e)}ccMIDROW(e){const n={flash:!1};if(n.underline=e%2===1,n.italics=e>=46,n.italics)n.foreground="white";else{const r=Math.floor(e/2)-16,s=["white","green","blue","cyan","red","yellow","magenta"];n.foreground=s[r]}this.logger.log(2,"MIDROW: "+JSON.stringify(n)),this.writeScreen.setPen(n)}outputDataUpdate(e=!1){const n=this.logger.time;n!==null&&this.outputFilter&&(this.cueStartTime===null&&!this.displayedMemory.isEmpty()?this.cueStartTime=n:this.displayedMemory.equals(this.lastOutputScreen)||(this.outputFilter.newCue(this.cueStartTime,n,this.lastOutputScreen),e&&this.outputFilter.dispatchCue&&this.outputFilter.dispatchCue(),this.cueStartTime=this.displayedMemory.isEmpty()?null:n),this.lastOutputScreen.copy(this.displayedMemory))}cueSplitAtTime(e){this.outputFilter&&(this.displayedMemory.isEmpty()||(this.outputFilter.newCue&&this.outputFilter.newCue(this.cueStartTime,e,this.displayedMemory),this.cueStartTime=e))}}class aL{constructor(e,n,r){this.channels=void 0,this.currentChannel=0,this.cmdHistory=mme(),this.logger=void 0;const s=this.logger=new dme;this.channels=[null,new oL(e,n,s),new oL(e+1,r,s)]}getHandler(e){return this.channels[e].getHandler()}setHandler(e,n){this.channels[e].setHandler(n)}addData(e,n){this.logger.time=e;for(let r=0;r<n.length;r+=2){const s=n[r]&127,i=n[r+1]&127;let o=!1,a=null;if(s===0&&i===0)continue;this.logger.log(3,()=>"["+Ia([n[r],n[r+1]])+"] -> ("+Ia([s,i])+")");const l=this.cmdHistory;if(s>=16&&s<=31){if(pme(s,i,l)){$p(null,null,l),this.logger.log(3,()=>"Repeated command ("+Ia([s,i])+") is dropped");continue}$p(s,i,this.cmdHistory),o=this.parseCmd(s,i),o||(o=this.parseMidrow(s,i)),o||(o=this.parsePAC(s,i)),o||(o=this.parseBackgroundAttributes(s,i))}else $p(null,null,l);if(!o&&(a=this.parseChars(s,i),a)){const u=this.currentChannel;u&&u>0?this.channels[u].insertChars(a):this.logger.log(2,"No channel found yet. TEXT-MODE?")}!o&&!a&&this.logger.log(2,()=>"Couldn't parse cleaned data "+Ia([s,i])+" orig: "+Ia([n[r],n[r+1]]))}}parseCmd(e,n){const r=(e===20||e===28||e===21||e===29)&&n>=32&&n<=47,s=(e===23||e===31)&&n>=33&&n<=35;if(!(r||s))return!1;const i=e===20||e===21||e===23?1:2,o=this.channels[i];return e===20||e===21||e===28||e===29?n===32?o.ccRCL():n===33?o.ccBS():n===34?o.ccAOF():n===35?o.ccAON():n===36?o.ccDER():n===37?o.ccRU(2):n===38?o.ccRU(3):n===39?o.ccRU(4):n===40?o.ccFON():n===41?o.ccRDC():n===42?o.ccTR():n===43?o.ccRTD():n===44?o.ccEDM():n===45?o.ccCR():n===46?o.ccENM():n===47&&o.ccEOC():o.ccTO(n-32),this.currentChannel=i,!0}parseMidrow(e,n){let r=0;if((e===17||e===25)&&n>=32&&n<=47){if(e===17?r=1:r=2,r!==this.currentChannel)return this.logger.log(0,"Mismatch channel in midrow parsing"),!1;const s=this.channels[r];return s?(s.ccMIDROW(n),this.logger.log(3,()=>"MIDROW ("+Ia([e,n])+")"),!0):!1}return!1}parsePAC(e,n){let r;const s=(e>=17&&e<=23||e>=25&&e<=31)&&n>=64&&n<=127,i=(e===16||e===24)&&n>=64&&n<=95;if(!(s||i))return!1;const o=e<=23?1:2;n>=64&&n<=95?r=o===1?ome[e]:lme[e]:r=o===1?ame[e]:cme[e];const a=this.channels[o];return a?(a.setPAC(this.interpretPAC(r,n)),this.currentChannel=o,!0):!1}interpretPAC(e,n){let r;const s={color:null,italics:!1,indent:null,underline:!1,row:e};return n>95?r=n-96:r=n-64,s.underline=(r&1)===1,r<=13?s.color=["white","green","blue","cyan","red","yellow","magenta","white"][Math.floor(r/2)]:r<=15?(s.italics=!0,s.color="white"):s.indent=Math.floor((r-16)/2)*4,s}parseChars(e,n){let r,s=null,i=null;if(e>=25?(r=2,i=e-8):(r=1,i=e),i>=17&&i<=19){let o;i===17?o=n+80:i===18?o=n+112:o=n+144,this.logger.log(2,()=>"Special char '"+nN(o)+"' in channel "+r),s=[o]}else e>=32&&e<=127&&(s=n===0?[e]:[e,n]);return s&&this.logger.log(3,()=>"Char codes =  "+Ia(s).join(",")),s}parseBackgroundAttributes(e,n){const r=(e===16||e===24)&&n>=32&&n<=47,s=(e===23||e===31)&&n>=45&&n<=47;if(!(r||s))return!1;let i;const o={};e===16||e===24?(i=Math.floor((n-32)/2),o.background=ume[i],n%2===1&&(o.background=o.background+"_semi")):n===45?o.background="transparent":(o.foreground="black",n===47&&(o.underline=!0));const a=e<=23?1:2;return this.channels[a].setBkgData(o),!0}reset(){for(let e=0;e<Object.keys(this.channels).length;e++){const n=this.channels[e];n&&n.reset()}$p(null,null,this.cmdHistory)}cueSplitAtTime(e){for(let n=0;n<this.channels.length;n++){const r=this.channels[n];r&&r.cueSplitAtTime(e)}}}function $p(t,e,n){n.a=t,n.b=e}function pme(t,e,n){return n.a===t&&n.b===e}function mme(){return{a:null,b:null}}class zp{constructor(e,n){this.timelineController=void 0,this.cueRanges=[],this.trackName=void 0,this.startTime=null,this.endTime=null,this.screen=null,this.timelineController=e,this.trackName=n}dispatchCue(){this.startTime!==null&&(this.timelineController.addCues(this.trackName,this.startTime,this.endTime,this.screen,this.cueRanges),this.startTime=null)}newCue(e,n,r){(this.startTime===null||this.startTime>e)&&(this.startTime=e),this.endTime=n,this.screen=r,this.timelineController.createCaptionsTrack(this.trackName)}reset(){this.cueRanges=[],this.startTime=null}}var vE=function(){if(yu!=null&&yu.VTTCue)return self.VTTCue;const t=["","lr","rl"],e=["start","middle","end","left","right"];function n(a,l){if(typeof l!="string"||!Array.isArray(a))return!1;const c=l.toLowerCase();return~a.indexOf(c)?c:!1}function r(a){return n(t,a)}function s(a){return n(e,a)}function i(a,...l){let c=1;for(;c<arguments.length;c++){const u=arguments[c];for(const d in u)a[d]=u[d]}return a}function o(a,l,c){const u=this,d={enumerable:!0};u.hasBeenReset=!1;let f="",p=!1,m=a,g=l,y=c,x=null,v="",b=!0,w="auto",T="start",C=50,E="middle",k=50,A="middle";Object.defineProperty(u,"id",i({},d,{get:function(){return f},set:function(R){f=""+R}})),Object.defineProperty(u,"pauseOnExit",i({},d,{get:function(){return p},set:function(R){p=!!R}})),Object.defineProperty(u,"startTime",i({},d,{get:function(){return m},set:function(R){if(typeof R!="number")throw new TypeError("Start time must be set to a number.");m=R,this.hasBeenReset=!0}})),Object.defineProperty(u,"endTime",i({},d,{get:function(){return g},set:function(R){if(typeof R!="number")throw new TypeError("End time must be set to a number.");g=R,this.hasBeenReset=!0}})),Object.defineProperty(u,"text",i({},d,{get:function(){return y},set:function(R){y=""+R,this.hasBeenReset=!0}})),Object.defineProperty(u,"region",i({},d,{get:function(){return x},set:function(R){x=R,this.hasBeenReset=!0}})),Object.defineProperty(u,"vertical",i({},d,{get:function(){return v},set:function(R){const L=r(R);if(L===!1)throw new SyntaxError("An invalid or illegal string was specified.");v=L,this.hasBeenReset=!0}})),Object.defineProperty(u,"snapToLines",i({},d,{get:function(){return b},set:function(R){b=!!R,this.hasBeenReset=!0}})),Object.defineProperty(u,"line",i({},d,{get:function(){return w},set:function(R){if(typeof R!="number"&&R!=="auto")throw new SyntaxError("An invalid number or illegal string was specified.");w=R,this.hasBeenReset=!0}})),Object.defineProperty(u,"lineAlign",i({},d,{get:function(){return T},set:function(R){const L=s(R);if(!L)throw new SyntaxError("An invalid or illegal string was specified.");T=L,this.hasBeenReset=!0}})),Object.defineProperty(u,"position",i({},d,{get:function(){return C},set:function(R){if(R<0||R>100)throw new Error("Position must be between 0 and 100.");C=R,this.hasBeenReset=!0}})),Object.defineProperty(u,"positionAlign",i({},d,{get:function(){return E},set:function(R){const L=s(R);if(!L)throw new SyntaxError("An invalid or illegal string was specified.");E=L,this.hasBeenReset=!0}})),Object.defineProperty(u,"size",i({},d,{get:function(){return k},set:function(R){if(R<0||R>100)throw new Error("Size must be between 0 and 100.");k=R,this.hasBeenReset=!0}})),Object.defineProperty(u,"align",i({},d,{get:function(){return A},set:function(R){const L=s(R);if(!L)throw new SyntaxError("An invalid or illegal string was specified.");A=L,this.hasBeenReset=!0}})),u.displayState=void 0}return o.prototype.getCueAsHTML=function(){return self.WebVTT.convertCueToDOMTree(self,this.text)},o}();class gme{decode(e,n){if(!e)return"";if(typeof e!="string")throw new Error("Error - expected string data.");return decodeURIComponent(encodeURIComponent(e))}}function sN(t){function e(r,s,i,o){return(r|0)*3600+(s|0)*60+(i|0)+parseFloat(o||0)}const n=t.match(/^(?:(\d+):)?(\d{2}):(\d{2})(\.\d+)?/);return n?parseFloat(n[2])>59?e(n[2],n[3],0,n[4]):e(n[1],n[2],n[3],n[4]):null}class yme{constructor(){this.values=Object.create(null)}set(e,n){!this.get(e)&&n!==""&&(this.values[e]=n)}get(e,n,r){return r?this.has(e)?this.values[e]:n[r]:this.has(e)?this.values[e]:n}has(e){return e in this.values}alt(e,n,r){for(let s=0;s<r.length;++s)if(n===r[s]){this.set(e,n);break}}integer(e,n){/^-?\d+$/.test(n)&&this.set(e,parseInt(n,10))}percent(e,n){if(/^([\d]{1,3})(\.[\d]*)?%$/.test(n)){const r=parseFloat(n);if(r>=0&&r<=100)return this.set(e,r),!0}return!1}}function iN(t,e,n,r){const s=r?t.split(r):[t];for(const i in s){if(typeof s[i]!="string")continue;const o=s[i].split(n);if(o.length!==2)continue;const a=o[0],l=o[1];e(a,l)}}const hS=new vE(0,0,""),Up=hS.align==="middle"?"middle":"center";function vme(t,e,n){const r=t;function s(){const a=sN(t);if(a===null)throw new Error("Malformed timestamp: "+r);return t=t.replace(/^[^\sa-zA-Z-]+/,""),a}function i(a,l){const c=new yme;iN(a,function(f,p){let m;switch(f){case"region":for(let g=n.length-1;g>=0;g--)if(n[g].id===p){c.set(f,n[g].region);break}break;case"vertical":c.alt(f,p,["rl","lr"]);break;case"line":m=p.split(","),c.integer(f,m[0]),c.percent(f,m[0])&&c.set("snapToLines",!1),c.alt(f,m[0],["auto"]),m.length===2&&c.alt("lineAlign",m[1],["start",Up,"end"]);break;case"position":m=p.split(","),c.percent(f,m[0]),m.length===2&&c.alt("positionAlign",m[1],["start",Up,"end","line-left","line-right","auto"]);break;case"size":c.percent(f,p);break;case"align":c.alt(f,p,["start",Up,"end","left","right"]);break}},/:/,/\s/),l.region=c.get("region",null),l.vertical=c.get("vertical","");let u=c.get("line","auto");u==="auto"&&hS.line===-1&&(u=-1),l.line=u,l.lineAlign=c.get("lineAlign","start"),l.snapToLines=c.get("snapToLines",!0),l.size=c.get("size",100),l.align=c.get("align",Up);let d=c.get("position","auto");d==="auto"&&hS.position===50&&(d=l.align==="start"||l.align==="left"?0:l.align==="end"||l.align==="right"?100:50),l.position=d}function o(){t=t.replace(/^\s+/,"")}if(o(),e.startTime=s(),o(),t.slice(0,3)!=="-->")throw new Error("Malformed time stamp (time stamps must be separated by '-->'): "+r);t=t.slice(3),o(),e.endTime=s(),o(),i(t,e)}function oN(t){return t.replace(/<br(?: \/)?>/gi,`
`)}class xme{constructor(){this.state="INITIAL",this.buffer="",this.decoder=new gme,this.regionList=[],this.cue=null,this.oncue=void 0,this.onparsingerror=void 0,this.onflush=void 0}parse(e){const n=this;e&&(n.buffer+=n.decoder.decode(e,{stream:!0}));function r(){let i=n.buffer,o=0;for(i=oN(i);o<i.length&&i[o]!=="\r"&&i[o]!==`
`;)++o;const a=i.slice(0,o);return i[o]==="\r"&&++o,i[o]===`
`&&++o,n.buffer=i.slice(o),a}function s(i){iN(i,function(o,a){},/:/)}try{let i="";if(n.state==="INITIAL"){if(!/\r\n|\n/.test(n.buffer))return this;i=r();const a=i.match(/^()?WEBVTT([ \t].*)?$/);if(!(a!=null&&a[0]))throw new Error("Malformed WebVTT signature.");n.state="HEADER"}let o=!1;for(;n.buffer;){if(!/\r\n|\n/.test(n.buffer))return this;switch(o?o=!1:i=r(),n.state){case"HEADER":/:/.test(i)?s(i):i||(n.state="ID");continue;case"NOTE":i||(n.state="ID");continue;case"ID":if(/^NOTE($|[ \t])/.test(i)){n.state="NOTE";break}if(!i)continue;if(n.cue=new vE(0,0,""),n.state="CUE",i.indexOf("-->")===-1){n.cue.id=i;continue}case"CUE":if(!n.cue){n.state="BADCUE";continue}try{vme(i,n.cue,n.regionList)}catch{n.cue=null,n.state="BADCUE";continue}n.state="CUETEXT";continue;case"CUETEXT":{const a=i.indexOf("-->")!==-1;if(!i||a&&(o=!0)){n.oncue&&n.cue&&n.oncue(n.cue),n.cue=null,n.state="ID";continue}if(n.cue===null)continue;n.cue.text&&(n.cue.text+=`
`),n.cue.text+=i}continue;case"BADCUE":i||(n.state="ID")}}}catch{n.state==="CUETEXT"&&n.cue&&n.oncue&&n.oncue(n.cue),n.cue=null,n.state=n.state==="INITIAL"?"BADWEBVTT":"BADCUE"}return this}flush(){const e=this;try{if((e.cue||e.state==="HEADER")&&(e.buffer+=`

`,e.parse()),e.state==="INITIAL"||e.state==="BADWEBVTT")throw new Error("Malformed WebVTT signature.")}catch(n){e.onparsingerror&&e.onparsingerror(n)}return e.onflush&&e.onflush(),this}}const bme=/\r\n|\n\r|\n|\r/g,Ix=function(e,n,r=0){return e.slice(r,r+n.length)===n},Sme=function(e){let n=parseInt(e.slice(-3));const r=parseInt(e.slice(-6,-4)),s=parseInt(e.slice(-9,-7)),i=e.length>9?parseInt(e.substring(0,e.indexOf(":"))):0;if(!xe(n)||!xe(r)||!xe(s)||!xe(i))throw Error(`Malformed X-TIMESTAMP-MAP: Local:${e}`);return n+=1e3*r,n+=60*1e3*s,n+=60*60*1e3*i,n},Dx=function(e){let n=5381,r=e.length;for(;r;)n=n*33^e.charCodeAt(--r);return(n>>>0).toString()};function xE(t,e,n){return Dx(t.toString())+Dx(e.toString())+Dx(n)}const wme=function(e,n,r){let s=e[n],i=e[s.prevCC];if(!i||!i.new&&s.new){e.ccOffset=e.presentationOffset=s.start,s.new=!1;return}for(;(o=i)!=null&&o.new;){var o;e.ccOffset+=s.start-i.start,s.new=!1,s=i,i=e[s.prevCC]}e.presentationOffset=r};function Tme(t,e,n,r,s,i,o){const a=new xme,l=_i(new Uint8Array(t)).trim().replace(bme,`
`).split(`
`),c=[],u=e?$pe(e.baseTime,e.timescale):0;let d="00:00.000",f=0,p=0,m,g=!0;a.oncue=function(y){const x=n[r];let v=n.ccOffset;const b=(f-u)/9e4;if(x!=null&&x.new&&(p!==void 0?v=n.ccOffset=x.start:wme(n,r,b)),b){if(!e){m=new Error("Missing initPTS for VTT MPEGTS");return}v=b-n.presentationOffset}const w=y.endTime-y.startTime,T=fs((y.startTime+v-p)*9e4,s*9e4)/9e4;y.startTime=Math.max(T,0),y.endTime=Math.max(T+w,0);const C=y.text.trim();y.text=decodeURIComponent(encodeURIComponent(C)),y.id||(y.id=xE(y.startTime,y.endTime,C)),y.endTime>0&&c.push(y)},a.onparsingerror=function(y){m=y},a.onflush=function(){if(m){o(m);return}i(c)},l.forEach(y=>{if(g)if(Ix(y,"X-TIMESTAMP-MAP=")){g=!1,y.slice(16).split(",").forEach(x=>{Ix(x,"LOCAL:")?d=x.slice(6):Ix(x,"MPEGTS:")&&(f=parseInt(x.slice(7)))});try{p=Sme(d)/1e3}catch(x){m=x}return}else y===""&&(g=!1);a.parse(y+`
`)}),a.flush()}const Mx="stpp.ttml.im1t",aN=/^(\d{2,}):(\d{2}):(\d{2}):(\d{2})\.?(\d+)?$/,lN=/^(\d*(?:\.\d*)?)(h|m|s|ms|f|t)$/,Eme={left:"start",center:"center",right:"end",start:"start",end:"end"};function lL(t,e,n,r){const s=ze(new Uint8Array(t),["mdat"]);if(s.length===0){r(new Error("Could not parse IMSC1 mdat"));return}const i=s.map(a=>_i(a)),o=Bpe(e.baseTime,1,e.timescale);try{i.forEach(a=>n(Cme(a,o)))}catch(a){r(a)}}function Cme(t,e){const s=new DOMParser().parseFromString(t,"text/xml").getElementsByTagName("tt")[0];if(!s)throw new Error("Invalid ttml");const i={frameRate:30,subFrameRate:1,frameRateMultiplier:0,tickRate:0},o=Object.keys(i).reduce((d,f)=>(d[f]=s.getAttribute(`ttp:${f}`)||i[f],d),{}),a=s.getAttribute("xml:space")!=="preserve",l=cL(Ox(s,"styling","style")),c=cL(Ox(s,"layout","region")),u=Ox(s,"body","[begin]");return[].map.call(u,d=>{const f=cN(d,a);if(!f||!d.hasAttribute("begin"))return null;const p=Nx(d.getAttribute("begin"),o),m=Nx(d.getAttribute("dur"),o);let g=Nx(d.getAttribute("end"),o);if(p===null)throw uL(d);if(g===null){if(m===null)throw uL(d);g=p+m}const y=new vE(p-e,g-e,f);y.id=xE(y.startTime,y.endTime,y.text);const x=c[d.getAttribute("region")],v=l[d.getAttribute("style")],b=kme(x,v,l),{textAlign:w}=b;if(w){const T=Eme[w];T&&(y.lineAlign=T),y.align=w}return yn(y,b),y}).filter(d=>d!==null)}function Ox(t,e,n){const r=t.getElementsByTagName(e)[0];return r?[].slice.call(r.querySelectorAll(n)):[]}function cL(t){return t.reduce((e,n)=>{const r=n.getAttribute("xml:id");return r&&(e[r]=n),e},{})}function cN(t,e){return[].slice.call(t.childNodes).reduce((n,r,s)=>{var i;return r.nodeName==="br"&&s?n+`
`:(i=r.childNodes)!=null&&i.length?cN(r,e):e?n+r.textContent.trim().replace(/\s+/g," "):n+r.textContent},"")}function kme(t,e,n){const r="http://www.w3.org/ns/ttml#styling";let s=null;const i=["displayAlign","textAlign","color","backgroundColor","fontSize","fontFamily"],o=t!=null&&t.hasAttribute("style")?t.getAttribute("style"):null;return o&&n.hasOwnProperty(o)&&(s=n[o]),i.reduce((a,l)=>{const c=Fx(e,r,l)||Fx(t,r,l)||Fx(s,r,l);return c&&(a[l]=c),a},{})}function Fx(t,e,n){return t&&t.hasAttributeNS(e,n)?t.getAttributeNS(e,n):null}function uL(t){return new Error(`Could not parse ttml timestamp ${t}`)}function Nx(t,e){if(!t)return null;let n=sN(t);return n===null&&(aN.test(t)?n=Ame(t,e):lN.test(t)&&(n=Rme(t,e))),n}function Ame(t,e){const n=aN.exec(t),r=(n[4]|0)+(n[5]|0)/e.subFrameRate;return(n[1]|0)*3600+(n[2]|0)*60+(n[3]|0)+r/e.frameRate}function Rme(t,e){const n=lN.exec(t),r=Number(n[1]);switch(n[2]){case"h":return r*3600;case"m":return r*60;case"ms":return r*1e3;case"f":return r/e.frameRate;case"t":return r/e.tickRate}return r}class _me{constructor(e){this.hls=void 0,this.media=null,this.config=void 0,this.enabled=!0,this.Cues=void 0,this.textTracks=[],this.tracks=[],this.initPTS=[],this.unparsedVttFrags=[],this.captionsTracks={},this.nonNativeCaptionsTracks={},this.cea608Parser1=void 0,this.cea608Parser2=void 0,this.lastCc=-1,this.lastSn=-1,this.lastPartIndex=-1,this.prevCC=-1,this.vttCCs=fL(),this.captionsProperties=void 0,this.hls=e,this.config=e.config,this.Cues=e.config.cueHandler,this.captionsProperties={textTrack1:{label:this.config.captionsTextTrack1Label,languageCode:this.config.captionsTextTrack1LanguageCode},textTrack2:{label:this.config.captionsTextTrack2Label,languageCode:this.config.captionsTextTrack2LanguageCode},textTrack3:{label:this.config.captionsTextTrack3Label,languageCode:this.config.captionsTextTrack3LanguageCode},textTrack4:{label:this.config.captionsTextTrack4Label,languageCode:this.config.captionsTextTrack4LanguageCode}},e.on(_.MEDIA_ATTACHING,this.onMediaAttaching,this),e.on(_.MEDIA_DETACHING,this.onMediaDetaching,this),e.on(_.MANIFEST_LOADING,this.onManifestLoading,this),e.on(_.MANIFEST_LOADED,this.onManifestLoaded,this),e.on(_.SUBTITLE_TRACKS_UPDATED,this.onSubtitleTracksUpdated,this),e.on(_.FRAG_LOADING,this.onFragLoading,this),e.on(_.FRAG_LOADED,this.onFragLoaded,this),e.on(_.FRAG_PARSING_USERDATA,this.onFragParsingUserdata,this),e.on(_.FRAG_DECRYPTED,this.onFragDecrypted,this),e.on(_.INIT_PTS_FOUND,this.onInitPtsFound,this),e.on(_.SUBTITLE_TRACKS_CLEARED,this.onSubtitleTracksCleared,this),e.on(_.BUFFER_FLUSHING,this.onBufferFlushing,this)}destroy(){const{hls:e}=this;e.off(_.MEDIA_ATTACHING,this.onMediaAttaching,this),e.off(_.MEDIA_DETACHING,this.onMediaDetaching,this),e.off(_.MANIFEST_LOADING,this.onManifestLoading,this),e.off(_.MANIFEST_LOADED,this.onManifestLoaded,this),e.off(_.SUBTITLE_TRACKS_UPDATED,this.onSubtitleTracksUpdated,this),e.off(_.FRAG_LOADING,this.onFragLoading,this),e.off(_.FRAG_LOADED,this.onFragLoaded,this),e.off(_.FRAG_PARSING_USERDATA,this.onFragParsingUserdata,this),e.off(_.FRAG_DECRYPTED,this.onFragDecrypted,this),e.off(_.INIT_PTS_FOUND,this.onInitPtsFound,this),e.off(_.SUBTITLE_TRACKS_CLEARED,this.onSubtitleTracksCleared,this),e.off(_.BUFFER_FLUSHING,this.onBufferFlushing,this),this.hls=this.config=null,this.cea608Parser1=this.cea608Parser2=void 0}initCea608Parsers(){if(this.config.enableCEA708Captions&&(!this.cea608Parser1||!this.cea608Parser2)){const e=new zp(this,"textTrack1"),n=new zp(this,"textTrack2"),r=new zp(this,"textTrack3"),s=new zp(this,"textTrack4");this.cea608Parser1=new aL(1,e,n),this.cea608Parser2=new aL(3,r,s)}}addCues(e,n,r,s,i){let o=!1;for(let a=i.length;a--;){const l=i[a],c=Lme(l[0],l[1],n,r);if(c>=0&&(l[0]=Math.min(l[0],n),l[1]=Math.max(l[1],r),o=!0,c/(r-n)>.5))return}if(o||i.push([n,r]),this.config.renderTextTracksNatively){const a=this.captionsTracks[e];this.Cues.newCue(a,n,r,s)}else{const a=this.Cues.newCue(null,n,r,s);this.hls.trigger(_.CUES_PARSED,{type:"captions",cues:a,track:e})}}onInitPtsFound(e,{frag:n,id:r,initPTS:s,timescale:i}){const{unparsedVttFrags:o}=this;r==="main"&&(this.initPTS[n.cc]={baseTime:s,timescale:i}),o.length&&(this.unparsedVttFrags=[],o.forEach(a=>{this.onFragLoaded(_.FRAG_LOADED,a)}))}getExistingTrack(e,n){const{media:r}=this;if(r)for(let s=0;s<r.textTracks.length;s++){const i=r.textTracks[s];if(dL(i,{name:e,lang:n,attrs:{}}))return i}return null}createCaptionsTrack(e){this.config.renderTextTracksNatively?this.createNativeTrack(e):this.createNonNativeTrack(e)}createNativeTrack(e){if(this.captionsTracks[e])return;const{captionsProperties:n,captionsTracks:r,media:s}=this,{label:i,languageCode:o}=n[e],a=this.getExistingTrack(i,o);if(a)r[e]=a,kc(r[e]),_3(r[e],s);else{const l=this.createTextTrack("captions",i,o);l&&(l[e]=!0,r[e]=l)}}createNonNativeTrack(e){if(this.nonNativeCaptionsTracks[e])return;const n=this.captionsProperties[e];if(!n)return;const r=n.label,s={_id:e,label:r,kind:"captions",default:n.media?!!n.media.default:!1,closedCaptions:n.media};this.nonNativeCaptionsTracks[e]=s,this.hls.trigger(_.NON_NATIVE_TEXT_TRACKS_FOUND,{tracks:[s]})}createTextTrack(e,n,r){const s=this.media;if(s)return s.addTextTrack(e,n,r)}onMediaAttaching(e,n){this.media=n.media,this._cleanTracks()}onMediaDetaching(){const{captionsTracks:e}=this;Object.keys(e).forEach(n=>{kc(e[n]),delete e[n]}),this.nonNativeCaptionsTracks={}}onManifestLoading(){this.lastCc=-1,this.lastSn=-1,this.lastPartIndex=-1,this.prevCC=-1,this.vttCCs=fL(),this._cleanTracks(),this.tracks=[],this.captionsTracks={},this.nonNativeCaptionsTracks={},this.textTracks=[],this.unparsedVttFrags=[],this.initPTS=[],this.cea608Parser1&&this.cea608Parser2&&(this.cea608Parser1.reset(),this.cea608Parser2.reset())}_cleanTracks(){const{media:e}=this;if(!e)return;const n=e.textTracks;if(n)for(let r=0;r<n.length;r++)kc(n[r])}onSubtitleTracksUpdated(e,n){const r=n.subtitleTracks||[],s=r.some(i=>i.textCodec===Mx);if(this.config.enableWebVTT||s&&this.config.enableIMSC1){if(tN(this.tracks,r)){this.tracks=r;return}if(this.textTracks=[],this.tracks=r,this.config.renderTextTracksNatively){const o=this.media,a=o?Dm(o.textTracks):null;if(this.tracks.forEach((l,c)=>{let u;if(a){let d=null;for(let f=0;f<a.length;f++)if(a[f]&&dL(a[f],l)){d=a[f],a[f]=null;break}d&&(u=d)}if(u)kc(u);else{const d=uN(l);u=this.createTextTrack(d,l.name,l.lang),u&&(u.mode="disabled")}u&&this.textTracks.push(u)}),a!=null&&a.length){const l=a.filter(c=>c!==null).map(c=>c.label);l.length&&H.warn(`Media element contains unused subtitle tracks: ${l.join(", ")}. Replace media element for each source to clear TextTracks and captions menu.`)}}else if(this.tracks.length){const o=this.tracks.map(a=>({label:a.name,kind:a.type.toLowerCase(),default:a.default,subtitleTrack:a}));this.hls.trigger(_.NON_NATIVE_TEXT_TRACKS_FOUND,{tracks:o})}}}onManifestLoaded(e,n){this.config.enableCEA708Captions&&n.captions&&n.captions.forEach(r=>{const s=/(?:CC|SERVICE)([1-4])/.exec(r.instreamId);if(!s)return;const i=`textTrack${s[1]}`,o=this.captionsProperties[i];o&&(o.label=r.name,r.lang&&(o.languageCode=r.lang),o.media=r)})}closedCaptionsForLevel(e){const n=this.hls.levels[e.level];return n==null?void 0:n.attrs["CLOSED-CAPTIONS"]}onFragLoading(e,n){if(this.enabled&&n.frag.type===Pe.MAIN){var r,s;const{cea608Parser1:i,cea608Parser2:o,lastSn:a}=this,{cc:l,sn:c}=n.frag,u=(r=(s=n.part)==null?void 0:s.index)!=null?r:-1;i&&o&&(c!==a+1||c===a&&u!==this.lastPartIndex+1||l!==this.lastCc)&&(i.reset(),o.reset()),this.lastCc=l,this.lastSn=c,this.lastPartIndex=u}}onFragLoaded(e,n){const{frag:r,payload:s}=n;if(r.type===Pe.SUBTITLE)if(s.byteLength){const i=r.decryptdata,o="stats"in n;if(i==null||!i.encrypted||o){const a=this.tracks[r.level],l=this.vttCCs;l[r.cc]||(l[r.cc]={start:r.start,prevCC:this.prevCC,new:!0},this.prevCC=r.cc),a&&a.textCodec===Mx?this._parseIMSC1(r,s):this._parseVTTs(n)}}else this.hls.trigger(_.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:r,error:new Error("Empty subtitle payload")})}_parseIMSC1(e,n){const r=this.hls;lL(n,this.initPTS[e.cc],s=>{this._appendCues(s,e.level),r.trigger(_.SUBTITLE_FRAG_PROCESSED,{success:!0,frag:e})},s=>{H.log(`Failed to parse IMSC1: ${s}`),r.trigger(_.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:e,error:s})})}_parseVTTs(e){var n;const{frag:r,payload:s}=e,{initPTS:i,unparsedVttFrags:o}=this,a=i.length-1;if(!i[r.cc]&&a===-1){o.push(e);return}const l=this.hls,c=(n=r.initSegment)!=null&&n.data?Ps(r.initSegment.data,new Uint8Array(s)):s;Tme(c,this.initPTS[r.cc],this.vttCCs,r.cc,r.start,u=>{this._appendCues(u,r.level),l.trigger(_.SUBTITLE_FRAG_PROCESSED,{success:!0,frag:r})},u=>{const d=u.message==="Missing initPTS for VTT MPEGTS";d?o.push(e):this._fallbackToIMSC1(r,s),H.log(`Failed to parse VTT cue: ${u}`),!(d&&a>r.cc)&&l.trigger(_.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:r,error:u})})}_fallbackToIMSC1(e,n){const r=this.tracks[e.level];r.textCodec||lL(n,this.initPTS[e.cc],()=>{r.textCodec=Mx,this._parseIMSC1(e,n)},()=>{r.textCodec="wvtt"})}_appendCues(e,n){const r=this.hls;if(this.config.renderTextTracksNatively){const s=this.textTracks[n];if(!s||s.mode==="disabled")return;e.forEach(i=>L3(s,i))}else{const s=this.tracks[n];if(!s)return;const i=s.default?"default":"subtitles"+n;r.trigger(_.CUES_PARSED,{type:"subtitles",cues:e,track:i})}}onFragDecrypted(e,n){const{frag:r}=n;r.type===Pe.SUBTITLE&&this.onFragLoaded(_.FRAG_LOADED,n)}onSubtitleTracksCleared(){this.tracks=[],this.captionsTracks={}}onFragParsingUserdata(e,n){this.initCea608Parsers();const{cea608Parser1:r,cea608Parser2:s}=this;if(!this.enabled||!r||!s)return;const{frag:i,samples:o}=n;if(!(i.type===Pe.MAIN&&this.closedCaptionsForLevel(i)==="NONE"))for(let a=0;a<o.length;a++){const l=o[a].bytes;if(l){const c=this.extractCea608Data(l);r.addData(o[a].pts,c[0]),s.addData(o[a].pts,c[1])}}}onBufferFlushing(e,{startOffset:n,endOffset:r,endOffsetSubtitles:s,type:i}){const{media:o}=this;if(!(!o||o.currentTime<r)){if(!i||i==="video"){const{captionsTracks:a}=this;Object.keys(a).forEach(l=>oS(a[l],n,r))}if(this.config.renderTextTracksNatively&&n===0&&s!==void 0){const{textTracks:a}=this;Object.keys(a).forEach(l=>oS(a[l],n,s))}}}extractCea608Data(e){const n=[[],[]],r=e[0]&31;let s=2;for(let i=0;i<r;i++){const o=e[s++],a=127&e[s++],l=127&e[s++];if(a===0&&l===0)continue;if((4&o)!==0){const u=3&o;(u===0||u===1)&&(n[u].push(a),n[u].push(l))}}return n}}function uN(t){return t.characteristics&&/transcribes-spoken-dialog/gi.test(t.characteristics)&&/describes-music-and-sound/gi.test(t.characteristics)?"captions":"subtitles"}function dL(t,e){return!!t&&t.kind===uN(e)&&fS(e,t)}function Lme(t,e,n,r){return Math.min(e,r)-Math.max(t,n)}function fL(){return{ccOffset:0,presentationOffset:0,0:{start:0,prevCC:-1,new:!0}}}class bE{constructor(e){this.hls=void 0,this.autoLevelCapping=void 0,this.firstLevel=void 0,this.media=void 0,this.restrictedLevels=void 0,this.timer=void 0,this.clientRect=void 0,this.streamController=void 0,this.hls=e,this.autoLevelCapping=Number.POSITIVE_INFINITY,this.firstLevel=-1,this.media=null,this.restrictedLevels=[],this.timer=void 0,this.clientRect=null,this.registerListeners()}setStreamController(e){this.streamController=e}destroy(){this.hls&&this.unregisterListener(),this.timer&&this.stopCapping(),this.media=null,this.clientRect=null,this.hls=this.streamController=null}registerListeners(){const{hls:e}=this;e.on(_.FPS_DROP_LEVEL_CAPPING,this.onFpsDropLevelCapping,this),e.on(_.MEDIA_ATTACHING,this.onMediaAttaching,this),e.on(_.MANIFEST_PARSED,this.onManifestParsed,this),e.on(_.LEVELS_UPDATED,this.onLevelsUpdated,this),e.on(_.BUFFER_CODECS,this.onBufferCodecs,this),e.on(_.MEDIA_DETACHING,this.onMediaDetaching,this)}unregisterListener(){const{hls:e}=this;e.off(_.FPS_DROP_LEVEL_CAPPING,this.onFpsDropLevelCapping,this),e.off(_.MEDIA_ATTACHING,this.onMediaAttaching,this),e.off(_.MANIFEST_PARSED,this.onManifestParsed,this),e.off(_.LEVELS_UPDATED,this.onLevelsUpdated,this),e.off(_.BUFFER_CODECS,this.onBufferCodecs,this),e.off(_.MEDIA_DETACHING,this.onMediaDetaching,this)}onFpsDropLevelCapping(e,n){const r=this.hls.levels[n.droppedLevel];this.isLevelAllowed(r)&&this.restrictedLevels.push({bitrate:r.bitrate,height:r.height,width:r.width})}onMediaAttaching(e,n){this.media=n.media instanceof HTMLVideoElement?n.media:null,this.clientRect=null,this.timer&&this.hls.levels.length&&this.detectPlayerSize()}onManifestParsed(e,n){const r=this.hls;this.restrictedLevels=[],this.firstLevel=n.firstLevel,r.config.capLevelToPlayerSize&&n.video&&this.startCapping()}onLevelsUpdated(e,n){this.timer&&xe(this.autoLevelCapping)&&this.detectPlayerSize()}onBufferCodecs(e,n){this.hls.config.capLevelToPlayerSize&&n.video&&this.startCapping()}onMediaDetaching(){this.stopCapping()}detectPlayerSize(){if(this.media){if(this.mediaHeight<=0||this.mediaWidth<=0){this.clientRect=null;return}const e=this.hls.levels;if(e.length){const n=this.hls,r=this.getMaxLevel(e.length-1);r!==this.autoLevelCapping&&H.log(`Setting autoLevelCapping to ${r}: ${e[r].height}p@${e[r].bitrate} for media ${this.mediaWidth}x${this.mediaHeight}`),n.autoLevelCapping=r,n.autoLevelCapping>this.autoLevelCapping&&this.streamController&&this.streamController.nextLevelSwitch(),this.autoLevelCapping=n.autoLevelCapping}}}getMaxLevel(e){const n=this.hls.levels;if(!n.length)return-1;const r=n.filter((s,i)=>this.isLevelAllowed(s)&&i<=e);return this.clientRect=null,bE.getMaxLevelByMediaSize(r,this.mediaWidth,this.mediaHeight)}startCapping(){this.timer||(this.autoLevelCapping=Number.POSITIVE_INFINITY,self.clearInterval(this.timer),this.timer=self.setInterval(this.detectPlayerSize.bind(this),1e3),this.detectPlayerSize())}stopCapping(){this.restrictedLevels=[],this.firstLevel=-1,this.autoLevelCapping=Number.POSITIVE_INFINITY,this.timer&&(self.clearInterval(this.timer),this.timer=void 0)}getDimensions(){if(this.clientRect)return this.clientRect;const e=this.media,n={width:0,height:0};if(e){const r=e.getBoundingClientRect();n.width=r.width,n.height=r.height,!n.width&&!n.height&&(n.width=r.right-r.left||e.width||0,n.height=r.bottom-r.top||e.height||0)}return this.clientRect=n,n}get mediaWidth(){return this.getDimensions().width*this.contentScaleFactor}get mediaHeight(){return this.getDimensions().height*this.contentScaleFactor}get contentScaleFactor(){let e=1;if(!this.hls.config.ignoreDevicePixelRatio)try{e=self.devicePixelRatio}catch{}return e}isLevelAllowed(e){return!this.restrictedLevels.some(r=>e.bitrate===r.bitrate&&e.width===r.width&&e.height===r.height)}static getMaxLevelByMediaSize(e,n,r){if(!(e!=null&&e.length))return-1;const s=(a,l)=>l?a.width!==l.width||a.height!==l.height:!0;let i=e.length-1;const o=Math.max(n,r);for(let a=0;a<e.length;a+=1){const l=e[a];if((l.width>=o||l.height>=o)&&s(l,e[a+1])){i=a;break}}return i}}class Pme{constructor(e){this.hls=void 0,this.isVideoPlaybackQualityAvailable=!1,this.timer=void 0,this.media=null,this.lastTime=void 0,this.lastDroppedFrames=0,this.lastDecodedFrames=0,this.streamController=void 0,this.hls=e,this.registerListeners()}setStreamController(e){this.streamController=e}registerListeners(){this.hls.on(_.MEDIA_ATTACHING,this.onMediaAttaching,this)}unregisterListeners(){this.hls.off(_.MEDIA_ATTACHING,this.onMediaAttaching,this)}destroy(){this.timer&&clearInterval(this.timer),this.unregisterListeners(),this.isVideoPlaybackQualityAvailable=!1,this.media=null}onMediaAttaching(e,n){const r=this.hls.config;if(r.capLevelOnFPSDrop){const s=n.media instanceof self.HTMLVideoElement?n.media:null;this.media=s,s&&typeof s.getVideoPlaybackQuality=="function"&&(this.isVideoPlaybackQualityAvailable=!0),self.clearInterval(this.timer),this.timer=self.setInterval(this.checkFPSInterval.bind(this),r.fpsDroppedMonitoringPeriod)}}checkFPS(e,n,r){const s=performance.now();if(n){if(this.lastTime){const i=s-this.lastTime,o=r-this.lastDroppedFrames,a=n-this.lastDecodedFrames,l=1e3*o/i,c=this.hls;if(c.trigger(_.FPS_DROP,{currentDropped:o,currentDecoded:a,totalDroppedFrames:r}),l>0&&o>c.config.fpsDroppedMonitoringThreshold*a){let u=c.currentLevel;H.warn("drop FPS ratio greater than max allowed value for currentLevel: "+u),u>0&&(c.autoLevelCapping===-1||c.autoLevelCapping>=u)&&(u=u-1,c.trigger(_.FPS_DROP_LEVEL_CAPPING,{level:u,droppedLevel:c.currentLevel}),c.autoLevelCapping=u,this.streamController.nextLevelSwitch())}}this.lastTime=s,this.lastDroppedFrames=r,this.lastDecodedFrames=n}}checkFPSInterval(){const e=this.media;if(e)if(this.isVideoPlaybackQualityAvailable){const n=e.getVideoPlaybackQuality();this.checkFPS(e,n.totalVideoFrames,n.droppedVideoFrames)}else this.checkFPS(e,e.webkitDecodedFrameCount,e.webkitDroppedFrameCount)}}const Vp="[eme]";class Gc{constructor(e){this.hls=void 0,this.config=void 0,this.media=null,this.keyFormatPromise=null,this.keySystemAccessPromises={},this._requestLicenseFailureCount=0,this.mediaKeySessions=[],this.keyIdToKeySessionPromise={},this.setMediaKeysQueue=Gc.CDMCleanupPromise?[Gc.CDMCleanupPromise]:[],this.onMediaEncrypted=this._onMediaEncrypted.bind(this),this.onWaitingForKey=this._onWaitingForKey.bind(this),this.debug=H.debug.bind(H,Vp),this.log=H.log.bind(H,Vp),this.warn=H.warn.bind(H,Vp),this.error=H.error.bind(H,Vp),this.hls=e,this.config=e.config,this.registerListeners()}destroy(){this.unregisterListeners(),this.onMediaDetached();const e=this.config;e.requestMediaKeySystemAccessFunc=null,e.licenseXhrSetup=e.licenseResponseCallback=void 0,e.drmSystems=e.drmSystemOptions={},this.hls=this.onMediaEncrypted=this.onWaitingForKey=this.keyIdToKeySessionPromise=null,this.config=null}registerListeners(){this.hls.on(_.MEDIA_ATTACHED,this.onMediaAttached,this),this.hls.on(_.MEDIA_DETACHED,this.onMediaDetached,this),this.hls.on(_.MANIFEST_LOADING,this.onManifestLoading,this),this.hls.on(_.MANIFEST_LOADED,this.onManifestLoaded,this)}unregisterListeners(){this.hls.off(_.MEDIA_ATTACHED,this.onMediaAttached,this),this.hls.off(_.MEDIA_DETACHED,this.onMediaDetached,this),this.hls.off(_.MANIFEST_LOADING,this.onManifestLoading,this),this.hls.off(_.MANIFEST_LOADED,this.onManifestLoaded,this)}getLicenseServerUrl(e){const{drmSystems:n,widevineLicenseUrl:r}=this.config,s=n[e];if(s)return s.licenseUrl;if(e===At.WIDEVINE&&r)return r;throw new Error(`no license server URL configured for key-system "${e}"`)}getServerCertificateUrl(e){const{drmSystems:n}=this.config,r=n[e];if(r)return r.serverCertificateUrl;this.log(`No Server Certificate in config.drmSystems["${e}"]`)}attemptKeySystemAccess(e){const n=this.hls.levels,r=(o,a,l)=>!!o&&l.indexOf(o)===a,s=n.map(o=>o.audioCodec).filter(r),i=n.map(o=>o.videoCodec).filter(r);return s.length+i.length===0&&i.push("avc1.42e01e"),new Promise((o,a)=>{const l=c=>{const u=c.shift();this.getMediaKeysPromise(u,s,i).then(d=>o({keySystem:u,mediaKeys:d})).catch(d=>{c.length?l(c):d instanceof cs?a(d):a(new cs({type:Me.KEY_SYSTEM_ERROR,details:Q.KEY_SYSTEM_NO_ACCESS,error:d,fatal:!0},d.message))})};l(e)})}requestMediaKeySystemAccess(e,n){const{requestMediaKeySystemAccessFunc:r}=this.config;if(typeof r!="function"){let s=`Configured requestMediaKeySystemAccess is not a function ${r}`;return g3===null&&self.location.protocol==="http:"&&(s=`navigator.requestMediaKeySystemAccess is not available over insecure protocol ${location.protocol}`),Promise.reject(new Error(s))}return r(e,n)}getMediaKeysPromise(e,n,r){const s=Nfe(e,n,r,this.config.drmSystemOptions),i=this.keySystemAccessPromises[e];let o=i==null?void 0:i.keySystemAccess;if(!o){this.log(`Requesting encrypted media "${e}" key-system access with config: ${JSON.stringify(s)}`),o=this.requestMediaKeySystemAccess(e,s);const a=this.keySystemAccessPromises[e]={keySystemAccess:o};return o.catch(l=>{this.log(`Failed to obtain access to key-system "${e}": ${l}`)}),o.then(l=>{this.log(`Access for key-system "${l.keySystem}" obtained`);const c=this.fetchServerCertificate(e);return this.log(`Create media-keys for "${e}"`),a.mediaKeys=l.createMediaKeys().then(u=>(this.log(`Media-keys created for "${e}"`),c.then(d=>d?this.setMediaKeysServerCertificate(u,e,d):u))),a.mediaKeys.catch(u=>{this.error(`Failed to create media-keys for "${e}"}: ${u}`)}),a.mediaKeys})}return o.then(()=>i.mediaKeys)}createMediaKeySessionContext({decryptdata:e,keySystem:n,mediaKeys:r}){this.log(`Creating key-system session "${n}" keyId: ${hi.hexDump(e.keyId||[])}`);const s=r.createSession(),i={decryptdata:e,keySystem:n,mediaKeys:r,mediaKeysSession:s,keyStatus:"status-pending"};return this.mediaKeySessions.push(i),i}renewKeySession(e){const n=e.decryptdata;if(n.pssh){const r=this.createMediaKeySessionContext(e),s=this.getKeyIdString(n),i="cenc";this.keyIdToKeySessionPromise[s]=this.generateRequestWithPreferredKeySession(r,i,n.pssh,"expired")}else this.warn("Could not renew expired session. Missing pssh initData.");this.removeSession(e)}getKeyIdString(e){if(!e)throw new Error("Could not read keyId of undefined decryptdata");if(e.keyId===null)throw new Error("keyId is null");return hi.hexDump(e.keyId)}updateKeySession(e,n){var r;const s=e.mediaKeysSession;return this.log(`Updating key-session "${s.sessionId}" for keyID ${hi.hexDump(((r=e.decryptdata)==null?void 0:r.keyId)||[])}
      } (data length: ${n&&n.byteLength})`),s.update(n)}selectKeySystemFormat(e){const n=Object.keys(e.levelkeys||{});return this.keyFormatPromise||(this.log(`Selecting key-system from fragment (sn: ${e.sn} ${e.type}: ${e.level}) key formats ${n.join(", ")}`),this.keyFormatPromise=this.getKeyFormatPromise(n)),this.keyFormatPromise}getKeyFormatPromise(e){return new Promise((n,r)=>{const s=xx(this.config),i=e.map(v_).filter(o=>!!o&&s.indexOf(o)!==-1);return this.getKeySystemSelectionPromise(i).then(({keySystem:o})=>{const a=b_(o);a?n(a):r(new Error(`Unable to find format for key-system "${o}"`))}).catch(r)})}loadKey(e){const n=e.keyInfo.decryptdata,r=this.getKeyIdString(n),s=`(keyId: ${r} format: "${n.keyFormat}" method: ${n.method} uri: ${n.uri})`;this.log(`Starting session for key ${s}`);let i=this.keyIdToKeySessionPromise[r];return i||(i=this.keyIdToKeySessionPromise[r]=this.getKeySystemForKeyPromise(n).then(({keySystem:o,mediaKeys:a})=>(this.throwIfDestroyed(),this.log(`Handle encrypted media sn: ${e.frag.sn} ${e.frag.type}: ${e.frag.level} using key ${s}`),this.attemptSetMediaKeys(o,a).then(()=>{this.throwIfDestroyed();const l=this.createMediaKeySessionContext({keySystem:o,mediaKeys:a,decryptdata:n});return this.generateRequestWithPreferredKeySession(l,"cenc",n.pssh,"playlist-key")}))),i.catch(o=>this.handleError(o))),i}throwIfDestroyed(e="Invalid state"){if(!this.hls)throw new Error("invalid state")}handleError(e){this.hls&&(this.error(e.message),e instanceof cs?this.hls.trigger(_.ERROR,e.data):this.hls.trigger(_.ERROR,{type:Me.KEY_SYSTEM_ERROR,details:Q.KEY_SYSTEM_NO_KEYS,error:e,fatal:!0}))}getKeySystemForKeyPromise(e){const n=this.getKeyIdString(e),r=this.keyIdToKeySessionPromise[n];if(!r){const s=v_(e.keyFormat),i=s?[s]:xx(this.config);return this.attemptKeySystemAccess(i)}return r}getKeySystemSelectionPromise(e){if(e.length||(e=xx(this.config)),e.length===0)throw new cs({type:Me.KEY_SYSTEM_ERROR,details:Q.KEY_SYSTEM_NO_CONFIGURED_LICENSE,fatal:!0},`Missing key-system license configuration options ${JSON.stringify({drmSystems:this.config.drmSystems})}`);return this.attemptKeySystemAccess(e)}_onMediaEncrypted(e){const{initDataType:n,initData:r}=e,s=`"${e.type}" event: init data type: "${n}"`;if(this.debug(s),r===null)return;let i,o;if(n==="sinf"&&this.config.drmSystems[At.FAIRPLAY]){const d=wn(new Uint8Array(r));try{const f=iE(JSON.parse(d).sinf),p=E3(new Uint8Array(f));if(!p)throw new Error("'schm' box missing or not cbcs/cenc with schi > tenc");i=p.subarray(8,24),o=At.FAIRPLAY}catch(f){this.warn(`${s} Failed to parse sinf: ${f}`);return}}else{const d=lhe(r),f=d.filter(p=>p.systemId===Id.WIDEVINE)[0];if(!f){d.length===0||d.some(p=>!p.systemId)?this.warn(`${s} contains incomplete or invalid pssh data`):this.log(`ignoring ${s} for ${d.map(p=>x_(p.systemId)).join(",")} pssh data in favor of playlist keys`);return}if(o=x_(f.systemId),f.version===0&&f.data){const p=f.data.length-22;i=f.data.subarray(p,p+16)}}if(!o||!i)return;const a=hi.hexDump(i),{keyIdToKeySessionPromise:l,mediaKeySessions:c}=this;let u=l[a];for(let d=0;d<c.length;d++){const f=c[d],p=f.decryptdata;if(!p.keyId)continue;const m=hi.hexDump(p.keyId);if(a===m||p.uri.replace(/-/g,"").indexOf(a)!==-1){if(u=l[m],p.pssh)break;delete l[m],p.pssh=new Uint8Array(r),p.keyId=i,u=l[a]=u.then(()=>this.generateRequestWithPreferredKeySession(f,n,r,"encrypted-event-key-match"));break}}u||(u=l[a]=this.getKeySystemSelectionPromise([o]).then(({keySystem:d,mediaKeys:f})=>{var p;this.throwIfDestroyed();const m=new rh("ISO-23001-7",a,(p=b_(d))!=null?p:"");return m.pssh=new Uint8Array(r),m.keyId=i,this.attemptSetMediaKeys(d,f).then(()=>{this.throwIfDestroyed();const g=this.createMediaKeySessionContext({decryptdata:m,keySystem:d,mediaKeys:f});return this.generateRequestWithPreferredKeySession(g,n,r,"encrypted-event-no-match")})})),u.catch(d=>this.handleError(d))}_onWaitingForKey(e){this.log(`"${e.type}" event`)}attemptSetMediaKeys(e,n){const r=this.setMediaKeysQueue.slice();this.log(`Setting media-keys for "${e}"`);const s=Promise.all(r).then(()=>{if(!this.media)throw new Error("Attempted to set mediaKeys without media element attached");return this.media.setMediaKeys(n)});return this.setMediaKeysQueue.push(s),s.then(()=>{this.log(`Media-keys set for "${e}"`),r.push(s),this.setMediaKeysQueue=this.setMediaKeysQueue.filter(i=>r.indexOf(i)===-1)})}generateRequestWithPreferredKeySession(e,n,r,s){var i,o;const a=(i=this.config.drmSystems)==null||(o=i[e.keySystem])==null?void 0:o.generateRequest;if(a)try{const m=a.call(this.hls,n,r,e);if(!m)throw new Error("Invalid response from configured generateRequest filter");n=m.initDataType,r=e.decryptdata.pssh=m.initData?new Uint8Array(m.initData):null}catch(m){var l;if(this.warn(m.message),(l=this.hls)!=null&&l.config.debug)throw m}if(r===null)return this.log(`Skipping key-session request for "${s}" (no initData)`),Promise.resolve(e);const c=this.getKeyIdString(e.decryptdata);this.log(`Generating key-session request for "${s}": ${c} (init data type: ${n} length: ${r?r.byteLength:null})`);const u=new yE,d=e._onmessage=m=>{const g=e.mediaKeysSession;if(!g){u.emit("error",new Error("invalid state"));return}const{messageType:y,message:x}=m;this.log(`"${y}" message event for session "${g.sessionId}" message size: ${x.byteLength}`),y==="license-request"||y==="license-renewal"?this.renewLicense(e,x).catch(v=>{this.handleError(v),u.emit("error",v)}):y==="license-release"?e.keySystem===At.FAIRPLAY&&(this.updateKeySession(e,sS("acknowledged")),this.removeSession(e)):this.warn(`unhandled media key message type "${y}"`)},f=e._onkeystatuseschange=m=>{if(!e.mediaKeysSession){u.emit("error",new Error("invalid state"));return}this.onKeyStatusChange(e);const y=e.keyStatus;u.emit("keyStatus",y),y==="expired"&&(this.warn(`${e.keySystem} expired for key ${c}`),this.renewKeySession(e))};e.mediaKeysSession.addEventListener("message",d),e.mediaKeysSession.addEventListener("keystatuseschange",f);const p=new Promise((m,g)=>{u.on("error",g),u.on("keyStatus",y=>{y.startsWith("usable")?m():y==="output-restricted"?g(new cs({type:Me.KEY_SYSTEM_ERROR,details:Q.KEY_SYSTEM_STATUS_OUTPUT_RESTRICTED,fatal:!1},"HDCP level output restricted")):y==="internal-error"?g(new cs({type:Me.KEY_SYSTEM_ERROR,details:Q.KEY_SYSTEM_STATUS_INTERNAL_ERROR,fatal:!0},`key status changed to "${y}"`)):y==="expired"?g(new Error("key expired while generating request")):this.warn(`unhandled key status change "${y}"`)})});return e.mediaKeysSession.generateRequest(n,r).then(()=>{var m;this.log(`Request generated for key-session "${(m=e.mediaKeysSession)==null?void 0:m.sessionId}" keyId: ${c}`)}).catch(m=>{throw new cs({type:Me.KEY_SYSTEM_ERROR,details:Q.KEY_SYSTEM_NO_SESSION,error:m,fatal:!1},`Error generating key-session request: ${m}`)}).then(()=>p).catch(m=>{throw u.removeAllListeners(),this.removeSession(e),m}).then(()=>(u.removeAllListeners(),e))}onKeyStatusChange(e){e.mediaKeysSession.keyStatuses.forEach((n,r)=>{this.log(`key status change "${n}" for keyStatuses keyId: ${hi.hexDump("buffer"in r?new Uint8Array(r.buffer,r.byteOffset,r.byteLength):new Uint8Array(r))} session keyId: ${hi.hexDump(new Uint8Array(e.decryptdata.keyId||[]))} uri: ${e.decryptdata.uri}`),e.keyStatus=n})}fetchServerCertificate(e){const n=this.config,r=n.loader,s=new r(n),i=this.getServerCertificateUrl(e);return i?(this.log(`Fetching server certificate for "${e}"`),new Promise((o,a)=>{const l={responseType:"arraybuffer",url:i},c=n.certLoadPolicy.default,u={loadPolicy:c,timeout:c.maxLoadTimeMs,maxRetry:0,retryDelay:0,maxRetryDelay:0},d={onSuccess:(f,p,m,g)=>{o(f.data)},onError:(f,p,m,g)=>{a(new cs({type:Me.KEY_SYSTEM_ERROR,details:Q.KEY_SYSTEM_SERVER_CERTIFICATE_REQUEST_FAILED,fatal:!0,networkDetails:m,response:Mn({url:l.url,data:void 0},f)},`"${e}" certificate request failed (${i}). Status: ${f.code} (${f.text})`))},onTimeout:(f,p,m)=>{a(new cs({type:Me.KEY_SYSTEM_ERROR,details:Q.KEY_SYSTEM_SERVER_CERTIFICATE_REQUEST_FAILED,fatal:!0,networkDetails:m,response:{url:l.url,data:void 0}},`"${e}" certificate request timed out (${i})`))},onAbort:(f,p,m)=>{a(new Error("aborted"))}};s.load(l,u,d)})):Promise.resolve()}setMediaKeysServerCertificate(e,n,r){return new Promise((s,i)=>{e.setServerCertificate(r).then(o=>{this.log(`setServerCertificate ${o?"success":"not supported by CDM"} (${r==null?void 0:r.byteLength}) on "${n}"`),s(e)}).catch(o=>{i(new cs({type:Me.KEY_SYSTEM_ERROR,details:Q.KEY_SYSTEM_SERVER_CERTIFICATE_UPDATE_FAILED,error:o,fatal:!0},o.message))})})}renewLicense(e,n){return this.requestLicense(e,new Uint8Array(n)).then(r=>this.updateKeySession(e,new Uint8Array(r)).catch(s=>{throw new cs({type:Me.KEY_SYSTEM_ERROR,details:Q.KEY_SYSTEM_SESSION_UPDATE_FAILED,error:s,fatal:!0},s.message)}))}unpackPlayReadyKeyMessage(e,n){const r=String.fromCharCode.apply(null,new Uint16Array(n.buffer));if(!r.includes("PlayReadyKeyMessage"))return e.setRequestHeader("Content-Type","text/xml; charset=utf-8"),n;const s=new DOMParser().parseFromString(r,"application/xml"),i=s.querySelectorAll("HttpHeader");if(i.length>0){let u;for(let d=0,f=i.length;d<f;d++){var o,a;u=i[d];const p=(o=u.querySelector("name"))==null?void 0:o.textContent,m=(a=u.querySelector("value"))==null?void 0:a.textContent;p&&m&&e.setRequestHeader(p,m)}}const l=s.querySelector("Challenge"),c=l==null?void 0:l.textContent;if(!c)throw new Error("Cannot find <Challenge> in key message");return sS(atob(c))}setupLicenseXHR(e,n,r,s){const i=this.config.licenseXhrSetup;return i?Promise.resolve().then(()=>{if(!r.decryptdata)throw new Error("Key removed");return i.call(this.hls,e,n,r,s)}).catch(o=>{if(!r.decryptdata)throw o;return e.open("POST",n,!0),i.call(this.hls,e,n,r,s)}).then(o=>(e.readyState||e.open("POST",n,!0),{xhr:e,licenseChallenge:o||s})):(e.open("POST",n,!0),Promise.resolve({xhr:e,licenseChallenge:s}))}requestLicense(e,n){const r=this.config.keyLoadPolicy.default;return new Promise((s,i)=>{const o=this.getLicenseServerUrl(e.keySystem);this.log(`Sending license request to URL: ${o}`);const a=new XMLHttpRequest;a.responseType="arraybuffer",a.onreadystatechange=()=>{if(!this.hls||!e.mediaKeysSession)return i(new Error("invalid state"));if(a.readyState===4)if(a.status===200){this._requestLicenseFailureCount=0;let l=a.response;this.log(`License received ${l instanceof ArrayBuffer?l.byteLength:l}`);const c=this.config.licenseResponseCallback;if(c)try{l=c.call(this.hls,a,o,e)}catch(u){this.error(u)}s(l)}else{const l=r.errorRetry,c=l?l.maxNumRetry:0;if(this._requestLicenseFailureCount++,this._requestLicenseFailureCount>c||a.status>=400&&a.status<500)i(new cs({type:Me.KEY_SYSTEM_ERROR,details:Q.KEY_SYSTEM_LICENSE_REQUEST_FAILED,fatal:!0,networkDetails:a,response:{url:o,data:void 0,code:a.status,text:a.statusText}},`License Request XHR failed (${o}). Status: ${a.status} (${a.statusText})`));else{const u=c-this._requestLicenseFailureCount+1;this.warn(`Retrying license request, ${u} attempts left`),this.requestLicense(e,n).then(s,i)}}},e.licenseXhr&&e.licenseXhr.readyState!==XMLHttpRequest.DONE&&e.licenseXhr.abort(),e.licenseXhr=a,this.setupLicenseXHR(a,o,e,n).then(({xhr:l,licenseChallenge:c})=>{e.keySystem==At.PLAYREADY&&(c=this.unpackPlayReadyKeyMessage(l,c)),l.send(c)})})}onMediaAttached(e,n){if(!this.config.emeEnabled)return;const r=n.media;this.media=r,r.addEventListener("encrypted",this.onMediaEncrypted),r.addEventListener("waitingforkey",this.onWaitingForKey)}onMediaDetached(){const e=this.media,n=this.mediaKeySessions;e&&(e.removeEventListener("encrypted",this.onMediaEncrypted),e.removeEventListener("waitingforkey",this.onWaitingForKey),this.media=null),this._requestLicenseFailureCount=0,this.setMediaKeysQueue=[],this.mediaKeySessions=[],this.keyIdToKeySessionPromise={},rh.clearKeyUriToKeyIdMap();const r=n.length;Gc.CDMCleanupPromise=Promise.all(n.map(s=>this.removeSession(s)).concat(e==null?void 0:e.setMediaKeys(null).catch(s=>{this.log(`Could not clear media keys: ${s}`)}))).then(()=>{r&&(this.log("finished closing key sessions and clearing media keys"),n.length=0)}).catch(s=>{this.log(`Could not close sessions and clear media keys: ${s}`)})}onManifestLoading(){this.keyFormatPromise=null}onManifestLoaded(e,{sessionKeys:n}){if(!(!n||!this.config.emeEnabled)&&!this.keyFormatPromise){const r=n.reduce((s,i)=>(s.indexOf(i.keyFormat)===-1&&s.push(i.keyFormat),s),[]);this.log(`Selecting key-system from session-keys ${r.join(", ")}`),this.keyFormatPromise=this.getKeyFormatPromise(r)}}removeSession(e){const{mediaKeysSession:n,licenseXhr:r}=e;if(n){this.log(`Remove licenses and keys and close session ${n.sessionId}`),e._onmessage&&(n.removeEventListener("message",e._onmessage),e._onmessage=void 0),e._onkeystatuseschange&&(n.removeEventListener("keystatuseschange",e._onkeystatuseschange),e._onkeystatuseschange=void 0),r&&r.readyState!==XMLHttpRequest.DONE&&r.abort(),e.mediaKeysSession=e.decryptdata=e.licenseXhr=void 0;const s=this.mediaKeySessions.indexOf(e);return s>-1&&this.mediaKeySessions.splice(s,1),n.remove().catch(i=>{this.log(`Could not remove session: ${i}`)}).then(()=>n.close()).catch(i=>{this.log(`Could not close session: ${i}`)})}}}Gc.CDMCleanupPromise=void 0;class cs extends Error{constructor(e,n){super(n),this.data=void 0,e.error||(e.error=new Error(n)),this.data=e,e.err=e.error}}var Yn;(function(t){t.MANIFEST="m",t.AUDIO="a",t.VIDEO="v",t.MUXED="av",t.INIT="i",t.CAPTION="c",t.TIMED_TEXT="tt",t.KEY="k",t.OTHER="o"})(Yn||(Yn={}));var pS;(function(t){t.DASH="d",t.HLS="h",t.SMOOTH="s",t.OTHER="o"})(pS||(pS={}));var tl;(function(t){t.OBJECT="CMCD-Object",t.REQUEST="CMCD-Request",t.SESSION="CMCD-Session",t.STATUS="CMCD-Status"})(tl||(tl={}));const Ime={[tl.OBJECT]:["br","d","ot","tb"],[tl.REQUEST]:["bl","dl","mtp","nor","nrr","su"],[tl.SESSION]:["cid","pr","sf","sid","st","v"],[tl.STATUS]:["bs","rtp"]};class bu{constructor(e,n){this.value=void 0,this.params=void 0,Array.isArray(e)&&(e=e.map(r=>r instanceof bu?r:new bu(r))),this.value=e,this.params=n}}class dN{constructor(e){this.description=void 0,this.description=e}}const Dme="Dict";function Mme(t){return Array.isArray(t)?JSON.stringify(t):t instanceof Map?"Map{}":t instanceof Set?"Set{}":typeof t=="object"?JSON.stringify(t):String(t)}function Ome(t,e,n,r){return new Error(`failed to ${t} "${Mme(e)}" as ${n}`,{cause:r})}const hL="Bare Item",Fme="Boolean",Nme="Byte Sequence",jme="Decimal",Bme="Integer";function $me(t){return t<-999999999999999||999999999999999<t}const zme=/[\x00-\x1f\x7f]+/,Ume="Token",Vme="Key";function Pi(t,e,n){return Ome("serialize",t,e,n)}function Wme(t){if(typeof t!="boolean")throw Pi(t,Fme);return t?"?1":"?0"}function Hme(t){return btoa(String.fromCharCode(...t))}function Gme(t){if(ArrayBuffer.isView(t)===!1)throw Pi(t,Nme);return`:${Hme(t)}:`}function fN(t){if($me(t))throw Pi(t,Bme);return t.toString()}function Kme(t){return`@${fN(t.getTime()/1e3)}`}function hN(t,e){if(t<0)return-hN(-t,e);const n=Math.pow(10,e);if(Math.abs(t*n%1-.5)<Number.EPSILON){const s=Math.floor(t*n);return(s%2===0?s:s+1)/n}else return Math.round(t*n)/n}function Yme(t){const e=hN(t,3);if(Math.floor(Math.abs(e)).toString().length>12)throw Pi(t,jme);const n=e.toString();return n.includes(".")?n:`${n}.0`}const qme="String";function Xme(t){if(zme.test(t))throw Pi(t,qme);return`"${t.replace(/\\/g,"\\\\").replace(/"/g,'\\"')}"`}function Qme(t){return t.description||t.toString().slice(7,-1)}function pL(t){const e=Qme(t);if(/^([a-zA-Z*])([!#$%&'*+\-.^_`|~\w:/]*)$/.test(e)===!1)throw Pi(e,Ume);return e}function mS(t){switch(typeof t){case"number":if(!xe(t))throw Pi(t,hL);return Number.isInteger(t)?fN(t):Yme(t);case"string":return Xme(t);case"symbol":return pL(t);case"boolean":return Wme(t);case"object":if(t instanceof Date)return Kme(t);if(t instanceof Uint8Array)return Gme(t);if(t instanceof dN)return pL(t);default:throw Pi(t,hL)}}function gS(t){if(/^[a-z*][a-z0-9\-_.*]*$/.test(t)===!1)throw Pi(t,Vme);return t}function SE(t){return t==null?"":Object.entries(t).map(([e,n])=>n===!0?`;${gS(e)}`:`;${gS(e)}=${mS(n)}`).join("")}function pN(t){return t instanceof bu?`${mS(t.value)}${SE(t.params)}`:mS(t)}function Zme(t){return`(${t.value.map(pN).join(" ")})${SE(t.params)}`}function Jme(t,e={whitespace:!0}){if(typeof t!="object")throw Pi(t,Dme);const n=t instanceof Map?t.entries():Object.entries(t),r=e!=null&&e.whitespace?" ":"";return Array.from(n).map(([s,i])=>{i instanceof bu||(i=new bu(i));let o=gS(s);return i.value===!0?o+=SE(i.params):(o+="=",Array.isArray(i.value)?o+=Zme(i):o+=pN(i)),o}).join(`,${r}`)}function ege(t,e){return Jme(t,e)}const tge=t=>t==="ot"||t==="sf"||t==="st",nge=t=>typeof t=="number"?xe(t):t!=null&&t!==""&&t!==!1;function rge(t,e){const n=new URL(t),r=new URL(e);if(n.origin!==r.origin)return t;const s=n.pathname.split("/").slice(1),i=r.pathname.split("/").slice(1,-1);for(;s[0]===i[0];)s.shift(),i.shift();for(;i.length;)i.shift(),s.unshift("..");return s.join("/")}function sge(){try{return crypto.randomUUID()}catch{try{const e=URL.createObjectURL(new Blob),n=e.toString();return URL.revokeObjectURL(e),n.slice(n.lastIndexOf("/")+1)}catch{let n=new Date().getTime();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,s=>{const i=(n+Math.random()*16)%16|0;return n=Math.floor(n/16),(s=="x"?i:i&3|8).toString(16)})}}}const Bm=t=>Math.round(t),ige=(t,e)=>(e!=null&&e.baseUrl&&(t=rge(t,e.baseUrl)),encodeURIComponent(t)),Wp=t=>Bm(t/100)*100,oge={br:Bm,d:Bm,bl:Wp,dl:Wp,mtp:Wp,nor:ige,rtp:Wp,tb:Bm};function age(t,e){const n={};if(t==null||typeof t!="object")return n;const r=Object.keys(t).sort(),s=yn({},oge,e==null?void 0:e.formatters),i=e==null?void 0:e.filter;return r.forEach(o=>{if(i!=null&&i(o))return;let a=t[o];const l=s[o];l&&(a=l(a,e)),!(o==="v"&&a===1)&&(o=="pr"&&a===1||nge(a)&&(tge(o)&&typeof a=="string"&&(a=new dN(a)),n[o]=a))}),n}function mN(t,e={}){return t?ege(age(t,e),yn({whitespace:!1},e)):""}function lge(t,e={}){if(!t)return{};const n=Object.entries(t),r=Object.entries(Ime).concat(Object.entries((e==null?void 0:e.customHeaderMap)||{})),s=n.reduce((i,o)=>{var a,l;const[c,u]=o,d=((a=r.find(f=>f[1].includes(c)))==null?void 0:a[0])||tl.REQUEST;return(l=i[d])!=null||(i[d]={}),i[d][c]=u,i},{});return Object.entries(s).reduce((i,[o,a])=>(i[o]=mN(a,e),i),{})}function cge(t,e,n){return yn(t,lge(e,n))}const uge="CMCD";function dge(t,e={}){if(!t)return"";const n=mN(t,e);return`${uge}=${encodeURIComponent(n)}`}const mL=/CMCD=[^&#]+/;function fge(t,e,n){const r=dge(e,n);if(!r)return t;if(mL.test(t))return t.replace(mL,r);const s=t.includes("?")?"&":"?";return`${t}${s}${r}`}class hge{constructor(e){this.hls=void 0,this.config=void 0,this.media=void 0,this.sid=void 0,this.cid=void 0,this.useHeaders=!1,this.includeKeys=void 0,this.initialized=!1,this.starved=!1,this.buffering=!0,this.audioBuffer=void 0,this.videoBuffer=void 0,this.onWaiting=()=>{this.initialized&&(this.starved=!0),this.buffering=!0},this.onPlaying=()=>{this.initialized||(this.initialized=!0),this.buffering=!1},this.applyPlaylistData=s=>{try{this.apply(s,{ot:Yn.MANIFEST,su:!this.initialized})}catch(i){H.warn("Could not generate manifest CMCD data.",i)}},this.applyFragmentData=s=>{try{const i=s.frag,o=this.hls.levels[i.level],a=this.getObjectType(i),l={d:i.duration*1e3,ot:a};(a===Yn.VIDEO||a===Yn.AUDIO||a==Yn.MUXED)&&(l.br=o.bitrate/1e3,l.tb=this.getTopBandwidth(a)/1e3,l.bl=this.getBufferLength(a)),this.apply(s,l)}catch(i){H.warn("Could not generate segment CMCD data.",i)}},this.hls=e;const n=this.config=e.config,{cmcd:r}=n;r!=null&&(n.pLoader=this.createPlaylistLoader(),n.fLoader=this.createFragmentLoader(),this.sid=r.sessionId||sge(),this.cid=r.contentId,this.useHeaders=r.useHeaders===!0,this.includeKeys=r.includeKeys,this.registerListeners())}registerListeners(){const e=this.hls;e.on(_.MEDIA_ATTACHED,this.onMediaAttached,this),e.on(_.MEDIA_DETACHED,this.onMediaDetached,this),e.on(_.BUFFER_CREATED,this.onBufferCreated,this)}unregisterListeners(){const e=this.hls;e.off(_.MEDIA_ATTACHED,this.onMediaAttached,this),e.off(_.MEDIA_DETACHED,this.onMediaDetached,this),e.off(_.BUFFER_CREATED,this.onBufferCreated,this)}destroy(){this.unregisterListeners(),this.onMediaDetached(),this.hls=this.config=this.audioBuffer=this.videoBuffer=null,this.onWaiting=this.onPlaying=null}onMediaAttached(e,n){this.media=n.media,this.media.addEventListener("waiting",this.onWaiting),this.media.addEventListener("playing",this.onPlaying)}onMediaDetached(){this.media&&(this.media.removeEventListener("waiting",this.onWaiting),this.media.removeEventListener("playing",this.onPlaying),this.media=null)}onBufferCreated(e,n){var r,s;this.audioBuffer=(r=n.tracks.audio)==null?void 0:r.buffer,this.videoBuffer=(s=n.tracks.video)==null?void 0:s.buffer}createData(){var e;return{v:1,sf:pS.HLS,sid:this.sid,cid:this.cid,pr:(e=this.media)==null?void 0:e.playbackRate,mtp:this.hls.bandwidthEstimate/1e3}}apply(e,n={}){yn(n,this.createData());const r=n.ot===Yn.INIT||n.ot===Yn.VIDEO||n.ot===Yn.MUXED;this.starved&&r&&(n.bs=!0,n.su=!0,this.starved=!1),n.su==null&&(n.su=this.buffering);const{includeKeys:s}=this;s&&(n=Object.keys(n).reduce((i,o)=>(s.includes(o)&&(i[o]=n[o]),i),{})),this.useHeaders?(e.headers||(e.headers={}),cge(e.headers,n)):e.url=fge(e.url,n)}getObjectType(e){const{type:n}=e;if(n==="subtitle")return Yn.TIMED_TEXT;if(e.sn==="initSegment")return Yn.INIT;if(n==="audio")return Yn.AUDIO;if(n==="main")return this.hls.audioTracks.length?Yn.VIDEO:Yn.MUXED}getTopBandwidth(e){let n=0,r;const s=this.hls;if(e===Yn.AUDIO)r=s.audioTracks;else{const i=s.maxAutoLevel,o=i>-1?i+1:s.levels.length;r=s.levels.slice(0,o)}for(const i of r)i.bitrate>n&&(n=i.bitrate);return n>0?n:NaN}getBufferLength(e){const n=this.hls.media,r=e===Yn.AUDIO?this.audioBuffer:this.videoBuffer;return!r||!n?NaN:kt.bufferInfo(r,n.currentTime,this.config.maxBufferHole).len*1e3}createPlaylistLoader(){const{pLoader:e}=this.config,n=this.applyPlaylistData,r=e||this.config.loader;return class{constructor(i){this.loader=void 0,this.loader=new r(i)}get stats(){return this.loader.stats}get context(){return this.loader.context}destroy(){this.loader.destroy()}abort(){this.loader.abort()}load(i,o,a){n(i),this.loader.load(i,o,a)}}}createFragmentLoader(){const{fLoader:e}=this.config,n=this.applyFragmentData,r=e||this.config.loader;return class{constructor(i){this.loader=void 0,this.loader=new r(i)}get stats(){return this.loader.stats}get context(){return this.loader.context}destroy(){this.loader.destroy()}abort(){this.loader.abort()}load(i,o,a){n(i),this.loader.load(i,o,a)}}}}const pge=3e5;class mge{constructor(e){this.hls=void 0,this.log=void 0,this.loader=null,this.uri=null,this.pathwayId=".",this.pathwayPriority=null,this.timeToLoad=300,this.reloadTimer=-1,this.updated=0,this.started=!1,this.enabled=!0,this.levels=null,this.audioTracks=null,this.subtitleTracks=null,this.penalizedPathways={},this.hls=e,this.log=H.log.bind(H,"[content-steering]:"),this.registerListeners()}registerListeners(){const e=this.hls;e.on(_.MANIFEST_LOADING,this.onManifestLoading,this),e.on(_.MANIFEST_LOADED,this.onManifestLoaded,this),e.on(_.MANIFEST_PARSED,this.onManifestParsed,this),e.on(_.ERROR,this.onError,this)}unregisterListeners(){const e=this.hls;e&&(e.off(_.MANIFEST_LOADING,this.onManifestLoading,this),e.off(_.MANIFEST_LOADED,this.onManifestLoaded,this),e.off(_.MANIFEST_PARSED,this.onManifestParsed,this),e.off(_.ERROR,this.onError,this))}startLoad(){if(this.started=!0,this.clearTimeout(),this.enabled&&this.uri){if(this.updated){const e=this.timeToLoad*1e3-(performance.now()-this.updated);if(e>0){this.scheduleRefresh(this.uri,e);return}}this.loadSteeringManifest(this.uri)}}stopLoad(){this.started=!1,this.loader&&(this.loader.destroy(),this.loader=null),this.clearTimeout()}clearTimeout(){this.reloadTimer!==-1&&(self.clearTimeout(this.reloadTimer),this.reloadTimer=-1)}destroy(){this.unregisterListeners(),this.stopLoad(),this.hls=null,this.levels=this.audioTracks=this.subtitleTracks=null}removeLevel(e){const n=this.levels;n&&(this.levels=n.filter(r=>r!==e))}onManifestLoading(){this.stopLoad(),this.enabled=!0,this.timeToLoad=300,this.updated=0,this.uri=null,this.pathwayId=".",this.levels=this.audioTracks=this.subtitleTracks=null}onManifestLoaded(e,n){const{contentSteering:r}=n;r!==null&&(this.pathwayId=r.pathwayId,this.uri=r.uri,this.started&&this.startLoad())}onManifestParsed(e,n){this.audioTracks=n.audioTracks,this.subtitleTracks=n.subtitleTracks}onError(e,n){const{errorAction:r}=n;if((r==null?void 0:r.action)===jn.SendAlternateToPenaltyBox&&r.flags===zs.MoveAllAlternatesMatchingHost){const s=this.levels;let i=this.pathwayPriority,o=this.pathwayId;if(n.context){const{groupId:a,pathwayId:l,type:c}=n.context;a&&s?o=this.getPathwayForGroupId(a,c,o):l&&(o=l)}o in this.penalizedPathways||(this.penalizedPathways[o]=performance.now()),!i&&s&&(i=s.reduce((a,l)=>(a.indexOf(l.pathwayId)===-1&&a.push(l.pathwayId),a),[])),i&&i.length>1&&(this.updatePathwayPriority(i),r.resolved=this.pathwayId!==o),r.resolved||H.warn(`Could not resolve ${n.details} ("${n.error.message}") with content-steering for Pathway: ${o} levels: ${s&&s.length} priorities: ${JSON.stringify(i)} penalized: ${JSON.stringify(this.penalizedPathways)}`)}}filterParsedLevels(e){this.levels=e;let n=this.getLevelsForPathway(this.pathwayId);if(n.length===0){const r=e[0].pathwayId;this.log(`No levels found in Pathway ${this.pathwayId}. Setting initial Pathway to "${r}"`),n=this.getLevelsForPathway(r),this.pathwayId=r}return n.length!==e.length&&this.log(`Found ${n.length}/${e.length} levels in Pathway "${this.pathwayId}"`),n}getLevelsForPathway(e){return this.levels===null?[]:this.levels.filter(n=>e===n.pathwayId)}updatePathwayPriority(e){this.pathwayPriority=e;let n;const r=this.penalizedPathways,s=performance.now();Object.keys(r).forEach(i=>{s-r[i]>pge&&delete r[i]});for(let i=0;i<e.length;i++){const o=e[i];if(o in r)continue;if(o===this.pathwayId)return;const a=this.hls.nextLoadLevel,l=this.hls.levels[a];if(n=this.getLevelsForPathway(o),n.length>0){this.log(`Setting Pathway to "${o}"`),this.pathwayId=o,M3(n),this.hls.trigger(_.LEVELS_UPDATED,{levels:n});const c=this.hls.levels[a];l&&c&&this.levels&&(c.attrs["STABLE-VARIANT-ID"]!==l.attrs["STABLE-VARIANT-ID"]&&c.bitrate!==l.bitrate&&this.log(`Unstable Pathways change from bitrate ${l.bitrate} to ${c.bitrate}`),this.hls.nextLoadLevel=a);break}}}getPathwayForGroupId(e,n,r){const s=this.getLevelsForPathway(r).concat(this.levels||[]);for(let i=0;i<s.length;i++)if(n===et.AUDIO_TRACK&&s[i].hasAudioGroup(e)||n===et.SUBTITLE_TRACK&&s[i].hasSubtitleGroup(e))return s[i].pathwayId;return r}clonePathways(e){const n=this.levels;if(!n)return;const r={},s={};e.forEach(i=>{const{ID:o,"BASE-ID":a,"URI-REPLACEMENT":l}=i;if(n.some(u=>u.pathwayId===o))return;const c=this.getLevelsForPathway(a).map(u=>{const d=new Gt(u.attrs);d["PATHWAY-ID"]=o;const f=d.AUDIO&&`${d.AUDIO}_clone_${o}`,p=d.SUBTITLES&&`${d.SUBTITLES}_clone_${o}`;f&&(r[d.AUDIO]=f,d.AUDIO=f),p&&(s[d.SUBTITLES]=p,d.SUBTITLES=p);const m=gN(u.uri,d["STABLE-VARIANT-ID"],"PER-VARIANT-URIS",l),g=new vu({attrs:d,audioCodec:u.audioCodec,bitrate:u.bitrate,height:u.height,name:u.name,url:m,videoCodec:u.videoCodec,width:u.width});if(u.audioGroups)for(let y=1;y<u.audioGroups.length;y++)g.addGroupId("audio",`${u.audioGroups[y]}_clone_${o}`);if(u.subtitleGroups)for(let y=1;y<u.subtitleGroups.length;y++)g.addGroupId("text",`${u.subtitleGroups[y]}_clone_${o}`);return g});n.push(...c),gL(this.audioTracks,r,l,o),gL(this.subtitleTracks,s,l,o)})}loadSteeringManifest(e){const n=this.hls.config,r=n.loader;this.loader&&this.loader.destroy(),this.loader=new r(n);let s;try{s=new self.URL(e)}catch{this.enabled=!1,this.log(`Failed to parse Steering Manifest URI: ${e}`);return}if(s.protocol!=="data:"){const u=(this.hls.bandwidthEstimate||n.abrEwmaDefaultEstimate)|0;s.searchParams.set("_HLS_pathway",this.pathwayId),s.searchParams.set("_HLS_throughput",""+u)}const i={responseType:"json",url:s.href},o=n.steeringManifestLoadPolicy.default,a=o.errorRetry||o.timeoutRetry||{},l={loadPolicy:o,timeout:o.maxLoadTimeMs,maxRetry:a.maxNumRetry||0,retryDelay:a.retryDelayMs||0,maxRetryDelay:a.maxRetryDelayMs||0},c={onSuccess:(u,d,f,p)=>{this.log(`Loaded steering manifest: "${s}"`);const m=u.data;if(m.VERSION!==1){this.log(`Steering VERSION ${m.VERSION} not supported!`);return}this.updated=performance.now(),this.timeToLoad=m.TTL;const{"RELOAD-URI":g,"PATHWAY-CLONES":y,"PATHWAY-PRIORITY":x}=m;if(g)try{this.uri=new self.URL(g,s).href}catch{this.enabled=!1,this.log(`Failed to parse Steering Manifest RELOAD-URI: ${g}`);return}this.scheduleRefresh(this.uri||f.url),y&&this.clonePathways(y);const v={steeringManifest:m,url:s.toString()};this.hls.trigger(_.STEERING_MANIFEST_LOADED,v),x&&this.updatePathwayPriority(x)},onError:(u,d,f,p)=>{if(this.log(`Error loading steering manifest: ${u.code} ${u.text} (${d.url})`),this.stopLoad(),u.code===410){this.enabled=!1,this.log(`Steering manifest ${d.url} no longer available`);return}let m=this.timeToLoad*1e3;if(u.code===429){const g=this.loader;if(typeof(g==null?void 0:g.getResponseHeader)=="function"){const y=g.getResponseHeader("Retry-After");y&&(m=parseFloat(y)*1e3)}this.log(`Steering manifest ${d.url} rate limited`);return}this.scheduleRefresh(this.uri||d.url,m)},onTimeout:(u,d,f)=>{this.log(`Timeout loading steering manifest (${d.url})`),this.scheduleRefresh(this.uri||d.url)}};this.log(`Requesting steering manifest: ${s}`),this.loader.load(i,l,c)}scheduleRefresh(e,n=this.timeToLoad*1e3){this.clearTimeout(),this.reloadTimer=self.setTimeout(()=>{var r;const s=(r=this.hls)==null?void 0:r.media;if(s&&!s.ended){this.loadSteeringManifest(e);return}this.scheduleRefresh(e,this.timeToLoad*1e3)},n)}}function gL(t,e,n,r){t&&Object.keys(e).forEach(s=>{const i=t.filter(o=>o.groupId===s).map(o=>{const a=yn({},o);return a.details=void 0,a.attrs=new Gt(a.attrs),a.url=a.attrs.URI=gN(o.url,o.attrs["STABLE-RENDITION-ID"],"PER-RENDITION-URIS",n),a.groupId=a.attrs["GROUP-ID"]=e[s],a.attrs["PATHWAY-ID"]=r,a});t.push(...i)})}function gN(t,e,n,r){const{HOST:s,PARAMS:i,[n]:o}=r;let a;e&&(a=o==null?void 0:o[e],a&&(t=a));const l=new self.URL(t);return s&&!a&&(l.host=s),i&&Object.keys(i).sort().forEach(c=>{c&&l.searchParams.set(c,i[c])}),l.href}const gge=/^age:\s*[\d.]+\s*$/im;class yN{constructor(e){this.xhrSetup=void 0,this.requestTimeout=void 0,this.retryTimeout=void 0,this.retryDelay=void 0,this.config=null,this.callbacks=null,this.context=null,this.loader=null,this.stats=void 0,this.xhrSetup=e&&e.xhrSetup||null,this.stats=new vy,this.retryDelay=0}destroy(){this.callbacks=null,this.abortInternal(),this.loader=null,this.config=null,this.context=null,this.xhrSetup=null}abortInternal(){const e=this.loader;self.clearTimeout(this.requestTimeout),self.clearTimeout(this.retryTimeout),e&&(e.onreadystatechange=null,e.onprogress=null,e.readyState!==4&&(this.stats.aborted=!0,e.abort()))}abort(){var e;this.abortInternal(),(e=this.callbacks)!=null&&e.onAbort&&this.callbacks.onAbort(this.stats,this.context,this.loader)}load(e,n,r){if(this.stats.loading.start)throw new Error("Loader can only be used once.");this.stats.loading.start=self.performance.now(),this.context=e,this.config=n,this.callbacks=r,this.loadInternal()}loadInternal(){const{config:e,context:n}=this;if(!e||!n)return;const r=this.loader=new self.XMLHttpRequest,s=this.stats;s.loading.first=0,s.loaded=0,s.aborted=!1;const i=this.xhrSetup;i?Promise.resolve().then(()=>{if(!(this.loader!==r||this.stats.aborted))return i(r,n.url)}).catch(o=>{if(!(this.loader!==r||this.stats.aborted))return r.open("GET",n.url,!0),i(r,n.url)}).then(()=>{this.loader!==r||this.stats.aborted||this.openAndSendXhr(r,n,e)}).catch(o=>{this.callbacks.onError({code:r.status,text:o.message},n,r,s)}):this.openAndSendXhr(r,n,e)}openAndSendXhr(e,n,r){e.readyState||e.open("GET",n.url,!0);const s=n.headers,{maxTimeToFirstByteMs:i,maxLoadTimeMs:o}=r.loadPolicy;if(s)for(const a in s)e.setRequestHeader(a,s[a]);n.rangeEnd&&e.setRequestHeader("Range","bytes="+n.rangeStart+"-"+(n.rangeEnd-1)),e.onreadystatechange=this.readystatechange.bind(this),e.onprogress=this.loadprogress.bind(this),e.responseType=n.responseType,self.clearTimeout(this.requestTimeout),r.timeout=i&&xe(i)?i:o,this.requestTimeout=self.setTimeout(this.loadtimeout.bind(this),r.timeout),e.send()}readystatechange(){const{context:e,loader:n,stats:r}=this;if(!e||!n)return;const s=n.readyState,i=this.config;if(!r.aborted&&s>=2&&(r.loading.first===0&&(r.loading.first=Math.max(self.performance.now(),r.loading.start),i.timeout!==i.loadPolicy.maxLoadTimeMs&&(self.clearTimeout(this.requestTimeout),i.timeout=i.loadPolicy.maxLoadTimeMs,this.requestTimeout=self.setTimeout(this.loadtimeout.bind(this),i.loadPolicy.maxLoadTimeMs-(r.loading.first-r.loading.start)))),s===4)){self.clearTimeout(this.requestTimeout),n.onreadystatechange=null,n.onprogress=null;const o=n.status,a=n.responseType!=="text";if(o>=200&&o<300&&(a&&n.response||n.responseText!==null)){r.loading.end=Math.max(self.performance.now(),r.loading.first);const l=a?n.response:n.responseText,c=n.responseType==="arraybuffer"?l.byteLength:l.length;if(r.loaded=r.total=c,r.bwEstimate=r.total*8e3/(r.loading.end-r.loading.first),!this.callbacks)return;const u=this.callbacks.onProgress;if(u&&u(r,e,l,n),!this.callbacks)return;const d={url:n.responseURL,data:l,code:o};this.callbacks.onSuccess(d,r,e,n)}else{const l=i.loadPolicy.errorRetry,c=r.retry,u={url:e.url,data:void 0,code:o};Qg(l,c,!1,u)?this.retry(l):(H.error(`${o} while loading ${e.url}`),this.callbacks.onError({code:o,text:n.statusText},e,n,r))}}}loadtimeout(){if(!this.config)return;const e=this.config.loadPolicy.timeoutRetry,n=this.stats.retry;if(Qg(e,n,!0))this.retry(e);else{var r;H.warn(`timeout while loading ${(r=this.context)==null?void 0:r.url}`);const s=this.callbacks;s&&(this.abortInternal(),s.onTimeout(this.stats,this.context,this.loader))}}retry(e){const{context:n,stats:r}=this;this.retryDelay=lE(e,r.retry),r.retry++,H.warn(`${status?"HTTP Status "+status:"Timeout"} while loading ${n==null?void 0:n.url}, retrying ${r.retry}/${e.maxNumRetry} in ${this.retryDelay}ms`),this.abortInternal(),this.loader=null,self.clearTimeout(this.retryTimeout),this.retryTimeout=self.setTimeout(this.loadInternal.bind(this),this.retryDelay)}loadprogress(e){const n=this.stats;n.loaded=e.loaded,e.lengthComputable&&(n.total=e.total)}getCacheAge(){let e=null;if(this.loader&&gge.test(this.loader.getAllResponseHeaders())){const n=this.loader.getResponseHeader("age");e=n?parseFloat(n):null}return e}getResponseHeader(e){return this.loader&&new RegExp(`^${e}:\\s*[\\d.]+\\s*$`,"im").test(this.loader.getAllResponseHeaders())?this.loader.getResponseHeader(e):null}}function yge(){if(self.fetch&&self.AbortController&&self.ReadableStream&&self.Request)try{return new self.ReadableStream({}),!0}catch{}return!1}const vge=/(\d+)-(\d+)\/(\d+)/;class yL{constructor(e){this.fetchSetup=void 0,this.requestTimeout=void 0,this.request=null,this.response=null,this.controller=void 0,this.context=null,this.config=null,this.callbacks=null,this.stats=void 0,this.loader=null,this.fetchSetup=e.fetchSetup||wge,this.controller=new self.AbortController,this.stats=new vy}destroy(){this.loader=this.callbacks=this.context=this.config=this.request=null,this.abortInternal(),this.response=null,this.fetchSetup=this.controller=this.stats=null}abortInternal(){this.controller&&!this.stats.loading.end&&(this.stats.aborted=!0,this.controller.abort())}abort(){var e;this.abortInternal(),(e=this.callbacks)!=null&&e.onAbort&&this.callbacks.onAbort(this.stats,this.context,this.response)}load(e,n,r){const s=this.stats;if(s.loading.start)throw new Error("Loader can only be used once.");s.loading.start=self.performance.now();const i=xge(e,this.controller.signal),o=r.onProgress,a=e.responseType==="arraybuffer",l=a?"byteLength":"length",{maxTimeToFirstByteMs:c,maxLoadTimeMs:u}=n.loadPolicy;this.context=e,this.config=n,this.callbacks=r,this.request=this.fetchSetup(e,i),self.clearTimeout(this.requestTimeout),n.timeout=c&&xe(c)?c:u,this.requestTimeout=self.setTimeout(()=>{this.abortInternal(),r.onTimeout(s,e,this.response)},n.timeout),self.fetch(this.request).then(d=>{this.response=this.loader=d;const f=Math.max(self.performance.now(),s.loading.start);if(self.clearTimeout(this.requestTimeout),n.timeout=u,this.requestTimeout=self.setTimeout(()=>{this.abortInternal(),r.onTimeout(s,e,this.response)},u-(f-s.loading.start)),!d.ok){const{status:p,statusText:m}=d;throw new Tge(m||"fetch, bad network response",p,d)}return s.loading.first=f,s.total=Sge(d.headers)||s.total,o&&xe(n.highWaterMark)?this.loadProgressively(d,s,e,n.highWaterMark,o):a?d.arrayBuffer():e.responseType==="json"?d.json():d.text()}).then(d=>{const f=this.response;if(!f)throw new Error("loader destroyed");self.clearTimeout(this.requestTimeout),s.loading.end=Math.max(self.performance.now(),s.loading.first);const p=d[l];p&&(s.loaded=s.total=p);const m={url:f.url,data:d,code:f.status};o&&!xe(n.highWaterMark)&&o(s,e,d,f),r.onSuccess(m,s,e,f)}).catch(d=>{if(self.clearTimeout(this.requestTimeout),s.aborted)return;const f=d&&d.code||0,p=d?d.message:null;r.onError({code:f,text:p},e,d?d.details:null,s)})}getCacheAge(){let e=null;if(this.response){const n=this.response.headers.get("age");e=n?parseFloat(n):null}return e}getResponseHeader(e){return this.response?this.response.headers.get(e):null}loadProgressively(e,n,r,s=0,i){const o=new j3,a=e.body.getReader(),l=()=>a.read().then(c=>{if(c.done)return o.dataLength&&i(n,r,o.flush(),e),Promise.resolve(new ArrayBuffer(0));const u=c.value,d=u.length;return n.loaded+=d,d<s||o.dataLength?(o.push(u),o.dataLength>=s&&i(n,r,o.flush(),e)):i(n,r,u,e),l()}).catch(()=>Promise.reject());return l()}}function xge(t,e){const n={method:"GET",mode:"cors",credentials:"same-origin",signal:e,headers:new self.Headers(yn({},t.headers))};return t.rangeEnd&&n.headers.set("Range","bytes="+t.rangeStart+"-"+String(t.rangeEnd-1)),n}function bge(t){const e=vge.exec(t);if(e)return parseInt(e[2])-parseInt(e[1])+1}function Sge(t){const e=t.get("Content-Range");if(e){const r=bge(e);if(xe(r))return r}const n=t.get("Content-Length");if(n)return parseInt(n)}function wge(t,e){return new self.Request(t.url,e)}class Tge extends Error{constructor(e,n,r){super(e),this.code=void 0,this.details=void 0,this.code=n,this.details=r}}const Ege=/\s/,Cge={newCue(t,e,n,r){const s=[];let i,o,a,l,c;const u=self.VTTCue||self.TextTrackCue;for(let f=0;f<r.rows.length;f++)if(i=r.rows[f],a=!0,l=0,c="",!i.isEmpty()){var d;for(let g=0;g<i.chars.length;g++)Ege.test(i.chars[g].uchar)&&a?l++:(c+=i.chars[g].uchar,a=!1);i.cueStartTime=e,e===n&&(n+=1e-4),l>=16?l--:l++;const p=oN(c.trim()),m=xE(e,n,p);t!=null&&(d=t.cues)!=null&&d.getCueById(m)||(o=new u(e,n,p),o.id=m,o.line=f+1,o.align="left",o.position=10+Math.min(80,Math.floor(l*8/32)*10),s.push(o))}return t&&s.length&&(s.sort((f,p)=>f.line==="auto"||p.line==="auto"?0:f.line>8&&p.line>8?p.line-f.line:f.line-p.line),s.forEach(f=>L3(t,f))),s}},kge={maxTimeToFirstByteMs:8e3,maxLoadTimeMs:2e4,timeoutRetry:null,errorRetry:null},vN=Mn(Mn({autoStartLoad:!0,startPosition:-1,defaultAudioCodec:void 0,debug:!1,capLevelOnFPSDrop:!1,capLevelToPlayerSize:!1,ignoreDevicePixelRatio:!1,preferManagedMediaSource:!0,initialLiveManifestSize:1,maxBufferLength:30,backBufferLength:1/0,frontBufferFlushThreshold:1/0,maxBufferSize:60*1e3*1e3,maxBufferHole:.1,highBufferWatchdogPeriod:2,nudgeOffset:.1,nudgeMaxRetry:3,maxFragLookUpTolerance:.25,liveSyncDurationCount:3,liveMaxLatencyDurationCount:1/0,liveSyncDuration:void 0,liveMaxLatencyDuration:void 0,maxLiveSyncPlaybackRate:1,liveDurationInfinity:!1,liveBackBufferLength:null,maxMaxBufferLength:600,enableWorker:!0,workerPath:null,enableSoftwareAES:!0,startLevel:void 0,startFragPrefetch:!1,fpsDroppedMonitoringPeriod:5e3,fpsDroppedMonitoringThreshold:.2,appendErrorMaxRetry:3,loader:yN,fLoader:void 0,pLoader:void 0,xhrSetup:void 0,licenseXhrSetup:void 0,licenseResponseCallback:void 0,abrController:Jhe,bufferController:rme,capLevelController:bE,errorController:zhe,fpsController:Pme,stretchShortVideoTrack:!1,maxAudioFramesDrift:1,forceKeyFrameOnDiscontinuity:!0,abrEwmaFastLive:3,abrEwmaSlowLive:9,abrEwmaFastVoD:3,abrEwmaSlowVoD:9,abrEwmaDefaultEstimate:5e5,abrEwmaDefaultEstimateMax:5e6,abrBandWidthFactor:.95,abrBandWidthUpFactor:.7,abrMaxWithRealBitrate:!1,maxStarvationDelay:4,maxLoadingDelay:4,minAutoBitrate:0,emeEnabled:!1,widevineLicenseUrl:void 0,drmSystems:{},drmSystemOptions:{},requestMediaKeySystemAccessFunc:g3,testBandwidth:!0,progressive:!1,lowLatencyMode:!0,cmcd:void 0,enableDateRangeMetadataCues:!0,enableEmsgMetadataCues:!0,enableID3MetadataCues:!0,useMediaCapabilities:!0,certLoadPolicy:{default:kge},keyLoadPolicy:{default:{maxTimeToFirstByteMs:8e3,maxLoadTimeMs:2e4,timeoutRetry:{maxNumRetry:1,retryDelayMs:1e3,maxRetryDelayMs:2e4,backoff:"linear"},errorRetry:{maxNumRetry:8,retryDelayMs:1e3,maxRetryDelayMs:2e4,backoff:"linear"}}},manifestLoadPolicy:{default:{maxTimeToFirstByteMs:1/0,maxLoadTimeMs:2e4,timeoutRetry:{maxNumRetry:2,retryDelayMs:0,maxRetryDelayMs:0},errorRetry:{maxNumRetry:1,retryDelayMs:1e3,maxRetryDelayMs:8e3}}},playlistLoadPolicy:{default:{maxTimeToFirstByteMs:1e4,maxLoadTimeMs:2e4,timeoutRetry:{maxNumRetry:2,retryDelayMs:0,maxRetryDelayMs:0},errorRetry:{maxNumRetry:2,retryDelayMs:1e3,maxRetryDelayMs:8e3}}},fragLoadPolicy:{default:{maxTimeToFirstByteMs:1e4,maxLoadTimeMs:12e4,timeoutRetry:{maxNumRetry:4,retryDelayMs:0,maxRetryDelayMs:0},errorRetry:{maxNumRetry:6,retryDelayMs:1e3,maxRetryDelayMs:8e3}}},steeringManifestLoadPolicy:{default:{maxTimeToFirstByteMs:1e4,maxLoadTimeMs:2e4,timeoutRetry:{maxNumRetry:2,retryDelayMs:0,maxRetryDelayMs:0},errorRetry:{maxNumRetry:1,retryDelayMs:1e3,maxRetryDelayMs:8e3}}},manifestLoadingTimeOut:1e4,manifestLoadingMaxRetry:1,manifestLoadingRetryDelay:1e3,manifestLoadingMaxRetryTimeout:64e3,levelLoadingTimeOut:1e4,levelLoadingMaxRetry:4,levelLoadingRetryDelay:1e3,levelLoadingMaxRetryTimeout:64e3,fragLoadingTimeOut:2e4,fragLoadingMaxRetry:6,fragLoadingRetryDelay:1e3,fragLoadingMaxRetryTimeout:64e3},Age()),{},{subtitleStreamController:Jpe,subtitleTrackController:tme,timelineController:_me,audioStreamController:Qpe,audioTrackController:Zpe,emeController:Gc,cmcdController:hge,contentSteeringController:mge});function Age(){return{cueHandler:Cge,enableWebVTT:!0,enableIMSC1:!0,enableCEA708Captions:!0,captionsTextTrack1Label:"English",captionsTextTrack1LanguageCode:"en",captionsTextTrack2Label:"Spanish",captionsTextTrack2LanguageCode:"es",captionsTextTrack3Label:"Unknown CC",captionsTextTrack3LanguageCode:"",captionsTextTrack4Label:"Unknown CC",captionsTextTrack4LanguageCode:"",renderTextTracksNatively:!0}}function Rge(t,e){if((e.liveSyncDurationCount||e.liveMaxLatencyDurationCount)&&(e.liveSyncDuration||e.liveMaxLatencyDuration))throw new Error("Illegal hls.js config: don't mix up liveSyncDurationCount/liveMaxLatencyDurationCount and liveSyncDuration/liveMaxLatencyDuration");if(e.liveMaxLatencyDurationCount!==void 0&&(e.liveSyncDurationCount===void 0||e.liveMaxLatencyDurationCount<=e.liveSyncDurationCount))throw new Error('Illegal hls.js config: "liveMaxLatencyDurationCount" must be greater than "liveSyncDurationCount"');if(e.liveMaxLatencyDuration!==void 0&&(e.liveSyncDuration===void 0||e.liveMaxLatencyDuration<=e.liveSyncDuration))throw new Error('Illegal hls.js config: "liveMaxLatencyDuration" must be greater than "liveSyncDuration"');const n=yS(t),r=["manifest","level","frag"],s=["TimeOut","MaxRetry","RetryDelay","MaxRetryTimeout"];return r.forEach(i=>{const o=`${i==="level"?"playlist":i}LoadPolicy`,a=e[o]===void 0,l=[];s.forEach(c=>{const u=`${i}Loading${c}`,d=e[u];if(d!==void 0&&a){l.push(u);const f=n[o].default;switch(e[o]={default:f},c){case"TimeOut":f.maxLoadTimeMs=d,f.maxTimeToFirstByteMs=d;break;case"MaxRetry":f.errorRetry.maxNumRetry=d,f.timeoutRetry.maxNumRetry=d;break;case"RetryDelay":f.errorRetry.retryDelayMs=d,f.timeoutRetry.retryDelayMs=d;break;case"MaxRetryTimeout":f.errorRetry.maxRetryDelayMs=d,f.timeoutRetry.maxRetryDelayMs=d;break}}}),l.length&&H.warn(`hls.js config: "${l.join('", "')}" setting(s) are deprecated, use "${o}": ${JSON.stringify(e[o])}`)}),Mn(Mn({},n),e)}function yS(t){return t&&typeof t=="object"?Array.isArray(t)?t.map(yS):Object.keys(t).reduce((e,n)=>(e[n]=yS(t[n]),e),{}):t}function _ge(t){const e=t.loader;e!==yL&&e!==yN?(H.log("[config]: Custom loader detected, cannot enable progressive streaming"),t.progressive=!1):yge()&&(t.loader=yL,t.progressive=!0,t.enableSoftwareAES=!0,H.log("[config]: Progressive streaming enabled, using FetchLoader"))}let jx;class Lge extends cE{constructor(e,n){super(e,"[level-controller]"),this._levels=[],this._firstLevel=-1,this._maxAutoLevel=-1,this._startLevel=void 0,this.currentLevel=null,this.currentLevelIndex=-1,this.manualLevelIndex=-1,this.steering=void 0,this.onParsedComplete=void 0,this.steering=n,this._registerListeners()}_registerListeners(){const{hls:e}=this;e.on(_.MANIFEST_LOADING,this.onManifestLoading,this),e.on(_.MANIFEST_LOADED,this.onManifestLoaded,this),e.on(_.LEVEL_LOADED,this.onLevelLoaded,this),e.on(_.LEVELS_UPDATED,this.onLevelsUpdated,this),e.on(_.FRAG_BUFFERED,this.onFragBuffered,this),e.on(_.ERROR,this.onError,this)}_unregisterListeners(){const{hls:e}=this;e.off(_.MANIFEST_LOADING,this.onManifestLoading,this),e.off(_.MANIFEST_LOADED,this.onManifestLoaded,this),e.off(_.LEVEL_LOADED,this.onLevelLoaded,this),e.off(_.LEVELS_UPDATED,this.onLevelsUpdated,this),e.off(_.FRAG_BUFFERED,this.onFragBuffered,this),e.off(_.ERROR,this.onError,this)}destroy(){this._unregisterListeners(),this.steering=null,this.resetLevels(),super.destroy()}stopLoad(){this._levels.forEach(n=>{n.loadError=0,n.fragmentError=0}),super.stopLoad()}resetLevels(){this._startLevel=void 0,this.manualLevelIndex=-1,this.currentLevelIndex=-1,this.currentLevel=null,this._levels=[],this._maxAutoLevel=-1}onManifestLoading(e,n){this.resetLevels()}onManifestLoaded(e,n){const r=this.hls.config.preferManagedMediaSource,s=[],i={},o={};let a=!1,l=!1,c=!1;n.levels.forEach(u=>{var d,f;const p=u.attrs;let{audioCodec:m,videoCodec:g}=u;((d=m)==null?void 0:d.indexOf("mp4a.40.34"))!==-1&&(jx||(jx=/chrome|firefox/i.test(navigator.userAgent)),jx&&(u.audioCodec=m=void 0)),m&&(u.audioCodec=m=Yg(m,r)),((f=g)==null?void 0:f.indexOf("avc1"))===0&&(g=u.videoCodec=ghe(g));const{width:y,height:x,unknownCodecs:v}=u;if(a||(a=!!(y&&x)),l||(l=!!g),c||(c=!!m),v!=null&&v.length||m&&!Tx(m,"audio",r)||g&&!Tx(g,"video",r))return;const{CODECS:b,"FRAME-RATE":w,"HDCP-LEVEL":T,"PATHWAY-ID":C,RESOLUTION:E,"VIDEO-RANGE":k}=p,R=`${`${C||"."}-`}${u.bitrate}-${E}-${w}-${b}-${k}-${T}`;if(i[R])if(i[R].uri!==u.url&&!u.attrs["PATHWAY-ID"]){const L=o[R]+=1;u.attrs["PATHWAY-ID"]=new Array(L+1).join(".");const D=new vu(u);i[R]=D,s.push(D)}else i[R].addGroupId("audio",p.AUDIO),i[R].addGroupId("text",p.SUBTITLES);else{const L=new vu(u);i[R]=L,o[R]=1,s.push(L)}}),this.filterAndSortMediaOptions(s,n,a,l,c)}filterAndSortMediaOptions(e,n,r,s,i){let o=[],a=[],l=e;if((r||s)&&i&&(l=l.filter(({videoCodec:m,videoRange:g,width:y,height:x})=>(!!m||!!(y&&x))&&_he(g))),l.length===0){Promise.resolve().then(()=>{if(this.hls){n.levels.length&&this.warn(`One or more CODECS in variant not supported: ${JSON.stringify(n.levels[0].attrs)}`);const m=new Error("no level with compatible codecs found in manifest");this.hls.trigger(_.ERROR,{type:Me.MEDIA_ERROR,details:Q.MANIFEST_INCOMPATIBLE_CODECS_ERROR,fatal:!0,url:n.url,error:m,reason:m.message})}});return}if(n.audioTracks){const{preferManagedMediaSource:m}=this.hls.config;o=n.audioTracks.filter(g=>!g.audioCodec||Tx(g.audioCodec,"audio",m)),vL(o)}n.subtitles&&(a=n.subtitles,vL(a));const c=l.slice(0);l.sort((m,g)=>{if(m.attrs["HDCP-LEVEL"]!==g.attrs["HDCP-LEVEL"])return(m.attrs["HDCP-LEVEL"]||"")>(g.attrs["HDCP-LEVEL"]||"")?1:-1;if(r&&m.height!==g.height)return m.height-g.height;if(m.frameRate!==g.frameRate)return m.frameRate-g.frameRate;if(m.videoRange!==g.videoRange)return qg.indexOf(m.videoRange)-qg.indexOf(g.videoRange);if(m.videoCodec!==g.videoCodec){const y=C_(m.videoCodec),x=C_(g.videoCodec);if(y!==x)return x-y}if(m.uri===g.uri&&m.codecSet!==g.codecSet){const y=Kg(m.codecSet),x=Kg(g.codecSet);if(y!==x)return x-y}return m.averageBitrate!==g.averageBitrate?m.averageBitrate-g.averageBitrate:0});let u=c[0];if(this.steering&&(l=this.steering.filterParsedLevels(l),l.length!==c.length)){for(let m=0;m<c.length;m++)if(c[m].pathwayId===l[0].pathwayId){u=c[m];break}}this._levels=l;for(let m=0;m<l.length;m++)if(l[m]===u){var d;this._firstLevel=m;const g=u.bitrate,y=this.hls.bandwidthEstimate;if(this.log(`manifest loaded, ${l.length} level(s) found, first bitrate: ${g}`),((d=this.hls.userConfig)==null?void 0:d.abrEwmaDefaultEstimate)===void 0){const x=Math.min(g,this.hls.config.abrEwmaDefaultEstimateMax);x>y&&y===vN.abrEwmaDefaultEstimate&&(this.hls.bandwidthEstimate=x)}break}const f=i&&!s,p={levels:l,audioTracks:o,subtitleTracks:a,sessionData:n.sessionData,sessionKeys:n.sessionKeys,firstLevel:this._firstLevel,stats:n.stats,audio:i,video:s,altAudio:!f&&o.some(m=>!!m.url)};this.hls.trigger(_.MANIFEST_PARSED,p),(this.hls.config.autoStartLoad||this.hls.forceStartLoad)&&this.hls.startLoad(this.hls.config.startPosition)}get levels(){return this._levels.length===0?null:this._levels}get level(){return this.currentLevelIndex}set level(e){const n=this._levels;if(n.length===0)return;if(e<0||e>=n.length){const u=new Error("invalid level idx"),d=e<0;if(this.hls.trigger(_.ERROR,{type:Me.OTHER_ERROR,details:Q.LEVEL_SWITCH_ERROR,level:e,fatal:d,error:u,reason:u.message}),d)return;e=Math.min(e,n.length-1)}const r=this.currentLevelIndex,s=this.currentLevel,i=s?s.attrs["PATHWAY-ID"]:void 0,o=n[e],a=o.attrs["PATHWAY-ID"];if(this.currentLevelIndex=e,this.currentLevel=o,r===e&&o.details&&s&&i===a)return;this.log(`Switching to level ${e} (${o.height?o.height+"p ":""}${o.videoRange?o.videoRange+" ":""}${o.codecSet?o.codecSet+" ":""}@${o.bitrate})${a?" with Pathway "+a:""} from level ${r}${i?" with Pathway "+i:""}`);const l={level:e,attrs:o.attrs,details:o.details,bitrate:o.bitrate,averageBitrate:o.averageBitrate,maxBitrate:o.maxBitrate,realBitrate:o.realBitrate,width:o.width,height:o.height,codecSet:o.codecSet,audioCodec:o.audioCodec,videoCodec:o.videoCodec,audioGroups:o.audioGroups,subtitleGroups:o.subtitleGroups,loaded:o.loaded,loadError:o.loadError,fragmentError:o.fragmentError,name:o.name,id:o.id,uri:o.uri,url:o.url,urlId:0,audioGroupIds:o.audioGroupIds,textGroupIds:o.textGroupIds};this.hls.trigger(_.LEVEL_SWITCHING,l);const c=o.details;if(!c||c.live){const u=this.switchParams(o.uri,s==null?void 0:s.details,c);this.loadPlaylist(u)}}get manualLevel(){return this.manualLevelIndex}set manualLevel(e){this.manualLevelIndex=e,this._startLevel===void 0&&(this._startLevel=e),e!==-1&&(this.level=e)}get firstLevel(){return this._firstLevel}set firstLevel(e){this._firstLevel=e}get startLevel(){if(this._startLevel===void 0){const e=this.hls.config.startLevel;return e!==void 0?e:this.hls.firstAutoLevel}return this._startLevel}set startLevel(e){this._startLevel=e}onError(e,n){n.fatal||!n.context||n.context.type===et.LEVEL&&n.context.level===this.level&&this.checkRetry(n)}onFragBuffered(e,{frag:n}){if(n!==void 0&&n.type===Pe.MAIN){const r=n.elementaryStreams;if(!Object.keys(r).some(i=>!!r[i]))return;const s=this._levels[n.level];s!=null&&s.loadError&&(this.log(`Resetting level error count of ${s.loadError} on frag buffered`),s.loadError=0)}}onLevelLoaded(e,n){var r;const{level:s,details:i}=n,o=this._levels[s];if(!o){var a;this.warn(`Invalid level index ${s}`),(a=n.deliveryDirectives)!=null&&a.skip&&(i.deltaUpdateFailed=!0);return}s===this.currentLevelIndex?(o.fragmentError===0&&(o.loadError=0),this.playlistLoaded(s,n,o.details)):(r=n.deliveryDirectives)!=null&&r.skip&&(i.deltaUpdateFailed=!0)}loadPlaylist(e){super.loadPlaylist();const n=this.currentLevelIndex,r=this.currentLevel;if(r&&this.shouldLoadPlaylist(r)){let s=r.uri;if(e)try{s=e.addDirectives(s)}catch(o){this.warn(`Could not construct new URL with HLS Delivery Directives: ${o}`)}const i=r.attrs["PATHWAY-ID"];this.log(`Loading level index ${n}${(e==null?void 0:e.msn)!==void 0?" at sn "+e.msn+" part "+e.part:""} with${i?" Pathway "+i:""} ${s}`),this.clearTimer(),this.hls.trigger(_.LEVEL_LOADING,{url:s,level:n,pathwayId:r.attrs["PATHWAY-ID"],id:0,deliveryDirectives:e||null})}}get nextLoadLevel(){return this.manualLevelIndex!==-1?this.manualLevelIndex:this.hls.nextAutoLevel}set nextLoadLevel(e){this.level=e,this.manualLevelIndex===-1&&(this.hls.nextAutoLevel=e)}removeLevel(e){var n;const r=this._levels.filter((s,i)=>i!==e?!0:(this.steering&&this.steering.removeLevel(s),s===this.currentLevel&&(this.currentLevel=null,this.currentLevelIndex=-1,s.details&&s.details.fragments.forEach(o=>o.level=-1)),!1));M3(r),this._levels=r,this.currentLevelIndex>-1&&(n=this.currentLevel)!=null&&n.details&&(this.currentLevelIndex=this.currentLevel.details.fragments[0].level),this.hls.trigger(_.LEVELS_UPDATED,{levels:r})}onLevelsUpdated(e,{levels:n}){this._levels=n}checkMaxAutoUpdated(){const{autoLevelCapping:e,maxAutoLevel:n,maxHdcpLevel:r}=this.hls;this._maxAutoLevel!==n&&(this._maxAutoLevel=n,this.hls.trigger(_.MAX_AUTO_LEVEL_UPDATED,{autoLevelCapping:e,levels:this.levels,maxAutoLevel:n,minAutoLevel:this.hls.minAutoLevel,maxHdcpLevel:r}))}}function vL(t){const e={};t.forEach(n=>{const r=n.groupId||"";n.id=e[r]=e[r]||0,e[r]++})}class Pge{constructor(e){this.config=void 0,this.keyUriToKeyInfo={},this.emeController=null,this.config=e}abort(e){for(const r in this.keyUriToKeyInfo){const s=this.keyUriToKeyInfo[r].loader;if(s){var n;if(e&&e!==((n=s.context)==null?void 0:n.frag.type))return;s.abort()}}}detach(){for(const e in this.keyUriToKeyInfo){const n=this.keyUriToKeyInfo[e];(n.mediaKeySessionContext||n.decryptdata.isCommonEncryption)&&delete this.keyUriToKeyInfo[e]}}destroy(){this.detach();for(const e in this.keyUriToKeyInfo){const n=this.keyUriToKeyInfo[e].loader;n&&n.destroy()}this.keyUriToKeyInfo={}}createKeyLoadError(e,n=Q.KEY_LOAD_ERROR,r,s,i){return new Hi({type:Me.NETWORK_ERROR,details:n,fatal:!1,frag:e,response:i,error:r,networkDetails:s})}loadClear(e,n){if(this.emeController&&this.config.emeEnabled){const{sn:r,cc:s}=e;for(let i=0;i<n.length;i++){const o=n[i];if(s<=o.cc&&(r==="initSegment"||o.sn==="initSegment"||r<o.sn)){this.emeController.selectKeySystemFormat(o).then(a=>{o.setKeyFormat(a)});break}}}}load(e){return!e.decryptdata&&e.encrypted&&this.emeController?this.emeController.selectKeySystemFormat(e).then(n=>this.loadInternal(e,n)):this.loadInternal(e)}loadInternal(e,n){var r,s;n&&e.setKeyFormat(n);const i=e.decryptdata;if(!i){const c=new Error(n?`Expected frag.decryptdata to be defined after setting format ${n}`:"Missing decryption data on fragment in onKeyLoading");return Promise.reject(this.createKeyLoadError(e,Q.KEY_LOAD_ERROR,c))}const o=i.uri;if(!o)return Promise.reject(this.createKeyLoadError(e,Q.KEY_LOAD_ERROR,new Error(`Invalid key URI: "${o}"`)));let a=this.keyUriToKeyInfo[o];if((r=a)!=null&&r.decryptdata.key)return i.key=a.decryptdata.key,Promise.resolve({frag:e,keyInfo:a});if((s=a)!=null&&s.keyLoadPromise){var l;switch((l=a.mediaKeySessionContext)==null?void 0:l.keyStatus){case void 0:case"status-pending":case"usable":case"usable-in-future":return a.keyLoadPromise.then(c=>(i.key=c.keyInfo.decryptdata.key,{frag:e,keyInfo:a}))}}switch(a=this.keyUriToKeyInfo[o]={decryptdata:i,keyLoadPromise:null,loader:null,mediaKeySessionContext:null},i.method){case"ISO-23001-7":case"SAMPLE-AES":case"SAMPLE-AES-CENC":case"SAMPLE-AES-CTR":return i.keyFormat==="identity"?this.loadKeyHTTP(a,e):this.loadKeyEME(a,e);case"AES-128":return this.loadKeyHTTP(a,e);default:return Promise.reject(this.createKeyLoadError(e,Q.KEY_LOAD_ERROR,new Error(`Key supplied with unsupported METHOD: "${i.method}"`)))}}loadKeyEME(e,n){const r={frag:n,keyInfo:e};if(this.emeController&&this.config.emeEnabled){const s=this.emeController.loadKey(r);if(s)return(e.keyLoadPromise=s.then(i=>(e.mediaKeySessionContext=i,r))).catch(i=>{throw e.keyLoadPromise=null,i})}return Promise.resolve(r)}loadKeyHTTP(e,n){const r=this.config,s=r.loader,i=new s(r);return n.keyLoader=e.loader=i,e.keyLoadPromise=new Promise((o,a)=>{const l={keyInfo:e,frag:n,responseType:"arraybuffer",url:e.decryptdata.uri},c=r.keyLoadPolicy.default,u={loadPolicy:c,timeout:c.maxLoadTimeMs,maxRetry:0,retryDelay:0,maxRetryDelay:0},d={onSuccess:(f,p,m,g)=>{const{frag:y,keyInfo:x,url:v}=m;if(!y.decryptdata||x!==this.keyUriToKeyInfo[v])return a(this.createKeyLoadError(y,Q.KEY_LOAD_ERROR,new Error("after key load, decryptdata unset or changed"),g));x.decryptdata.key=y.decryptdata.key=new Uint8Array(f.data),y.keyLoader=null,x.loader=null,o({frag:y,keyInfo:x})},onError:(f,p,m,g)=>{this.resetLoader(p),a(this.createKeyLoadError(n,Q.KEY_LOAD_ERROR,new Error(`HTTP Error ${f.code} loading key ${f.text}`),m,Mn({url:l.url,data:void 0},f)))},onTimeout:(f,p,m)=>{this.resetLoader(p),a(this.createKeyLoadError(n,Q.KEY_LOAD_TIMEOUT,new Error("key loading timed out"),m))},onAbort:(f,p,m)=>{this.resetLoader(p),a(this.createKeyLoadError(n,Q.INTERNAL_ABORTED,new Error("key loading aborted"),m))}};i.load(l,u,d)})}resetLoader(e){const{frag:n,keyInfo:r,url:s}=e,i=r.loader;n.keyLoader===i&&(n.keyLoader=null,r.loader=null),delete this.keyUriToKeyInfo[s],i&&i.destroy()}}function xN(){return self.SourceBuffer||self.WebKitSourceBuffer}function bN(){if(!Rl())return!1;const e=xN();return!e||e.prototype&&typeof e.prototype.appendBuffer=="function"&&typeof e.prototype.remove=="function"}function Ige(){if(!bN())return!1;const t=Rl();return typeof(t==null?void 0:t.isTypeSupported)=="function"&&(["avc1.42E01E,mp4a.40.2","av01.0.01M.08","vp09.00.50.08"].some(e=>t.isTypeSupported(sh(e,"video")))||["mp4a.40.2","fLaC"].some(e=>t.isTypeSupported(sh(e,"audio"))))}function Dge(){var t;const e=xN();return typeof(e==null||(t=e.prototype)==null?void 0:t.changeType)=="function"}const Mge=250,$m=2,Oge=.1,Fge=.05;class Nge{constructor(e,n,r,s){this.config=void 0,this.media=null,this.fragmentTracker=void 0,this.hls=void 0,this.nudgeRetry=0,this.stallReported=!1,this.stalled=null,this.moved=!1,this.seeking=!1,this.config=e,this.media=n,this.fragmentTracker=r,this.hls=s}destroy(){this.media=null,this.hls=this.fragmentTracker=null}poll(e,n){const{config:r,media:s,stalled:i}=this;if(s===null)return;const{currentTime:o,seeking:a}=s,l=this.seeking&&!a,c=!this.seeking&&a;if(this.seeking=a,o!==e){if(this.moved=!0,a||(this.nudgeRetry=0),i!==null){if(this.stallReported){const y=self.performance.now()-i;H.warn(`playback not stuck anymore @${o}, after ${Math.round(y)}ms`),this.stallReported=!1}this.stalled=null}return}if(c||l){this.stalled=null;return}if(s.paused&&!a||s.ended||s.playbackRate===0||!kt.getBuffered(s).length){this.nudgeRetry=0;return}const u=kt.bufferInfo(s,o,0),d=u.nextStart||0;if(a){const y=u.len>$m,x=!d||n&&n.start<=o||d-o>$m&&!this.fragmentTracker.getPartialFragment(o);if(y||x)return;this.moved=!1}if(!this.moved&&this.stalled!==null){var f;if(!(u.len>0)&&!d)return;const x=Math.max(d,u.start||0)-o,v=this.hls.levels?this.hls.levels[this.hls.currentLevel]:null,w=(v==null||(f=v.details)==null?void 0:f.live)?v.details.targetduration*2:$m,T=this.fragmentTracker.getPartialFragment(o);if(x>0&&(x<=w||T)){s.paused||this._trySkipBufferHole(T);return}}const p=self.performance.now();if(i===null){this.stalled=p;return}const m=p-i;if(!a&&m>=Mge&&(this._reportStall(u),!this.media))return;const g=kt.bufferInfo(s,o,r.maxBufferHole);this._tryFixBufferStall(g,m)}_tryFixBufferStall(e,n){const{config:r,fragmentTracker:s,media:i}=this;if(i===null)return;const o=i.currentTime,a=s.getPartialFragment(o);a&&(this._trySkipBufferHole(a)||!this.media)||(e.len>r.maxBufferHole||e.nextStart&&e.nextStart-o<r.maxBufferHole)&&n>r.highBufferWatchdogPeriod*1e3&&(H.warn("Trying to nudge playhead over buffer-hole"),this.stalled=null,this._tryNudgeBuffer())}_reportStall(e){const{hls:n,media:r,stallReported:s}=this;if(!s&&r){this.stallReported=!0;const i=new Error(`Playback stalling at @${r.currentTime} due to low buffer (${JSON.stringify(e)})`);H.warn(i.message),n.trigger(_.ERROR,{type:Me.MEDIA_ERROR,details:Q.BUFFER_STALLED_ERROR,fatal:!1,error:i,buffer:e.len})}}_trySkipBufferHole(e){const{config:n,hls:r,media:s}=this;if(s===null)return 0;const i=s.currentTime,o=kt.bufferInfo(s,i,0),a=i<o.start?o.start:o.nextStart;if(a){const l=o.len<=n.maxBufferHole,c=o.len>0&&o.len<1&&s.readyState<3,u=a-i;if(u>0&&(l||c)){if(u>n.maxBufferHole){const{fragmentTracker:f}=this;let p=!1;if(i===0){const m=f.getAppendedFrag(0,Pe.MAIN);m&&a<m.end&&(p=!0)}if(!p){const m=e||f.getAppendedFrag(i,Pe.MAIN);if(m){let g=!1,y=m.end;for(;y<a;){const x=f.getPartialFragment(y);if(x)y+=x.duration;else{g=!0;break}}if(g)return 0}}}const d=Math.max(a+Fge,i+Oge);if(H.warn(`skipping hole, adjusting currentTime from ${i} to ${d}`),this.moved=!0,this.stalled=null,s.currentTime=d,e&&!e.gap){const f=new Error(`fragment loaded with buffer holes, seeking from ${i} to ${d}`);r.trigger(_.ERROR,{type:Me.MEDIA_ERROR,details:Q.BUFFER_SEEK_OVER_HOLE,fatal:!1,error:f,reason:f.message,frag:e})}return d}}return 0}_tryNudgeBuffer(){const{config:e,hls:n,media:r,nudgeRetry:s}=this;if(r===null)return;const i=r.currentTime;if(this.nudgeRetry++,s<e.nudgeMaxRetry){const o=i+(s+1)*e.nudgeOffset,a=new Error(`Nudging 'currentTime' from ${i} to ${o}`);H.warn(a.message),r.currentTime=o,n.trigger(_.ERROR,{type:Me.MEDIA_ERROR,details:Q.BUFFER_NUDGE_ON_STALL,error:a,fatal:!1})}else{const o=new Error(`Playhead still not moving while enough data buffered @${i} after ${e.nudgeMaxRetry} nudges`);H.error(o.message),n.trigger(_.ERROR,{type:Me.MEDIA_ERROR,details:Q.BUFFER_STALLED_ERROR,error:o,fatal:!0})}}}const jge=100;class Bge extends fE{constructor(e,n,r){super(e,n,r,"[stream-controller]",Pe.MAIN),this.audioCodecSwap=!1,this.gapController=null,this.level=-1,this._forceStartLoad=!1,this.altAudio=!1,this.audioOnly=!1,this.fragPlaying=null,this.onvplaying=null,this.onvseeked=null,this.fragLastKbps=0,this.couldBacktrack=!1,this.backtrackFragment=null,this.audioCodecSwitch=!1,this.videoBuffer=null,this._registerListeners()}_registerListeners(){const{hls:e}=this;e.on(_.MEDIA_ATTACHED,this.onMediaAttached,this),e.on(_.MEDIA_DETACHING,this.onMediaDetaching,this),e.on(_.MANIFEST_LOADING,this.onManifestLoading,this),e.on(_.MANIFEST_PARSED,this.onManifestParsed,this),e.on(_.LEVEL_LOADING,this.onLevelLoading,this),e.on(_.LEVEL_LOADED,this.onLevelLoaded,this),e.on(_.FRAG_LOAD_EMERGENCY_ABORTED,this.onFragLoadEmergencyAborted,this),e.on(_.ERROR,this.onError,this),e.on(_.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),e.on(_.AUDIO_TRACK_SWITCHED,this.onAudioTrackSwitched,this),e.on(_.BUFFER_CREATED,this.onBufferCreated,this),e.on(_.BUFFER_FLUSHED,this.onBufferFlushed,this),e.on(_.LEVELS_UPDATED,this.onLevelsUpdated,this),e.on(_.FRAG_BUFFERED,this.onFragBuffered,this)}_unregisterListeners(){const{hls:e}=this;e.off(_.MEDIA_ATTACHED,this.onMediaAttached,this),e.off(_.MEDIA_DETACHING,this.onMediaDetaching,this),e.off(_.MANIFEST_LOADING,this.onManifestLoading,this),e.off(_.MANIFEST_PARSED,this.onManifestParsed,this),e.off(_.LEVEL_LOADED,this.onLevelLoaded,this),e.off(_.FRAG_LOAD_EMERGENCY_ABORTED,this.onFragLoadEmergencyAborted,this),e.off(_.ERROR,this.onError,this),e.off(_.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),e.off(_.AUDIO_TRACK_SWITCHED,this.onAudioTrackSwitched,this),e.off(_.BUFFER_CREATED,this.onBufferCreated,this),e.off(_.BUFFER_FLUSHED,this.onBufferFlushed,this),e.off(_.LEVELS_UPDATED,this.onLevelsUpdated,this),e.off(_.FRAG_BUFFERED,this.onFragBuffered,this)}onHandlerDestroying(){this._unregisterListeners(),super.onHandlerDestroying()}startLoad(e){if(this.levels){const{lastCurrentTime:n,hls:r}=this;if(this.stopLoad(),this.setInterval(jge),this.level=-1,!this.startFragRequested){let s=r.startLevel;s===-1&&(r.config.testBandwidth&&this.levels.length>1?(s=0,this.bitrateTest=!0):s=r.firstAutoLevel),r.nextLoadLevel=s,this.level=r.loadLevel,this.loadedmetadata=!1}n>0&&e===-1&&(this.log(`Override startPosition with lastCurrentTime @${n.toFixed(3)}`),e=n),this.state=se.IDLE,this.nextLoadPosition=this.startPosition=this.lastCurrentTime=e,this.tick()}else this._forceStartLoad=!0,this.state=se.STOPPED}stopLoad(){this._forceStartLoad=!1,super.stopLoad()}doTick(){switch(this.state){case se.WAITING_LEVEL:{const{levels:n,level:r}=this,s=n==null?void 0:n[r],i=s==null?void 0:s.details;if(i&&(!i.live||this.levelLastLoaded===s)){if(this.waitForCdnTuneIn(i))break;this.state=se.IDLE;break}else if(this.hls.nextLoadLevel!==this.level){this.state=se.IDLE;break}break}case se.FRAG_LOADING_WAITING_RETRY:{var e;const n=self.performance.now(),r=this.retryDate;if(!r||n>=r||(e=this.media)!=null&&e.seeking){const{levels:s,level:i}=this,o=s==null?void 0:s[i];this.resetStartWhenNotLoaded(o||null),this.state=se.IDLE}}break}this.state===se.IDLE&&this.doTickIdle(),this.onTickEnd()}onTickEnd(){super.onTickEnd(),this.checkBuffer(),this.checkFragmentChanged()}doTickIdle(){const{hls:e,levelLastLoaded:n,levels:r,media:s}=this;if(n===null||!s&&(this.startFragRequested||!e.config.startFragPrefetch)||this.altAudio&&this.audioOnly)return;const i=e.nextLoadLevel;if(!(r!=null&&r[i]))return;const o=r[i],a=this.getMainFwdBufferInfo();if(a===null)return;const l=this.getLevelDetails();if(l&&this._streamEnded(a,l)){const g={};this.altAudio&&(g.type="video"),this.hls.trigger(_.BUFFER_EOS,g),this.state=se.ENDED;return}e.loadLevel!==i&&e.manualLevel===-1&&this.log(`Adapting to level ${i} from level ${this.level}`),this.level=e.nextLoadLevel=i;const c=o.details;if(!c||this.state===se.WAITING_LEVEL||c.live&&this.levelLastLoaded!==o){this.level=i,this.state=se.WAITING_LEVEL;return}const u=a.len,d=this.getMaxBufferLength(o.maxBitrate);if(u>=d)return;this.backtrackFragment&&this.backtrackFragment.start>a.end&&(this.backtrackFragment=null);const f=this.backtrackFragment?this.backtrackFragment.start:a.end;let p=this.getNextFragment(f,c);if(this.couldBacktrack&&!this.fragPrevious&&p&&p.sn!=="initSegment"&&this.fragmentTracker.getState(p)!==Ln.OK){var m;const y=((m=this.backtrackFragment)!=null?m:p).sn-c.startSN,x=c.fragments[y-1];x&&p.cc===x.cc&&(p=x,this.fragmentTracker.removeFragment(x))}else this.backtrackFragment&&a.len&&(this.backtrackFragment=null);if(p&&this.isLoopLoading(p,f)){if(!p.gap){const y=this.audioOnly&&!this.altAudio?gt.AUDIO:gt.VIDEO,x=(y===gt.VIDEO?this.videoBuffer:this.mediaBuffer)||this.media;x&&this.afterBufferFlushed(x,y,Pe.MAIN)}p=this.getNextFragmentLoopLoading(p,c,a,Pe.MAIN,d)}p&&(p.initSegment&&!p.initSegment.data&&!this.bitrateTest&&(p=p.initSegment),this.loadFragment(p,o,f))}loadFragment(e,n,r){const s=this.fragmentTracker.getState(e);this.fragCurrent=e,s===Ln.NOT_LOADED||s===Ln.PARTIAL?e.sn==="initSegment"?this._loadInitSegment(e,n):this.bitrateTest?(this.log(`Fragment ${e.sn} of level ${e.level} is being downloaded to test bitrate and will not be buffered`),this._loadBitrateTestFrag(e,n)):(this.startFragRequested=!0,super.loadFragment(e,n,r)):this.clearTrackerIfNeeded(e)}getBufferedFrag(e){return this.fragmentTracker.getBufferedFrag(e,Pe.MAIN)}followingBufferedFrag(e){return e?this.getBufferedFrag(e.end+.5):null}immediateLevelSwitch(){this.abortCurrentFrag(),this.flushMainBuffer(0,Number.POSITIVE_INFINITY)}nextLevelSwitch(){const{levels:e,media:n}=this;if(n!=null&&n.readyState){let r;const s=this.getAppendedFrag(n.currentTime);s&&s.start>1&&this.flushMainBuffer(0,s.start-1);const i=this.getLevelDetails();if(i!=null&&i.live){const a=this.getMainFwdBufferInfo();if(!a||a.len<i.targetduration*2)return}if(!n.paused&&e){const a=this.hls.nextLoadLevel,l=e[a],c=this.fragLastKbps;c&&this.fragCurrent?r=this.fragCurrent.duration*l.maxBitrate/(1e3*c)+1:r=0}else r=0;const o=this.getBufferedFrag(n.currentTime+r);if(o){const a=this.followingBufferedFrag(o);if(a){this.abortCurrentFrag();const l=a.maxStartPTS?a.maxStartPTS:a.start,c=a.duration,u=Math.max(o.end,l+Math.min(Math.max(c-this.config.maxFragLookUpTolerance,c*(this.couldBacktrack?.5:.125)),c*(this.couldBacktrack?.75:.25)));this.flushMainBuffer(u,Number.POSITIVE_INFINITY)}}}}abortCurrentFrag(){const e=this.fragCurrent;switch(this.fragCurrent=null,this.backtrackFragment=null,e&&(e.abortRequests(),this.fragmentTracker.removeFragment(e)),this.state){case se.KEY_LOADING:case se.FRAG_LOADING:case se.FRAG_LOADING_WAITING_RETRY:case se.PARSING:case se.PARSED:this.state=se.IDLE;break}this.nextLoadPosition=this.getLoadPosition()}flushMainBuffer(e,n){super.flushMainBuffer(e,n,this.altAudio?"video":null)}onMediaAttached(e,n){super.onMediaAttached(e,n);const r=n.media;this.onvplaying=this.onMediaPlaying.bind(this),this.onvseeked=this.onMediaSeeked.bind(this),r.addEventListener("playing",this.onvplaying),r.addEventListener("seeked",this.onvseeked),this.gapController=new Nge(this.config,r,this.fragmentTracker,this.hls)}onMediaDetaching(){const{media:e}=this;e&&this.onvplaying&&this.onvseeked&&(e.removeEventListener("playing",this.onvplaying),e.removeEventListener("seeked",this.onvseeked),this.onvplaying=this.onvseeked=null,this.videoBuffer=null),this.fragPlaying=null,this.gapController&&(this.gapController.destroy(),this.gapController=null),super.onMediaDetaching()}onMediaPlaying(){this.tick()}onMediaSeeked(){const e=this.media,n=e?e.currentTime:null;xe(n)&&this.log(`Media seeked to ${n.toFixed(3)}`);const r=this.getMainFwdBufferInfo();if(r===null||r.len===0){this.warn(`Main forward buffer length on "seeked" event ${r?r.len:"empty"})`);return}this.tick()}onManifestLoading(){this.log("Trigger BUFFER_RESET"),this.hls.trigger(_.BUFFER_RESET,void 0),this.fragmentTracker.removeAllFragments(),this.couldBacktrack=!1,this.startPosition=this.lastCurrentTime=this.fragLastKbps=0,this.levels=this.fragPlaying=this.backtrackFragment=this.levelLastLoaded=null,this.altAudio=this.audioOnly=this.startFragRequested=!1}onManifestParsed(e,n){let r=!1,s=!1;n.levels.forEach(i=>{const o=i.audioCodec;o&&(r=r||o.indexOf("mp4a.40.2")!==-1,s=s||o.indexOf("mp4a.40.5")!==-1)}),this.audioCodecSwitch=r&&s&&!Dge(),this.audioCodecSwitch&&this.log("Both AAC/HE-AAC audio found in levels; declaring level codec as HE-AAC"),this.levels=n.levels,this.startFragRequested=!1}onLevelLoading(e,n){const{levels:r}=this;if(!r||this.state!==se.IDLE)return;const s=r[n.level];(!s.details||s.details.live&&this.levelLastLoaded!==s||this.waitForCdnTuneIn(s.details))&&(this.state=se.WAITING_LEVEL)}onLevelLoaded(e,n){var r;const{levels:s}=this,i=n.level,o=n.details,a=o.totalduration;if(!s){this.warn(`Levels were reset while loading level ${i}`);return}this.log(`Level ${i} loaded [${o.startSN},${o.endSN}]${o.lastPartSn?`[part-${o.lastPartSn}-${o.lastPartIndex}]`:""}, cc [${o.startCC}, ${o.endCC}] duration:${a}`);const l=s[i],c=this.fragCurrent;c&&(this.state===se.FRAG_LOADING||this.state===se.FRAG_LOADING_WAITING_RETRY)&&c.level!==n.level&&c.loader&&this.abortCurrentFrag();let u=0;if(o.live||(r=l.details)!=null&&r.live){var d;if(this.checkLiveUpdate(o),o.deltaUpdateFailed)return;u=this.alignPlaylists(o,l.details,(d=this.levelLastLoaded)==null?void 0:d.details)}if(l.details=o,this.levelLastLoaded=l,this.hls.trigger(_.LEVEL_UPDATED,{details:o,level:i}),this.state===se.WAITING_LEVEL){if(this.waitForCdnTuneIn(o))return;this.state=se.IDLE}this.startFragRequested?o.live&&this.synchronizeToLiveEdge(o):this.setStartPosition(o,u),this.tick()}_handleFragmentLoadProgress(e){var n;const{frag:r,part:s,payload:i}=e,{levels:o}=this;if(!o){this.warn(`Levels were reset while fragment load was in progress. Fragment ${r.sn} of level ${r.level} will not be buffered`);return}const a=o[r.level],l=a.details;if(!l){this.warn(`Dropping fragment ${r.sn} of level ${r.level} after level details were reset`),this.fragmentTracker.removeFragment(r);return}const c=a.videoCodec,u=l.PTSKnown||!l.live,d=(n=r.initSegment)==null?void 0:n.data,f=this._getAudioCodec(a),p=this.transmuxer=this.transmuxer||new eN(this.hls,Pe.MAIN,this._handleTransmuxComplete.bind(this),this._handleTransmuxerFlush.bind(this)),m=s?s.index:-1,g=m!==-1,y=new uE(r.level,r.sn,r.stats.chunkCount,i.byteLength,m,g),x=this.initPTS[r.cc];p.push(i,d,f,c,r,s,l.totalduration,u,y,x)}onAudioTrackSwitching(e,n){const r=this.altAudio;if(!!!n.url){if(this.mediaBuffer!==this.media){this.log("Switching on main audio, use media.buffered to schedule main fragment loading"),this.mediaBuffer=this.media;const o=this.fragCurrent;o&&(this.log("Switching to main audio track, cancel main fragment load"),o.abortRequests(),this.fragmentTracker.removeFragment(o)),this.resetTransmuxer(),this.resetLoadingState()}else this.audioOnly&&this.resetTransmuxer();const i=this.hls;r&&(i.trigger(_.BUFFER_FLUSHING,{startOffset:0,endOffset:Number.POSITIVE_INFINITY,type:null}),this.fragmentTracker.removeAllFragments()),i.trigger(_.AUDIO_TRACK_SWITCHED,n)}}onAudioTrackSwitched(e,n){const r=n.id,s=!!this.hls.audioTracks[r].url;if(s){const i=this.videoBuffer;i&&this.mediaBuffer!==i&&(this.log("Switching on alternate audio, use video.buffered to schedule main fragment loading"),this.mediaBuffer=i)}this.altAudio=s,this.tick()}onBufferCreated(e,n){const r=n.tracks;let s,i,o=!1;for(const a in r){const l=r[a];if(l.id==="main"){if(i=a,s=l,a==="video"){const c=r[a];c&&(this.videoBuffer=c.buffer)}}else o=!0}o&&s?(this.log(`Alternate track found, use ${i}.buffered to schedule main fragment loading`),this.mediaBuffer=s.buffer):this.mediaBuffer=this.media}onFragBuffered(e,n){const{frag:r,part:s}=n;if(r&&r.type!==Pe.MAIN)return;if(this.fragContextChanged(r)){this.warn(`Fragment ${r.sn}${s?" p: "+s.index:""} of level ${r.level} finished buffering, but was aborted. state: ${this.state}`),this.state===se.PARSED&&(this.state=se.IDLE);return}const i=s?s.stats:r.stats;this.fragLastKbps=Math.round(8*i.total/(i.buffering.end-i.loading.first)),r.sn!=="initSegment"&&(this.fragPrevious=r),this.fragBufferedComplete(r,s)}onError(e,n){var r;if(n.fatal){this.state=se.ERROR;return}switch(n.details){case Q.FRAG_GAP:case Q.FRAG_PARSING_ERROR:case Q.FRAG_DECRYPT_ERROR:case Q.FRAG_LOAD_ERROR:case Q.FRAG_LOAD_TIMEOUT:case Q.KEY_LOAD_ERROR:case Q.KEY_LOAD_TIMEOUT:this.onFragmentOrKeyLoadError(Pe.MAIN,n);break;case Q.LEVEL_LOAD_ERROR:case Q.LEVEL_LOAD_TIMEOUT:case Q.LEVEL_PARSING_ERROR:!n.levelRetry&&this.state===se.WAITING_LEVEL&&((r=n.context)==null?void 0:r.type)===et.LEVEL&&(this.state=se.IDLE);break;case Q.BUFFER_APPEND_ERROR:case Q.BUFFER_FULL_ERROR:if(!n.parent||n.parent!=="main")return;if(n.details===Q.BUFFER_APPEND_ERROR){this.resetLoadingState();return}this.reduceLengthAndFlushBuffer(n)&&this.flushMainBuffer(0,Number.POSITIVE_INFINITY);break;case Q.INTERNAL_EXCEPTION:this.recoverWorkerError(n);break}}checkBuffer(){const{media:e,gapController:n}=this;if(!(!e||!n||!e.readyState)){if(this.loadedmetadata||!kt.getBuffered(e).length){const r=this.state!==se.IDLE?this.fragCurrent:null;n.poll(this.lastCurrentTime,r)}this.lastCurrentTime=e.currentTime}}onFragLoadEmergencyAborted(){this.state=se.IDLE,this.loadedmetadata||(this.startFragRequested=!1,this.nextLoadPosition=this.startPosition),this.tickImmediate()}onBufferFlushed(e,{type:n}){if(n!==gt.AUDIO||this.audioOnly&&!this.altAudio){const r=(n===gt.VIDEO?this.videoBuffer:this.mediaBuffer)||this.media;this.afterBufferFlushed(r,n,Pe.MAIN),this.tick()}}onLevelsUpdated(e,n){this.level>-1&&this.fragCurrent&&(this.level=this.fragCurrent.level),this.levels=n.levels}swapAudioCodec(){this.audioCodecSwap=!this.audioCodecSwap}seekToStartPos(){const{media:e}=this;if(!e)return;const n=e.currentTime;let r=this.startPosition;if(r>=0&&n<r){if(e.seeking){this.log(`could not seek to ${r}, already seeking at ${n}`);return}const s=kt.getBuffered(e),o=(s.length?s.start(0):0)-r;o>0&&(o<this.config.maxBufferHole||o<this.config.maxFragLookUpTolerance)&&(this.log(`adjusting start position by ${o} to match buffer start`),r+=o,this.startPosition=r),this.log(`seek to target start position ${r} from current time ${n}`),e.currentTime=r}}_getAudioCodec(e){let n=this.config.defaultAudioCodec||e.audioCodec;return this.audioCodecSwap&&n&&(this.log("Swapping audio codec"),n.indexOf("mp4a.40.5")!==-1?n="mp4a.40.2":n="mp4a.40.5"),n}_loadBitrateTestFrag(e,n){e.bitrateTest=!0,this._doFragLoad(e,n).then(r=>{const{hls:s}=this;if(!r||this.fragContextChanged(e))return;n.fragmentError=0,this.state=se.IDLE,this.startFragRequested=!1,this.bitrateTest=!1;const i=e.stats;i.parsing.start=i.parsing.end=i.buffering.start=i.buffering.end=self.performance.now(),s.trigger(_.FRAG_LOADED,r),e.bitrateTest=!1})}_handleTransmuxComplete(e){var n;const r="main",{hls:s}=this,{remuxResult:i,chunkMeta:o}=e,a=this.getCurrentContext(o);if(!a){this.resetWhenMissingContext(o);return}const{frag:l,part:c,level:u}=a,{video:d,text:f,id3:p,initSegment:m}=i,{details:g}=u,y=this.altAudio?void 0:i.audio;if(this.fragContextChanged(l)){this.fragmentTracker.removeFragment(l);return}if(this.state=se.PARSING,m){if(m!=null&&m.tracks){const b=l.initSegment||l;this._bufferInitSegment(u,m.tracks,b,o),s.trigger(_.FRAG_PARSING_INIT_SEGMENT,{frag:b,id:r,tracks:m.tracks})}const x=m.initPTS,v=m.timescale;xe(x)&&(this.initPTS[l.cc]={baseTime:x,timescale:v},s.trigger(_.INIT_PTS_FOUND,{frag:l,id:r,initPTS:x,timescale:v}))}if(d&&g&&l.sn!=="initSegment"){const x=g.fragments[l.sn-1-g.startSN],v=l.sn===g.startSN,b=!x||l.cc>x.cc;if(i.independent!==!1){const{startPTS:w,endPTS:T,startDTS:C,endDTS:E}=d;if(c)c.elementaryStreams[d.type]={startPTS:w,endPTS:T,startDTS:C,endDTS:E};else if(d.firstKeyFrame&&d.independent&&o.id===1&&!b&&(this.couldBacktrack=!0),d.dropped&&d.independent){const k=this.getMainFwdBufferInfo(),A=(k?k.end:this.getLoadPosition())+this.config.maxBufferHole,R=d.firstKeyFramePTS?d.firstKeyFramePTS:w;if(!v&&A<R-this.config.maxBufferHole&&!b){this.backtrack(l);return}else b&&(l.gap=!0);l.setElementaryStreamInfo(d.type,l.start,T,l.start,E,!0)}else v&&w>$m&&(l.gap=!0);l.setElementaryStreamInfo(d.type,w,T,C,E),this.backtrackFragment&&(this.backtrackFragment=l),this.bufferFragmentData(d,l,c,o,v||b)}else if(v||b)l.gap=!0;else{this.backtrack(l);return}}if(y){const{startPTS:x,endPTS:v,startDTS:b,endDTS:w}=y;c&&(c.elementaryStreams[gt.AUDIO]={startPTS:x,endPTS:v,startDTS:b,endDTS:w}),l.setElementaryStreamInfo(gt.AUDIO,x,v,b,w),this.bufferFragmentData(y,l,c,o)}if(g&&p!=null&&(n=p.samples)!=null&&n.length){const x={id:r,frag:l,details:g,samples:p.samples};s.trigger(_.FRAG_PARSING_METADATA,x)}if(g&&f){const x={id:r,frag:l,details:g,samples:f.samples};s.trigger(_.FRAG_PARSING_USERDATA,x)}}_bufferInitSegment(e,n,r,s){if(this.state!==se.PARSING)return;this.audioOnly=!!n.audio&&!n.video,this.altAudio&&!this.audioOnly&&delete n.audio;const{audio:i,video:o,audiovideo:a}=n;if(i){let l=e.audioCodec;const c=navigator.userAgent.toLowerCase();if(this.audioCodecSwitch){l&&(l.indexOf("mp4a.40.5")!==-1?l="mp4a.40.2":l="mp4a.40.5");const u=i.metadata;u&&"channelCount"in u&&(u.channelCount||1)!==1&&c.indexOf("firefox")===-1&&(l="mp4a.40.5")}l&&l.indexOf("mp4a.40.5")!==-1&&c.indexOf("android")!==-1&&i.container!=="audio/mpeg"&&(l="mp4a.40.2",this.log(`Android: force audio codec to ${l}`)),e.audioCodec&&e.audioCodec!==l&&this.log(`Swapping manifest audio codec "${e.audioCodec}" for "${l}"`),i.levelCodec=l,i.id="main",this.log(`Init audio buffer, container:${i.container}, codecs[selected/level/parsed]=[${l||""}/${e.audioCodec||""}/${i.codec}]`)}o&&(o.levelCodec=e.videoCodec,o.id="main",this.log(`Init video buffer, container:${o.container}, codecs[level/parsed]=[${e.videoCodec||""}/${o.codec}]`)),a&&this.log(`Init audiovideo buffer, container:${a.container}, codecs[level/parsed]=[${e.codecs}/${a.codec}]`),this.hls.trigger(_.BUFFER_CODECS,n),Object.keys(n).forEach(l=>{const u=n[l].initSegment;u!=null&&u.byteLength&&this.hls.trigger(_.BUFFER_APPENDING,{type:l,data:u,frag:r,part:null,chunkMeta:s,parent:r.type})}),this.tickImmediate()}getMainFwdBufferInfo(){return this.getFwdBufferInfo(this.mediaBuffer?this.mediaBuffer:this.media,Pe.MAIN)}backtrack(e){this.couldBacktrack=!0,this.backtrackFragment=e,this.resetTransmuxer(),this.flushBufferGap(e),this.fragmentTracker.removeFragment(e),this.fragPrevious=null,this.nextLoadPosition=e.start,this.state=se.IDLE}checkFragmentChanged(){const e=this.media;let n=null;if(e&&e.readyState>1&&e.seeking===!1){const r=e.currentTime;if(kt.isBuffered(e,r)?n=this.getAppendedFrag(r):kt.isBuffered(e,r+.1)&&(n=this.getAppendedFrag(r+.1)),n){this.backtrackFragment=null;const s=this.fragPlaying,i=n.level;(!s||n.sn!==s.sn||s.level!==i)&&(this.fragPlaying=n,this.hls.trigger(_.FRAG_CHANGED,{frag:n}),(!s||s.level!==i)&&this.hls.trigger(_.LEVEL_SWITCHED,{level:i}))}}}get nextLevel(){const e=this.nextBufferedFrag;return e?e.level:-1}get currentFrag(){const e=this.media;return e?this.fragPlaying||this.getAppendedFrag(e.currentTime):null}get currentProgramDateTime(){const e=this.media;if(e){const n=e.currentTime,r=this.currentFrag;if(r&&xe(n)&&xe(r.programDateTime)){const s=r.programDateTime+(n-r.start)*1e3;return new Date(s)}}return null}get currentLevel(){const e=this.currentFrag;return e?e.level:-1}get nextBufferedFrag(){const e=this.currentFrag;return e?this.followingBufferedFrag(e):null}get forceStartLoad(){return this._forceStartLoad}}class Wr{static get version(){return"1.5.17"}static isMSESupported(){return bN()}static isSupported(){return Ige()}static getMediaSource(){return Rl()}static get Events(){return _}static get ErrorTypes(){return Me}static get ErrorDetails(){return Q}static get DefaultConfig(){return Wr.defaultConfig?Wr.defaultConfig:vN}static set DefaultConfig(e){Wr.defaultConfig=e}constructor(e={}){this.config=void 0,this.userConfig=void 0,this.coreComponents=void 0,this.networkControllers=void 0,this.started=!1,this._emitter=new yE,this._autoLevelCapping=-1,this._maxHdcpLevel=null,this.abrController=void 0,this.bufferController=void 0,this.capLevelController=void 0,this.latencyController=void 0,this.levelController=void 0,this.streamController=void 0,this.audioTrackController=void 0,this.subtitleTrackController=void 0,this.emeController=void 0,this.cmcdController=void 0,this._media=null,this.url=null,this.triggeringException=void 0,Afe(e.debug||!1,"Hls instance");const n=this.config=Rge(Wr.DefaultConfig,e);this.userConfig=e,n.progressive&&_ge(n);const{abrController:r,bufferController:s,capLevelController:i,errorController:o,fpsController:a}=n,l=new o(this),c=this.abrController=new r(this),u=this.bufferController=new s(this),d=this.capLevelController=new i(this),f=new a(this),p=new She(this),m=new khe(this),g=n.contentSteeringController,y=g?new g(this):null,x=this.levelController=new Lge(this,y),v=new tpe(this),b=new Pge(this.config),w=this.streamController=new Bge(this,v,b);d.setStreamController(w),f.setStreamController(w);const T=[p,x,w];y&&T.splice(1,0,y),this.networkControllers=T;const C=[c,u,d,f,m,v];this.audioTrackController=this.createController(n.audioTrackController,T);const E=n.audioStreamController;E&&T.push(new E(this,v,b)),this.subtitleTrackController=this.createController(n.subtitleTrackController,T);const k=n.subtitleStreamController;k&&T.push(new k(this,v,b)),this.createController(n.timelineController,C),b.emeController=this.emeController=this.createController(n.emeController,C),this.cmcdController=this.createController(n.cmcdController,C),this.latencyController=this.createController(Ahe,C),this.coreComponents=C,T.push(l);const A=l.onErrorOut;typeof A=="function"&&this.on(_.ERROR,A,l)}createController(e,n){if(e){const r=new e(this);return n&&n.push(r),r}return null}on(e,n,r=this){this._emitter.on(e,n,r)}once(e,n,r=this){this._emitter.once(e,n,r)}removeAllListeners(e){this._emitter.removeAllListeners(e)}off(e,n,r=this,s){this._emitter.off(e,n,r,s)}listeners(e){return this._emitter.listeners(e)}emit(e,n,r){return this._emitter.emit(e,n,r)}trigger(e,n){if(this.config.debug)return this.emit(e,e,n);try{return this.emit(e,e,n)}catch(r){if(H.error("An internal error happened while handling event "+e+'. Error message: "'+r.message+'". Here is a stacktrace:',r),!this.triggeringException){this.triggeringException=!0;const s=e===_.ERROR;this.trigger(_.ERROR,{type:Me.OTHER_ERROR,details:Q.INTERNAL_EXCEPTION,fatal:s,event:e,error:r}),this.triggeringException=!1}}return!1}listenerCount(e){return this._emitter.listenerCount(e)}destroy(){H.log("destroy"),this.trigger(_.DESTROYING,void 0),this.detachMedia(),this.removeAllListeners(),this._autoLevelCapping=-1,this.url=null,this.networkControllers.forEach(n=>n.destroy()),this.networkControllers.length=0,this.coreComponents.forEach(n=>n.destroy()),this.coreComponents.length=0;const e=this.config;e.xhrSetup=e.fetchSetup=void 0,this.userConfig=null}attachMedia(e){H.log("attachMedia"),this._media=e,this.trigger(_.MEDIA_ATTACHING,{media:e})}detachMedia(){H.log("detachMedia"),this.trigger(_.MEDIA_DETACHING,void 0),this._media=null}loadSource(e){this.stopLoad();const n=this.media,r=this.url,s=this.url=sE.buildAbsoluteURL(self.location.href,e,{alwaysNormalize:!0});this._autoLevelCapping=-1,this._maxHdcpLevel=null,H.log(`loadSource:${s}`),n&&r&&(r!==s||this.bufferController.hasSourceTypes())&&(this.detachMedia(),this.attachMedia(n)),this.trigger(_.MANIFEST_LOADING,{url:e})}startLoad(e=-1){H.log(`startLoad(${e})`),this.started=!0,this.networkControllers.forEach(n=>{n.startLoad(e)})}stopLoad(){H.log("stopLoad"),this.started=!1,this.networkControllers.forEach(e=>{e.stopLoad()})}resumeBuffering(){this.started&&this.networkControllers.forEach(e=>{"fragmentLoader"in e&&e.startLoad(-1)})}pauseBuffering(){this.networkControllers.forEach(e=>{"fragmentLoader"in e&&e.stopLoad()})}swapAudioCodec(){H.log("swapAudioCodec"),this.streamController.swapAudioCodec()}recoverMediaError(){H.log("recoverMediaError");const e=this._media;this.detachMedia(),e&&this.attachMedia(e)}removeLevel(e){this.levelController.removeLevel(e)}get levels(){const e=this.levelController.levels;return e||[]}get currentLevel(){return this.streamController.currentLevel}set currentLevel(e){H.log(`set currentLevel:${e}`),this.levelController.manualLevel=e,this.streamController.immediateLevelSwitch()}get nextLevel(){return this.streamController.nextLevel}set nextLevel(e){H.log(`set nextLevel:${e}`),this.levelController.manualLevel=e,this.streamController.nextLevelSwitch()}get loadLevel(){return this.levelController.level}set loadLevel(e){H.log(`set loadLevel:${e}`),this.levelController.manualLevel=e}get nextLoadLevel(){return this.levelController.nextLoadLevel}set nextLoadLevel(e){this.levelController.nextLoadLevel=e}get firstLevel(){return Math.max(this.levelController.firstLevel,this.minAutoLevel)}set firstLevel(e){H.log(`set firstLevel:${e}`),this.levelController.firstLevel=e}get startLevel(){const e=this.levelController.startLevel;return e===-1&&this.abrController.forcedAutoLevel>-1?this.abrController.forcedAutoLevel:e}set startLevel(e){H.log(`set startLevel:${e}`),e!==-1&&(e=Math.max(e,this.minAutoLevel)),this.levelController.startLevel=e}get capLevelToPlayerSize(){return this.config.capLevelToPlayerSize}set capLevelToPlayerSize(e){const n=!!e;n!==this.config.capLevelToPlayerSize&&(n?this.capLevelController.startCapping():(this.capLevelController.stopCapping(),this.autoLevelCapping=-1,this.streamController.nextLevelSwitch()),this.config.capLevelToPlayerSize=n)}get autoLevelCapping(){return this._autoLevelCapping}get bandwidthEstimate(){const{bwEstimator:e}=this.abrController;return e?e.getEstimate():NaN}set bandwidthEstimate(e){this.abrController.resetEstimator(e)}get ttfbEstimate(){const{bwEstimator:e}=this.abrController;return e?e.getEstimateTTFB():NaN}set autoLevelCapping(e){this._autoLevelCapping!==e&&(H.log(`set autoLevelCapping:${e}`),this._autoLevelCapping=e,this.levelController.checkMaxAutoUpdated())}get maxHdcpLevel(){return this._maxHdcpLevel}set maxHdcpLevel(e){Rhe(e)&&this._maxHdcpLevel!==e&&(this._maxHdcpLevel=e,this.levelController.checkMaxAutoUpdated())}get autoLevelEnabled(){return this.levelController.manualLevel===-1}get manualLevel(){return this.levelController.manualLevel}get minAutoLevel(){const{levels:e,config:{minAutoBitrate:n}}=this;if(!e)return 0;const r=e.length;for(let s=0;s<r;s++)if(e[s].maxBitrate>=n)return s;return 0}get maxAutoLevel(){const{levels:e,autoLevelCapping:n,maxHdcpLevel:r}=this;let s;if(n===-1&&e!=null&&e.length?s=e.length-1:s=n,r)for(let i=s;i--;){const o=e[i].attrs["HDCP-LEVEL"];if(o&&o<=r)return i}return s}get firstAutoLevel(){return this.abrController.firstAutoLevel}get nextAutoLevel(){return this.abrController.nextAutoLevel}set nextAutoLevel(e){this.abrController.nextAutoLevel=e}get playingDate(){return this.streamController.currentProgramDateTime}get mainForwardBufferInfo(){return this.streamController.getMainFwdBufferInfo()}setAudioOption(e){var n;return(n=this.audioTrackController)==null?void 0:n.setAudioOption(e)}setSubtitleOption(e){var n;return(n=this.subtitleTrackController)==null||n.setSubtitleOption(e),null}get allAudioTracks(){const e=this.audioTrackController;return e?e.allAudioTracks:[]}get audioTracks(){const e=this.audioTrackController;return e?e.audioTracks:[]}get audioTrack(){const e=this.audioTrackController;return e?e.audioTrack:-1}set audioTrack(e){const n=this.audioTrackController;n&&(n.audioTrack=e)}get allSubtitleTracks(){const e=this.subtitleTrackController;return e?e.allSubtitleTracks:[]}get subtitleTracks(){const e=this.subtitleTrackController;return e?e.subtitleTracks:[]}get subtitleTrack(){const e=this.subtitleTrackController;return e?e.subtitleTrack:-1}get media(){return this._media}set subtitleTrack(e){const n=this.subtitleTrackController;n&&(n.subtitleTrack=e)}get subtitleDisplay(){const e=this.subtitleTrackController;return e?e.subtitleDisplay:!1}set subtitleDisplay(e){const n=this.subtitleTrackController;n&&(n.subtitleDisplay=e)}get lowLatencyMode(){return this.config.lowLatencyMode}set lowLatencyMode(e){this.config.lowLatencyMode=e}get liveSyncPosition(){return this.latencyController.liveSyncPosition}get latency(){return this.latencyController.latency}get maxLatency(){return this.latencyController.maxLatency}get targetLatency(){return this.latencyController.targetLatency}get drift(){return this.latencyController.drift}get forceStartLoad(){return this.streamController.forceStartLoad}}Wr.defaultConfig=void 0;const $ge=({src:t,width:e="100%",height:n="auto",controls:r=!0})=>{const s=S.useRef(null);return S.useEffect(()=>{let i;if(Wr.isSupported()&&s.current)return i=new Wr({autoStartLoad:!0,capLevelToPlayerSize:!0,startLevel:-1,maxLoadingDelay:4,minAutoBitrate:0}),i.loadSource(t),i.attachMedia(s.current),i.on(Wr.Events.MANIFEST_PARSED,()=>{s.current.play()}),i.on(Wr.Events.LEVEL_SWITCHED,(o,a)=>{i.levels[a.level]}),i.on(Wr.Events.ERROR,(o,a)=>{if(a.fatal)switch(a.type){case Wr.ErrorTypes.NETWORK_ERROR:console.error("Network error encountered. Trying to recover..."),i.startLoad();break;case Wr.ErrorTypes.MEDIA_ERROR:console.error("Media error encountered. Attempting to recover..."),i.recoverMediaError();break;default:i.destroy();break}}),()=>{i.destroy()};s.current&&s.current.canPlayType("application/vnd.apple.mpegurl")&&(s.current.src=t,s.current.addEventListener("loadedmetadata",()=>{s.current.play()}))},[t]),h.jsx("video",{ref:s,width:e,height:n,controls:r,style:{width:e,height:n}})},zge=({portId:t,logo:e})=>{const{api:n,epg:r,streamingserverurl:s,user:i}=Pt(),{colorMode:o}=ga(),[a,l]=S.useState(!0),[c,u]=S.useState([]),[d,f]=S.useState(""),[p,m]=S.useState(!1),[g,y]=S.useState(void 0),x=b=>{try{const w=atob(b);return decodeURIComponent(escape(w))}catch{return console.error("Erreur lors du dcodage de la chane"),b}};S.useLayoutEffect(()=>{var w,T,C,E;const b={username:(T=(w=i==null?void 0:i.StreamingAccess)==null?void 0:w.username)!=null&&T.trim()?i.StreamingAccess.username:null,password:(E=(C=i==null?void 0:i.StreamingAccess)==null?void 0:C.username)!=null&&E.trim()?i.StreamingAccess.password:null};y(b)},[i]);const v=rn({base:"sm",md:"md"});return S.useEffect(()=>{(async()=>{try{l(!0);const w=localStorage.getItem("accessToken"),C=(await n.get(`/api/port/${t}`,{headers:{Authorization:`Bearer ${w}`}})).data;if(i.StreamingAccess&&C){const E=`${s}/live/${i.StreamingAccess.username}/${i.StreamingAccess.password}/${C.indexer}.m3u8`;f(E);const k=await r.get("",{params:{username:i.StreamingAccess.username,password:i.StreamingAccess.password,action:"get_short_epg",stream_id:C.indexer}});u(k.data.epg_listings||[])}}catch{console.error("chec du chargement du port ou du flux")}finally{l(!1)}})()},[t,n,i,r]),g&&(g!=null&&g.username)&&(g!=null&&g.password)?h.jsxs(He,{spacing:6,align:"stretch",p:0,borderRadius:"lg",bg:o==="dark"?"black":"white",color:o==="dark"?"white":"black",boxShadow:"md",width:"100%",m:0,children:[a?h.jsx(es,{height:"200px",borderRadius:"8px"}):t&&s&&h.jsx($ge,{src:d,onContextMenu:b=>b.preventDefault(),width:"100%",height:"500px",style:{borderRadius:"8px",boxShadow:"0 4px 8px rgba(0, 0, 0, 0.2)",margin:"0",width:"100%"}}),e&&e,c.length>0?h.jsxs(oe,{p:3,bg:o==="dark"?"black":"gray.50",borderRadius:"md",boxShadow:"sm",mb:2,children:[h.jsx(W,{fontSize:v,fontWeight:"bold",color:"blue.600",children:x(c[0].title)}),h.jsxs(W,{fontSize:"sm",color:o==="dark"?"gray.300":"gray.500",children:[new Date(c[0].start).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})," - ",new Date(c[0].end).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})]})]}):null,h.jsxs(oe,{width:"100%",children:[h.jsx(ve,{onClick:()=>m(!p),size:"sm",rightIcon:p?h.jsx(aae,{}):h.jsx(oae,{}),mb:2,width:"100%",variant:"outline",colorScheme:"blue",children:p?"Masquer le programme":"Afficher le programme"}),h.jsx(ou,{in:p,animateOpacity:!0,children:c.length>0?c.map(b=>h.jsxs(oe,{p:3,bg:o==="dark"?"black":"gray.50",borderRadius:"md",boxShadow:"sm",mb:2,children:[h.jsx(W,{fontSize:v,fontWeight:"bold",color:"blue.600",children:x(b.title)}),h.jsxs(W,{fontSize:"sm",color:o==="dark"?"gray.300":"black",children:[new Date(b.start).toLocaleString()," - ",new Date(b.end).toLocaleString()]}),h.jsx(aO,{my:2}),h.jsx(W,{fontSize:"sm",color:o==="dark"?"gray.100":"gray.700",children:x(b.description)})]},b.id)):h.jsx(W,{fontSize:"sm",color:"gray.500",children:"Aucune donne EPG disponible."})})]})]}):h.jsx(W,{color:"red.500",fontWeight:"bold",children:"Pas autoris  diffuser"})},Uge=()=>{const{id:t}=gw(),{api:e}=Pt(),[n,r]=S.useState(null),[s,i]=S.useState(!0),[o,a]=S.useState(""),[l,c]=S.useState(""),[u,d]=S.useState(""),[f,p]=S.useState(localStorage.getItem("selectedPortId")||null),{colorMode:m}=ga(),g=pr(),y=rn({base:"sm",md:"md"}),x=rn({base:2,md:4});S.useEffect(()=>{(async()=>{i(!0);try{const k=localStorage.getItem("accessToken"),A=await e.get(`/api/channels/${t}`,{headers:{Authorization:`Bearer ${k}`}});r(A.data)}catch(k){console.error("chec de la rcupration des dtails du canal",k)}finally{i(!1)}})()},[t,e]),S.useEffect(()=>(f&&localStorage.setItem("selectedPortId",f),()=>{localStorage.removeItem("selectedPortId")}),[f,location.pathname]);const v=()=>{localStorage.removeItem("selectedPortId"),g(-1)},b=n==null?void 0:n.ports.filter(E=>{const k=o?E.region===o:!0,A=l?E.resolution===l:!0,R=u?E.language===u:!0;return k&&A&&R}),w=[...new Set(n==null?void 0:n.ports.map(E=>E.region).filter(Boolean))],T=[...new Set(n==null?void 0:n.ports.map(E=>E.resolution).filter(Boolean))],C=[...new Set(n==null?void 0:n.ports.map(E=>E.language).filter(Boolean))];return s?h.jsx(es,{height:"400px"}):n?h.jsxs(oe,{p:x,children:[h.jsx(ve,{leftIcon:h.jsx($F,{style:{fontSize:"10px"}}),onClick:v,colorScheme:"red",variant:"solid",size:"xs",paddingRight:3,mb:1}),h.jsx(oe,{mb:2,children:f?h.jsx(zge,{portId:f,logo:h.jsx(oe,{ml:2,children:h.jsxs(pt,{children:[h.jsx(ks,{src:n.logos[0]||"default-logo.png",alt:"Logo du Canal",boxSize:{base:"40px",md:"50px"},borderRadius:"md"}),h.jsxs(He,{align:"start",spacing:0,children:[h.jsx(W,{mt:1,fontSize:y,fontWeight:"bold",children:n.name}),n.category!=="undefined"&&h.jsx(W,{color:"gray.500",fontSize:y,children:n.category})]})]})})},f):h.jsx(oe,{ml:2,children:h.jsxs(pt,{children:[h.jsx(ks,{src:n.logos[0]||"default-logo.png",alt:"Logo du Canal",boxSize:{base:"40px",md:"50px"},borderRadius:"md"}),h.jsxs(He,{align:"start",spacing:0,children:[h.jsx(W,{mt:1,fontSize:y,fontWeight:"bold",children:n.name}),n.category!=="undefined"&&h.jsx(W,{color:"gray.500",fontSize:y,children:n.category})]}),h.jsx(W,{fontSize:"lg",textAlign:"center",color:"gray.500",children:"Slectionnez un flux  lire"})]})})}),h.jsxs(oe,{display:"flex",flexWrap:"wrap",gap:4,mb:6,children:[h.jsx(Pr,{placeholder:"Filtrer par rgion",value:o,onChange:E=>a(E.target.value),borderColor:"blue.300",focusBorderColor:"teal.600",w:{base:"100%",md:"auto"},children:w.map(E=>h.jsx("option",{value:E,children:E},E))}),h.jsx(Pr,{placeholder:"Filtrer par rsolution",value:l,onChange:E=>c(E.target.value),borderColor:"blue.300",focusBorderColor:"teal.600",w:{base:"100%",md:"auto"},children:T.map(E=>h.jsx("option",{value:E,children:E},E))}),h.jsx(Pr,{placeholder:"Filtrer par langue",value:u,onChange:E=>d(E.target.value),borderColor:"blue.300",focusBorderColor:"teal.600",w:{base:"100%",md:"auto"},children:C.map(E=>h.jsx("option",{value:E,children:E},E))})]}),h.jsx(Vf,{columns:{base:1,sm:2,md:2},spacing:4,children:b.map(E=>h.jsx(oe,{p:x,border:"1px solid #ddd",borderRadius:"md",cursor:"pointer",bg:E.id===f?"blue.100":m==="dark"?"black":"gray.50",onClick:()=>p(E.id),transition:"background 0.2s",_hover:{bg:"teal.50"},children:h.jsxs(pt,{children:[h.jsx(W,{fontSize:y,fontWeight:"bold",children:E.name}),E.region&&h.jsx(W,{fontSize:"sm",color:"gray.500",children:E.region}),E.resolution&&h.jsx(W,{fontSize:"sm",color:"gray.500",children:E.resolution}),E.ok&&h.jsx(sO,{size:"10px",bg:"green.500"})]})},E.id))})]}):h.jsx(W,{children:"Canal non trouv"})},SN=t=>{const e=Math.floor(t/60),n=t%60;return`${e}h ${n}m`},n0=t=>(t*10).toFixed(0),wN=t=>t>=7?"green.400":t>=5?"orange.400":"red.400",Vge=({children:t,isFullscreen:e,toggleFullscreen:n})=>{const r=cr.useRef(null);return S.useEffect(()=>{const s=r.current;return e?s.requestFullscreen?s.requestFullscreen():s.mozRequestFullScreen?s.mozRequestFullScreen():s.webkitRequestFullscreen?s.webkitRequestFullscreen():s.msRequestFullscreen&&s.msRequestFullscreen():document.fullscreenElement&&document.exitFullscreen(),()=>{document.fullscreenElement&&document.exitFullscreen()}},[e]),h.jsx("div",{ref:r,className:e?"fullscreen":"",style:{width:"100%",height:"100%"},children:t})},TN=({src:t,canDownload:e,width:n="100%",height:r="auto",controls:s=!0,extension:i})=>{const o=S.useRef(null),a=S.useRef(null),[l,c]=S.useState(!0),[u,d]=S.useState(.5),[f,p]=S.useState(!1),[m,g]=S.useState(0),[y,x]=S.useState(0),v=S.useRef(null),[b,w]=S.useState(!0),[T,C]=S.useState(!1),[E,k]=S.useState(0),[A,R]=S.useState(!1),[L,D]=S.useState(0),[M,B]=S.useState(!1),V=/iPhone|iPad|iPod|Android/i.test(navigator.userAgent);S.useEffect(()=>{const Y=Ge=>Ge.preventDefault(),ue=()=>a.current=setTimeout(Y,500),Ae=()=>clearTimeout(a.current);return document.addEventListener("contextmenu",Y),document.addEventListener("touchstart",ue),document.addEventListener("touchend",Ae),()=>{document.removeEventListener("contextmenu",Y),document.removeEventListener("touchstart",ue),document.removeEventListener("touchend",Ae)}},[]),S.useEffect(()=>{const Y=v.current;if(Y){Y.volume=u,Y.muted=f,Y.autoplay=!0,Y.play().then(()=>c(!0)).catch(()=>c(!1));const ue=()=>{x(Y.duration),g(0),w(!1)},Ae=()=>{D(Y.currentTime),g(Y.currentTime/Y.duration*100),m===100&&k(0)},Ge=()=>w(!1),it=()=>w(!0),Fe=()=>{const Ke=v.current;if(Ke&&Ke.buffered.length>0){const Nt=Ke.buffered.end(Ke.buffered.length-1),Ce=Math.min(Nt/Ke.duration*100,100);k(Ce)}};Y.addEventListener("loadedmetadata",ue),Y.addEventListener("timeupdate",Ae),Y.addEventListener("canplay",Ge),Y.addEventListener("waiting",it),Y.addEventListener("progress",Fe);const je=Y.textTracks&&Y.textTracks.length>0;return C(je),()=>{Y.removeEventListener("loadedmetadata",ue),Y.removeEventListener("timeupdate",Ae),Y.removeEventListener("canplay",Ge),Y.removeEventListener("waiting",it),Y.removeEventListener("progress",Fe)}}return()=>{o.current&&clearTimeout(o.current)}},[t,u,f]),S.useEffect(()=>{const Y=ue=>{ue.key==="ArrowDown"||ue.keyCode===40?(ue.preventDefault(),ee()):ue.key==="Enter"||ue.key==="MediaPlayPause"?(ue.preventDefault(),j()):ue.key==="MediaRewind"?(ue.preventDefault(),ce(-20)):ue.key==="MediaFastForward"&&(ue.preventDefault(),ce(20))};return window.addEventListener("keydown",Y),()=>{window.removeEventListener("keydown",Y)}},[]);const O=()=>{const Y=v.current;Y&&!V&&(l?Y.pause():Y.play(),c(!l)),V&&R(!1)},I=Y=>{const ue=Math.floor(Y/3600),Ae=Math.floor(Y%3600/60),Ge=Math.floor(Y%60).toString().padStart(2,"0");return ue>0?`${ue}:${Ae.toString().padStart(2,"0")}:${Ge}`:`${Ae}:${Ge}`},N=()=>{R(!0),o.current&&clearTimeout(o.current),o.current=setTimeout(()=>R(!1),3e3)},j=()=>{const Y=v.current;l?Y.pause():Y.play(),c(!l),R(!A)},K=()=>{const Y=v.current;Y&&(Y.muted=!f,p(!f))},te=Y=>{const ue=Math.min(1,Math.max(0,Y)),Ae=v.current;d(ue),Ae&&(Ae.volume=ue,p(ue===0))},ne=Y=>{const ue=Math.min(100,Math.max(0,Y)),Ae=v.current;Ae&&(Ae.currentTime=ue/100*y,g(ue))},q=()=>{if(e){const Y=document.createElement("a");Y.href=t+"."+i,Y.download="video.mp4",document.body.appendChild(Y),Y.click(),document.body.removeChild(Y)}},ee=()=>{B(!M)},ce=Y=>{const ue=v.current;ue&&(ue.currentTime=Math.min(ue.duration,Math.max(0,ue.currentTime+Y)))};return h.jsx(Vge,{isFullscreen:M,toggleFullscreen:ee,children:h.jsxs(oe,{className:`video-container ${M?"fullscreen":""}`,position:"relative",width:n,height:r,onClick:N,children:[h.jsx("video",{ref:v,src:t,id:"videoElement",height:"100%",style:{borderRadius:"10px"},onClick:O}),b&&h.jsx(fe,{position:"absolute",top:"0",left:"0",width:"100%",height:"100%",align:"center",justify:"center",bg:"rgba(0, 0, 0, 0.7)",zIndex:"0",borderRadius:"10px",children:h.jsx(kn,{color:"white",size:"xl"})}),A&&h.jsx(fe,{position:"absolute",top:"0",left:"0",width:"100%",height:"100%",align:"center",justify:"center",bg:"rgba(0, 0, 0, 0.7)",zIndex:"0",borderRadius:"10px",onClick:j,children:h.jsx(Ue,{icon:l?h.jsx(OA,{}):h.jsx(FA,{}),onClick:O,variant:"ghost",color:"white",fontSize:"30px",size:"lg",zIndex:11,bg:"transparent","aria-label":"Play/Pause"})}),h.jsxs(oe,{size:"md",position:"absolute",minWidth:V?"0px":"200px",minHeight:V?"0px":"100px",right:"10px",bottom:"-5px",m:0,width:"100%",padding:"10px",align:"center",justify:"space-between",borderRadius:"10px",zIndex:"19",bg:"transparent",onMouseEnter:()=>R(!0),onMouseLeave:()=>R(!1),children:[h.jsx(Ho,{}),(A||!l)&&h.jsxs(fe,{position:"absolute",bottom:"10px",width:"100%",padding:"5px",align:"center",justify:"space-between",bg:"rgba(0, 0, 0, 0.6)",borderRadius:"10px",zIndex:"0",_hover:{display:"flex",".chakra-slider__thumb":{display:"block"}},children:[h.jsx(Ue,{icon:h.jsx(uie,{}),onClick:()=>ce(-20),variant:"ghost",color:"white",fontSize:{base:"16px",md:"20px"},"aria-label":"Rewind 20 seconds"}),h.jsx(Ue,{icon:l?h.jsx(OA,{}):h.jsx(FA,{}),onClick:j,variant:"ghost",color:"white",fontSize:{base:"16px",md:"20px"},"aria-label":"Play/Pause"}),h.jsx(Ue,{icon:h.jsx(die,{}),onClick:()=>ce(20),variant:"ghost",color:"white",fontSize:{base:"16px",md:"20px"},"aria-label":"Forward 20 seconds"}),h.jsxs(W,{color:"white",fontSize:{base:"xs",md:"sm"},mr:"8px",children:[I(L)," / ",I(y)]}),h.jsxs(L1,{flex:"1",mx:"10px",value:m,onChange:Y=>{ne(Math.min(100,Math.max(0,Y)))},children:[h.jsxs(I1,{bg:"gray.700",children:[h.jsx(oe,{position:"absolute",top:"0",left:"0",width:`${E}%`,bg:"green.500",height:"100%",opacity:"0.4"}),h.jsx(oe,{position:"absolute",top:"0",left:"0",width:`${m}%`,bg:"red.700",height:"100%"})]}),h.jsx(P1,{display:"none",boxSize:2})]}),h.jsx(Qa,{label:`Volume: ${Math.round(u*100)}%`,placement:"top",children:h.jsx(Ue,{icon:f?h.jsx(vie,{}):h.jsx(xie,{}),onClick:K,variant:"ghost",color:"white",fontSize:{base:"16px",md:"20px"},"aria-label":"Mute/Unmute"})}),h.jsxs(L1,{maxW:"100px",value:u,m:1,mr:3,onChange:Y=>{te(Math.min(1,Math.max(.01,Y)))},step:.05,min:0,max:1,display:f?"none":"block",children:[h.jsx(I1,{bg:"gray.700",children:h.jsx(AF,{bg:"red.700"})}),h.jsx(P1,{boxSize:2})]}),T&&h.jsx(Qa,{label:"Subtitles available",placement:"top",children:h.jsx(Ue,{icon:h.jsx(aie,{}),variant:"ghost",color:"white",fontSize:{base:"16px",md:"20px"},"aria-label":"Subtitles available"})}),e&&h.jsx(Qa,{label:"Download video",placement:"top",children:h.jsx(Ue,{icon:h.jsx(zF,{}),onClick:q,variant:"ghost",color:"white",fontSize:{base:"16px",md:"20px"},"aria-label":"Download video"})}),h.jsx(Qa,{label:"Full screen",placement:"top",children:h.jsx(Ue,{icon:M?h.jsx(lie,{}):h.jsx(cie,{}),onClick:ee,variant:"ghost",color:"white",fontSize:{base:"16px",md:"20px"},"aria-label":"Toggle Fullscreen"})})]})]})]})})},EN=({sid:t,id:e,createDownloadTransactionSingle:n})=>{const r=Du(),[s,i]=S.useState(!1),[o,a]=S.useState(!1),{isOpen:l,onOpen:c,onClose:u}=fh(),[d,f]=S.useState(null),p=async(g,y,x)=>{a(!0);try{const v=await n({SerieId:y,movieId:x,allow:g});v===!0?(r({title:"Download successful!",status:"success",duration:3e3,isClosable:!0}),i(!0)):v===!1?(f({sid:y,mid:x}),c()):r({title:"chec du tlchargement.",status:"error",duration:3e3,isClosable:!0})}catch{r({title:"Une erreur s'est produite.",description:"Veuillez ressayer plus tard.",status:"error",duration:3e3,isClosable:!0})}finally{a(!1)}},m=async()=>{if(d){const{sid:g,mid:y}=d;await p(!0,g,y),i(!0),u()}};return h.jsxs(h.Fragment,{children:[s?h.jsx(ve,{ml:2,leftIcon:h.jsx(hu,{}),colorScheme:"green",variant:"outline",onClick:()=>i(!1),children:"Tlcharger"}):h.jsx(ve,{ml:2,onClick:()=>p(!1,t,e),isLoading:o,colorScheme:"teal",children:h.jsx(sae,{})}),h.jsxs(_u,{isOpen:l,onClose:u,isCentered:!0,children:[h.jsx(Iu,{}),h.jsxs(Ah,{children:[h.jsx(ey,{children:"Confirmation de Paiement"}),h.jsx(Pu,{}),h.jsx(Lu,{children:"Nombre limite de telechargements voulez-vous payer avec votre solde pour tlcharger ?"}),h.jsxs(LT,{children:[h.jsx(ve,{colorScheme:"red",mr:3,onClick:u,children:"Annuler"}),h.jsx(ve,{colorScheme:"green",onClick:m,children:"Confirmer"})]})]})]})]})},Wge=()=>{var ne;const{id:t,tmdb:e}=gw(),{checkIfInTaste:n,updateTaste:r,user:s,getByTmdbOrImagePath:i,streamingserverurl:o}=Pt(),a=Du(),l=ma(),c=new URLSearchParams(l.search),u=decodeURIComponent(c.get("imgPath")),[d,f]=S.useState({}),[p,m]=S.useState(!0),[g,y]=S.useState(!1),[x,v]=S.useState(!1),[b,w]=S.useState([]),[T,C]=S.useState(!1),[E,k]=S.useState(null),[A,R]=S.useState(""),{createDownloadTransactionSingle:L}=Fu(),D=de("rgba(255,255,255,0.88)","rgba(0,0,0,0.88)"),M=de("white","gray.800"),B=de("gray.700","gray.200"),V=de("yellow.600","yellow.400"),[O,I]=S.useState(void 0);S.useLayoutEffect(()=>{var ee,ce,Y,ue;const q={username:(ce=(ee=s==null?void 0:s.StreamingAccess)==null?void 0:ee.username)!=null&&ce.trim()?s.StreamingAccess.username:null,password:(ue=(Y=s==null?void 0:s.StreamingAccess)==null?void 0:Y.username)!=null&&ue.trim()?s.StreamingAccess.password:null};I(q)},[s]),S.useEffect(()=>{(async()=>{m(!0);try{const[ee]=await Promise.all([T5("movie",e),E5("movie",e)]);if(f(ee),s){const ce=await n(t,"movie"),Y=!!s.downloads.find(Ae=>Ae.movieId===t);C(Y),y(ce);const ue=await i(e,u,"movie");w(ue)}}catch(ee){console.log(ee)}finally{m(!1)}})()},[t,s,n,i]);const N=async()=>{if(!s){a({title:"Connectez-vous pour ajouter  la liste des gots",status:"error",isClosable:!0});return}await r(t,null,!0),y(!0),a({title:"Ajout  la liste des gots",status:"success",isClosable:!0})},j=async()=>{await r(t,null,!1),y(!1),a({title:"Retir de la liste des gots",status:"info",isClosable:!0})};if(p)return h.jsx(fe,{justify:"center",align:"center",height:"100vh",bg:M,children:h.jsx(kn,{size:"xl",color:"red.500"})});const K=(d==null?void 0:d.title)||(d==null?void 0:d.name),te=(d==null?void 0:d.release_date)||(d==null?void 0:d.first_air_date);return h.jsxs(oe,{bg:"transparent",color:B,w:"100%",minH:"100vh",children:[h.jsx(oe,{background:`linear-gradient(${D}, ${D}), url(${V1}/${d==null?void 0:d.backdrop_path})`,backgroundRepeat:"no-repeat",backgroundSize:"cover",backgroundPosition:"center",position:"fixed",top:"0",left:"0",w:"100%",h:"100%",zIndex:-1}),h.jsxs(xo,{maxW:"container.xl",p:{base:4,md:8},children:[h.jsxs(fe,{alignItems:"center",gap:6,flexDirection:{base:"column",md:"row"},overflow:"hidden",children:[h.jsx(ks,{height:{base:"300px",md:"450px"},width:"auto",borderRadius:"sm",src:u,alt:K}),h.jsxs(oe,{flex:"1",width:"100%",children:[h.jsxs(Yt,{fontSize:{base:"2xl",md:"3xl"},mb:2,children:[K," ",h.jsx(W,{as:"span",fontWeight:"normal",color:V,children:new Date(te).getFullYear()})]}),h.jsxs(fe,{alignItems:"center",gap:"4",mt:1,mb:5,children:[h.jsx(v5,{mr:2,color:V}),h.jsxs(W,{fontSize:"sm",children:[new Date(te).toLocaleDateString("fr-FR")," (FR)"]}),h.jsx(x5,{mr:2,color:V}),h.jsx(W,{fontSize:"sm",children:SN(d==null?void 0:d.runtime)})]}),h.jsxs(fe,{gap:"4",alignItems:"center",children:[h.jsx(PT,{value:n0(d==null?void 0:d.vote_average),size:"70px",color:wN(d==null?void 0:d.vote_average),thickness:"6px",children:h.jsxs(IT,{fontSize:"lg",children:[n0(d==null?void 0:d.vote_average),"%"]})}),h.jsx(W,{display:{base:"none",lg:"initial"},children:"Note des utilisateurs"}),g?h.jsx(ve,{leftIcon:h.jsx(hu,{}),colorScheme:"green",variant:"outline",onClick:j,children:"Dans MyList"}):h.jsx(ve,{leftIcon:h.jsx(y5,{}),variant:"outline",onClick:N,children:"Ma Liste"}),T?h.jsx(ve,{leftIcon:h.jsx(hu,{}),colorScheme:"green",variant:"outline",onClick:j,children:"Telecharger"}):h.jsx(EN,{sid:null,id:t,createDownloadTransactionSingle:L})]}),h.jsx(W,{color:V,fontSize:"sm",fontStyle:"italic",my:"5",children:d==null?void 0:d.tagline}),h.jsx(Yt,{fontSize:"xl",mb:"3",children:"Rsum"}),h.jsx(W,{fontSize:"md",mb:"3",children:d==null?void 0:d.overview}),h.jsx(fe,{mt:"6",gap:"2",wrap:"wrap",children:(ne=d==null?void 0:d.genres)==null?void 0:ne.map(q=>h.jsx(Cs,{p:"1",bg:V,color:"white",children:q==null?void 0:q.name},q==null?void 0:q.id))})]})]}),O&&(O==null?void 0:O.username)&&(O==null?void 0:O.password)&&h.jsxs(oe,{width:"100%",mt:6,children:[h.jsx(ve,{width:"100%",colorScheme:"red",onClick:()=>v(!x),children:x?"Cacher Options":"Regarder"}),h.jsx(ou,{in:x,animateOpacity:!0,children:h.jsx(He,{align:"stretch",mt:4,children:b==null?void 0:b.map((q,ee)=>h.jsxs(ve,{value:q.id,width:"100%",colorScheme:A===q.id?"blue":"gray",onClick:()=>{k(q),R(q.id)},children:["Regarder ",ee+1," ",q.name]},ee))})})]})]}),E&&h.jsxs(_u,{isOpen:!!E,onClose:()=>k(null),closeOnOverlayClick:!1,children:[h.jsx(Iu,{backdropFilter:"blur(5px)"}),h.jsxs(Ah,{maxW:"90vw",maxH:"90vh",bg:"transparent",margin:"auto",children:[h.jsx(Pu,{top:"10px",right:"10px",color:"white",zIndex:10,bg:"rgba(0,0,0,0.5)",_hover:{bg:"rgba(0, 0, 0, 0.7)"},borderRadius:"full"}),h.jsx(Lu,{p:0,children:h.jsx(TN,{src:`${o}/movie/${s.StreamingAccess.username}/${s.StreamingAccess.password}/${E.indexer}.${E.extension}`,onContextMenu:q=>q.preventDefault(),width:"100%",height:"100%",canDownload:T,style:{borderRadius:"8px",boxShadow:"0 4px 8px rgba(0, 0, 0, 0.2)"}})})]})]})]})},Hge=()=>{var K,te;const{id:t,tmdb:e}=gw(),{checkIfInTaste:n,updateTaste:r,user:s,getByTmdbOrImagePath:i}=Pt(),o=Du(),a=ma(),l=new URLSearchParams(a.search),c=decodeURIComponent(l.get("imgPath")),[u,d]=S.useState({}),[f,p]=S.useState(!0),[m,g]=S.useState(!1),[y,x]=S.useState(""),[v,b]=S.useState(!1),{createDownloadTransactionSingle:w}=Fu(),[T,C]=S.useState([]),[E,k]=S.useState(null),A=de("gray.800","white"),R=de("yellow.600","yellow.400"),L=de("rgba(255,255,255,0.88)","rgba(0,0,0,0.88)"),D=JSON.parse(localStorage.getItem("watchingData"))||{movies:[],series:[]},[M,B]=S.useState(D);S.useEffect(()=>{(async()=>{p(!0);try{const[q,ee]=await Promise.all([T5("tv",e),E5("tv",e)]);B(D),d(q);const ce=!!s.downloads.find(it=>it.SerieId===t);b(ce);const[Y,ue]=await Promise.all([n(t,"series"),i(e,c,"series")]);g(Y);const Ae=await Promise.all(ue.map(async it=>{try{return(await wae(it.serieId)).episodes}catch(Fe){return console.error(`Error fetching data for serie ${it.serieId}:`,Fe),[]}}));let Ge=q.seasons.map((it,Fe)=>{const je=parseInt(it.name.split(" ")[1]),Ke=Ae.map(Nt=>Nt[je]||[]);return{...it,apiseasonall:Ke}});Ge[0].name==="pisodes spciaux"&&(Ge=Ge.slice(1)),C(Ge),k(Ge[0])}catch(q){console.error("Error fetching episode details:",q)}finally{p(!1)}})()},[t,s,n,i,e]);const V=async()=>{if(!s){o({title:"Login to add to your list",status:"error",isClosable:!0});return}await r(null,t,!0),g(!0),o({title:"Added to your list",status:"success",isClosable:!0})},O=async()=>{await r(null,t,!1),g(!1),o({title:"Removed from your list",status:"info",isClosable:!0})},I=ne=>{const q=ne.target.value;k(T.find(ee=>ee.id==q))};if(f)return h.jsx(fe,{justify:"center",align:"center",height:"100vh",children:h.jsx(kn,{size:"xl",color:"red.500"})});const N=(u==null?void 0:u.name)||(u==null?void 0:u.title),j=(u==null?void 0:u.first_air_date)||(u==null?void 0:u.release_date);return h.jsxs(oe,{color:A,w:"100%",h:"100vh",children:[h.jsx(oe,{background:`linear-gradient(${L}, ${L}), url(${V1}/${u==null?void 0:u.backdrop_path})`,backgroundRepeat:"no-repeat",backgroundSize:"cover",backgroundPosition:"center",position:"fixed",top:"0",left:"0",w:"100%",h:"100%",zIndex:-1}),h.jsxs(xo,{maxW:"container.xl",pt:20,margin:1,children:[h.jsxs(fe,{alignItems:"center",gap:"10",flexDirection:{base:"column",lg:"row"},children:[h.jsx(ks,{height:"450px",borderRadius:"sm",src:`${V1}/${u==null?void 0:u.poster_path}`,alt:N}),h.jsxs(oe,{children:[h.jsxs(Yt,{fontSize:"3xl",mb:2,children:[N," ",h.jsx(W,{as:"span",fontWeight:"normal",color:R,children:new Date(j).getFullYear()})]}),h.jsxs(fe,{alignItems:"center",gap:"4",mt:1,mb:5,children:[h.jsx(v5,{mr:2,color:R}),h.jsxs(W,{fontSize:"sm",children:[new Date(j).toLocaleDateString("fr-FR")," (FR)"]}),h.jsx(x5,{mr:"2",color:R}),h.jsx(W,{fontSize:"sm",children:SN((K=u==null?void 0:u.episode_run_time)==null?void 0:K[0])})]}),h.jsx(PT,{value:n0(u==null?void 0:u.vote_average),bg:"transparent",borderRadius:"full",p:"0.5",size:"70px",color:wN(u==null?void 0:u.vote_average),thickness:"6px",children:h.jsxs(IT,{fontSize:"lg",children:[n0(u==null?void 0:u.vote_average)," ",h.jsx(oe,{as:"span",fontSize:"10px",children:"%"})]})}),h.jsx(ve,{leftIcon:m?h.jsx(hu,{}):h.jsx(y5,{}),variant:"outline",onClick:m?O:V,colorScheme:m?"green":"gray",pr:10,pl:8,children:m?"Dans My List":"My List"}),v?h.jsx(ve,{leftIcon:h.jsx(hu,{}),colorScheme:"green",variant:"outline",onClick:O,children:"Telecharger"}):h.jsx(EN,{sid:t,id:null,createDownloadTransactionSingle:w}),h.jsx(Yt,{fontSize:"xl",mb:"3",children:"Rsum"}),h.jsx(W,{fontSize:"md",mb:"3",children:u==null?void 0:u.overview}),h.jsx(fe,{mt:6,gap:2,flexWrap:"wrap",children:(te=u==null?void 0:u.genres)==null?void 0:te.map(ne=>h.jsx(Cs,{p:1,bg:R,color:"white",children:ne.name},ne.id))})]})]}),h.jsxs(fe,{flexDirection:"column",alignItems:"flex-start",children:[h.jsx(oe,{mb:4,children:h.jsxs(Cs,{colorScheme:"red",fontSize:"lg",children:[T.length," Seasons"]})}),h.jsx(pt,{children:h.jsx(Pr,{onChange:I,placeholder:"Choisir Saison",value:E,mb:4,bg:"red.600",_hover:{bg:"red.700"},color:"white",width:"100%",children:T.map(ne=>h.jsx("option",{value:ne.id,style:{color:"black"},width:"100%",children:ne.name},ne.id))})}),E&&h.jsx(He,{spacing:6,width:"100%",children:h.jsx(Gge,{season:E,seriesId:e,id:t,watchingData:M,isOpen:y,setIsOpen:x,isDownloaded:v})})]})]})]})},Gge=({season:t,seriesId:e,watchingData:n,isOpen:r,setIsOpen:s,id:i,isDownloaded:o})=>{const a=S.useMemo(()=>{var u;return(u=n==null?void 0:n.series.find(d=>d.tmdb===e))==null?void 0:u.season.find(d=>d.seasonNum===t.season_number)},[n,e,t]),[l,c]=S.useState([]);return S.useEffect(()=>{if(!t||!t.apiseasonall)return;const u=parseInt(t.episode_count),d=Array.from({length:u},(f,p)=>{const m=[];return t.apiseasonall.forEach(g=>{g!=null&&g[p]&&m.push(g[p])}),m});c(d)},[t]),h.jsxs(oe,{w:"100%",border:"1px solid",borderColor:"gray.200",p:4,borderRadius:"md",children:[h.jsx(W,{fontSize:"xl",color:"red.500",children:t.name}),h.jsxs(He,{spacing:3,align:"start",children:[h.jsxs(W,{fontWeight:"bold",fontSize:"md",color:"gray.500",children:[t.episode_count," Episodes"]}),Array.from({length:t.episode_count}).map((u,d)=>{var p;const f=(p=a==null?void 0:a.episodes)==null?void 0:p.find(m=>m.episodeNum===d+1);return h.jsx(Kge,{seriesId:e,seasonNumber:t.season_number,episodeNumber:d+1,watchingData:f,episodes:l[d],isOpen:r,setIsOpen:s,id:i,isDownloaded:o},d)})]})]})},Kge=({seriesId:t,seasonNumber:e,episodeNumber:n,watchingData:r,episodes:s,isOpen:i,setIsOpen:o,id:a,isDownloaded:l})=>{const[c,u]=S.useState(null),[d,f]=S.useState(!0),[p,m]=S.useState(null),[g,y]=S.useState(""),[x,v]=S.useState(void 0),{streamingserverurl:b,user:w}=Pt();S.useLayoutEffect(()=>{var D,M,B,V;const L={username:(M=(D=w==null?void 0:w.StreamingAccess)==null?void 0:D.username)!=null&&M.trim()?w.StreamingAccess.username:null,password:(V=(B=w==null?void 0:w.StreamingAccess)==null?void 0:B.username)!=null&&V.trim()?w.StreamingAccess.password:null};v(L)},[w]),S.useEffect(()=>{(async()=>{f(!0);try{const D=await Eae(t,e,n);u(D)}catch(D){console.error(D)}finally{f(!1)}})()},[t,e,n]);const C=(r==null?void 0:r.isFinished)?100:Math.min((r==null?void 0:r.watchingTimeInMin)/(r==null?void 0:r.totalTime)*100,100),E=de("gray.100","black"),k=de("black","white"),A=de("gray.300","gray.500"),R=de("white","gray.600");return d?h.jsx(fe,{justify:"center",align:"center",width:"100%",children:h.jsx(kn,{size:"sm",color:"red.500"})}):x&&(x!=null&&x.username)&&(x!=null&&x.password)?h.jsxs(oe,{width:"100%",mt:2,p:2,border:"1px solid",borderColor:A,sx:{overflowY:"auto",overscrollBehavior:"none"},borderRadius:"md",boxShadow:"md",_hover:{transform:"scale(1.05)",transition:"transform 0.2s",bg:R},display:"flex",flexDirection:{base:"column",md:"column"},bg:E,color:k,position:"relative",onClick:()=>o(t+e+n),onMouseEnter:()=>o(t+e+n),onMouseLeave:()=>o(null),children:[h.jsxs(He,{align:"start",spacing:1,wordBreak:"break-all",children:[h.jsx(ks,{src:`https://image.tmdb.org/t/p/w500${c==null?void 0:c.still_path}`,alt:c==null?void 0:c.name,objectFit:"cover",height:{base:"80px",md:"150px"},width:{base:"160px",md:"350px"},borderRadius:"md"}),h.jsxs(W,{fontWeight:"bold",fontSize:{base:"md",lg:"lg"},color:"red.500",children:["Episode ",n]}),h.jsx(W,{fontSize:{base:"xs",md:"sm"},color:k,noOfLines:3,children:c==null?void 0:c.overview}),h.jsxs(W,{fontSize:"xs",color:"gray.600",children:["Air Date: ",c==null?void 0:c.air_date]})]}),h.jsx(oe,{position:"absolute",bottom:"0",left:"0",width:`${C}%`,height:"4px",bg:"green.500",borderRadius:"md"}),h.jsx(ou,{in:i===t+e+n,animateOpacity:!0,children:h.jsx(He,{align:"stretch",width:"100%",mt:4,maxH:"50px",overflowY:"auto",sx:{"&::-webkit-scrollbar":{width:"8px"},"&::-webkit-scrollbar-thumb":{backgroundColor:"#3182ce",borderRadius:"8px",border:"2px solid #fff"},"&::-webkit-scrollbar-thumb:hover":{backgroundColor:"#2b6cb0"},"&::-webkit-scrollbar-track":{background:"#f1f1f1",borderRadius:"8px"}},children:s==null?void 0:s.map((L,D)=>h.jsxs(ve,{value:L.id,width:"100%",colorScheme:g===L.id?"blue":"gray",bg:g===L.id?"blue.500":"gray.100",color:g===L.id?"white":"black",_hover:{bg:g===L.id?"blue.600":"gray.200"},onClick:()=>{m(L),y(L.id)},children:["Regarder ",D+1," ",L.name]},D))})}),p&&h.jsxs(_u,{isOpen:!!p,onClose:()=>m(null),closeOnOverlayClick:!1,children:[h.jsx(Iu,{backdropFilter:"blur(5px)"}),h.jsxs(Ah,{maxW:"90vw",maxH:"90vh",background:"transparent",margin:"auto",children:[h.jsx(Pu,{top:"10px",right:"10px",zIndex:10,color:"white",bg:"rgba(0, 0, 0, 0.5)",_hover:{bg:"rgba(0, 0, 0, 0.7)"},borderRadius:"full"}),h.jsx(Lu,{p:0,children:p&&h.jsx(TN,{src:`${b}/series/${w.StreamingAccess.username}/${w.StreamingAccess.password}/${p.id}.${p.container_extension}`,onContextMenu:L=>L.preventDefault(),extension:p.extension,canDownload:l,width:"100%",height:"100%",style:{borderRadius:"8px",boxShadow:"0 4px 8px rgba(0, 0, 0, 0.2)",margin:"0",width:"100%"}})})]})]})]}):h.jsx(h.Fragment,{})},Yge=z8([{path:"/",element:h.jsx(gae,{}),children:[{path:"/",element:h.jsx(Lae,{})},{path:"/movies",element:h.jsx(Dae,{})},{path:"/shows",element:h.jsx(Fae,{})},{path:"/search",element:h.jsx(Bae,{})},{path:"/movie/:id/:tmdb",element:h.jsx(Wge,{})},{path:"/series/:id/:tmdb",element:h.jsx(Hge,{})},{path:"/channel",element:h.jsx(vfe,{})},{path:"/channel/:id",element:h.jsx(Uge,{})},{path:"/deposit",element:h.jsx(lfe,{})},{path:"/admin",element:h.jsx(afe,{})},{path:"/profile",element:h.jsx(hfe,{})},{path:"/transaction",element:h.jsx(cfe,{})},{path:"/subscribe",element:h.jsx(gfe,{})},{path:"/admin/transaction",element:h.jsx(ufe,{})},{path:"*",element:h.jsx(T0,{to:"/"})}]},{path:"/login",element:h.jsx(zae,{})},{path:"/changepassword",element:h.jsx(Uae,{})},{path:"/register",element:h.jsx(Vae,{})},{path:"register/agent-registration",element:h.jsx(Wae,{})},{path:"register/fast-registration",element:h.jsx(Gae,{})},{path:"terms",element:h.jsx(Hae,{})}]);$x.createRoot(document.getElementById("root")).render(h.jsx(cr.StrictMode,{children:h.jsx(iJ,{theme:xae,children:h.jsx(g5,{children:h.jsx(X8,{router:Yge})})})}));
